function CE(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Ht=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function De(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function TE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var NS={exports:{}},Kf={},AS={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hc=Symbol.for("react.element"),$E=Symbol.for("react.portal"),DE=Symbol.for("react.fragment"),IE=Symbol.for("react.strict_mode"),ME=Symbol.for("react.profiler"),RE=Symbol.for("react.provider"),LE=Symbol.for("react.context"),UE=Symbol.for("react.forward_ref"),FE=Symbol.for("react.suspense"),BE=Symbol.for("react.memo"),zE=Symbol.for("react.lazy"),Ty=Symbol.iterator;function qE(e){return e===null||typeof e!="object"?null:(e=Ty&&e[Ty]||e["@@iterator"],typeof e=="function"?e:null)}var OS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},PS=Object.assign,ES={};function _o(e,t,r){this.props=e,this.context=t,this.refs=ES,this.updater=r||OS}_o.prototype.isReactComponent={};_o.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_o.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function kS(){}kS.prototype=_o.prototype;function dx(e,t,r){this.props=e,this.context=t,this.refs=ES,this.updater=r||OS}var fx=dx.prototype=new kS;fx.constructor=dx;PS(fx,_o.prototype);fx.isPureReactComponent=!0;var $y=Array.isArray,CS=Object.prototype.hasOwnProperty,hx={current:null},TS={key:!0,ref:!0,__self:!0,__source:!0};function $S(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)CS.call(t,n)&&!TS.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:Hc,type:e,key:i,ref:o,props:s,_owner:hx.current}}function WE(e,t){return{$$typeof:Hc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function px(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hc}function HE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Dy=/\/+/g;function hp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?HE(""+e.key):t.toString(36)}function Yu(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Hc:case $E:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+hp(o,0):n,$y(s)?(r="",e!=null&&(r=e.replace(Dy,"$&/")+"/"),Yu(s,t,r,"",function(u){return u})):s!=null&&(px(s)&&(s=WE(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Dy,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",$y(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+hp(i,l);o+=Yu(i,t,r,c,s)}else if(c=qE(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+hp(i,l++),o+=Yu(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function fu(e,t,r){if(e==null)return e;var n=[],s=0;return Yu(e,n,"","",function(i){return t.call(r,i,s++)}),n}function KE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ir={current:null},Xu={transition:null},VE={ReactCurrentDispatcher:ir,ReactCurrentBatchConfig:Xu,ReactCurrentOwner:hx};function DS(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:fu,forEach:function(e,t,r){fu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return fu(e,function(){t++}),t},toArray:function(e){return fu(e,function(t){return t})||[]},only:function(e){if(!px(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};we.Component=_o;we.Fragment=DE;we.Profiler=ME;we.PureComponent=dx;we.StrictMode=IE;we.Suspense=FE;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VE;we.act=DS;we.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=PS({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=hx.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)CS.call(t,c)&&!TS.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:Hc,type:e.type,key:s,ref:i,props:n,_owner:o}};we.createContext=function(e){return e={$$typeof:LE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:RE,_context:e},e.Consumer=e};we.createElement=$S;we.createFactory=function(e){var t=$S.bind(null,e);return t.type=e,t};we.createRef=function(){return{current:null}};we.forwardRef=function(e){return{$$typeof:UE,render:e}};we.isValidElement=px;we.lazy=function(e){return{$$typeof:zE,_payload:{_status:-1,_result:e},_init:KE}};we.memo=function(e,t){return{$$typeof:BE,type:e,compare:t===void 0?null:t}};we.startTransition=function(e){var t=Xu.transition;Xu.transition={};try{e()}finally{Xu.transition=t}};we.unstable_act=DS;we.useCallback=function(e,t){return ir.current.useCallback(e,t)};we.useContext=function(e){return ir.current.useContext(e)};we.useDebugValue=function(){};we.useDeferredValue=function(e){return ir.current.useDeferredValue(e)};we.useEffect=function(e,t){return ir.current.useEffect(e,t)};we.useId=function(){return ir.current.useId()};we.useImperativeHandle=function(e,t,r){return ir.current.useImperativeHandle(e,t,r)};we.useInsertionEffect=function(e,t){return ir.current.useInsertionEffect(e,t)};we.useLayoutEffect=function(e,t){return ir.current.useLayoutEffect(e,t)};we.useMemo=function(e,t){return ir.current.useMemo(e,t)};we.useReducer=function(e,t,r){return ir.current.useReducer(e,t,r)};we.useRef=function(e){return ir.current.useRef(e)};we.useState=function(e){return ir.current.useState(e)};we.useSyncExternalStore=function(e,t,r){return ir.current.useSyncExternalStore(e,t,r)};we.useTransition=function(){return ir.current.useTransition()};we.version="18.3.1";AS.exports=we;var O=AS.exports;const T=De(O),GE=CE({__proto__:null,default:T},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QE=O,YE=Symbol.for("react.element"),XE=Symbol.for("react.fragment"),ZE=Object.prototype.hasOwnProperty,JE=QE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ek={key:!0,ref:!0,__self:!0,__source:!0};function IS(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)ZE.call(t,n)&&!ek.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:YE,type:e,key:i,ref:o,props:s,_owner:JE.current}}Kf.Fragment=XE;Kf.jsx=IS;Kf.jsxs=IS;NS.exports=Kf;var a=NS.exports,MS={exports:{}},Cr={},RS={exports:{}},LS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,L){var q=D.length;D.push(L);e:for(;0<q;){var Q=q-1>>>1,H=D[Q];if(0<s(H,L))D[Q]=L,D[q]=H,q=Q;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var L=D[0],q=D.pop();if(q!==L){D[0]=q;e:for(var Q=0,H=D.length,ee=H>>>1;Q<ee;){var K=2*(Q+1)-1,he=D[K],Ge=K+1,$t=D[Ge];if(0>s(he,q))Ge<H&&0>s($t,he)?(D[Q]=$t,D[Ge]=q,Q=Ge):(D[Q]=he,D[K]=q,Q=K);else if(Ge<H&&0>s($t,q))D[Q]=$t,D[Ge]=q,Q=Ge;else break e}}return L}function s(D,L){var q=D.sortIndex-L.sortIndex;return q!==0?q:D.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,d=null,h=3,p=!1,b=!1,w=!1,v=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(D){for(var L=r(u);L!==null;){if(L.callback===null)n(u);else if(L.startTime<=D)n(u),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(u)}}function _(D){if(w=!1,x(D),!b)if(r(c)!==null)b=!0,C(m);else{var L=r(u);L!==null&&U(_,L.startTime-D)}}function m(D,L){b=!1,w&&(w=!1,j(S),S=-1),p=!0;var q=h;try{for(x(L),d=r(c);d!==null&&(!(d.expirationTime>L)||D&&!E());){var Q=d.callback;if(typeof Q=="function"){d.callback=null,h=d.priorityLevel;var H=Q(d.expirationTime<=L);L=e.unstable_now(),typeof H=="function"?d.callback=H:d===r(c)&&n(c),x(L)}else n(c);d=r(c)}if(d!==null)var ee=!0;else{var K=r(u);K!==null&&U(_,K.startTime-L),ee=!1}return ee}finally{d=null,h=q,p=!1}}var g=!1,N=null,S=-1,A=5,P=-1;function E(){return!(e.unstable_now()-P<A)}function k(){if(N!==null){var D=e.unstable_now();P=D;var L=!0;try{L=N(!0,D)}finally{L?I():(g=!1,N=null)}}else g=!1}var I;if(typeof y=="function")I=function(){y(k)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,R=$.port2;$.port1.onmessage=k,I=function(){R.postMessage(null)}}else I=function(){v(k,0)};function C(D){N=D,g||(g=!0,I())}function U(D,L){S=v(function(){D(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){b||p||(b=!0,C(m))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var L=3;break;default:L=h}var q=h;h=L;try{return D()}finally{h=q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,L){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var q=h;h=D;try{return L()}finally{h=q}},e.unstable_scheduleCallback=function(D,L,q){var Q=e.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Q+q:Q):q=Q,D){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=q+H,D={id:f++,callback:L,priorityLevel:D,startTime:q,expirationTime:H,sortIndex:-1},q>Q?(D.sortIndex=q,t(u,D),r(c)===null&&D===r(u)&&(w?(j(S),S=-1):w=!0,U(_,q-Q))):(D.sortIndex=H,t(c,D),b||p||(b=!0,C(m))),D},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(D){var L=h;return function(){var q=h;h=L;try{return D.apply(this,arguments)}finally{h=q}}}})(LS);RS.exports=LS;var tk=RS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rk=O,Pr=tk;function G(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var US=new Set,Fl={};function Wa(e,t){zi(e,t),zi(e+"Capture",t)}function zi(e,t){for(Fl[e]=t,e=0;e<t.length;e++)US.add(t[e])}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),km=Object.prototype.hasOwnProperty,nk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Iy={},My={};function sk(e){return km.call(My,e)?!0:km.call(Iy,e)?!1:nk.test(e)?My[e]=!0:(Iy[e]=!0,!1)}function ak(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function ik(e,t,r,n){if(t===null||typeof t>"u"||ak(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function or(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Lt[e]=new or(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Lt[t]=new or(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Lt[e]=new or(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Lt[e]=new or(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Lt[e]=new or(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Lt[e]=new or(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Lt[e]=new or(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Lt[e]=new or(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Lt[e]=new or(e,5,!1,e.toLowerCase(),null,!1,!1)});var mx=/[\-:]([a-z])/g;function gx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mx,gx);Lt[t]=new or(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mx,gx);Lt[t]=new or(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mx,gx);Lt[t]=new or(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Lt[e]=new or(e,1,!1,e.toLowerCase(),null,!1,!1)});Lt.xlinkHref=new or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Lt[e]=new or(e,1,!1,e.toLowerCase(),null,!0,!0)});function xx(e,t,r,n){var s=Lt.hasOwnProperty(t)?Lt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(ik(t,r,s,n)&&(r=null),n||s===null?sk(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var rs=rk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hu=Symbol.for("react.element"),hi=Symbol.for("react.portal"),pi=Symbol.for("react.fragment"),vx=Symbol.for("react.strict_mode"),Cm=Symbol.for("react.profiler"),FS=Symbol.for("react.provider"),BS=Symbol.for("react.context"),yx=Symbol.for("react.forward_ref"),Tm=Symbol.for("react.suspense"),$m=Symbol.for("react.suspense_list"),bx=Symbol.for("react.memo"),ps=Symbol.for("react.lazy"),zS=Symbol.for("react.offscreen"),Ry=Symbol.iterator;function Vo(e){return e===null||typeof e!="object"?null:(e=Ry&&e[Ry]||e["@@iterator"],typeof e=="function"?e:null)}var it=Object.assign,pp;function gl(e){if(pp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);pp=t&&t[1]||""}return`
`+pp+e}var mp=!1;function gp(e,t){if(!e||mp)return"";mp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{mp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?gl(e):""}function ok(e){switch(e.tag){case 5:return gl(e.type);case 16:return gl("Lazy");case 13:return gl("Suspense");case 19:return gl("SuspenseList");case 0:case 2:case 15:return e=gp(e.type,!1),e;case 11:return e=gp(e.type.render,!1),e;case 1:return e=gp(e.type,!0),e;default:return""}}function Dm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case pi:return"Fragment";case hi:return"Portal";case Cm:return"Profiler";case vx:return"StrictMode";case Tm:return"Suspense";case $m:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case BS:return(e.displayName||"Context")+".Consumer";case FS:return(e._context.displayName||"Context")+".Provider";case yx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case bx:return t=e.displayName||null,t!==null?t:Dm(e.type)||"Memo";case ps:t=e._payload,e=e._init;try{return Dm(e(t))}catch{}}return null}function lk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dm(t);case 8:return t===vx?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function qS(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ck(e){var t=qS(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function pu(e){e._valueTracker||(e._valueTracker=ck(e))}function WS(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=qS(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function dd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Im(e,t){var r=t.checked;return it({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ly(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Bs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function HS(e,t){t=t.checked,t!=null&&xx(e,"checked",t,!1)}function Mm(e,t){HS(e,t);var r=Bs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Rm(e,t.type,r):t.hasOwnProperty("defaultValue")&&Rm(e,t.type,Bs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Uy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Rm(e,t,r){(t!=="number"||dd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var xl=Array.isArray;function ki(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Bs(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Lm(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(G(91));return it({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Fy(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(G(92));if(xl(r)){if(1<r.length)throw Error(G(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Bs(r)}}function KS(e,t){var r=Bs(t.value),n=Bs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function By(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function VS(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Um(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?VS(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mu,GS=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(mu=mu||document.createElement("div"),mu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=mu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uk=["Webkit","ms","Moz","O"];Object.keys(jl).forEach(function(e){uk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),jl[t]=jl[e]})});function QS(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||jl.hasOwnProperty(e)&&jl[e]?(""+t).trim():t+"px"}function YS(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=QS(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var dk=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fm(e,t){if(t){if(dk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(G(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(G(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(G(61))}if(t.style!=null&&typeof t.style!="object")throw Error(G(62))}}function Bm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zm=null;function wx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qm=null,Ci=null,Ti=null;function zy(e){if(e=Gc(e)){if(typeof qm!="function")throw Error(G(280));var t=e.stateNode;t&&(t=Xf(t),qm(e.stateNode,e.type,t))}}function XS(e){Ci?Ti?Ti.push(e):Ti=[e]:Ci=e}function ZS(){if(Ci){var e=Ci,t=Ti;if(Ti=Ci=null,zy(e),t)for(e=0;e<t.length;e++)zy(t[e])}}function JS(e,t){return e(t)}function eN(){}var xp=!1;function tN(e,t,r){if(xp)return e(t,r);xp=!0;try{return JS(e,t,r)}finally{xp=!1,(Ci!==null||Ti!==null)&&(eN(),ZS())}}function zl(e,t){var r=e.stateNode;if(r===null)return null;var n=Xf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(G(231,t,typeof r));return r}var Wm=!1;if(Qn)try{var Go={};Object.defineProperty(Go,"passive",{get:function(){Wm=!0}}),window.addEventListener("test",Go,Go),window.removeEventListener("test",Go,Go)}catch{Wm=!1}function fk(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var _l=!1,fd=null,hd=!1,Hm=null,hk={onError:function(e){_l=!0,fd=e}};function pk(e,t,r,n,s,i,o,l,c){_l=!1,fd=null,fk.apply(hk,arguments)}function mk(e,t,r,n,s,i,o,l,c){if(pk.apply(this,arguments),_l){if(_l){var u=fd;_l=!1,fd=null}else throw Error(G(198));hd||(hd=!0,Hm=u)}}function Ha(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function rN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function qy(e){if(Ha(e)!==e)throw Error(G(188))}function gk(e){var t=e.alternate;if(!t){if(t=Ha(e),t===null)throw Error(G(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return qy(s),e;if(i===n)return qy(s),t;i=i.sibling}throw Error(G(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?e:t}function nN(e){return e=gk(e),e!==null?sN(e):null}function sN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=sN(e);if(t!==null)return t;e=e.sibling}return null}var aN=Pr.unstable_scheduleCallback,Wy=Pr.unstable_cancelCallback,xk=Pr.unstable_shouldYield,vk=Pr.unstable_requestPaint,dt=Pr.unstable_now,yk=Pr.unstable_getCurrentPriorityLevel,jx=Pr.unstable_ImmediatePriority,iN=Pr.unstable_UserBlockingPriority,pd=Pr.unstable_NormalPriority,bk=Pr.unstable_LowPriority,oN=Pr.unstable_IdlePriority,Vf=null,_n=null;function wk(e){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(Vf,e,void 0,(e.current.flags&128)===128)}catch{}}var dn=Math.clz32?Math.clz32:Sk,jk=Math.log,_k=Math.LN2;function Sk(e){return e>>>=0,e===0?32:31-(jk(e)/_k|0)|0}var gu=64,xu=4194304;function vl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function md(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=vl(l):(i&=o,i!==0&&(n=vl(i)))}else o=r&~s,o!==0?n=vl(o):i!==0&&(n=vl(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-dn(t),s=1<<r,n|=e[r],t&=~s;return n}function Nk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ak(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-dn(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=Nk(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Km(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function lN(){var e=gu;return gu<<=1,!(gu&4194240)&&(gu=64),e}function vp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Kc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-dn(t),e[t]=r}function Ok(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-dn(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function _x(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-dn(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var $e=0;function cN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var uN,Sx,dN,fN,hN,Vm=!1,vu=[],Es=null,ks=null,Cs=null,ql=new Map,Wl=new Map,vs=[],Pk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Hy(e,t){switch(e){case"focusin":case"focusout":Es=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Cs=null;break;case"pointerover":case"pointerout":ql.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(t.pointerId)}}function Qo(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Gc(t),t!==null&&Sx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ek(e,t,r,n,s){switch(t){case"focusin":return Es=Qo(Es,e,t,r,n,s),!0;case"dragenter":return ks=Qo(ks,e,t,r,n,s),!0;case"mouseover":return Cs=Qo(Cs,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return ql.set(i,Qo(ql.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Wl.set(i,Qo(Wl.get(i)||null,e,t,r,n,s)),!0}return!1}function pN(e){var t=ma(e.target);if(t!==null){var r=Ha(t);if(r!==null){if(t=r.tag,t===13){if(t=rN(r),t!==null){e.blockedOn=t,hN(e.priority,function(){dN(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Zu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);zm=n,r.target.dispatchEvent(n),zm=null}else return t=Gc(r),t!==null&&Sx(t),e.blockedOn=r,!1;t.shift()}return!0}function Ky(e,t,r){Zu(e)&&r.delete(t)}function kk(){Vm=!1,Es!==null&&Zu(Es)&&(Es=null),ks!==null&&Zu(ks)&&(ks=null),Cs!==null&&Zu(Cs)&&(Cs=null),ql.forEach(Ky),Wl.forEach(Ky)}function Yo(e,t){e.blockedOn===t&&(e.blockedOn=null,Vm||(Vm=!0,Pr.unstable_scheduleCallback(Pr.unstable_NormalPriority,kk)))}function Hl(e){function t(s){return Yo(s,e)}if(0<vu.length){Yo(vu[0],e);for(var r=1;r<vu.length;r++){var n=vu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Es!==null&&Yo(Es,e),ks!==null&&Yo(ks,e),Cs!==null&&Yo(Cs,e),ql.forEach(t),Wl.forEach(t),r=0;r<vs.length;r++)n=vs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<vs.length&&(r=vs[0],r.blockedOn===null);)pN(r),r.blockedOn===null&&vs.shift()}var $i=rs.ReactCurrentBatchConfig,gd=!0;function Ck(e,t,r,n){var s=$e,i=$i.transition;$i.transition=null;try{$e=1,Nx(e,t,r,n)}finally{$e=s,$i.transition=i}}function Tk(e,t,r,n){var s=$e,i=$i.transition;$i.transition=null;try{$e=4,Nx(e,t,r,n)}finally{$e=s,$i.transition=i}}function Nx(e,t,r,n){if(gd){var s=Gm(e,t,r,n);if(s===null)Pp(e,t,n,xd,r),Hy(e,n);else if(Ek(s,e,t,r,n))n.stopPropagation();else if(Hy(e,n),t&4&&-1<Pk.indexOf(e)){for(;s!==null;){var i=Gc(s);if(i!==null&&uN(i),i=Gm(e,t,r,n),i===null&&Pp(e,t,n,xd,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Pp(e,t,n,null,r)}}var xd=null;function Gm(e,t,r,n){if(xd=null,e=wx(n),e=ma(e),e!==null)if(t=Ha(e),t===null)e=null;else if(r=t.tag,r===13){if(e=rN(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return xd=e,null}function mN(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yk()){case jx:return 1;case iN:return 4;case pd:case bk:return 16;case oN:return 536870912;default:return 16}default:return 16}}var _s=null,Ax=null,Ju=null;function gN(){if(Ju)return Ju;var e,t=Ax,r=t.length,n,s="value"in _s?_s.value:_s.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Ju=s.slice(e,1<n?1-n:void 0)}function ed(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yu(){return!0}function Vy(){return!1}function Tr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?yu:Vy,this.isPropagationStopped=Vy,this}return it(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=yu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=yu)},persist:function(){},isPersistent:yu}),t}var So={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ox=Tr(So),Vc=it({},So,{view:0,detail:0}),$k=Tr(Vc),yp,bp,Xo,Gf=it({},Vc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Px,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Xo&&(Xo&&e.type==="mousemove"?(yp=e.screenX-Xo.screenX,bp=e.screenY-Xo.screenY):bp=yp=0,Xo=e),yp)},movementY:function(e){return"movementY"in e?e.movementY:bp}}),Gy=Tr(Gf),Dk=it({},Gf,{dataTransfer:0}),Ik=Tr(Dk),Mk=it({},Vc,{relatedTarget:0}),wp=Tr(Mk),Rk=it({},So,{animationName:0,elapsedTime:0,pseudoElement:0}),Lk=Tr(Rk),Uk=it({},So,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fk=Tr(Uk),Bk=it({},So,{data:0}),Qy=Tr(Bk),zk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wk[e])?!!t[e]:!1}function Px(){return Hk}var Kk=it({},Vc,{key:function(e){if(e.key){var t=zk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ed(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Px,charCode:function(e){return e.type==="keypress"?ed(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ed(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vk=Tr(Kk),Gk=it({},Gf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yy=Tr(Gk),Qk=it({},Vc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Px}),Yk=Tr(Qk),Xk=it({},So,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zk=Tr(Xk),Jk=it({},Gf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),e6=Tr(Jk),t6=[9,13,27,32],Ex=Qn&&"CompositionEvent"in window,Sl=null;Qn&&"documentMode"in document&&(Sl=document.documentMode);var r6=Qn&&"TextEvent"in window&&!Sl,xN=Qn&&(!Ex||Sl&&8<Sl&&11>=Sl),Xy=" ",Zy=!1;function vN(e,t){switch(e){case"keyup":return t6.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yN(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mi=!1;function n6(e,t){switch(e){case"compositionend":return yN(t);case"keypress":return t.which!==32?null:(Zy=!0,Xy);case"textInput":return e=t.data,e===Xy&&Zy?null:e;default:return null}}function s6(e,t){if(mi)return e==="compositionend"||!Ex&&vN(e,t)?(e=gN(),Ju=Ax=_s=null,mi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return xN&&t.locale!=="ko"?null:t.data;default:return null}}var a6={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!a6[e.type]:t==="textarea"}function bN(e,t,r,n){XS(n),t=vd(t,"onChange"),0<t.length&&(r=new Ox("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Nl=null,Kl=null;function i6(e){CN(e,0)}function Qf(e){var t=vi(e);if(WS(t))return e}function o6(e,t){if(e==="change")return t}var wN=!1;if(Qn){var jp;if(Qn){var _p="oninput"in document;if(!_p){var eb=document.createElement("div");eb.setAttribute("oninput","return;"),_p=typeof eb.oninput=="function"}jp=_p}else jp=!1;wN=jp&&(!document.documentMode||9<document.documentMode)}function tb(){Nl&&(Nl.detachEvent("onpropertychange",jN),Kl=Nl=null)}function jN(e){if(e.propertyName==="value"&&Qf(Kl)){var t=[];bN(t,Kl,e,wx(e)),tN(i6,t)}}function l6(e,t,r){e==="focusin"?(tb(),Nl=t,Kl=r,Nl.attachEvent("onpropertychange",jN)):e==="focusout"&&tb()}function c6(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qf(Kl)}function u6(e,t){if(e==="click")return Qf(t)}function d6(e,t){if(e==="input"||e==="change")return Qf(t)}function f6(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pn=typeof Object.is=="function"?Object.is:f6;function Vl(e,t){if(pn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!km.call(t,s)||!pn(e[s],t[s]))return!1}return!0}function rb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nb(e,t){var r=rb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rb(r)}}function _N(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_N(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function SN(){for(var e=window,t=dd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=dd(e.document)}return t}function kx(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function h6(e){var t=SN(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&_N(r.ownerDocument.documentElement,r)){if(n!==null&&kx(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=nb(r,i);var o=nb(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var p6=Qn&&"documentMode"in document&&11>=document.documentMode,gi=null,Qm=null,Al=null,Ym=!1;function sb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ym||gi==null||gi!==dd(n)||(n=gi,"selectionStart"in n&&kx(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Al&&Vl(Al,n)||(Al=n,n=vd(Qm,"onSelect"),0<n.length&&(t=new Ox("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gi)))}function bu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xi={animationend:bu("Animation","AnimationEnd"),animationiteration:bu("Animation","AnimationIteration"),animationstart:bu("Animation","AnimationStart"),transitionend:bu("Transition","TransitionEnd")},Sp={},NN={};Qn&&(NN=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);function Yf(e){if(Sp[e])return Sp[e];if(!xi[e])return e;var t=xi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in NN)return Sp[e]=t[r];return e}var AN=Yf("animationend"),ON=Yf("animationiteration"),PN=Yf("animationstart"),EN=Yf("transitionend"),kN=new Map,ab="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(e,t){kN.set(e,t),Wa(t,[e])}for(var Np=0;Np<ab.length;Np++){var Ap=ab[Np],m6=Ap.toLowerCase(),g6=Ap[0].toUpperCase()+Ap.slice(1);Ws(m6,"on"+g6)}Ws(AN,"onAnimationEnd");Ws(ON,"onAnimationIteration");Ws(PN,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(EN,"onTransitionEnd");zi("onMouseEnter",["mouseout","mouseover"]);zi("onMouseLeave",["mouseout","mouseover"]);zi("onPointerEnter",["pointerout","pointerover"]);zi("onPointerLeave",["pointerout","pointerover"]);Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x6=new Set("cancel close invalid load scroll toggle".split(" ").concat(yl));function ib(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,mk(n,t,void 0,e),e.currentTarget=null}function CN(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;ib(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;ib(s,l,u),i=c}}}if(hd)throw e=Hm,hd=!1,Hm=null,e}function Ye(e,t){var r=t[tg];r===void 0&&(r=t[tg]=new Set);var n=e+"__bubble";r.has(n)||(TN(t,e,2,!1),r.add(n))}function Op(e,t,r){var n=0;t&&(n|=4),TN(r,e,n,t)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Gl(e){if(!e[wu]){e[wu]=!0,US.forEach(function(r){r!=="selectionchange"&&(x6.has(r)||Op(r,!1,e),Op(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wu]||(t[wu]=!0,Op("selectionchange",!1,t))}}function TN(e,t,r,n){switch(mN(t)){case 1:var s=Ck;break;case 4:s=Tk;break;default:s=Nx}r=s.bind(null,t,r,e),s=void 0,!Wm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Pp(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ma(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}tN(function(){var u=i,f=wx(r),d=[];e:{var h=kN.get(e);if(h!==void 0){var p=Ox,b=e;switch(e){case"keypress":if(ed(r)===0)break e;case"keydown":case"keyup":p=Vk;break;case"focusin":b="focus",p=wp;break;case"focusout":b="blur",p=wp;break;case"beforeblur":case"afterblur":p=wp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Gy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Ik;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=Yk;break;case AN:case ON:case PN:p=Lk;break;case EN:p=Zk;break;case"scroll":p=$k;break;case"wheel":p=e6;break;case"copy":case"cut":case"paste":p=Fk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Yy}var w=(t&4)!==0,v=!w&&e==="scroll",j=w?h!==null?h+"Capture":null:h;w=[];for(var y=u,x;y!==null;){x=y;var _=x.stateNode;if(x.tag===5&&_!==null&&(x=_,j!==null&&(_=zl(y,j),_!=null&&w.push(Ql(y,_,x)))),v)break;y=y.return}0<w.length&&(h=new p(h,b,null,r,f),d.push({event:h,listeners:w}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==zm&&(b=r.relatedTarget||r.fromElement)&&(ma(b)||b[Yn]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(b=r.relatedTarget||r.toElement,p=u,b=b?ma(b):null,b!==null&&(v=Ha(b),b!==v||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(w=Gy,_="onMouseLeave",j="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(w=Yy,_="onPointerLeave",j="onPointerEnter",y="pointer"),v=p==null?h:vi(p),x=b==null?h:vi(b),h=new w(_,y+"leave",p,r,f),h.target=v,h.relatedTarget=x,_=null,ma(f)===u&&(w=new w(j,y+"enter",b,r,f),w.target=x,w.relatedTarget=v,_=w),v=_,p&&b)t:{for(w=p,j=b,y=0,x=w;x;x=Ja(x))y++;for(x=0,_=j;_;_=Ja(_))x++;for(;0<y-x;)w=Ja(w),y--;for(;0<x-y;)j=Ja(j),x--;for(;y--;){if(w===j||j!==null&&w===j.alternate)break t;w=Ja(w),j=Ja(j)}w=null}else w=null;p!==null&&ob(d,h,p,w,!1),b!==null&&v!==null&&ob(d,v,b,w,!0)}}e:{if(h=u?vi(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var m=o6;else if(Jy(h))if(wN)m=d6;else{m=c6;var g=l6}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(m=u6);if(m&&(m=m(e,u))){bN(d,m,r,f);break e}g&&g(e,h,u),e==="focusout"&&(g=h._wrapperState)&&g.controlled&&h.type==="number"&&Rm(h,"number",h.value)}switch(g=u?vi(u):window,e){case"focusin":(Jy(g)||g.contentEditable==="true")&&(gi=g,Qm=u,Al=null);break;case"focusout":Al=Qm=gi=null;break;case"mousedown":Ym=!0;break;case"contextmenu":case"mouseup":case"dragend":Ym=!1,sb(d,r,f);break;case"selectionchange":if(p6)break;case"keydown":case"keyup":sb(d,r,f)}var N;if(Ex)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else mi?vN(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(xN&&r.locale!=="ko"&&(mi||S!=="onCompositionStart"?S==="onCompositionEnd"&&mi&&(N=gN()):(_s=f,Ax="value"in _s?_s.value:_s.textContent,mi=!0)),g=vd(u,S),0<g.length&&(S=new Qy(S,e,null,r,f),d.push({event:S,listeners:g}),N?S.data=N:(N=yN(r),N!==null&&(S.data=N)))),(N=r6?n6(e,r):s6(e,r))&&(u=vd(u,"onBeforeInput"),0<u.length&&(f=new Qy("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=N))}CN(d,t)})}function Ql(e,t,r){return{instance:e,listener:t,currentTarget:r}}function vd(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=zl(e,r),i!=null&&n.unshift(Ql(e,i,s)),i=zl(e,t),i!=null&&n.push(Ql(e,i,s))),e=e.return}return n}function Ja(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ob(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=zl(r,i),c!=null&&o.unshift(Ql(r,c,l))):s||(c=zl(r,i),c!=null&&o.push(Ql(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var v6=/\r\n?/g,y6=/\u0000|\uFFFD/g;function lb(e){return(typeof e=="string"?e:""+e).replace(v6,`
`).replace(y6,"")}function ju(e,t,r){if(t=lb(t),lb(e)!==t&&r)throw Error(G(425))}function yd(){}var Xm=null,Zm=null;function Jm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eg=typeof setTimeout=="function"?setTimeout:void 0,b6=typeof clearTimeout=="function"?clearTimeout:void 0,cb=typeof Promise=="function"?Promise:void 0,w6=typeof queueMicrotask=="function"?queueMicrotask:typeof cb<"u"?function(e){return cb.resolve(null).then(e).catch(j6)}:eg;function j6(e){setTimeout(function(){throw e})}function Ep(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),Hl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Hl(t)}function Ts(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ub(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var No=Math.random().toString(36).slice(2),yn="__reactFiber$"+No,Yl="__reactProps$"+No,Yn="__reactContainer$"+No,tg="__reactEvents$"+No,_6="__reactListeners$"+No,S6="__reactHandles$"+No;function ma(e){var t=e[yn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Yn]||r[yn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=ub(e);e!==null;){if(r=e[yn])return r;e=ub(e)}return t}e=r,r=e.parentNode}return null}function Gc(e){return e=e[yn]||e[Yn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(G(33))}function Xf(e){return e[Yl]||null}var rg=[],yi=-1;function Hs(e){return{current:e}}function Je(e){0>yi||(e.current=rg[yi],rg[yi]=null,yi--)}function He(e,t){yi++,rg[yi]=e.current,e.current=t}var zs={},Vt=Hs(zs),hr=Hs(!1),Oa=zs;function qi(e,t){var r=e.type.contextTypes;if(!r)return zs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function pr(e){return e=e.childContextTypes,e!=null}function bd(){Je(hr),Je(Vt)}function db(e,t,r){if(Vt.current!==zs)throw Error(G(168));He(Vt,t),He(hr,r)}function $N(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(G(108,lk(e)||"Unknown",s));return it({},r,n)}function wd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zs,Oa=Vt.current,He(Vt,e),He(hr,hr.current),!0}function fb(e,t,r){var n=e.stateNode;if(!n)throw Error(G(169));r?(e=$N(e,t,Oa),n.__reactInternalMemoizedMergedChildContext=e,Je(hr),Je(Vt),He(Vt,e)):Je(hr),He(hr,r)}var Un=null,Zf=!1,kp=!1;function DN(e){Un===null?Un=[e]:Un.push(e)}function N6(e){Zf=!0,DN(e)}function Ks(){if(!kp&&Un!==null){kp=!0;var e=0,t=$e;try{var r=Un;for($e=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Un=null,Zf=!1}catch(s){throw Un!==null&&(Un=Un.slice(e+1)),aN(jx,Ks),s}finally{$e=t,kp=!1}}return null}var bi=[],wi=0,jd=null,_d=0,Rr=[],Lr=0,Pa=null,Fn=1,Bn="";function oa(e,t){bi[wi++]=_d,bi[wi++]=jd,jd=e,_d=t}function IN(e,t,r){Rr[Lr++]=Fn,Rr[Lr++]=Bn,Rr[Lr++]=Pa,Pa=e;var n=Fn;e=Bn;var s=32-dn(n)-1;n&=~(1<<s),r+=1;var i=32-dn(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Fn=1<<32-dn(t)+s|r<<s|n,Bn=i+e}else Fn=1<<i|r<<s|n,Bn=e}function Cx(e){e.return!==null&&(oa(e,1),IN(e,1,0))}function Tx(e){for(;e===jd;)jd=bi[--wi],bi[wi]=null,_d=bi[--wi],bi[wi]=null;for(;e===Pa;)Pa=Rr[--Lr],Rr[Lr]=null,Bn=Rr[--Lr],Rr[Lr]=null,Fn=Rr[--Lr],Rr[Lr]=null}var Nr=null,Sr=null,tt=!1,on=null;function MN(e,t){var r=Fr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function hb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Nr=e,Sr=Ts(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Nr=e,Sr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Pa!==null?{id:Fn,overflow:Bn}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Fr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Nr=e,Sr=null,!0):!1;default:return!1}}function ng(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sg(e){if(tt){var t=Sr;if(t){var r=t;if(!hb(e,t)){if(ng(e))throw Error(G(418));t=Ts(r.nextSibling);var n=Nr;t&&hb(e,t)?MN(n,r):(e.flags=e.flags&-4097|2,tt=!1,Nr=e)}}else{if(ng(e))throw Error(G(418));e.flags=e.flags&-4097|2,tt=!1,Nr=e}}}function pb(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Nr=e}function _u(e){if(e!==Nr)return!1;if(!tt)return pb(e),tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Jm(e.type,e.memoizedProps)),t&&(t=Sr)){if(ng(e))throw RN(),Error(G(418));for(;t;)MN(e,t),t=Ts(t.nextSibling)}if(pb(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(G(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Sr=Ts(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Sr=null}}else Sr=Nr?Ts(e.stateNode.nextSibling):null;return!0}function RN(){for(var e=Sr;e;)e=Ts(e.nextSibling)}function Wi(){Sr=Nr=null,tt=!1}function $x(e){on===null?on=[e]:on.push(e)}var A6=rs.ReactCurrentBatchConfig;function Zo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,e))}return e}function Su(e,t){throw e=Object.prototype.toString.call(t),Error(G(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mb(e){var t=e._init;return t(e._payload)}function LN(e){function t(j,y){if(e){var x=j.deletions;x===null?(j.deletions=[y],j.flags|=16):x.push(y)}}function r(j,y){if(!e)return null;for(;y!==null;)t(j,y),y=y.sibling;return null}function n(j,y){for(j=new Map;y!==null;)y.key!==null?j.set(y.key,y):j.set(y.index,y),y=y.sibling;return j}function s(j,y){return j=Ms(j,y),j.index=0,j.sibling=null,j}function i(j,y,x){return j.index=x,e?(x=j.alternate,x!==null?(x=x.index,x<y?(j.flags|=2,y):x):(j.flags|=2,y)):(j.flags|=1048576,y)}function o(j){return e&&j.alternate===null&&(j.flags|=2),j}function l(j,y,x,_){return y===null||y.tag!==6?(y=Rp(x,j.mode,_),y.return=j,y):(y=s(y,x),y.return=j,y)}function c(j,y,x,_){var m=x.type;return m===pi?f(j,y,x.props.children,_,x.key):y!==null&&(y.elementType===m||typeof m=="object"&&m!==null&&m.$$typeof===ps&&mb(m)===y.type)?(_=s(y,x.props),_.ref=Zo(j,y,x),_.return=j,_):(_=od(x.type,x.key,x.props,null,j.mode,_),_.ref=Zo(j,y,x),_.return=j,_)}function u(j,y,x,_){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Lp(x,j.mode,_),y.return=j,y):(y=s(y,x.children||[]),y.return=j,y)}function f(j,y,x,_,m){return y===null||y.tag!==7?(y=_a(x,j.mode,_,m),y.return=j,y):(y=s(y,x),y.return=j,y)}function d(j,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Rp(""+y,j.mode,x),y.return=j,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case hu:return x=od(y.type,y.key,y.props,null,j.mode,x),x.ref=Zo(j,null,y),x.return=j,x;case hi:return y=Lp(y,j.mode,x),y.return=j,y;case ps:var _=y._init;return d(j,_(y._payload),x)}if(xl(y)||Vo(y))return y=_a(y,j.mode,x,null),y.return=j,y;Su(j,y)}return null}function h(j,y,x,_){var m=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return m!==null?null:l(j,y,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case hu:return x.key===m?c(j,y,x,_):null;case hi:return x.key===m?u(j,y,x,_):null;case ps:return m=x._init,h(j,y,m(x._payload),_)}if(xl(x)||Vo(x))return m!==null?null:f(j,y,x,_,null);Su(j,x)}return null}function p(j,y,x,_,m){if(typeof _=="string"&&_!==""||typeof _=="number")return j=j.get(x)||null,l(y,j,""+_,m);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case hu:return j=j.get(_.key===null?x:_.key)||null,c(y,j,_,m);case hi:return j=j.get(_.key===null?x:_.key)||null,u(y,j,_,m);case ps:var g=_._init;return p(j,y,x,g(_._payload),m)}if(xl(_)||Vo(_))return j=j.get(x)||null,f(y,j,_,m,null);Su(y,_)}return null}function b(j,y,x,_){for(var m=null,g=null,N=y,S=y=0,A=null;N!==null&&S<x.length;S++){N.index>S?(A=N,N=null):A=N.sibling;var P=h(j,N,x[S],_);if(P===null){N===null&&(N=A);break}e&&N&&P.alternate===null&&t(j,N),y=i(P,y,S),g===null?m=P:g.sibling=P,g=P,N=A}if(S===x.length)return r(j,N),tt&&oa(j,S),m;if(N===null){for(;S<x.length;S++)N=d(j,x[S],_),N!==null&&(y=i(N,y,S),g===null?m=N:g.sibling=N,g=N);return tt&&oa(j,S),m}for(N=n(j,N);S<x.length;S++)A=p(N,j,S,x[S],_),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?S:A.key),y=i(A,y,S),g===null?m=A:g.sibling=A,g=A);return e&&N.forEach(function(E){return t(j,E)}),tt&&oa(j,S),m}function w(j,y,x,_){var m=Vo(x);if(typeof m!="function")throw Error(G(150));if(x=m.call(x),x==null)throw Error(G(151));for(var g=m=null,N=y,S=y=0,A=null,P=x.next();N!==null&&!P.done;S++,P=x.next()){N.index>S?(A=N,N=null):A=N.sibling;var E=h(j,N,P.value,_);if(E===null){N===null&&(N=A);break}e&&N&&E.alternate===null&&t(j,N),y=i(E,y,S),g===null?m=E:g.sibling=E,g=E,N=A}if(P.done)return r(j,N),tt&&oa(j,S),m;if(N===null){for(;!P.done;S++,P=x.next())P=d(j,P.value,_),P!==null&&(y=i(P,y,S),g===null?m=P:g.sibling=P,g=P);return tt&&oa(j,S),m}for(N=n(j,N);!P.done;S++,P=x.next())P=p(N,j,S,P.value,_),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?S:P.key),y=i(P,y,S),g===null?m=P:g.sibling=P,g=P);return e&&N.forEach(function(k){return t(j,k)}),tt&&oa(j,S),m}function v(j,y,x,_){if(typeof x=="object"&&x!==null&&x.type===pi&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case hu:e:{for(var m=x.key,g=y;g!==null;){if(g.key===m){if(m=x.type,m===pi){if(g.tag===7){r(j,g.sibling),y=s(g,x.props.children),y.return=j,j=y;break e}}else if(g.elementType===m||typeof m=="object"&&m!==null&&m.$$typeof===ps&&mb(m)===g.type){r(j,g.sibling),y=s(g,x.props),y.ref=Zo(j,g,x),y.return=j,j=y;break e}r(j,g);break}else t(j,g);g=g.sibling}x.type===pi?(y=_a(x.props.children,j.mode,_,x.key),y.return=j,j=y):(_=od(x.type,x.key,x.props,null,j.mode,_),_.ref=Zo(j,y,x),_.return=j,j=_)}return o(j);case hi:e:{for(g=x.key;y!==null;){if(y.key===g)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){r(j,y.sibling),y=s(y,x.children||[]),y.return=j,j=y;break e}else{r(j,y);break}else t(j,y);y=y.sibling}y=Lp(x,j.mode,_),y.return=j,j=y}return o(j);case ps:return g=x._init,v(j,y,g(x._payload),_)}if(xl(x))return b(j,y,x,_);if(Vo(x))return w(j,y,x,_);Su(j,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(r(j,y.sibling),y=s(y,x),y.return=j,j=y):(r(j,y),y=Rp(x,j.mode,_),y.return=j,j=y),o(j)):r(j,y)}return v}var Hi=LN(!0),UN=LN(!1),Sd=Hs(null),Nd=null,ji=null,Dx=null;function Ix(){Dx=ji=Nd=null}function Mx(e){var t=Sd.current;Je(Sd),e._currentValue=t}function ag(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Di(e,t){Nd=e,Dx=ji=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dr=!0),e.firstContext=null)}function Wr(e){var t=e._currentValue;if(Dx!==e)if(e={context:e,memoizedValue:t,next:null},ji===null){if(Nd===null)throw Error(G(308));ji=e,Nd.dependencies={lanes:0,firstContext:e}}else ji=ji.next=e;return t}var ga=null;function Rx(e){ga===null?ga=[e]:ga.push(e)}function FN(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Rx(t)):(r.next=s.next,s.next=r),t.interleaved=r,Xn(e,n)}function Xn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var ms=!1;function Lx(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function BN(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Hn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $s(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Se&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Xn(e,r)}return s=n.interleaved,s===null?(t.next=t,Rx(n)):(t.next=s.next,s.next=t),n.interleaved=t,Xn(e,r)}function td(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_x(e,r)}}function gb(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Ad(e,t,r,n){var s=e.updateQueue;ms=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,f=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var b=e,w=l;switch(h=t,p=r,w.tag){case 1:if(b=w.payload,typeof b=="function"){d=b.call(p,d,h);break e}d=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=w.payload,h=typeof b=="function"?b.call(p,d,h):b,h==null)break e;d=it({},d,h);break e;case 2:ms=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);ka|=o,e.lanes=o,e.memoizedState=d}}function xb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(G(191,s));s.call(n)}}}var Qc={},Sn=Hs(Qc),Xl=Hs(Qc),Zl=Hs(Qc);function xa(e){if(e===Qc)throw Error(G(174));return e}function Ux(e,t){switch(He(Zl,t),He(Xl,e),He(Sn,Qc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Um(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Um(t,e)}Je(Sn),He(Sn,t)}function Ki(){Je(Sn),Je(Xl),Je(Zl)}function zN(e){xa(Zl.current);var t=xa(Sn.current),r=Um(t,e.type);t!==r&&(He(Xl,e),He(Sn,r))}function Fx(e){Xl.current===e&&(Je(Sn),Je(Xl))}var nt=Hs(0);function Od(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cp=[];function Bx(){for(var e=0;e<Cp.length;e++)Cp[e]._workInProgressVersionPrimary=null;Cp.length=0}var rd=rs.ReactCurrentDispatcher,Tp=rs.ReactCurrentBatchConfig,Ea=0,st=null,yt=null,Ot=null,Pd=!1,Ol=!1,Jl=0,O6=0;function Ut(){throw Error(G(321))}function zx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pn(e[r],t[r]))return!1;return!0}function qx(e,t,r,n,s,i){if(Ea=i,st=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,rd.current=e===null||e.memoizedState===null?C6:T6,e=r(n,s),Ol){i=0;do{if(Ol=!1,Jl=0,25<=i)throw Error(G(301));i+=1,Ot=yt=null,t.updateQueue=null,rd.current=$6,e=r(n,s)}while(Ol)}if(rd.current=Ed,t=yt!==null&&yt.next!==null,Ea=0,Ot=yt=st=null,Pd=!1,t)throw Error(G(300));return e}function Wx(){var e=Jl!==0;return Jl=0,e}function xn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?st.memoizedState=Ot=e:Ot=Ot.next=e,Ot}function Hr(){if(yt===null){var e=st.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=Ot===null?st.memoizedState:Ot.next;if(t!==null)Ot=t,yt=e;else{if(e===null)throw Error(G(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},Ot===null?st.memoizedState=Ot=e:Ot=Ot.next=e}return Ot}function ec(e,t){return typeof t=="function"?t(e):t}function $p(e){var t=Hr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=yt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var f=u.lane;if((Ea&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=n):c=c.next=d,st.lanes|=f,ka|=f}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,pn(n,t.memoizedState)||(dr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,st.lanes|=i,ka|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Dp(e){var t=Hr(),r=t.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);pn(i,t.memoizedState)||(dr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function qN(){}function WN(e,t){var r=st,n=Hr(),s=t(),i=!pn(n.memoizedState,s);if(i&&(n.memoizedState=s,dr=!0),n=n.queue,Hx(VN.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||Ot!==null&&Ot.memoizedState.tag&1){if(r.flags|=2048,tc(9,KN.bind(null,r,n,s,t),void 0,null),kt===null)throw Error(G(349));Ea&30||HN(r,t,s)}return s}function HN(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function KN(e,t,r,n){t.value=r,t.getSnapshot=n,GN(t)&&QN(e)}function VN(e,t,r){return r(function(){GN(t)&&QN(e)})}function GN(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pn(e,r)}catch{return!0}}function QN(e){var t=Xn(e,1);t!==null&&fn(t,e,1,-1)}function vb(e){var t=xn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ec,lastRenderedState:e},t.queue=e,e=e.dispatch=k6.bind(null,st,e),[t.memoizedState,e]}function tc(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=st.updateQueue,t===null?(t={lastEffect:null,stores:null},st.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function YN(){return Hr().memoizedState}function nd(e,t,r,n){var s=xn();st.flags|=e,s.memoizedState=tc(1|t,r,void 0,n===void 0?null:n)}function Jf(e,t,r,n){var s=Hr();n=n===void 0?null:n;var i=void 0;if(yt!==null){var o=yt.memoizedState;if(i=o.destroy,n!==null&&zx(n,o.deps)){s.memoizedState=tc(t,r,i,n);return}}st.flags|=e,s.memoizedState=tc(1|t,r,i,n)}function yb(e,t){return nd(8390656,8,e,t)}function Hx(e,t){return Jf(2048,8,e,t)}function XN(e,t){return Jf(4,2,e,t)}function ZN(e,t){return Jf(4,4,e,t)}function JN(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function e2(e,t,r){return r=r!=null?r.concat([e]):null,Jf(4,4,JN.bind(null,t,e),r)}function Kx(){}function t2(e,t){var r=Hr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function r2(e,t){var r=Hr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&zx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function n2(e,t,r){return Ea&21?(pn(r,t)||(r=lN(),st.lanes|=r,ka|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dr=!0),e.memoizedState=r)}function P6(e,t){var r=$e;$e=r!==0&&4>r?r:4,e(!0);var n=Tp.transition;Tp.transition={};try{e(!1),t()}finally{$e=r,Tp.transition=n}}function s2(){return Hr().memoizedState}function E6(e,t,r){var n=Is(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},a2(e))i2(t,r);else if(r=FN(e,t,r,n),r!==null){var s=nr();fn(r,e,n,s),o2(r,t,n)}}function k6(e,t,r){var n=Is(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(a2(e))i2(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,pn(l,o)){var c=t.interleaved;c===null?(s.next=s,Rx(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=FN(e,t,s,n),r!==null&&(s=nr(),fn(r,e,n,s),o2(r,t,n))}}function a2(e){var t=e.alternate;return e===st||t!==null&&t===st}function i2(e,t){Ol=Pd=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function o2(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,_x(e,r)}}var Ed={readContext:Wr,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},C6={readContext:Wr,useCallback:function(e,t){return xn().memoizedState=[e,t===void 0?null:t],e},useContext:Wr,useEffect:yb,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,nd(4194308,4,JN.bind(null,t,e),r)},useLayoutEffect:function(e,t){return nd(4194308,4,e,t)},useInsertionEffect:function(e,t){return nd(4,2,e,t)},useMemo:function(e,t){var r=xn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=xn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=E6.bind(null,st,e),[n.memoizedState,e]},useRef:function(e){var t=xn();return e={current:e},t.memoizedState=e},useState:vb,useDebugValue:Kx,useDeferredValue:function(e){return xn().memoizedState=e},useTransition:function(){var e=vb(!1),t=e[0];return e=P6.bind(null,e[1]),xn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=st,s=xn();if(tt){if(r===void 0)throw Error(G(407));r=r()}else{if(r=t(),kt===null)throw Error(G(349));Ea&30||HN(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,yb(VN.bind(null,n,i,e),[e]),n.flags|=2048,tc(9,KN.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=xn(),t=kt.identifierPrefix;if(tt){var r=Bn,n=Fn;r=(n&~(1<<32-dn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=O6++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},T6={readContext:Wr,useCallback:t2,useContext:Wr,useEffect:Hx,useImperativeHandle:e2,useInsertionEffect:XN,useLayoutEffect:ZN,useMemo:r2,useReducer:$p,useRef:YN,useState:function(){return $p(ec)},useDebugValue:Kx,useDeferredValue:function(e){var t=Hr();return n2(t,yt.memoizedState,e)},useTransition:function(){var e=$p(ec)[0],t=Hr().memoizedState;return[e,t]},useMutableSource:qN,useSyncExternalStore:WN,useId:s2,unstable_isNewReconciler:!1},$6={readContext:Wr,useCallback:t2,useContext:Wr,useEffect:Hx,useImperativeHandle:e2,useInsertionEffect:XN,useLayoutEffect:ZN,useMemo:r2,useReducer:Dp,useRef:YN,useState:function(){return Dp(ec)},useDebugValue:Kx,useDeferredValue:function(e){var t=Hr();return yt===null?t.memoizedState=e:n2(t,yt.memoizedState,e)},useTransition:function(){var e=Dp(ec)[0],t=Hr().memoizedState;return[e,t]},useMutableSource:qN,useSyncExternalStore:WN,useId:s2,unstable_isNewReconciler:!1};function en(e,t){if(e&&e.defaultProps){t=it({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ig(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:it({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var eh={isMounted:function(e){return(e=e._reactInternals)?Ha(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=nr(),s=Is(e),i=Hn(n,s);i.payload=t,r!=null&&(i.callback=r),t=$s(e,i,s),t!==null&&(fn(t,e,s,n),td(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=nr(),s=Is(e),i=Hn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=$s(e,i,s),t!==null&&(fn(t,e,s,n),td(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=nr(),n=Is(e),s=Hn(r,n);s.tag=2,t!=null&&(s.callback=t),t=$s(e,s,n),t!==null&&(fn(t,e,n,r),td(t,e,n))}};function bb(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Vl(r,n)||!Vl(s,i):!0}function l2(e,t,r){var n=!1,s=zs,i=t.contextType;return typeof i=="object"&&i!==null?i=Wr(i):(s=pr(t)?Oa:Vt.current,n=t.contextTypes,i=(n=n!=null)?qi(e,s):zs),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=eh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function wb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&eh.enqueueReplaceState(t,t.state,null)}function og(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Lx(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Wr(i):(i=pr(t)?Oa:Vt.current,s.context=qi(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(ig(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&eh.enqueueReplaceState(s,s.state,null),Ad(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Vi(e,t){try{var r="",n=t;do r+=ok(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ip(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function lg(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var D6=typeof WeakMap=="function"?WeakMap:Map;function c2(e,t,r){r=Hn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Cd||(Cd=!0,vg=n),lg(e,t)},r}function u2(e,t,r){r=Hn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){lg(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){lg(e,t),typeof n!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function jb(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new D6;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=G6.bind(null,e,t,r),t.then(e,e))}function _b(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Sb(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Hn(-1,1),t.tag=2,$s(r,t,1))),r.lanes|=1),e)}var I6=rs.ReactCurrentOwner,dr=!1;function Jt(e,t,r,n){t.child=e===null?UN(t,null,r,n):Hi(t,e.child,r,n)}function Nb(e,t,r,n,s){r=r.render;var i=t.ref;return Di(t,s),n=qx(e,t,r,n,i,s),r=Wx(),e!==null&&!dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zn(e,t,s)):(tt&&r&&Cx(t),t.flags|=1,Jt(e,t,n,s),t.child)}function Ab(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!ev(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,d2(e,t,i,n,s)):(e=od(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Vl,r(o,n)&&e.ref===t.ref)return Zn(e,t,s)}return t.flags|=1,e=Ms(i,n),e.ref=t.ref,e.return=t,t.child=e}function d2(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Vl(i,n)&&e.ref===t.ref)if(dr=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(dr=!0);else return t.lanes=e.lanes,Zn(e,t,s)}return cg(e,t,r,n,s)}function f2(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Si,yr),yr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,He(Si,yr),yr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,He(Si,yr),yr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,He(Si,yr),yr|=n;return Jt(e,t,s,r),t.child}function h2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function cg(e,t,r,n,s){var i=pr(r)?Oa:Vt.current;return i=qi(t,i),Di(t,s),r=qx(e,t,r,n,i,s),n=Wx(),e!==null&&!dr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Zn(e,t,s)):(tt&&n&&Cx(t),t.flags|=1,Jt(e,t,r,s),t.child)}function Ob(e,t,r,n,s){if(pr(r)){var i=!0;wd(t)}else i=!1;if(Di(t,s),t.stateNode===null)sd(e,t),l2(t,r,n),og(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Wr(u):(u=pr(r)?Oa:Vt.current,u=qi(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&wb(t,o,n,u),ms=!1;var h=t.memoizedState;o.state=h,Ad(t,n,o,s),c=t.memoizedState,l!==n||h!==c||hr.current||ms?(typeof f=="function"&&(ig(t,r,f,n),c=t.memoizedState),(l=ms||bb(t,r,l,n,h,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,BN(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:en(t.type,l),o.props=u,d=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Wr(c):(c=pr(r)?Oa:Vt.current,c=qi(t,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==c)&&wb(t,o,n,c),ms=!1,h=t.memoizedState,o.state=h,Ad(t,n,o,s);var b=t.memoizedState;l!==d||h!==b||hr.current||ms?(typeof p=="function"&&(ig(t,r,p,n),b=t.memoizedState),(u=ms||bb(t,r,u,n,h,b,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=b),o.props=n,o.state=b,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return ug(e,t,r,n,i,s)}function ug(e,t,r,n,s,i){h2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&fb(t,r,!1),Zn(e,t,i);n=t.stateNode,I6.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=Hi(t,e.child,null,i),t.child=Hi(t,null,l,i)):Jt(e,t,l,i),t.memoizedState=n.state,s&&fb(t,r,!0),t.child}function p2(e){var t=e.stateNode;t.pendingContext?db(e,t.pendingContext,t.pendingContext!==t.context):t.context&&db(e,t.context,!1),Ux(e,t.containerInfo)}function Pb(e,t,r,n,s){return Wi(),$x(s),t.flags|=256,Jt(e,t,r,n),t.child}var dg={dehydrated:null,treeContext:null,retryLane:0};function fg(e){return{baseLanes:e,cachePool:null,transitions:null}}function m2(e,t,r){var n=t.pendingProps,s=nt.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),He(nt,s&1),e===null)return sg(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=nh(o,n,0,null),e=_a(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=fg(r),t.memoizedState=dg,e):Vx(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return M6(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ms(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ms(l,i):(i=_a(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?fg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=dg,n}return i=e.child,e=i.sibling,n=Ms(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Vx(e,t){return t=nh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Nu(e,t,r,n){return n!==null&&$x(n),Hi(t,e.child,null,r),e=Vx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function M6(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Ip(Error(G(422))),Nu(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=nh({mode:"visible",children:n.children},s,0,null),i=_a(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Hi(t,e.child,null,o),t.child.memoizedState=fg(o),t.memoizedState=dg,i);if(!(t.mode&1))return Nu(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(G(419)),n=Ip(i,n,void 0),Nu(e,t,o,n)}if(l=(o&e.childLanes)!==0,dr||l){if(n=kt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Xn(e,s),fn(n,e,s,-1))}return Jx(),n=Ip(Error(G(421))),Nu(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Q6.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,Sr=Ts(s.nextSibling),Nr=t,tt=!0,on=null,e!==null&&(Rr[Lr++]=Fn,Rr[Lr++]=Bn,Rr[Lr++]=Pa,Fn=e.id,Bn=e.overflow,Pa=t),t=Vx(t,n.children),t.flags|=4096,t)}function Eb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),ag(e.return,t,r)}function Mp(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function g2(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Jt(e,t,n.children,r),n=nt.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Eb(e,r,t);else if(e.tag===19)Eb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(He(nt,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Od(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Mp(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Od(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Mp(t,!0,r,null,i);break;case"together":Mp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function sd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),ka|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(G(153));if(t.child!==null){for(e=t.child,r=Ms(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ms(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function R6(e,t,r){switch(t.tag){case 3:p2(t),Wi();break;case 5:zN(t);break;case 1:pr(t.type)&&wd(t);break;case 4:Ux(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;He(Sd,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(He(nt,nt.current&1),t.flags|=128,null):r&t.child.childLanes?m2(e,t,r):(He(nt,nt.current&1),e=Zn(e,t,r),e!==null?e.sibling:null);He(nt,nt.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return g2(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),He(nt,nt.current),n)break;return null;case 22:case 23:return t.lanes=0,f2(e,t,r)}return Zn(e,t,r)}var x2,hg,v2,y2;x2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hg=function(){};v2=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,xa(Sn.current);var i=null;switch(r){case"input":s=Im(e,s),n=Im(e,n),i=[];break;case"select":s=it({},s,{value:void 0}),n=it({},n,{value:void 0}),i=[];break;case"textarea":s=Lm(e,s),n=Lm(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=yd)}Fm(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fl.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fl.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ye("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};y2=function(e,t,r,n){r!==n&&(t.flags|=4)};function Jo(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function L6(e,t,r){var n=t.pendingProps;switch(Tx(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(t),null;case 1:return pr(t.type)&&bd(),Ft(t),null;case 3:return n=t.stateNode,Ki(),Je(hr),Je(Vt),Bx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(_u(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,on!==null&&(wg(on),on=null))),hg(e,t),Ft(t),null;case 5:Fx(t);var s=xa(Zl.current);if(r=t.type,e!==null&&t.stateNode!=null)v2(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(G(166));return Ft(t),null}if(e=xa(Sn.current),_u(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[yn]=t,n[Yl]=i,e=(t.mode&1)!==0,r){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(s=0;s<yl.length;s++)Ye(yl[s],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":Ly(n,i),Ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ye("invalid",n);break;case"textarea":Fy(n,i),Ye("invalid",n)}Fm(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ju(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ju(n.textContent,l,e),s=["children",""+l]):Fl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ye("scroll",n)}switch(r){case"input":pu(n),Uy(n,i,!0);break;case"textarea":pu(n),By(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=yd)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=VS(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[yn]=t,e[Yl]=n,x2(e,t,!1,!1),t.stateNode=e;e:{switch(o=Bm(r,n),r){case"dialog":Ye("cancel",e),Ye("close",e),s=n;break;case"iframe":case"object":case"embed":Ye("load",e),s=n;break;case"video":case"audio":for(s=0;s<yl.length;s++)Ye(yl[s],e);s=n;break;case"source":Ye("error",e),s=n;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),s=n;break;case"details":Ye("toggle",e),s=n;break;case"input":Ly(e,n),s=Im(e,n),Ye("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=it({},n,{value:void 0}),Ye("invalid",e);break;case"textarea":Fy(e,n),s=Lm(e,n),Ye("invalid",e);break;default:s=n}Fm(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?YS(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&GS(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Bl(e,c):typeof c=="number"&&Bl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fl.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ye("scroll",e):c!=null&&xx(e,i,c,o))}switch(r){case"input":pu(e),Uy(e,n,!1);break;case"textarea":pu(e),By(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Bs(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?ki(e,!!n.multiple,i,!1):n.defaultValue!=null&&ki(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=yd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ft(t),null;case 6:if(e&&t.stateNode!=null)y2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(G(166));if(r=xa(Zl.current),xa(Sn.current),_u(t)){if(n=t.stateNode,r=t.memoizedProps,n[yn]=t,(i=n.nodeValue!==r)&&(e=Nr,e!==null))switch(e.tag){case 3:ju(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ju(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[yn]=t,t.stateNode=n}return Ft(t),null;case 13:if(Je(nt),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tt&&Sr!==null&&t.mode&1&&!(t.flags&128))RN(),Wi(),t.flags|=98560,i=!1;else if(i=_u(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(G(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(G(317));i[yn]=t}else Wi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ft(t),i=!1}else on!==null&&(wg(on),on=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||nt.current&1?wt===0&&(wt=3):Jx())),t.updateQueue!==null&&(t.flags|=4),Ft(t),null);case 4:return Ki(),hg(e,t),e===null&&Gl(t.stateNode.containerInfo),Ft(t),null;case 10:return Mx(t.type._context),Ft(t),null;case 17:return pr(t.type)&&bd(),Ft(t),null;case 19:if(Je(nt),i=t.memoizedState,i===null)return Ft(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Jo(i,!1);else{if(wt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Od(e),o!==null){for(t.flags|=128,Jo(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return He(nt,nt.current&1|2),t.child}e=e.sibling}i.tail!==null&&dt()>Gi&&(t.flags|=128,n=!0,Jo(i,!1),t.lanes=4194304)}else{if(!n)if(e=Od(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Jo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!tt)return Ft(t),null}else 2*dt()-i.renderingStartTime>Gi&&r!==1073741824&&(t.flags|=128,n=!0,Jo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=dt(),t.sibling=null,r=nt.current,He(nt,n?r&1|2:r&1),t):(Ft(t),null);case 22:case 23:return Zx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?yr&1073741824&&(Ft(t),t.subtreeFlags&6&&(t.flags|=8192)):Ft(t),null;case 24:return null;case 25:return null}throw Error(G(156,t.tag))}function U6(e,t){switch(Tx(t),t.tag){case 1:return pr(t.type)&&bd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ki(),Je(hr),Je(Vt),Bx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fx(t),null;case 13:if(Je(nt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(G(340));Wi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Je(nt),null;case 4:return Ki(),null;case 10:return Mx(t.type._context),null;case 22:case 23:return Zx(),null;case 24:return null;default:return null}}var Au=!1,qt=!1,F6=typeof WeakSet=="function"?WeakSet:Set,re=null;function _i(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ot(e,t,n)}else r.current=null}function pg(e,t,r){try{r()}catch(n){ot(e,t,n)}}var kb=!1;function B6(e,t){if(Xm=gd,e=SN(),kx(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(l=o+s),d!==i||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++f===n&&(c=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Zm={focusedElem:e,selectionRange:r},gd=!1,re=t;re!==null;)if(t=re,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,re=e;else for(;re!==null;){t=re;try{var b=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var w=b.memoizedProps,v=b.memoizedState,j=t.stateNode,y=j.getSnapshotBeforeUpdate(t.elementType===t.type?w:en(t.type,w),v);j.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(_){ot(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,re=e;break}re=t.return}return b=kb,kb=!1,b}function Pl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&pg(t,r,i)}s=s.next}while(s!==n)}}function th(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function mg(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function b2(e){var t=e.alternate;t!==null&&(e.alternate=null,b2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[yn],delete t[Yl],delete t[tg],delete t[_6],delete t[S6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function w2(e){return e.tag===5||e.tag===3||e.tag===4}function Cb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||w2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=yd));else if(n!==4&&(e=e.child,e!==null))for(gg(e,t,r),e=e.sibling;e!==null;)gg(e,t,r),e=e.sibling}function xg(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(xg(e,t,r),e=e.sibling;e!==null;)xg(e,t,r),e=e.sibling}var It=null,rn=!1;function ls(e,t,r){for(r=r.child;r!==null;)j2(e,t,r),r=r.sibling}function j2(e,t,r){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(Vf,r)}catch{}switch(r.tag){case 5:qt||_i(r,t);case 6:var n=It,s=rn;It=null,ls(e,t,r),It=n,rn=s,It!==null&&(rn?(e=It,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):It.removeChild(r.stateNode));break;case 18:It!==null&&(rn?(e=It,r=r.stateNode,e.nodeType===8?Ep(e.parentNode,r):e.nodeType===1&&Ep(e,r),Hl(e)):Ep(It,r.stateNode));break;case 4:n=It,s=rn,It=r.stateNode.containerInfo,rn=!0,ls(e,t,r),It=n,rn=s;break;case 0:case 11:case 14:case 15:if(!qt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&pg(r,t,o),s=s.next}while(s!==n)}ls(e,t,r);break;case 1:if(!qt&&(_i(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ot(r,t,l)}ls(e,t,r);break;case 21:ls(e,t,r);break;case 22:r.mode&1?(qt=(n=qt)||r.memoizedState!==null,ls(e,t,r),qt=n):ls(e,t,r);break;default:ls(e,t,r)}}function Tb(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new F6),t.forEach(function(n){var s=Y6.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Xr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:It=l.stateNode,rn=!1;break e;case 3:It=l.stateNode.containerInfo,rn=!0;break e;case 4:It=l.stateNode.containerInfo,rn=!0;break e}l=l.return}if(It===null)throw Error(G(160));j2(i,o,s),It=null,rn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ot(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_2(t,e),t=t.sibling}function _2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xr(t,e),gn(e),n&4){try{Pl(3,e,e.return),th(3,e)}catch(w){ot(e,e.return,w)}try{Pl(5,e,e.return)}catch(w){ot(e,e.return,w)}}break;case 1:Xr(t,e),gn(e),n&512&&r!==null&&_i(r,r.return);break;case 5:if(Xr(t,e),gn(e),n&512&&r!==null&&_i(r,r.return),e.flags&32){var s=e.stateNode;try{Bl(s,"")}catch(w){ot(e,e.return,w)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&HS(s,i),Bm(l,o);var u=Bm(l,i);for(o=0;o<c.length;o+=2){var f=c[o],d=c[o+1];f==="style"?YS(s,d):f==="dangerouslySetInnerHTML"?GS(s,d):f==="children"?Bl(s,d):xx(s,f,d,u)}switch(l){case"input":Mm(s,i);break;case"textarea":KS(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ki(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?ki(s,!!i.multiple,i.defaultValue,!0):ki(s,!!i.multiple,i.multiple?[]:"",!1))}s[Yl]=i}catch(w){ot(e,e.return,w)}}break;case 6:if(Xr(t,e),gn(e),n&4){if(e.stateNode===null)throw Error(G(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(w){ot(e,e.return,w)}}break;case 3:if(Xr(t,e),gn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Hl(t.containerInfo)}catch(w){ot(e,e.return,w)}break;case 4:Xr(t,e),gn(e);break;case 13:Xr(t,e),gn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Yx=dt())),n&4&&Tb(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(qt=(u=qt)||f,Xr(t,e),qt=u):Xr(t,e),gn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(re=e,f=e.child;f!==null;){for(d=re=f;re!==null;){switch(h=re,p=h.child,h.tag){case 0:case 11:case 14:case 15:Pl(4,h,h.return);break;case 1:_i(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,b.props=t.memoizedProps,b.state=t.memoizedState,b.componentWillUnmount()}catch(w){ot(n,r,w)}}break;case 5:_i(h,h.return);break;case 22:if(h.memoizedState!==null){Db(d);continue}}p!==null?(p.return=h,re=p):Db(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=QS("display",o))}catch(w){ot(e,e.return,w)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){ot(e,e.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xr(t,e),gn(e),n&4&&Tb(e);break;case 21:break;default:Xr(t,e),gn(e)}}function gn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(w2(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Bl(s,""),n.flags&=-33);var i=Cb(e);xg(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Cb(e);gg(e,l,o);break;default:throw Error(G(161))}}catch(c){ot(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function z6(e,t,r){re=e,S2(e)}function S2(e,t,r){for(var n=(e.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Au;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||qt;l=Au;var u=qt;if(Au=o,(qt=c)&&!u)for(re=s;re!==null;)o=re,c=o.child,o.tag===22&&o.memoizedState!==null?Ib(s):c!==null?(c.return=o,re=c):Ib(s);for(;i!==null;)re=i,S2(i),i=i.sibling;re=s,Au=l,qt=u}$b(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):$b(e)}}function $b(e){for(;re!==null;){var t=re;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qt||th(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!qt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:en(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&xb(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}xb(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Hl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}qt||t.flags&512&&mg(t)}catch(h){ot(t,t.return,h)}}if(t===e){re=null;break}if(r=t.sibling,r!==null){r.return=t.return,re=r;break}re=t.return}}function Db(e){for(;re!==null;){var t=re;if(t===e){re=null;break}var r=t.sibling;if(r!==null){r.return=t.return,re=r;break}re=t.return}}function Ib(e){for(;re!==null;){var t=re;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{th(4,t)}catch(c){ot(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ot(t,s,c)}}var i=t.return;try{mg(t)}catch(c){ot(t,i,c)}break;case 5:var o=t.return;try{mg(t)}catch(c){ot(t,o,c)}}}catch(c){ot(t,t.return,c)}if(t===e){re=null;break}var l=t.sibling;if(l!==null){l.return=t.return,re=l;break}re=t.return}}var q6=Math.ceil,kd=rs.ReactCurrentDispatcher,Gx=rs.ReactCurrentOwner,zr=rs.ReactCurrentBatchConfig,Se=0,kt=null,ht=null,Mt=0,yr=0,Si=Hs(0),wt=0,rc=null,ka=0,rh=0,Qx=0,El=null,cr=null,Yx=0,Gi=1/0,Mn=null,Cd=!1,vg=null,Ds=null,Ou=!1,Ss=null,Td=0,kl=0,yg=null,ad=-1,id=0;function nr(){return Se&6?dt():ad!==-1?ad:ad=dt()}function Is(e){return e.mode&1?Se&2&&Mt!==0?Mt&-Mt:A6.transition!==null?(id===0&&(id=lN()),id):(e=$e,e!==0||(e=window.event,e=e===void 0?16:mN(e.type)),e):1}function fn(e,t,r,n){if(50<kl)throw kl=0,yg=null,Error(G(185));Kc(e,r,n),(!(Se&2)||e!==kt)&&(e===kt&&(!(Se&2)&&(rh|=r),wt===4&&ys(e,Mt)),mr(e,n),r===1&&Se===0&&!(t.mode&1)&&(Gi=dt()+500,Zf&&Ks()))}function mr(e,t){var r=e.callbackNode;Ak(e,t);var n=md(e,e===kt?Mt:0);if(n===0)r!==null&&Wy(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Wy(r),t===1)e.tag===0?N6(Mb.bind(null,e)):DN(Mb.bind(null,e)),w6(function(){!(Se&6)&&Ks()}),r=null;else{switch(cN(n)){case 1:r=jx;break;case 4:r=iN;break;case 16:r=pd;break;case 536870912:r=oN;break;default:r=pd}r=T2(r,N2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function N2(e,t){if(ad=-1,id=0,Se&6)throw Error(G(327));var r=e.callbackNode;if(Ii()&&e.callbackNode!==r)return null;var n=md(e,e===kt?Mt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=$d(e,n);else{t=n;var s=Se;Se|=2;var i=O2();(kt!==e||Mt!==t)&&(Mn=null,Gi=dt()+500,ja(e,t));do try{K6();break}catch(l){A2(e,l)}while(!0);Ix(),kd.current=i,Se=s,ht!==null?t=0:(kt=null,Mt=0,t=wt)}if(t!==0){if(t===2&&(s=Km(e),s!==0&&(n=s,t=bg(e,s))),t===1)throw r=rc,ja(e,0),ys(e,n),mr(e,dt()),r;if(t===6)ys(e,n);else{if(s=e.current.alternate,!(n&30)&&!W6(s)&&(t=$d(e,n),t===2&&(i=Km(e),i!==0&&(n=i,t=bg(e,i))),t===1))throw r=rc,ja(e,0),ys(e,n),mr(e,dt()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(G(345));case 2:la(e,cr,Mn);break;case 3:if(ys(e,n),(n&130023424)===n&&(t=Yx+500-dt(),10<t)){if(md(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){nr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=eg(la.bind(null,e,cr,Mn),t);break}la(e,cr,Mn);break;case 4:if(ys(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-dn(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=dt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*q6(n/1960))-n,10<n){e.timeoutHandle=eg(la.bind(null,e,cr,Mn),n);break}la(e,cr,Mn);break;case 5:la(e,cr,Mn);break;default:throw Error(G(329))}}}return mr(e,dt()),e.callbackNode===r?N2.bind(null,e):null}function bg(e,t){var r=El;return e.current.memoizedState.isDehydrated&&(ja(e,t).flags|=256),e=$d(e,t),e!==2&&(t=cr,cr=r,t!==null&&wg(t)),e}function wg(e){cr===null?cr=e:cr.push.apply(cr,e)}function W6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!pn(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ys(e,t){for(t&=~Qx,t&=~rh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-dn(t),n=1<<r;e[r]=-1,t&=~n}}function Mb(e){if(Se&6)throw Error(G(327));Ii();var t=md(e,0);if(!(t&1))return mr(e,dt()),null;var r=$d(e,t);if(e.tag!==0&&r===2){var n=Km(e);n!==0&&(t=n,r=bg(e,n))}if(r===1)throw r=rc,ja(e,0),ys(e,t),mr(e,dt()),r;if(r===6)throw Error(G(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,la(e,cr,Mn),mr(e,dt()),null}function Xx(e,t){var r=Se;Se|=1;try{return e(t)}finally{Se=r,Se===0&&(Gi=dt()+500,Zf&&Ks())}}function Ca(e){Ss!==null&&Ss.tag===0&&!(Se&6)&&Ii();var t=Se;Se|=1;var r=zr.transition,n=$e;try{if(zr.transition=null,$e=1,e)return e()}finally{$e=n,zr.transition=r,Se=t,!(Se&6)&&Ks()}}function Zx(){yr=Si.current,Je(Si)}function ja(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,b6(r)),ht!==null)for(r=ht.return;r!==null;){var n=r;switch(Tx(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bd();break;case 3:Ki(),Je(hr),Je(Vt),Bx();break;case 5:Fx(n);break;case 4:Ki();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:Mx(n.type._context);break;case 22:case 23:Zx()}r=r.return}if(kt=e,ht=e=Ms(e.current,null),Mt=yr=t,wt=0,rc=null,Qx=rh=ka=0,cr=El=null,ga!==null){for(t=0;t<ga.length;t++)if(r=ga[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}ga=null}return e}function A2(e,t){do{var r=ht;try{if(Ix(),rd.current=Ed,Pd){for(var n=st.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Pd=!1}if(Ea=0,Ot=yt=st=null,Ol=!1,Jl=0,Gx.current=null,r===null||r.return===null){wt=1,rc=t,ht=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Mt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=_b(o);if(p!==null){p.flags&=-257,Sb(p,o,l,i,t),p.mode&1&&jb(i,u,t),t=p,c=u;var b=t.updateQueue;if(b===null){var w=new Set;w.add(c),t.updateQueue=w}else b.add(c);break e}else{if(!(t&1)){jb(i,u,t),Jx();break e}c=Error(G(426))}}else if(tt&&l.mode&1){var v=_b(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Sb(v,o,l,i,t),$x(Vi(c,l));break e}}i=c=Vi(c,l),wt!==4&&(wt=2),El===null?El=[i]:El.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var j=c2(i,c,t);gb(i,j);break e;case 1:l=c;var y=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ds===null||!Ds.has(x)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=u2(i,l,t);gb(i,_);break e}}i=i.return}while(i!==null)}E2(r)}catch(m){t=m,ht===r&&r!==null&&(ht=r=r.return);continue}break}while(!0)}function O2(){var e=kd.current;return kd.current=Ed,e===null?Ed:e}function Jx(){(wt===0||wt===3||wt===2)&&(wt=4),kt===null||!(ka&268435455)&&!(rh&268435455)||ys(kt,Mt)}function $d(e,t){var r=Se;Se|=2;var n=O2();(kt!==e||Mt!==t)&&(Mn=null,ja(e,t));do try{H6();break}catch(s){A2(e,s)}while(!0);if(Ix(),Se=r,kd.current=n,ht!==null)throw Error(G(261));return kt=null,Mt=0,wt}function H6(){for(;ht!==null;)P2(ht)}function K6(){for(;ht!==null&&!xk();)P2(ht)}function P2(e){var t=C2(e.alternate,e,yr);e.memoizedProps=e.pendingProps,t===null?E2(e):ht=t,Gx.current=null}function E2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=U6(r,t),r!==null){r.flags&=32767,ht=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wt=6,ht=null;return}}else if(r=L6(r,t,yr),r!==null){ht=r;return}if(t=t.sibling,t!==null){ht=t;return}ht=t=e}while(t!==null);wt===0&&(wt=5)}function la(e,t,r){var n=$e,s=zr.transition;try{zr.transition=null,$e=1,V6(e,t,r,n)}finally{zr.transition=s,$e=n}return null}function V6(e,t,r,n){do Ii();while(Ss!==null);if(Se&6)throw Error(G(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(G(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(Ok(e,i),e===kt&&(ht=kt=null,Mt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ou||(Ou=!0,T2(pd,function(){return Ii(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=zr.transition,zr.transition=null;var o=$e;$e=1;var l=Se;Se|=4,Gx.current=null,B6(e,r),_2(r,e),h6(Zm),gd=!!Xm,Zm=Xm=null,e.current=r,z6(r),vk(),Se=l,$e=o,zr.transition=i}else e.current=r;if(Ou&&(Ou=!1,Ss=e,Td=s),i=e.pendingLanes,i===0&&(Ds=null),wk(r.stateNode),mr(e,dt()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Cd)throw Cd=!1,e=vg,vg=null,e;return Td&1&&e.tag!==0&&Ii(),i=e.pendingLanes,i&1?e===yg?kl++:(kl=0,yg=e):kl=0,Ks(),null}function Ii(){if(Ss!==null){var e=cN(Td),t=zr.transition,r=$e;try{if(zr.transition=null,$e=16>e?16:e,Ss===null)var n=!1;else{if(e=Ss,Ss=null,Td=0,Se&6)throw Error(G(331));var s=Se;for(Se|=4,re=e.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(re=u;re!==null;){var f=re;switch(f.tag){case 0:case 11:case 15:Pl(8,f,i)}var d=f.child;if(d!==null)d.return=f,re=d;else for(;re!==null;){f=re;var h=f.sibling,p=f.return;if(b2(f),f===u){re=null;break}if(h!==null){h.return=p,re=h;break}re=p}}}var b=i.alternate;if(b!==null){var w=b.child;if(w!==null){b.child=null;do{var v=w.sibling;w.sibling=null,w=v}while(w!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Pl(9,i,i.return)}var j=i.sibling;if(j!==null){j.return=i.return,re=j;break e}re=i.return}}var y=e.current;for(re=y;re!==null;){o=re;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,re=x;else e:for(o=y;re!==null;){if(l=re,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:th(9,l)}}catch(m){ot(l,l.return,m)}if(l===o){re=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,re=_;break e}re=l.return}}if(Se=s,Ks(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(Vf,e)}catch{}n=!0}return n}finally{$e=r,zr.transition=t}}return!1}function Rb(e,t,r){t=Vi(r,t),t=c2(e,t,1),e=$s(e,t,1),t=nr(),e!==null&&(Kc(e,1,t),mr(e,t))}function ot(e,t,r){if(e.tag===3)Rb(e,e,r);else for(;t!==null;){if(t.tag===3){Rb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ds===null||!Ds.has(n))){e=Vi(r,e),e=u2(t,e,1),t=$s(t,e,1),e=nr(),t!==null&&(Kc(t,1,e),mr(t,e));break}}t=t.return}}function G6(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=nr(),e.pingedLanes|=e.suspendedLanes&r,kt===e&&(Mt&r)===r&&(wt===4||wt===3&&(Mt&130023424)===Mt&&500>dt()-Yx?ja(e,0):Qx|=r),mr(e,t)}function k2(e,t){t===0&&(e.mode&1?(t=xu,xu<<=1,!(xu&130023424)&&(xu=4194304)):t=1);var r=nr();e=Xn(e,t),e!==null&&(Kc(e,t,r),mr(e,r))}function Q6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),k2(e,r)}function Y6(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(t),k2(e,r)}var C2;C2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||hr.current)dr=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return dr=!1,R6(e,t,r);dr=!!(e.flags&131072)}else dr=!1,tt&&t.flags&1048576&&IN(t,_d,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;sd(e,t),e=t.pendingProps;var s=qi(t,Vt.current);Di(t,r),s=qx(null,t,n,e,s,r);var i=Wx();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,pr(n)?(i=!0,wd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Lx(t),s.updater=eh,t.stateNode=s,s._reactInternals=t,og(t,n,e,r),t=ug(null,t,n,!0,i,r)):(t.tag=0,tt&&i&&Cx(t),Jt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(sd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=Z6(n),e=en(n,e),s){case 0:t=cg(null,t,n,e,r);break e;case 1:t=Ob(null,t,n,e,r);break e;case 11:t=Nb(null,t,n,e,r);break e;case 14:t=Ab(null,t,n,en(n.type,e),r);break e}throw Error(G(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:en(n,s),cg(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:en(n,s),Ob(e,t,n,s,r);case 3:e:{if(p2(t),e===null)throw Error(G(387));n=t.pendingProps,i=t.memoizedState,s=i.element,BN(e,t),Ad(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Vi(Error(G(423)),t),t=Pb(e,t,n,r,s);break e}else if(n!==s){s=Vi(Error(G(424)),t),t=Pb(e,t,n,r,s);break e}else for(Sr=Ts(t.stateNode.containerInfo.firstChild),Nr=t,tt=!0,on=null,r=UN(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wi(),n===s){t=Zn(e,t,r);break e}Jt(e,t,n,r)}t=t.child}return t;case 5:return zN(t),e===null&&sg(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Jm(n,s)?o=null:i!==null&&Jm(n,i)&&(t.flags|=32),h2(e,t),Jt(e,t,o,r),t.child;case 6:return e===null&&sg(t),null;case 13:return m2(e,t,r);case 4:return Ux(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Hi(t,null,n,r):Jt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:en(n,s),Nb(e,t,n,s,r);case 7:return Jt(e,t,t.pendingProps,r),t.child;case 8:return Jt(e,t,t.pendingProps.children,r),t.child;case 12:return Jt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,He(Sd,n._currentValue),n._currentValue=o,i!==null)if(pn(i.value,o)){if(i.children===s.children&&!hr.current){t=Zn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Hn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),ag(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(G(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),ag(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Jt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,Di(t,r),s=Wr(s),n=n(s),t.flags|=1,Jt(e,t,n,r),t.child;case 14:return n=t.type,s=en(n,t.pendingProps),s=en(n.type,s),Ab(e,t,n,s,r);case 15:return d2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:en(n,s),sd(e,t),t.tag=1,pr(n)?(e=!0,wd(t)):e=!1,Di(t,r),l2(t,n,s),og(t,n,s,r),ug(null,t,n,!0,e,r);case 19:return g2(e,t,r);case 22:return f2(e,t,r)}throw Error(G(156,t.tag))};function T2(e,t){return aN(e,t)}function X6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fr(e,t,r,n){return new X6(e,t,r,n)}function ev(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Z6(e){if(typeof e=="function")return ev(e)?1:0;if(e!=null){if(e=e.$$typeof,e===yx)return 11;if(e===bx)return 14}return 2}function Ms(e,t){var r=e.alternate;return r===null?(r=Fr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function od(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")ev(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case pi:return _a(r.children,s,i,t);case vx:o=8,s|=8;break;case Cm:return e=Fr(12,r,t,s|2),e.elementType=Cm,e.lanes=i,e;case Tm:return e=Fr(13,r,t,s),e.elementType=Tm,e.lanes=i,e;case $m:return e=Fr(19,r,t,s),e.elementType=$m,e.lanes=i,e;case zS:return nh(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case FS:o=10;break e;case BS:o=9;break e;case yx:o=11;break e;case bx:o=14;break e;case ps:o=16,n=null;break e}throw Error(G(130,e==null?e:typeof e,""))}return t=Fr(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function _a(e,t,r,n){return e=Fr(7,e,n,t),e.lanes=r,e}function nh(e,t,r,n){return e=Fr(22,e,n,t),e.elementType=zS,e.lanes=r,e.stateNode={isHidden:!1},e}function Rp(e,t,r){return e=Fr(6,e,null,t),e.lanes=r,e}function Lp(e,t,r){return t=Fr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function J6(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vp(0),this.expirationTimes=vp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vp(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function tv(e,t,r,n,s,i,o,l,c){return e=new J6(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Fr(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lx(i),e}function eC(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:hi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function $2(e){if(!e)return zs;e=e._reactInternals;e:{if(Ha(e)!==e||e.tag!==1)throw Error(G(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(G(171))}if(e.tag===1){var r=e.type;if(pr(r))return $N(e,r,t)}return t}function D2(e,t,r,n,s,i,o,l,c){return e=tv(r,n,!0,e,s,i,o,l,c),e.context=$2(null),r=e.current,n=nr(),s=Is(r),i=Hn(n,s),i.callback=t??null,$s(r,i,s),e.current.lanes=s,Kc(e,s,n),mr(e,n),e}function sh(e,t,r,n){var s=t.current,i=nr(),o=Is(s);return r=$2(r),t.context===null?t.context=r:t.pendingContext=r,t=Hn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=$s(s,t,o),e!==null&&(fn(e,s,o,i),td(e,s,o)),o}function Dd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Lb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function rv(e,t){Lb(e,t),(e=e.alternate)&&Lb(e,t)}function tC(){return null}var I2=typeof reportError=="function"?reportError:function(e){console.error(e)};function nv(e){this._internalRoot=e}ah.prototype.render=nv.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(G(409));sh(e,t,null,null)};ah.prototype.unmount=nv.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ca(function(){sh(null,e,null,null)}),t[Yn]=null}};function ah(e){this._internalRoot=e}ah.prototype.unstable_scheduleHydration=function(e){if(e){var t=fN();e={blockedOn:null,target:e,priority:t};for(var r=0;r<vs.length&&t!==0&&t<vs[r].priority;r++);vs.splice(r,0,e),r===0&&pN(e)}};function sv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ih(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ub(){}function rC(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Dd(o);i.call(u)}}var o=D2(t,n,e,0,null,!1,!1,"",Ub);return e._reactRootContainer=o,e[Yn]=o.current,Gl(e.nodeType===8?e.parentNode:e),Ca(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Dd(c);l.call(u)}}var c=tv(e,0,!1,null,null,!1,!1,"",Ub);return e._reactRootContainer=c,e[Yn]=c.current,Gl(e.nodeType===8?e.parentNode:e),Ca(function(){sh(t,c,r,n)}),c}function oh(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Dd(o);l.call(c)}}sh(t,o,e,s)}else o=rC(r,t,e,s,n);return Dd(o)}uN=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=vl(t.pendingLanes);r!==0&&(_x(t,r|1),mr(t,dt()),!(Se&6)&&(Gi=dt()+500,Ks()))}break;case 13:Ca(function(){var n=Xn(e,1);if(n!==null){var s=nr();fn(n,e,1,s)}}),rv(e,1)}};Sx=function(e){if(e.tag===13){var t=Xn(e,134217728);if(t!==null){var r=nr();fn(t,e,134217728,r)}rv(e,134217728)}};dN=function(e){if(e.tag===13){var t=Is(e),r=Xn(e,t);if(r!==null){var n=nr();fn(r,e,t,n)}rv(e,t)}};fN=function(){return $e};hN=function(e,t){var r=$e;try{return $e=e,t()}finally{$e=r}};qm=function(e,t,r){switch(t){case"input":if(Mm(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Xf(n);if(!s)throw Error(G(90));WS(n),Mm(n,s)}}}break;case"textarea":KS(e,r);break;case"select":t=r.value,t!=null&&ki(e,!!r.multiple,t,!1)}};JS=Xx;eN=Ca;var nC={usingClientEntryPoint:!1,Events:[Gc,vi,Xf,XS,ZS,Xx]},el={findFiberByHostInstance:ma,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sC={bundleType:el.bundleType,version:el.version,rendererPackageName:el.rendererPackageName,rendererConfig:el.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nN(e),e===null?null:e.stateNode},findFiberByHostInstance:el.findFiberByHostInstance||tC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pu.isDisabled&&Pu.supportsFiber)try{Vf=Pu.inject(sC),_n=Pu}catch{}}Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nC;Cr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!sv(t))throw Error(G(200));return eC(e,t,null,r)};Cr.createRoot=function(e,t){if(!sv(e))throw Error(G(299));var r=!1,n="",s=I2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=tv(e,1,!1,null,null,r,!1,n,s),e[Yn]=t.current,Gl(e.nodeType===8?e.parentNode:e),new nv(t)};Cr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(G(188)):(e=Object.keys(e).join(","),Error(G(268,e)));return e=nN(t),e=e===null?null:e.stateNode,e};Cr.flushSync=function(e){return Ca(e)};Cr.hydrate=function(e,t,r){if(!ih(t))throw Error(G(200));return oh(null,e,t,!0,r)};Cr.hydrateRoot=function(e,t,r){if(!sv(e))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=I2;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=D2(t,null,e,1,r??null,s,!1,i,o),e[Yn]=t.current,Gl(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ah(t)};Cr.render=function(e,t,r){if(!ih(t))throw Error(G(200));return oh(null,e,t,!1,r)};Cr.unmountComponentAtNode=function(e){if(!ih(e))throw Error(G(40));return e._reactRootContainer?(Ca(function(){oh(null,null,e,!1,function(){e._reactRootContainer=null,e[Yn]=null})}),!0):!1};Cr.unstable_batchedUpdates=Xx;Cr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ih(r))throw Error(G(200));if(e==null||e._reactInternals===void 0)throw Error(G(38));return oh(e,t,r,!1,n)};Cr.version="18.3.1-next-f1338f8080-20240426";function M2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(M2)}catch(e){console.error(e)}}M2(),MS.exports=Cr;var aC=MS.exports,R2,Fb=aC;R2=Fb.createRoot,Fb.hydrateRoot;const iC="modulepreload",oC=function(e){return"/"+e},Bb={},Rs=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=oC(c),c in Bb)return;Bb[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":iC,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},lC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Rs(async()=>{const{default:n}=await Promise.resolve().then(()=>Ao);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class av extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class cC extends av{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class zb extends av{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class qb extends av{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var jg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(jg||(jg={}));var uC=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class dC{constructor(t,{headers:r={},customFetch:n,region:s=jg.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=lC(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return uC(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let f;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(l["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(l["Content-Type"]="application/json",f=JSON.stringify(o)));const d=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:f}).catch(w=>{throw new cC(w)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new zb(d);if(!d.ok)throw new qb(d);let p=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),b;return p==="application/json"?b=yield d.json():p==="application/octet-stream"?b=yield d.blob():p==="text/event-stream"?b=d:p==="multipart/form-data"?b=yield d.formData():b=yield d.text(),{data:b,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof qb||s instanceof zb?s.context:void 0}}})}}var ur={},iv={},lh={},Yc={},ch={},uh={},fC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qi=fC();const hC=Qi.fetch,L2=Qi.fetch.bind(Qi),U2=Qi.Headers,pC=Qi.Request,mC=Qi.Response,Ao=Object.freeze(Object.defineProperty({__proto__:null,Headers:U2,Request:pC,Response:mC,default:L2,fetch:hC},Symbol.toStringTag,{value:"Module"})),gC=TE(Ao);var dh={};Object.defineProperty(dh,"__esModule",{value:!0});let xC=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};dh.default=xC;var F2=Ht&&Ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uh,"__esModule",{value:!0});const vC=F2(gC),yC=F2(dh);let bC=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=vC.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,f=null,d=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const j=await i.text();j===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=j:f=JSON.parse(j))}const w=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),v=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&v&&v.length>1&&(d=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,h=406,p="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await i.text();try{u=JSON.parse(w),Array.isArray(u)&&i.status===404&&(f=[],u=null,h=200,p="OK")}catch{i.status===404&&w===""?(h=204,p="No Content"):u={message:w}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new yC.default(u)}return{error:u,data:f,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};uh.default=bC;var wC=Ht&&Ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ch,"__esModule",{value:!0});const jC=wC(uh);let _C=class extends jC.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ch.default=_C;var SC=Ht&&Ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yc,"__esModule",{value:!0});const NC=SC(ch);let AC=class extends NC.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Yc.default=AC;var OC=Ht&&Ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lh,"__esModule",{value:!0});const tl=OC(Yc);let PC=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new tl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new tl.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new tl.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new tl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new tl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};lh.default=PC;var fh={},hh={};Object.defineProperty(hh,"__esModule",{value:!0});hh.version=void 0;hh.version="0.0.0-automated";Object.defineProperty(fh,"__esModule",{value:!0});fh.DEFAULT_HEADERS=void 0;const EC=hh;fh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${EC.version}`};var B2=Ht&&Ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(iv,"__esModule",{value:!0});const kC=B2(lh),CC=B2(Yc),TC=fh;let $C=class z2{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},TC.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new kC.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new z2(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{l.searchParams.append(f,d)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new CC.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};iv.default=$C;var Oo=Ht&&Ht.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ur,"__esModule",{value:!0});ur.PostgrestError=ur.PostgrestBuilder=ur.PostgrestTransformBuilder=ur.PostgrestFilterBuilder=ur.PostgrestQueryBuilder=ur.PostgrestClient=void 0;const q2=Oo(iv);ur.PostgrestClient=q2.default;const W2=Oo(lh);ur.PostgrestQueryBuilder=W2.default;const H2=Oo(Yc);ur.PostgrestFilterBuilder=H2.default;const K2=Oo(ch);ur.PostgrestTransformBuilder=K2.default;const V2=Oo(uh);ur.PostgrestBuilder=V2.default;const G2=Oo(dh);ur.PostgrestError=G2.default;var DC=ur.default={PostgrestClient:q2.default,PostgrestQueryBuilder:W2.default,PostgrestFilterBuilder:H2.default,PostgrestTransformBuilder:K2.default,PostgrestBuilder:V2.default,PostgrestError:G2.default};const{PostgrestClient:IC,PostgrestQueryBuilder:Xae,PostgrestFilterBuilder:Zae,PostgrestTransformBuilder:Jae,PostgrestBuilder:eie,PostgrestError:tie}=DC;function MC(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const RC=MC(),LC="2.11.15",UC=`realtime-js/${LC}`,FC="1.0.0",Q2=1e4,BC=1e3;var Cl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Cl||(Cl={}));var Bt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Bt||(Bt={}));var nn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(nn||(nn={}));var _g;(function(e){e.websocket="websocket"})(_g||(_g={}));var ha;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ha||(ha={}));class zC{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}let Y2=class{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Fe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Fe||(Fe={}));const Wb=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=qC(o,e,t,s),i),{})},qC=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?X2(i,o):Sg(o)},X2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return VC(t,r)}switch(e){case Fe.bool:return WC(t);case Fe.float4:case Fe.float8:case Fe.int2:case Fe.int4:case Fe.int8:case Fe.numeric:case Fe.oid:return HC(t);case Fe.json:case Fe.jsonb:return KC(t);case Fe.timestamp:return GC(t);case Fe.abstime:case Fe.date:case Fe.daterange:case Fe.int4range:case Fe.int8range:case Fe.money:case Fe.reltime:case Fe.text:case Fe.time:case Fe.timestamptz:case Fe.timetz:case Fe.tsrange:case Fe.tstzrange:return Sg(t);default:return Sg(t)}},Sg=e=>e,WC=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},HC=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},KC=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},VC=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>X2(t,l))}return e},GC=e=>typeof e=="string"?e.replace(" ","T"):e,Z2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Up{constructor(t,r,n={},s=Q2){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Hb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Hb||(Hb={}));class Tl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Tl.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Tl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Tl.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,f)=>{o[u]||(c[u]=f)}),this.map(o,(u,f)=>{const d=i[u];if(d){const h=f.map(v=>v.presence_ref),p=d.map(v=>v.presence_ref),b=f.filter(v=>p.indexOf(v.presence_ref)<0),w=d.filter(v=>h.indexOf(v.presence_ref)<0);b.length>0&&(l[u]=b),w.length>0&&(c[u]=w)}else l[u]=f}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const d=t[l].map(p=>p.presence_ref),h=f.filter(p=>d.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,f,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Kb;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Kb||(Kb={}));var Vb;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Vb||(Vb={}));var Rn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Rn||(Rn={}));class ov{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Up(this,nn.join,this.params,this.timeout),this.rejoinTimer=new Y2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Bt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(nn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Tl(this),this.broadcastEndpointURL=Z2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Bt.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(f=>t==null?void 0:t(Rn.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Rn.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var d;if(this.socket.setAuth(),f===void 0){t==null||t(Rn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,b=[];for(let w=0;w<p;w++){const v=h[w],{filter:{event:j,schema:y,table:x,filter:_}}=v,m=f&&f[w];if(m&&m.event===j&&m.schema===y&&m.table===x&&m.filter===_)b.push(Object.assign(Object.assign({},v),{id:m.id}));else{this.unsubscribe(),this.state=Bt.errored,t==null||t(Rn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(Rn.SUBSCRIBED);return}}).receive("error",f=>{this.state=Bt.errored,t==null||t(Rn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Rn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Bt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(nn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Up(this,nn.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Up(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=nn;if(n&&[l,c,u,f].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var b,w,v;return((b=p.filter)===null||b===void 0?void 0:b.event)==="*"||((v=(w=p.filter)===null||w===void 0?void 0:w.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var b,w,v,j,y,x;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,m=(b=p.filter)===null||b===void 0?void 0:b.event;return _&&((w=r.ids)===null||w===void 0?void 0:w.includes(_))&&(m==="*"||(m==null?void 0:m.toLocaleLowerCase())===((v=r.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const _=(y=(j=p==null?void 0:p.filter)===null||j===void 0?void 0:j.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return _==="*"||_===((x=r==null?void 0:r.event)===null||x===void 0?void 0:x.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const b=h.data,{schema:w,table:v,commit_timestamp:j,type:y,errors:x}=b;h=Object.assign(Object.assign({},{schema:w,table:v,commit_timestamp:j,eventType:y,new:{},old:{},errors:x}),this._getPayloadRecords(b))}p.callback(h,n)})}_isClosed(){return this.state===Bt.closed}_isJoined(){return this.state===Bt.joined}_isJoining(){return this.state===Bt.joining}_isLeaving(){return this.state===Bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&ov.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(nn.close,{},t)}_onError(t){this._on(nn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Wb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Wb(t.columns,t.old_record)),r}}const Gb=()=>{},QC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class YC{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Q2,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gb,this.ref=0,this.logger=Gb,this.conn=null,this.sendBuffer=[],this.serializer=new zC,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Rs(async()=>{const{default:c}=await Promise.resolve().then(()=>Ao);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${_g.websocket}`,this.httpEndpoint=Z2(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Y2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=RC),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:FC}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Cl.connecting:return ha.Connecting;case Cl.open:return ha.Open;case Cl.closing:return ha.Closing;default:return ha.Closed}}isConnected(){return this.connectionState()===ha.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new ov(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:UC};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(nn.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(BC,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(nn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([QC],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class lv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Nt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class XC extends lv{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ng extends lv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var ZC=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const J2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Rs(async()=>{const{default:n}=await Promise.resolve().then(()=>Ao);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},JC=()=>ZC(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Rs(()=>Promise.resolve().then(()=>Ao),void 0)).Response:Response}),Ag=e=>{if(Array.isArray(e))return e.map(r=>Ag(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=Ag(n)}),t};var Ka=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Fp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eT=(e,t,r)=>Ka(void 0,void 0,void 0,function*(){const n=yield JC();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new XC(Fp(s),e.status||500))}).catch(s=>{t(new Ng(Fp(s),s))}):t(new Ng(Fp(e),e))}),tT=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Xc(e,t,r,n,s,i){return Ka(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,tT(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>eT(c,l,n))})})}function Id(e,t,r,n){return Ka(this,void 0,void 0,function*(){return Xc(e,"GET",t,r,n)})}function gs(e,t,r,n,s){return Ka(this,void 0,void 0,function*(){return Xc(e,"POST",t,n,s,r)})}function rT(e,t,r,n,s){return Ka(this,void 0,void 0,function*(){return Xc(e,"PUT",t,n,s,r)})}function nT(e,t,r,n){return Ka(this,void 0,void 0,function*(){return Xc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function eA(e,t,r,n,s){return Ka(this,void 0,void 0,function*(){return Xc(e,"DELETE",t,n,s,r)})}var lr=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const sT={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Qb={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class aT{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=J2(s)}uploadOrUpdate(t,r,n,s){return lr(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Qb),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(Nt(i))return{data:null,error:i};throw i}})}upload(t,r,n){return lr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return lr(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Qb.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:f}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(Nt(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return lr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield gs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new lv("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}})}update(t,r,n){return lr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return lr(this,void 0,void 0,function*(){try{return{data:yield gs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Nt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return lr(this,void 0,void 0,function*(){try{return{data:{path:(yield gs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Nt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return lr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield gs(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(Nt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return lr(this,void 0,void 0,function*(){try{const s=yield gs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(Nt(s))return{data:null,error:s};throw s}})}download(t,r){return lr(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Id(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Nt(l))return{data:null,error:l};throw l}})}info(t){return lr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Id(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Ag(n),error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}})}exists(t){return lr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield nT(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Nt(n)&&n instanceof Ng){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return lr(this,void 0,void 0,function*(){try{return{data:yield eA(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Nt(r))return{data:null,error:r};throw r}})}list(t,r,n){return lr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},sT),r),{prefix:t||""});return{data:yield gs(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Nt(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const iT="2.7.1",oT={"X-Client-Info":`storage-js/${iT}`};var ei=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class lT{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},oT),r),this.fetch=J2(n)}listBuckets(){return ei(this,void 0,void 0,function*(){try{return{data:yield Id(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Nt(t))return{data:null,error:t};throw t}})}getBucket(t){return ei(this,void 0,void 0,function*(){try{return{data:yield Id(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Nt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ei(this,void 0,void 0,function*(){try{return{data:yield gs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ei(this,void 0,void 0,function*(){try{return{data:yield rT(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ei(this,void 0,void 0,function*(){try{return{data:yield gs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Nt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ei(this,void 0,void 0,function*(){try{return{data:yield eA(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Nt(r))return{data:null,error:r};throw r}})}}class cT extends lT{constructor(t,r={},n){super(t,r,n)}from(t){return new aT(this.url,this.headers,t,this.fetch)}}const uT="2.52.1";let bl="";typeof Deno<"u"?bl="deno":typeof document<"u"?bl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bl="react-native":bl="node";const dT={"X-Client-Info":`supabase-js-${bl}/${uT}`},fT={headers:dT},hT={schema:"public"},pT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},mT={};var gT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const xT=e=>{let t;return e?t=e:typeof fetch>"u"?t=L2:t=fetch,(...r)=>t(...r)},vT=()=>typeof Headers>"u"?U2:Headers,yT=(e,t,r)=>{const n=xT(r),s=vT();return(i,o)=>gT(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var bT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function wT(e){return e.endsWith("/")?e:e+"/"}function jT(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},f),o),global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>bT(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const tA="2.71.1",ui=30*1e3,Og=3,Bp=Og*ui,_T="http://localhost:9999",ST="supabase.auth.token",NT={"X-Client-Info":`gotrue-js/${tA}`},Pg="X-Supabase-Api-Version",rA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},AT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,OT=10*60*1e3;class cv extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function me(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class PT extends cv{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function ET(e){return me(e)&&e.name==="AuthApiError"}class nA extends cv{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Vs extends cv{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class hs extends Vs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function kT(e){return me(e)&&e.name==="AuthSessionMissingError"}class Eu extends Vs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ku extends Vs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Cu extends Vs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function CT(e){return me(e)&&e.name==="AuthImplicitGrantRedirectError"}class Yb extends Vs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Eg extends Vs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function zp(e){return me(e)&&e.name==="AuthRetryableFetchError"}class Xb extends Vs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class kg extends Vs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Md="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zb=` 	
\r=`.split(""),TT=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Zb.length;t+=1)e[Zb[t].charCodeAt(0)]=-2;for(let t=0;t<Md.length;t+=1)e[Md[t].charCodeAt(0)]=t;return e})();function Jb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Md[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Md[n]),t.queuedBits-=6}}function sA(e,t,r){const n=TT[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function ew(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{IT(o,n,r)};for(let o=0;o<e.length;o+=1)sA(e.charCodeAt(o),s,i);return t.join("")}function $T(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function DT(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}$T(n,t)}}function IT(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function MT(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)sA(e.charCodeAt(s),r,n);return new Uint8Array(t)}function RT(e){const t=[];return DT(e,r=>t.push(r)),new Uint8Array(t)}function LT(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Jb(s,r,n)),Jb(null,r,n),t.join("")}function UT(e){return Math.round(Date.now()/1e3)+e}function FT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Jr=()=>typeof window<"u"&&typeof document<"u",ta={tested:!1,writable:!1},aA=()=>{if(!Jr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ta.tested)return ta.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ta.tested=!0,ta.writable=!0}catch{ta.tested=!0,ta.writable=!1}return ta.writable};function BT(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const iA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Rs(async()=>{const{default:n}=await Promise.resolve().then(()=>Ao);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},zT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",di=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ra=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},cs=async(e,t)=>{await e.removeItem(t)};class ph{constructor(){this.promise=new ph.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ph.promiseConstructor=Promise;function qp(e){const t=e.split(".");if(t.length!==3)throw new kg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!AT.test(t[n]))throw new kg("JWT not in base64url format");return{header:JSON.parse(ew(t[0])),payload:JSON.parse(ew(t[1])),signature:MT(t[2]),raw:{header:t[0],payload:t[1]}}}async function qT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function WT(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function HT(e){return("0"+e.toString(16)).substr(-2)}function KT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,HT).join("")}async function VT(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function GT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await VT(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ti(e,t,r=!1){const n=KT();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await di(e,`${t}-code-verifier`,s);const i=await GT(n);return[i,n===i?"plain":"s256"]}const QT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function YT(e){const t=e.headers.get(Pg);if(!t||!t.match(QT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function XT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ZT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const JT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ri(e){if(!JT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tw(e){return JSON.parse(JSON.stringify(e))}var e3=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const ca=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),t3=[502,503,504];async function rw(e){var t;if(!zT(e))throw new Eg(ca(e),0);if(t3.includes(e.status))throw new Eg(ca(e),e.status);let r;try{r=await e.json()}catch(i){throw new nA(ca(i),i)}let n;const s=YT(e);if(s&&s.getTime()>=rA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Xb(ca(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new hs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Xb(ca(r),e.status,r.weak_password.reasons);throw new PT(ca(r),e.status||500,n)}const r3=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function be(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Pg]||(i[Pg]=rA["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await n3(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function n3(e,t,r,n,s,i){const o=r3(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Eg(ca(c),0)}if(l.ok||await rw(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await rw(c)}}function In(e){var t;let r=null;o3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=UT(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function nw(e){const t=In(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function bs(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function s3(e){return{data:e,error:null}}function a3(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=e3(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function i3(e){return e}function o3(e){return e.access_token&&e.refresh_token&&e.expires_in}const Hp=["global","local","others"];var l3=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class c3{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=iA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Hp[0]){if(Hp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hp.join(", ")}`);try{return await be(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await be(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:bs})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=l3(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:a3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(me(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await be(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:bs})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:i3});if(f.error)throw f.error;const d=await f.json(),h=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(b=>{const w=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(b.split(";")[1].split("=")[1]);u[`${v}Page`]=w}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(me(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ri(t);try{return await be(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:bs})}catch(r){if(me(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ri(t);try{return await be(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:bs})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ri(t);try{return await be(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:bs})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ri(t.userId);try{const{data:r,error:n}=await be(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(me(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ri(t.userId),ri(t.id);try{return{data:await be(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}}function sw(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function u3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ni={debug:!!(globalThis&&aA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class oA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class d3 extends oA{}async function f3(e,t,r){ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ni.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ni.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new d3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ni.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}u3();const h3={url:_T,storageKey:ST,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:NT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function aw(e,t,r){return await r()}const si={};class nc{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=nc.nextInstanceID,nc.nextInstanceID+=1,this.instanceID>0&&Jr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},h3),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new c3({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=iA(s.fetch),this.lock=s.lock||aw,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Jr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=f3:this.lock=aw,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:aA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=sw(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=sw(this.memoryStorage)),Jr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=si[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){si[this.storageKey]=Object.assign(Object.assign({},si[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=si[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){si[this.storageKey]=Object.assign(Object.assign({},si[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${tA}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=BT(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Jr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),CT(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return me(r)?{error:r}:{error:new nA("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:In}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(me(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:f,password:d,options:h}=t;let p=null,b=null;this.flowType==="pkce"&&([p,b]=await ti(this.storage,this.storageKey)),i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:b},xform:In})}else if("phone"in t){const{phone:f,password:d,options:h}=t;i=await be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:In})}else throw new ku("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(me(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:nw})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:nw})}else throw new ku("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Eu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,l,c,u,f,d,h,p;let b,w;if("message"in t)b=t.message,w=t.signature;else{const{chain:v,wallet:j,statement:y,options:x}=t;let _;if(Jr())if(typeof j=="object")_=j;else{const g=window;if("solana"in g&&typeof g.solana=="object"&&("signIn"in g.solana&&typeof g.solana.signIn=="function"||"signMessage"in g.solana&&typeof g.solana.signMessage=="function"))_=g.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(x!=null&&x.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=j}const m=new URL((r=x==null?void 0:x.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const g=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},x==null?void 0:x.signInWithSolana),{version:"1",domain:m.host,uri:m.href}),y?{statement:y}:null));let N;if(Array.isArray(g)&&g[0]&&typeof g[0]=="object")N=g[0];else if(g&&typeof g=="object"&&"signedMessage"in g&&"signature"in g)N=g;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)b=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),w=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${m.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${m.href}`,`Issued At: ${(s=(n=x==null?void 0:x.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=x==null?void 0:x.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${x.signInWithSolana.notBefore}`]:[],...!((o=x==null?void 0:x.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${x.signInWithSolana.expirationTime}`]:[],...!((l=x==null?void 0:x.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${x.signInWithSolana.chainId}`]:[],...!((c=x==null?void 0:x.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${x.signInWithSolana.nonce}`]:[],...!((u=x==null?void 0:x.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${x.signInWithSolana.requestId}`]:[],...!((d=(f=x==null?void 0:x.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...x.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const g=await _.signMessage(new TextEncoder().encode(b),"utf8");if(!g||!(g instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=g}}try{const{data:v,error:j}=await be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:LT(w)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:In});if(j)throw j;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Eu}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:j})}catch(v){if(me(v))return{data:{user:null,session:null},error:v};throw v}}async _exchangeCodeForSession(t){const r=await ra(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:In});if(await cs(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Eu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(me(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:In}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Eu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await ti(this.storage,this.storageKey));const{error:d}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new ku("You must provide either an email or phone number.")}catch(l){if(me(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:In});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(me(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await ti(this.storage,this.storageKey)),await be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:s3})}catch(i){if(me(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new hs;const{error:s}=await be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(me(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await be(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await be(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ku("You must provide either an email or phone number and a type")}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ra(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Bp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ra(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Wp()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:bs}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new hs}:await be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:bs})})}catch(r){if(me(r))return kT(r)&&(await this._removeSession(),await cs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new hs;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await ti(this.storage,this.storageKey));const{data:u,error:f}=await be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:bs});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(me(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new hs;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=qp(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(me(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new hs;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(me(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Jr())throw new Cu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Cu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Yb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Cu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Yb("No code detected.");const{data:y,error:x}=await this._exchangeCodeForSession(t.code);if(x)throw x;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new Cu("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let h=f+d;c&&(h=parseInt(c));const p=h-f;p*1e3<=ui&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const b=h-d;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,h,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,h,f);const{data:w,error:v}=await this._getUser(i);if(v)throw v;const j={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:t.type},error:null}}catch(n){if(me(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ra(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(ET(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await cs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=FT(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ti(this.storage,this.storageKey,!0));try{return await be(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(me(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,f;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await be(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Jr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(me(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await be(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await WT(async s=>(s>0&&await qT(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:In})),(s,i)=>{const o=200*Math.pow(2,s);return i&&zp(i)&&Date.now()+o-n<ui})}catch(n){if(this._debug(r,"error",n),me(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Jr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ra(this.storage,this.storageKey);if(s&&this.userStorage){let o=await ra(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await di(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Wp()}else if(s&&!s.user&&!s.user){const o=await ra(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await cs(this.storage,this.storageKey+"-user"),await di(this.storage,this.storageKey,s)):s.user=Wp()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Bp;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Bp}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),zp(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new hs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ph;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new hs;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),me(i)){const o={session:null,error:i};return zp(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await di(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=tw(s);await di(this.storage,this.storageKey,i)}else{const s=tw(r);await di(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await cs(this.storage,this.storageKey),await cs(this.storage,this.storageKey+"-code-verifier"),await cs(this.storage,this.storageKey+"-user"),this.userStorage&&await cs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Jr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ui);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ui);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ui}ms, refresh threshold is ${Og} ticks`),s<=Og&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof oA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await ti(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await be(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await be(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(me(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(me(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(me(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=qp(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+OT>s)return n;const{data:i,error:o}=await be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:b}=await this.getSession();if(b||!p.session)return{data:null,error:b};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=qp(n);r!=null&&r.allowExpired||XT(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const f=ZT(s.alg),d=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,o,RT(`${l}.${c}`)))throw new kg("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}}}nc.nextInstanceID=0;const p3=nc;class m3 extends p3{constructor(t){super(t)}}var g3=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class x3{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=wT(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:hT,realtime:mT,auth:Object.assign(Object.assign({},pT),{storageKey:u}),global:fT},d=jT(n??{},f);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=yT(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new IC(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new dC(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new cT(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return g3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m3({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new YC(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const lA=(e,t,r)=>new x3(e,t,r);function v3(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}v3()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const uv="https://dlvpvzfztyzcatcpgwzo.supabase.co",cA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRsdnB2emZ6dHl6Y2F0Y3Bnd3pvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyODQ5NTcsImV4cCI6MjA2ODg2MDk1N30.9v5Adsd9GYaB_cFSmamFzRdNIcuBIL7E77ppM7efn2Y",uA="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRsdnB2emZ6dHl6Y2F0Y3Bnd3pvIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MzI4NDk1NywiZXhwIjoyMDY4ODYwOTU3fQ.VI-Kv0Qu9bQVKO1fBlRue9xrD6l7Ij8Q173ACeIwnHQ",mh=!!(uv.includes(".supabase.co")&&cA.length>20&&uA.length>20);mh||console.log("Supabase not configured - running in demo mode");const V=mh?lA(uv,cA,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}):null,ce=mh?lA(uv,uA,{auth:{autoRefreshToken:!1,persistSession:!1}}):null,jr=!mh;console.log(V?"Supabase client ready":"Running in demo mode - Supabase not configured");class Nn{static async log(t){try{if(!V){console.log("ActivityLogger: Supabase not configured, skipping log");return}let r=t.user_id;if(!r){const o=localStorage.getItem("userData");o&&(r=JSON.parse(o).id)}const n=navigator.userAgent,s={user_id:r,activity_type:t.activity_type,description:t.description,metadata:t.metadata?JSON.stringify(t.metadata):null,ip_address:t.ip_address||null,user_agent:n},{error:i}=await V.from("activity_logs").insert(s);i?console.error("ActivityLogger: Failed to log activity:",i):console.log("ActivityLogger: Activity logged successfully:",t.activity_type)}catch(r){console.error("ActivityLogger: Error logging activity:",r)}}static async logLogin(t,r){await this.log({user_id:t,activity_type:"user_login",description:`User logged in: ${r}`,metadata:{email:r,login_time:new Date().toISOString()}})}static async logLogout(t,r){await this.log({user_id:t,activity_type:"user_logout",description:`User logged out: ${r}`,metadata:{email:r,logout_time:new Date().toISOString()}})}static async logTestStart(t,r,n){await this.log({user_id:t,activity_type:"test_started",description:`Started test: ${n}`,metadata:{survey_id:r,survey_title:n,start_time:new Date().toISOString()}})}static async logTestComplete(t,r,n,s,i){await this.log({user_id:t,activity_type:"test_completed",description:`Completed test: ${n} - Score: ${s}% (${i?"Passed":"Failed"})`,metadata:{survey_id:r,survey_title:n,score:s,is_passed:i,completion_time:new Date().toISOString()}})}static async logUserCreated(t,r,n,s){await this.log({user_id:t,activity_type:"user_created",description:`Created new user: ${n} with role ${s}`,metadata:{new_user_id:r,new_user_email:n,role_name:s,creation_time:new Date().toISOString()}})}static async logSurveyCreated(t,r,n){await this.log({user_id:t,activity_type:"survey_created",description:`Created new survey: ${n}`,metadata:{survey_id:r,survey_title:n,creation_time:new Date().toISOString()}})}static async logSurveyUpdated(t,r,n){await this.log({user_id:t,activity_type:"survey_updated",description:`Updated survey: ${n}`,metadata:{survey_id:r,survey_title:n,update_time:new Date().toISOString()}})}static async logSurveyDeleted(t,r,n){await this.log({user_id:t,activity_type:"survey_deleted",description:`Deleted survey: ${n}`,metadata:{survey_id:r,survey_title:n,deletion_time:new Date().toISOString()}})}static async logQuestionUploaded(t,r,n){await this.log({user_id:t,activity_type:"questions_uploaded",description:`Uploaded ${n} questions to survey`,metadata:{survey_id:r,questions_count:n,upload_time:new Date().toISOString()}})}static async logCertificateIssued(t,r,n,s){await this.log({user_id:t,activity_type:"certificate_issued",description:`Certificate issued: ${n} for ${s}`,metadata:{certificate_id:r,certificate_number:n,survey_title:s,issue_time:new Date().toISOString()}})}static async logSettingUpdated(t,r,n,s){await this.log({user_id:t,activity_type:"setting_updated",description:`Updated setting: ${r}`,metadata:{setting_key:r,old_value:n,new_value:s,update_time:new Date().toISOString()}})}}class Kp{static async login(t,r){var n;try{if(console.log("AuthService: Attempting login for:",t),!V)return console.warn("AuthService: Supabase not configured - running in demo mode"),{success:!1,message:'Database not configured. Please set up your Supabase credentials in the .env file and restart the development server. Then click "Initialize Database" on the login page.'};const s=/^[\+]?[1-9][\d]{0,15}$/.test(t.replace(/[\s\-\(\)]/g,""));let i;if(s){const{data:b,error:w}=await V.from("users").select("email").eq("phone_number",t).maybeSingle();if(w||!b)return{success:!1,message:"Mobile number not found. Please check your mobile number or use email to login."};i={email:b.email,password:r}}else i={email:t,password:r};const{data:o,error:l}=await V.auth.signInWithPassword(i);if(l||!o.user)return console.error("AuthService: Authentication failed for:",s?"mobile number":"email",l),{success:!1,message:"Invalid credentials. Please check your email/mobile number and password or initialize the database if this is your first time."};console.log("AuthService: Supabase auth successful, fetching user profile...");let c,u;try{const b=await V.rpc("get_user_with_role",{user_id:o.user.id}).maybeSingle();c=b.data,u=b.error}catch{console.log("RPC function not available, using direct query");try{const w=await V.from("users").select(`
              *,
              role:roles(*)
            `).eq("id",o.user.id).limit(1);c=w.data&&w.data.length>0?w.data:null,u=w.error}catch{console.log("Direct query failed, user profile not found"),c=null,u={message:"User profile not found"}}}if(u||!c||c.length===0)return console.error("AuthService: User profile not found. This usually means the database needs to be initialized.",u),await V.auth.signOut(),{success:!1,message:'User profile not found in database. Please click "Initialize Database" to create the required user accounts and tables.'};const f=c,d=Array.isArray(f)?f[0]:f,h=d.role||{id:d.role_id,name:d.role_name||"Unknown",description:d.role_description||"",level:d.role_level||5,is_active:d.role_is_active!==!1,menu_access:d.menu_access||[]};await V.from("users").update({last_login:new Date().toISOString()}).eq("id",d.id);const p={id:d.id,email:d.email,name:d.name,roleId:d.role_id,role:{id:h.id,name:h.name,description:h.description,level:h.level,isActive:h.is_active,menuAccess:h.menu_access,createdAt:new Date,updatedAt:new Date},isActive:d.is_active,jurisdiction:d.jurisdiction,zone:d.zone,region:d.region,district:d.district,employeeId:d.employee_id,phoneNumber:d.phone_number,parentId:d.parent_id,createdAt:new Date(d.created_at),updatedAt:new Date(d.updated_at)};return console.log("AuthService: Login successful for user:",p.name),await Nn.logLogin(p.id,p.email),{success:!0,data:{user:p,token:((n=o.session)==null?void 0:n.access_token)||`demo-token-${d.id}-${Date.now()}`},message:"Login successful"}}catch(s){return console.error("AuthService: Login error:",s),{success:!1,message:`Login failed: ${s instanceof Error?s.message:"Unknown error"}`}}}static async logout(){var t,r;try{if(!V)return{success:!1,message:"Database not configured"};if(!V)return console.log("AuthService: Supabase not configured, clearing local session"),{success:!0,message:"Logged out successfully"};const{error:n}=await V.auth.signOut();if(n){if((t=n.message)!=null&&t.includes("session_not_found")||(r=n.message)!=null&&r.includes("Session from session_id claim in JWT does not exist"))return console.log("AuthService: Session already invalid, treating as successful logout"),{success:!0,message:"Logged out successfully"};console.error("AuthService: Logout error:",n),console.log("AuthService: Continuing with logout despite error")}const s=localStorage.getItem("userData");if(s){const i=JSON.parse(s);await Nn.logLogout(i.id,i.email)}return{success:!0,message:"Logged out successfully"}}catch(n){return console.error("AuthService: Logout exception:",n),{success:!0,message:"Logged out successfully"}}}}class Tu{static async getUsers(){try{if(console.log("UserService: Fetching users from database"),!V||!ce)return console.error("DashboardService: Supabase clients not configured"),{success:!1,message:"Database not configured",data:[]};const{data:t,error:r}=await ce.from("users").select(`
          *,
          role:roles(*)
        `).order("created_at",{ascending:!1});return r?(console.error("UserService: Error fetching users:",r),{success:!1,message:r.message,data:[]}):{success:!0,data:(t==null?void 0:t.map(s=>({id:s.id,email:s.email,name:s.name,roleId:s.role_id,role:{id:s.role.id,name:s.role.name,description:s.role.description,level:s.role.level,isActive:s.role.is_active,menuAccess:s.role.menu_access,createdAt:new Date(s.role.created_at),updatedAt:new Date(s.role.updated_at)},isActive:s.is_active,jurisdiction:s.jurisdiction,zone:s.zone,region:s.region,district:s.district,employeeId:s.employee_id,phoneNumber:s.phone_number,parentId:s.parent_id,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)})))||[],message:"Users fetched successfully"}}catch(t){return console.error("UserService: Error:",t),{success:!1,message:"Failed to fetch users",data:[]}}}static async createUser(t){try{if(!ce)return{success:!1,message:"Database not configured"};const{data:r,error:n}=await ce.auth.admin.createUser({email:t.email,password:t.password||"password123",email_confirm:!0,user_metadata:{name:t.name}});if(n)return console.error("UserService: Error creating auth user:",n),{success:!1,message:n.message};const s=t.password?await Rs(()=>Promise.resolve().then(()=>em),void 0).then(u=>u.hashSync(t.password,10)):await Rs(()=>Promise.resolve().then(()=>em),void 0).then(u=>u.hashSync("password123",10)),{data:i,error:o}=await ce.from("users").insert({id:r.user.id,email:t.email,password_hash:s,name:t.name,role_id:t.roleId,jurisdiction:t.jurisdiction,zone:t.zone,region:t.region,district:t.district,employee_id:t.employeeId,phone_number:t.phoneNumber}).select(`
          *,
          role:roles(*)
        `).single();if(o)return console.error("UserService: Error creating user:",o),{success:!1,message:o.message};const l={id:i.id,email:i.email,name:i.name,roleId:i.role_id,role:i.role,isActive:i.is_active,jurisdiction:i.jurisdiction,zone:i.zone,region:i.region,district:i.district,employeeId:i.employee_id,phoneNumber:i.phone_number,parentId:i.parent_id,createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)},c=localStorage.getItem("userData");if(c){const u=JSON.parse(c);await Nn.logUserCreated(u.id,l.id,l.email,i.role.name)}return{success:!0,data:l,message:"User created successfully! Default password: password123 (user should change on first login)"}}catch(r){return console.error("UserService: Error:",r),{success:!1,message:"Failed to create user"}}}static async updateUser(t,r){try{if(console.log("UserService: Updating user:",t),!ce)return{success:!1,message:"Database not configured. Please check your Supabase configuration."};const{data:n,error:s}=await ce.from("users").select("email").eq("id",t).single();if(s)throw new Error(`Failed to get current user: ${s.message}`);const i={};if(r.email!==n.email&&(i.email=r.email),r.password&&r.password.trim()&&(i.password=r.password),Object.keys(i).length>0){const{error:f}=await ce.auth.admin.updateUserById(t,i);if(f)throw new Error(`Failed to update auth user: ${f.message}`)}const o={name:r.name,email:r.email,role_id:r.roleId,jurisdiction:r.jurisdiction||null,zone:r.zone||null,region:r.region||null,district:r.district||null,employee_id:r.employeeId||null,phone_number:r.phoneNumber||null,updated_at:new Date().toISOString()};if(r.password&&r.password.trim()){const d=(await Rs(()=>Promise.resolve().then(()=>em),void 0)).hashSync(r.password,10);o.password_hash=d}const{data:l,error:c}=await ce.from("users").update(o).eq("id",t).select(`
          *,
          role:roles(*)
        `).single();if(c)throw new Error(`Failed to update user profile: ${c.message}`);const u={id:l.id,name:l.name,email:l.email,roleId:l.role_id,role:{id:l.role.id,name:l.role.name,description:l.role.description,level:l.role.level,isActive:l.role.is_active,menuAccess:l.role.menu_access,createdAt:new Date(l.role.created_at),updatedAt:new Date(l.role.updated_at)},jurisdiction:l.jurisdiction,zone:l.zone,region:l.region,district:l.district,employeeId:l.employee_id,phoneNumber:l.phone_number,isActive:l.is_active,createdAt:new Date(l.created_at),updatedAt:new Date(l.updated_at)};return console.log("UserService: User updated successfully:",u.email),{success:!0,data:u,message:"User updated successfully!"}}catch(n){return console.error("UserService: Error updating user:",n),{success:!1,message:`Failed to update user: ${n instanceof Error?n.message:"Unknown error"}`}}}static async deleteUser(t){try{if(!V)return{success:!1,message:"Database not configured"};const{error:r}=await V.from("users").delete().eq("id",t);return r?{success:!1,message:r.message}:{success:!0,message:"User deleted successfully"}}catch(r){return console.error("UserService: Error:",r),{success:!1,message:"Failed to delete user"}}}}class rl{static async getRoles(){try{if(!V)return{success:!1,message:"Database not configured",data:[]};const{data:t,error:r}=await V.from("roles").select("*").order("level",{ascending:!0});return r?{success:!1,message:r.message,data:[]}:{success:!0,data:(t==null?void 0:t.map(s=>({id:s.id,name:s.name,description:s.description,level:s.level,isActive:s.is_active,menuAccess:s.menu_access,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)})))||[],message:"Roles fetched successfully"}}catch(t){return console.error("RoleService: Error:",t),{success:!1,message:"Failed to fetch roles",data:[]}}}static async createRole(t){try{if(!V)return{success:!1,message:"Database not configured"};const{data:r,error:n}=await V.from("roles").insert(t).select().single();return n?{success:!1,message:n.message}:{success:!0,data:{id:r.id,name:r.name,description:r.description,level:r.level,isActive:r.is_active,menuAccess:r.menu_access,createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at)},message:"Role created successfully"}}catch(r){return console.error("RoleService: Error:",r),{success:!1,message:"Failed to create role"}}}static async updateRole(t,r){try{if(!V)return{success:!1,message:"Database not configured"};const{data:n,error:s}=await V.from("roles").update(r).eq("id",t).select().single();return s?{success:!1,message:s.message}:{success:!0,data:{id:n.id,name:n.name,description:n.description,level:n.level,isActive:n.is_active,menuAccess:n.menu_access,createdAt:new Date(n.created_at),updatedAt:new Date(n.updated_at)},message:"Role updated successfully"}}catch(n){return console.error("RoleService: Error:",n),{success:!1,message:"Failed to update role"}}}static async deleteRole(t){try{if(!V)return{success:!1,message:"Database not configured"};const{error:r}=await V.from("roles").delete().eq("id",t);return r?{success:!1,message:r.message}:{success:!0,message:"Role deleted successfully"}}catch(r){return console.error("RoleService: Error:",r),{success:!1,message:"Failed to delete role"}}}static async updateRoleMenuAccess(t,r){try{if(!V)return{success:!1,message:"Database not configured"};const{error:n}=await V.from("roles").update({menu_access:r}).eq("id",t);return n?{success:!1,message:n.message}:{success:!0,message:"Menu access updated successfully"}}catch(n){return console.error("RoleService: Error:",n),{success:!1,message:"Failed to update menu access"}}}}class na{static async getSurveys(){try{if(!V)return{success:!1,message:"Database not configured",data:[]};const{data:t,error:r}=await V.from("surveys").select("*").order("created_at",{ascending:!1});return r?{success:!1,message:r.message,data:[]}:{success:!0,data:(t==null?void 0:t.map(s=>({id:s.id,title:s.title,description:s.description,targetDate:new Date(s.target_date),duration:s.duration,totalQuestions:s.total_questions,passingScore:s.passing_score,maxAttempts:s.max_attempts,isActive:s.is_active,sections:[],createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at),createdBy:s.created_by,assignedZones:s.assigned_zones,assignedRegions:s.assigned_regions})))||[],message:"Surveys fetched successfully"}}catch(t){return console.error("SurveyService: Error:",t),{success:!1,message:"Failed to fetch surveys",data:[]}}}static async createSurvey(t){try{if(!V)return{success:!1,message:"Database not configured"};const{data:r,error:n}=await V.from("surveys").insert({title:t.title,description:t.description,target_date:t.targetDate.toISOString().split("T")[0],duration:t.duration,total_questions:t.totalQuestions,passing_score:t.passingScore,max_attempts:t.maxAttempts,created_by:t.createdBy}).select().single();if(n)return{success:!1,message:n.message};const s={id:r.id,title:r.title,description:r.description,targetDate:new Date(r.target_date),duration:r.duration,totalQuestions:r.total_questions,passingScore:r.passing_score,maxAttempts:r.max_attempts,isActive:r.is_active,sections:[],createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at),createdBy:r.created_by};return await Nn.logSurveyCreated(t.createdBy,s.id,s.title),{success:!0,data:s,message:"Survey created successfully"}}catch(r){return console.error("SurveyService: Error:",r),{success:!1,message:"Failed to create survey"}}}static async updateSurvey(t,r){try{if(!V)return{success:!1,message:"Database not configured"};const n={title:r.title,description:r.description,duration:r.duration,total_questions:r.totalQuestions,passing_score:r.passingScore,max_attempts:r.maxAttempts};r.targetDate&&(n.target_date=r.targetDate.toISOString().split("T")[0]),typeof r.isActive<"u"&&(n.is_active=r.isActive);const{data:s,error:i}=await V.from("surveys").update(n).eq("id",t).select().single();if(i)return{success:!1,message:i.message};const o={id:s.id,title:s.title,description:s.description,targetDate:new Date(s.target_date),duration:s.duration,totalQuestions:s.total_questions,passingScore:s.passing_score,maxAttempts:s.max_attempts,isActive:s.is_active,sections:[],createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at),createdBy:s.created_by},l=localStorage.getItem("userData");if(l){const c=JSON.parse(l);await Nn.logSurveyUpdated(c.id,o.id,o.title)}return{success:!0,data:o,message:"Survey updated successfully"}}catch(n){return console.error("SurveyService: Error:",n),{success:!1,message:"Failed to update survey"}}}static async deleteSurvey(t){try{if(!ce)return{success:!1,message:"Database not configured"};const{data:r}=await ce.from("surveys").select("title").eq("id",t).single(),{data:n}=await ce.from("test_sessions").select("id").eq("survey_id",t);n&&n.length>0&&await ce.from("test_answers").delete().in("session_id",n.map(c=>c.id));const{data:s}=await ce.from("test_results").select("id").eq("survey_id",t);s&&s.length>0&&await ce.from("section_scores").delete().in("result_id",s.map(c=>c.id)),await ce.from("certificates").delete().eq("survey_id",t),await ce.from("test_results").delete().eq("survey_id",t),await ce.from("test_sessions").delete().eq("survey_id",t);const{data:i}=await ce.from("survey_sections").select("id").eq("survey_id",t);if(i&&i.length>0){const{data:c}=await ce.from("questions").select("id").in("section_id",i.map(u=>u.id));c&&c.length>0&&await ce.from("question_options").delete().in("question_id",c.map(u=>u.id))}i&&i.length>0&&await ce.from("questions").delete().in("section_id",i.map(c=>c.id)),await ce.from("survey_sections").delete().eq("survey_id",t);const{error:o}=await ce.from("surveys").delete().eq("id",t);if(o)return{success:!1,message:o.message};const l=localStorage.getItem("userData");if(l&&r){const c=JSON.parse(l);await Nn.logSurveyDeleted(c.id,t,r.title)}return{success:!0,message:"Survey deleted successfully"}}catch(r){return console.error("SurveyService: Error:",r),{success:!1,message:"Failed to delete survey"}}}static async deleteSection(t){try{if(!ce)return{success:!1,message:"Database not configured"};const{data:r}=await ce.from("questions").select("id").eq("section_id",t);r&&r.length>0&&await ce.from("question_options").delete().in("question_id",r.map(s=>s.id)),await ce.from("questions").delete().eq("section_id",t);const{error:n}=await ce.from("survey_sections").delete().eq("id",t);return n?{success:!1,message:n.message}:{success:!0,message:"Section deleted successfully"}}catch(r){return console.error("SurveyService: Error:",r),{success:!1,message:"Failed to delete section"}}}static async getSurveySections(t){try{if(!V)return{success:!1,message:"Database not configured",data:[]};const{data:r,error:n}=await V.from("survey_sections").select("*").eq("survey_id",t).order("section_order",{ascending:!0});return n?{success:!1,message:n.message,data:[]}:{success:!0,data:(r==null?void 0:r.map(i=>({id:i.id,surveyId:i.survey_id,title:i.title,description:i.description,questionsCount:i.questions_count,order:i.section_order,questions:[]})))||[],message:"Sections fetched successfully"}}catch(r){return console.error("SurveyService: Error:",r),{success:!1,message:"Failed to fetch sections",data:[]}}}static async createSection(t,r){try{if(!V)return{success:!1,message:"Database not configured"};const{data:n,error:s}=await V.from("survey_sections").insert({survey_id:t,title:r.title,description:r.description,questions_count:r.questionsCount,section_order:r.order}).select().single();return s?{success:!1,message:s.message}:{success:!0,data:{id:n.id,surveyId:n.survey_id,title:n.title,description:n.description,questionsCount:n.questions_count,order:n.section_order,questions:[]},message:"Section created successfully"}}catch(n){return console.error("SurveyService: Error:",n),{success:!1,message:"Failed to create section"}}}}class Vp{static async getQuestions(t,r){try{if(!V)return{success:!1,message:"Database not configured",data:[]};const{data:n,error:s}=await V.from("questions").select(`
          *,
          question_options(*)
        `).eq("section_id",r).order("question_order",{ascending:!0});return s?{success:!1,message:s.message,data:[]}:{success:!0,data:(n==null?void 0:n.map(o=>({id:o.id,sectionId:o.section_id,text:o.text,type:o.question_type,complexity:o.complexity,points:o.points,explanation:o.explanation,order:o.question_order,options:o.question_options.sort((l,c)=>l.option_order-c.option_order).map(l=>({id:l.id,text:l.text,isCorrect:l.is_correct})),correctAnswers:o.question_options.filter(l=>l.is_correct).map(l=>l.id),createdAt:new Date(o.created_at),updatedAt:new Date(o.updated_at)})))||[],message:"Questions fetched successfully"}}catch(n){return console.error("QuestionService: Error:",n),{success:!1,message:"Failed to fetch questions",data:[]}}}static async createQuestion(t){try{if(!V)return{success:!1,message:"Database not configured"};const{data:r,error:n}=await V.from("questions").insert({section_id:t.sectionId,text:t.text,question_type:t.type,complexity:t.complexity,points:t.points,explanation:t.explanation,question_order:t.order}).select().single();if(n)return{success:!1,message:n.message};const s=t.options.map((u,f)=>({question_id:r.id,text:u.text,is_correct:u.isCorrect,option_order:f+1})),{error:i}=await V.from("question_options").insert(s);if(i)return{success:!1,message:i.message};const{data:o,error:l}=await V.from("questions").select(`
          *,
          question_options(*)
        `).eq("id",r.id).single();return l?{success:!1,message:l.message}:{success:!0,data:{id:o.id,sectionId:o.section_id,text:o.text,type:o.question_type,complexity:o.complexity,points:o.points,explanation:o.explanation,order:o.question_order,options:o.question_options.sort((u,f)=>u.option_order-f.option_order).map(u=>({id:u.id,text:u.text,isCorrect:u.is_correct})),correctAnswers:o.question_options.filter(u=>u.is_correct).map(u=>u.id),createdAt:new Date(o.created_at),updatedAt:new Date(o.updated_at)},message:"Question created successfully"}}catch(r){return console.error("QuestionService: Error:",r),{success:!1,message:"Failed to create question"}}}static async uploadQuestions(t){return{success:!0,data:{questionsAdded:0,questionsSkipped:0,errors:[]},message:"CSV upload feature not implemented yet"}}}class y3{static async getSession(t){try{if(!V)return{success:!1,message:"Database not configured"};const{data:r,error:n}=await V.from("test_sessions").select("*").eq("id",t).single();return n?{success:!1,message:n.message}:{success:!0,data:{id:r.id,userId:r.user_id,surveyId:r.survey_id,startTime:new Date(r.start_time),timeRemaining:r.time_remaining,currentQuestionIndex:r.current_question_index,answers:[],status:r.session_status,attemptNumber:r.attempt_number},message:"Session fetched successfully"}}catch(r){return console.error("TestService: Error:",r),{success:!1,message:"Failed to fetch session"}}}}class gh{static async getDashboardData(){try{if(!V||!ce)return console.warn("DashboardService: Supabase clients not configured - returning empty dashboard data"),{success:!1,message:"Database not configured. Please set up your Supabase credentials in the .env file, restart the development server, and initialize the database.",data:{totalUsers:0,totalSurveys:0,totalAttempts:0,averageScore:0,passRate:0,recentActivity:[],performanceByRole:[],performanceBySurvey:[],monthlyTrends:[]}};console.log("DashboardService: Supabase clients available, fetching data..."),console.log("DashboardService: Fetching user count...");const{count:t,error:r}=await ce.from("users").select("*",{count:"exact",head:!0});if(r)throw console.error("DashboardService: Error fetching users count:",r),new Error(`Failed to fetch users: ${r.message}`);console.log("DashboardService: Fetching surveys count...");const{count:n,error:s}=await ce.from("surveys").select("*",{count:"exact",head:!0});if(s)throw console.error("DashboardService: Error fetching surveys count:",s),new Error(`Failed to fetch surveys: ${s.message}`);console.log("DashboardService: Fetching test sessions count...");const{count:i,error:o}=await ce.from("test_sessions").select("*",{count:"exact",head:!0});if(o)throw console.error("DashboardService: Error fetching test sessions count:",o),new Error(`Failed to fetch test sessions: ${o.message}`);console.log("DashboardService: Basic counts fetched successfully"),console.log("Users:",t,"Surveys:",n,"Attempts:",i),console.log("DashboardService: Fetching test results...");const{data:l,error:c}=await ce.from("test_results").select("*");c&&(console.error("Dashboard: Error fetching test results:",c),console.log("DashboardService: Continuing with empty test results")),console.log("DashboardService: Test results count:",(l==null?void 0:l.length)||0);let u=0,f=0;l&&l.length>0?(console.log("DashboardService: Calculating scores and pass rates..."),u=l.reduce((E,k)=>E+(k.score||0),0)/l.length,f=l.filter(E=>E.is_passed).length/l.length*100,console.log("DashboardService: Average score:",u,"Pass rate:",f)):console.log("DashboardService: No test results found, using default values"),console.log("DashboardService: Fetching performance by role...");const{data:d,error:h}=await ce.from("test_results").select(`
          *,
          user:users(
            role:roles(name)
          )
        `);h&&console.error("Dashboard: Error fetching role performance:",h),console.log("DashboardService: Role performance data count:",(d==null?void 0:d.length)||0);const p=d?d.reduce((A,P)=>{var I,$;const E=(($=(I=P.user)==null?void 0:I.role)==null?void 0:$.name)||"Unknown",k=A.find(R=>R.role===E);return k?(k.totalTests++,k.totalScore+=P.score||0,P.is_passed&&k.passedTests++):A.push({role:E,totalTests:1,totalScore:P.score||0,passedTests:P.is_passed?1:0,averageScore:P.score||0,passRate:P.is_passed?100:0}),A},[]).map(A=>({...A,averageScore:A.totalScore/A.totalTests,passRate:A.passedTests/A.totalTests*100})):[];console.log("DashboardService: Fetching performance by survey...");const{data:b,error:w}=await ce.from("test_results").select(`
          *,
          survey:surveys(title)
        `);w&&console.error("Dashboard: Error fetching survey performance:",w),console.log("DashboardService: Survey performance data count:",(b==null?void 0:b.length)||0);const v=b?b.reduce((A,P)=>{var I;const E=((I=P.survey)==null?void 0:I.title)||"Unknown Survey",k=A.find($=>$.survey===E);return k?(k.totalAttempts++,k.totalScore+=P.score||0,P.is_passed&&k.passedAttempts++):A.push({survey:E,totalAttempts:1,totalScore:P.score||0,passedAttempts:P.is_passed?1:0,averageScore:P.score||0,passRate:P.is_passed?100:0}),A},[]).map(A=>({...A,averageScore:A.totalScore/A.totalAttempts,passRate:A.passedAttempts/A.totalAttempts*100})):[];console.log("DashboardService: Fetching recent activity...");const{data:j,error:y}=await ce.from("activity_logs").select(`
          *,
          user:users(name)
        `).order("created_at",{ascending:!1}).limit(10);y&&console.error("Dashboard: Error fetching recent activity:",y),console.log("DashboardService: Recent activity count:",(j==null?void 0:j.length)||0);const x=j?j.map(A=>{var P;return{id:A.id,action:A.action,description:A.description,userName:((P=A.user)==null?void 0:P.name)||"Unknown User",timestamp:new Date(A.created_at)}}):[];console.log("DashboardService: Fetching monthly trends...");const _=new Date;_.setMonth(_.getMonth()-6);const{data:m,error:g}=await ce.from("test_results").select("completed_at, is_passed").gte("completed_at",_.toISOString());g&&console.error("Dashboard: Error fetching monthly trends:",g),console.log("DashboardService: Monthly data count:",(m==null?void 0:m.length)||0);const N=m?m.reduce((A,P)=>{const E=new Date(P.completed_at).toLocaleString("default",{month:"short",year:"numeric"}),k=A.find(I=>I.month===E);return k?(k.totalTests++,P.is_passed&&k.passedTests++):A.push({month:E,totalTests:1,passedTests:P.is_passed?1:0}),A},[]).map(A=>({...A,passRate:A.passedTests/A.totalTests*100})):[],S={totalUsers:t||0,totalSurveys:n||0,totalAttempts:i||0,averageScore:Math.round(u*10)/10,passRate:Math.round(f*10)/10,recentActivity:x,performanceByRole:p,performanceBySurvey:v,monthlyTrends:N};return console.log("DashboardService: Dashboard data compiled successfully"),{success:!0,data:S,message:"Dashboard data fetched successfully"}}catch(t){return console.error("DashboardService: Error:",t),{success:!1,message:`Failed to fetch dashboard data: ${t instanceof Error?t.message:"Unknown error"}`,data:{totalUsers:0,totalSurveys:0,totalAttempts:0,averageScore:0,passRate:0,recentActivity:[],performanceByRole:[],performanceBySurvey:[],monthlyTrends:[]}}}}}class Gp{static async getCertificates(){try{if(!V)return{success:!1,message:"Database not configured",data:[]};const{data:t,error:r}=await V.from("certificates").select(`
          *,
          user:users(*),
          survey:surveys(*)
        `).order("issued_at",{ascending:!1});return r?{success:!1,message:r.message,data:[]}:{success:!0,data:(t==null?void 0:t.map(s=>({id:s.id,userId:s.user_id,user:s.user,surveyId:s.survey_id,survey:s.survey,resultId:s.result_id,certificateNumber:s.certificate_number,issuedAt:new Date(s.issued_at),validUntil:s.valid_until?new Date(s.valid_until):void 0,downloadCount:s.download_count,status:s.certificate_status})))||[],message:"Certificates fetched successfully"}}catch(t){return console.error("CertificateService: Error:",t),{success:!1,message:"Failed to fetch certificates",data:[]}}}static async downloadCertificate(t){const r=`Certificate ID: ${t}
Generated on: ${new Date().toISOString()}`;return{success:!0,data:new Blob([r],{type:"application/pdf"}),message:"Certificate downloaded successfully"}}static async revokeCertificate(t){try{if(!V)return{success:!1,message:"Database not configured"};const{error:r}=await V.from("certificates").update({certificate_status:"revoked"}).eq("id",t);return r?{success:!1,message:r.message}:{success:!0,message:"Certificate revoked successfully"}}catch(r){return console.error("CertificateService: Error:",r),{success:!1,message:"Failed to revoke certificate"}}}}class iw{static async getSettings(){try{if(!V)return{success:!1,message:"Database not configured",data:[]};const{data:t,error:r}=await V.from("system_settings").select("*").order("category",{ascending:!0});return r?{success:!1,message:r.message,data:[]}:{success:!0,data:(t==null?void 0:t.map(s=>({id:s.id,category:s.category,key:s.setting_key,value:s.setting_value,description:s.description,type:s.setting_type,isEditable:s.is_editable,options:s.options,updatedAt:new Date(s.updated_at),updatedBy:s.updated_by||"System"})))||[],message:"Settings fetched successfully"}}catch(t){return console.error("SettingsService: Error:",t),{success:!1,message:"Failed to fetch settings",data:[]}}}static async updateSetting(t,r,n){try{if(!V)return{success:!1,message:"Database not configured"};const{error:s}=await V.from("system_settings").update({setting_value:r,updated_by:n}).eq("id",t);if(s)return{success:!1,message:s.message};const{data:i}=await V.from("system_settings").select("setting_key, setting_value").eq("id",t).single();return i&&n&&await Nn.logSettingUpdated(n,i.setting_key,i.setting_value,r),{success:!0,message:"Setting updated successfully"}}catch(s){return console.error("SettingsService: Error:",s),{success:!1,message:"Failed to update setting"}}}}console.log("API Services: Initializing with Supabase backend");const Qp={async login(e,t){return console.log("authApi: Login attempt for:",e),await Kp.login(e,t)},async changePassword(e,t){return console.log("authApi: Password change request"),await Kp.changePassword(e,t)},async logout(){return console.log("authApi: Logout request"),await Kp.logout()}},$u={async getUsers(){return console.log("userApi: Fetching users"),await Tu.getUsers()},async createUser(e){return console.log("userApi: Creating user:",e.email),await Tu.createUser(e)},async deleteUser(e){return console.log("userApi: Deleting user:",e),await Tu.deleteUser(e)},async updateUser(e,t){return console.log("userApi: Updating user:",e),await Tu.updateUser(e,t)}},ws={async getRoles(){return console.log("roleApi: Fetching roles"),await rl.getRoles()},async getPermissions(){return console.log("roleApi: Fetching permissions (mock data)"),{success:!0,data:[{id:"1",name:"Create Users",resource:"users",action:"create",description:"Create new users",module:"user_management"},{id:"2",name:"View Users",resource:"users",action:"read",description:"View user information",module:"user_management"},{id:"3",name:"Edit Users",resource:"users",action:"update",description:"Edit existing users",module:"user_management"},{id:"4",name:"Delete Users",resource:"users",action:"delete",description:"Delete users",module:"user_management"}],message:"Permissions fetched successfully"}},async createRole(e){return console.log("roleApi: Creating role:",e.name),await rl.createRole(e)},async updateRole(e,t){return console.log("roleApi: Updating role:",e),await rl.updateRole(e,t)},async deleteRole(e){return console.log("roleApi: Deleting role:",e),await rl.deleteRole(e)},async updateRoleMenuAccess(e,t){return console.log("roleApi: Updating menu access for role:",e),await rl.updateRoleMenuAccess(e,t)}},vn={async getSurveys(){return console.log("surveyApi: Fetching surveys"),await na.getSurveys()},async createSurvey(e){return console.log("surveyApi: Creating survey:",e.title),await na.createSurvey(e)},async updateSurvey(e,t){return console.log("surveyApi: Updating survey:",e),await na.updateSurvey(e,t)},async deleteSurvey(e){return console.log("surveyApi: Deleting survey:",e),await na.deleteSurvey(e)},async getSurveySections(e){return console.log("surveyApi: Fetching sections for survey:",e),await na.getSurveySections(e)},async createSection(e,t){return console.log("surveyApi: Creating section for survey:",e),await na.createSection(e,t)},async deleteSection(e){return console.log("surveyApi: Deleting section:",e),await na.deleteSection(e)}},Du={async getQuestions(e,t){return console.log("questionApi: Fetching questions for section:",t),await Vp.getQuestions(e,t)},async createQuestion(e){return console.log("questionApi: Creating question for section:",e.sectionId),await Vp.createQuestion(e)},async uploadQuestions(e,t){try{console.log("questionApi: Uploading questions from file:",t.name);const r=await t.text();return await Vp.uploadQuestions(r)}catch(r){return console.error("questionApi: Error uploading questions:",r),{success:!1,message:"Failed to upload questions"}}},async downloadTemplate(){console.log("questionApi: Generating CSV template");const e=`survey_id,section_id,question_text,question_type,complexity,points,explanation,question_order,option_a,option_b,option_c,option_d,correct_options
"550e8400-e29b-41d4-a716-446655440020","550e8400-e29b-41d4-a716-446655440030","What is the primary function of an operating system?","single_choice","easy",1,"An operating system manages all hardware and software resources of a computer.",1,"To manage hardware and software resources","To create documents","To browse the internet","To play games","A"
"550e8400-e29b-41d4-a716-446655440020","550e8400-e29b-41d4-a716-446655440030","Which of the following are input devices? (Select all that apply)","multiple_choice","medium",2,"Input devices allow users to provide data to the computer. Monitor is an output device.",2,"Keyboard","Mouse","Monitor","Microphone","A,B,D"
"550e8400-e29b-41d4-a716-446655440020","550e8400-e29b-41d4-a716-446655440031","What does URL stand for?","single_choice","easy",1,"URL stands for Uniform Resource Locator, which is the address of a web page.",3,"Uniform Resource Locator","Universal Resource Link","Unified Resource Location","Universal Reference Locator","A"
"550e8400-e29b-41d4-a716-446655440020","550e8400-e29b-41d4-a716-446655440032","Which of the following are good password practices?","multiple_choice","medium",2,"Strong passwords should be long, complex, unique, and not shared.",4,"Use at least 8 characters","Include uppercase and lowercase letters","Share passwords with colleagues","Use unique passwords for each account","A,B,D"`;return new Blob([e],{type:"text/csv"})}},tn={async createTestSession(e){if(console.log("testApi: Creating test session for survey:",e),jr)return{success:!0,data:{id:"demo-session-"+Date.now(),userId:"550e8400-e29b-41d4-a716-446655440014",surveyId:e,startTime:new Date,timeRemaining:2100,currentQuestionIndex:0,answers:[],status:"in_progress",attemptNumber:1},message:"Demo test session created"};const t=localStorage.getItem("userData"),r=t?JSON.parse(t):null;if(!r)return{success:!1,message:"User not authenticated. Please log in to start the test."};try{const{data:n,error:s}=await V.from("test_sessions").select("attempt_number").eq("user_id",r.id).eq("survey_id",e).order("attempt_number",{ascending:!1}).limit(1);if(s)return console.error("testApi: Error checking existing attempts:",s),{success:!1,message:`Failed to check existing attempts: ${s.message}`};const{data:i,error:o}=await V.from("surveys").select("max_attempts, duration").eq("id",e).single();if(o)return console.error("testApi: Error fetching survey:",o),{success:!1,message:`Failed to fetch survey details: ${o.message}`};const l=n&&n.length>0?n[0].attempt_number+1:1;if(l>i.max_attempts)return{success:!1,message:`You have exceeded the maximum number of attempts (${i.max_attempts}) for this test.`};const{data:c,error:u}=await V.from("test_sessions").insert({user_id:r.id,survey_id:e,time_remaining:i.duration*60,current_question_index:0,session_status:"in_progress",attempt_number:l}).select().single();return u?(console.error("testApi: Error creating session in database:",u),{success:!1,message:`Failed to create test session: ${u.message}`}):{success:!0,data:{id:c.id,userId:c.user_id,surveyId:c.survey_id,startTime:new Date(c.start_time),timeRemaining:c.time_remaining,currentQuestionIndex:c.current_question_index,answers:[],status:c.session_status,attemptNumber:c.attempt_number},message:"Test session created successfully"}}catch(n){return console.error("testApi: Error in createTestSession:",n),{success:!1,message:`Failed to create test session: ${n instanceof Error?n.message:"Unknown error"}`}}},async getSession(e){return console.log("testApi: Getting session:",e),await y3.getSession(e)},async getQuestionsForSurvey(e){try{if(console.log("testApi: Fetching questions for survey:",e),jr)return console.log("testApi: Demo mode - returning sample questions"),{success:!0,data:[{id:"demo-q1",sectionId:"demo-section-1",text:"What is the primary function of an operating system?",type:"single_choice",complexity:"easy",points:1,explanation:"An operating system manages all hardware and software resources.",order:1001,options:[{id:"opt1",text:"To manage hardware and software resources",isCorrect:!0},{id:"opt2",text:"To create documents",isCorrect:!1},{id:"opt3",text:"To browse the internet",isCorrect:!1},{id:"opt4",text:"To play games",isCorrect:!1}],correctAnswers:["opt1"],createdAt:new Date,updatedAt:new Date},{id:"demo-q2",sectionId:"demo-section-1",text:"Which of the following are input devices? (Select all that apply)",type:"multiple_choice",complexity:"medium",points:2,explanation:"Input devices allow users to provide data to the computer.",order:1002,options:[{id:"opt5",text:"Keyboard",isCorrect:!0},{id:"opt6",text:"Mouse",isCorrect:!0},{id:"opt7",text:"Monitor",isCorrect:!1},{id:"opt8",text:"Microphone",isCorrect:!0}],correctAnswers:["opt5","opt6","opt8"],createdAt:new Date,updatedAt:new Date},{id:"demo-q3",sectionId:"demo-section-2",text:"What does URL stand for?",type:"single_choice",complexity:"easy",points:1,explanation:"URL stands for Uniform Resource Locator.",order:2001,options:[{id:"opt9",text:"Uniform Resource Locator",isCorrect:!0},{id:"opt10",text:"Universal Resource Link",isCorrect:!1},{id:"opt11",text:"Unified Resource Location",isCorrect:!1},{id:"opt12",text:"Universal Reference Locator",isCorrect:!1}],correctAnswers:["opt9"],createdAt:new Date,updatedAt:new Date},{id:"demo-q4",sectionId:"demo-section-3",text:"Which of the following are good password practices?",type:"multiple_choice",complexity:"medium",points:2,explanation:"Strong passwords should be long, complex, and unique.",order:3001,options:[{id:"opt13",text:"Use at least 8 characters",isCorrect:!0},{id:"opt14",text:"Include uppercase and lowercase letters",isCorrect:!0},{id:"opt15",text:"Share passwords with colleagues",isCorrect:!1},{id:"opt16",text:"Use unique passwords for each account",isCorrect:!0}],correctAnswers:["opt13","opt14","opt16"],createdAt:new Date,updatedAt:new Date}],message:"Demo questions loaded successfully"};console.log("testApi: First, fetching sections for survey from database");const{data:t,error:r}=await V.from("survey_sections").select("id, title, section_order").eq("survey_id",e).order("section_order",{ascending:!0});if(r)return console.error("testApi: Database error fetching sections:",r),{success:!1,message:`Database error: ${r.message}`,data:[]};if(!t||t.length===0)return console.log("testApi: No sections found for survey:",e),{success:!1,message:"No sections found for this survey. Please ensure sections have been created for this survey.",data:[]};const n=t.map(c=>c.id);console.log("testApi: Found",t.length,"sections, now fetching questions for section IDs:",n);const{data:s,error:i}=await V.from("questions").select(`
          *,
          question_options(*)
        `).in("section_id",n).order("question_order",{ascending:!0});if(i)return console.error("testApi: Database error fetching questions:",i),{success:!1,message:`Database error: ${i.message}`,data:[]};if(!s||s.length===0)return console.log("testApi: No questions found for sections:",n),{success:!1,message:"No questions found for this survey. Please ensure questions have been added to this survey in the Question Bank.",data:[]};console.log("testApi: Successfully fetched",s.length,"questions from database");const o=t.reduce((c,u)=>(c[u.id]=u,c),{}),l=s.map((c,u)=>{var f;return{id:c.id,sectionId:c.section_id,text:c.text,type:c.question_type,complexity:c.complexity,points:c.points,explanation:c.explanation,order:((f=o[c.section_id])==null?void 0:f.section_order)*1e3+c.question_order,options:c.question_options.sort((d,h)=>d.option_order-h.option_order).map(d=>({id:d.id,text:d.text,isCorrect:d.is_correct})),correctAnswers:c.question_options.filter(d=>d.is_correct).map(d=>d.id),createdAt:new Date(c.created_at),updatedAt:new Date(c.updated_at)}});return{success:!0,data:l,message:`Loaded ${l.length} questions successfully`}}catch(t){return console.error("testApi: Error in getQuestionsForSurvey:",t),{success:!1,message:`Error loading questions: ${t instanceof Error?t.message:"Unknown error"}`,data:[]}}},async getQuestionsForSession(e){try{if(console.log("testApi: Fetching questions for session:",e),!V)return{success:!1,message:"Database not configured",data:[]};const{data:t,error:r}=await V.from("test_sessions").select("survey_id").eq("id",e).single();return r||!t?(console.error("testApi: Error fetching session:",r),{success:!1,message:"Session not found",data:[]}):(await Nn.logTestStart(currentUser.id,surveyId,"Test Session"),console.log("testApi: Using survey ID for questions:",t.survey_id),await this.getQuestionsForSurvey(t.survey_id))}catch(t){return console.error("testApi: Error in getQuestionsForSession:",t),{success:!1,message:`Error loading questions: ${t instanceof Error?t.message:"Unknown error"}`,data:[]}}},async saveAnswer(e,t,r){if(console.log("testApi: Saving answer for session:",e,"question:",t),jr){console.log("testApi: Supabase not configured, saving to localStorage");const n=`answer_${e}_${t}`;return localStorage.setItem(n,JSON.stringify(r)),{success:!0,message:"Answer saved locally"}}try{const{data:n}=await V.from("test_answers").select("id").eq("session_id",e).eq("question_id",t).maybeSingle();if(n){const{error:s}=await V.from("test_answers").update({selected_options:r,answered:r.length>0,updated_at:new Date().toISOString()}).eq("session_id",e).eq("question_id",t);if(s)throw s}else{const{error:s}=await V.from("test_answers").insert({session_id:e,question_id:t,selected_options:r,answered:r.length>0,is_correct:!1,time_spent:0});if(s)throw s}return{success:!0,message:"Answer saved successfully"}}catch(n){return console.error("testApi: Error saving answer:",n),{success:!1,message:`Failed to save answer: ${n instanceof Error?n.message:"Unknown error"}`}}},async updateSession(e,t){if(console.log("testApi: Updating session:",e),jr)return console.log("testApi: Supabase not configured, saving to localStorage"),localStorage.setItem(`session_${e}`,JSON.stringify(t)),{success:!0,message:"Session updated locally"};try{const{error:r}=await V.from("test_sessions").update({current_question_index:t.currentQuestionIndex,time_remaining:t.timeRemaining,updated_at:new Date().toISOString()}).eq("id",e);if(r)throw r;return{success:!0,message:"Session updated successfully"}}catch(r){return console.error("testApi: Error updating session:",r),{success:!1,message:`Failed to update session: ${r instanceof Error?r.message:"Unknown error"}`}}},async submitTest(e){if(console.log("testApi: Submitting test for session:",e),jr)return console.log("testApi: Supabase not configured, creating demo result"),{success:!0,data:{id:"demo-result-"+Date.now(),userId:"550e8400-e29b-41d4-a716-446655440014",user:{name:"Demo User",email:"demo@example.com",role:{name:"Enumerator"}},surveyId:"550e8400-e29b-41d4-a716-446655440020",survey:{title:"Demo Survey",maxAttempts:3},sessionId:e,score:75,totalQuestions:4,correctAnswers:3,isPassed:!0,timeSpent:1200,attemptNumber:1,sectionScores:[],completedAt:new Date,grade:"B"},message:"Demo test submitted"};try{const{data:t,error:r}=await V.from("test_sessions").select("*").eq("id",e).single();if(r||!t)throw new Error("Session not found");const{data:n,error:s}=await V.from("test_answers").select("*").eq("session_id",e);if(s)throw new Error("Failed to fetch answers");const i=await this.getQuestionsForSurvey(t.survey_id);if(!i.success||!i.data)throw new Error("Failed to load questions for scoring");const o=i.data;let l=0,c=0,u=0;o.forEach(x=>{c+=x.points;const _=n==null?void 0:n.find(m=>m.question_id===x.id);if(_&&_.selected_options){const m=_.selected_options,g=x.correctAnswers,N=m.length===g.length&&m.every(S=>g.includes(S));N&&(l++,u+=x.points),V.from("test_answers").update({is_correct:N}).eq("id",_.id).then(()=>{})}});const f=c>0?Math.round(u/c*100):0,{data:d,error:h}=await V.from("surveys").select("*").eq("id",t.survey_id).single();if(h)throw new Error("Failed to fetch survey details");const p=f>=d.passing_score;await V.from("test_sessions").update({session_status:"completed",score:f,is_passed:p,completed_at:new Date().toISOString(),end_time:new Date().toISOString()}).eq("id",e);const{data:b,error:w}=await V.from("test_results").insert({user_id:t.user_id,survey_id:t.survey_id,session_id:e,score:f,total_questions:o.length,correct_answers:l,is_passed:p,time_spent:t.time_remaining?d.duration*60-t.time_remaining:d.duration*60,attempt_number:t.attempt_number,completed_at:new Date().toISOString()}).select().single();if(w)throw console.error("testApi: Error creating test result:",w),new Error(`Failed to create test result: ${w.message}`);let v=null;if(p){const x=`CERT-${Date.now()}-${Math.random().toString(36).substring(2,8).toUpperCase()}`;try{console.log("Creating certificate for passed test:",{user_id:t.user_id,survey_id:t.survey_id,result_id:b.id,certificate_number:x});const{data:_,error:m}=await V.from("certificates").insert({user_id:t.user_id,survey_id:t.survey_id,result_id:b.id,certificate_number:x,certificate_status:"active",download_count:0}).select().single();if(m)console.error("Error creating certificate:",m);else if(_){console.log("Certificate created successfully:",_),v=_.id;const{error:g}=await V.from("test_results").update({certificate_id:v}).eq("id",b.id);g?console.error("Error updating result with certificate ID:",g):console.log("Test result updated with certificate ID:",v),v&&_&&await Nn.logCertificateIssued(t.user_id,v,x,d.title)}}catch(_){console.error("Exception during certificate creation:",_)}}const{data:j}=await V.from("users").select("*, role:roles(*)").eq("id",t.user_id).single(),y={id:b.id,userId:t.user_id,user:j?{id:j.id,name:j.name,email:j.email,role:j.role,jurisdiction:j.jurisdiction,isActive:j.is_active,createdAt:new Date(j.created_at),updatedAt:new Date(j.updated_at)}:{},surveyId:t.survey_id,survey:{id:d.id,title:d.title,maxAttempts:d.max_attempts},sessionId:e,score:f,totalQuestions:o.length,correctAnswers:l,isPassed:p,timeSpent:t.time_remaining?d.duration*60-t.time_remaining:d.duration*60,attemptNumber:t.attempt_number,sectionScores:[],completedAt:new Date,certificateId:v,grade:f>=90?"A":f>=80?"B":f>=70?"C":f>=60?"D":"F"};return await Nn.logTestComplete(t.user_id,t.survey_id,d.title,f,p),{success:!0,data:y,message:`Test submitted successfully! Score: ${f}% (${p?"Passed":"Failed"})`}}catch(t){return console.error("testApi: Error submitting test:",t),{success:!1,message:`Failed to submit test: ${t instanceof Error?t.message:"Unknown error"}`}}},async syncOfflineData(){return console.log("testApi: Syncing offline data"),{success:!0,message:"Offline data synced successfully"}},async logSecurityViolation(e,t){try{if(!V)return console.log("Security violation logged locally:",t),{success:!0};const{error:r}=await V.from("activity_logs").insert({activity_type:"security_violation",description:`Test security violation: ${t}`,metadata:{session_id:e,violation:t,timestamp:new Date().toISOString()}});return r?(console.error("Failed to log security violation:",r),{success:!1,message:r.message}):{success:!0}}catch(r){return console.error("Error logging security violation:",r),{success:!1,message:"Failed to log security violation"}}}},b3={async getDashboardData(){return console.log("dashboardApi: Fetching dashboard data"),await gh.getDashboardData()}},w3={async getDashboardData(e){console.log("zoDashboardApi: Fetching ZO dashboard data with filter:",e);const t=await gh.getDashboardData();return t.success?{success:!0,data:{...t.data,totalZones:5,totalRegions:25,zonePerformance:[],regionalBreakdown:[],topPerformingRegions:[],lowPerformingRegions:[]},message:"ZO Dashboard data fetched successfully"}:t}},j3={async getDashboardData(e){console.log("roDashboardApi: Fetching RO dashboard data with filter:",e);const t=await gh.getDashboardData();return t.success?{success:!0,data:{...t.data,totalDistricts:8,totalSupervisors:24,districtPerformance:[],supervisorPerformance:[],enumeratorDistribution:[]},message:"RO Dashboard data fetched successfully"}:t}},dv={async getDashboardData(e){console.log("supervisorDashboardApi: Fetching supervisor dashboard data with filter:",e);const t=await gh.getDashboardData();return t.success?{success:!0,data:{...t.data,totalEnumerators:12,teamPerformance:[],enumeratorStatus:[],upcomingDeadlines:[]},message:"Supervisor Dashboard data fetched successfully"}:t}},Zc={async getDashboardData(){try{if(console.log("enumeratorDashboardApi: Fetching enumerator dashboard data"),jr)return{success:!0,data:{availableTests:[{surveyId:"demo-survey-1",title:"Digital Literacy Assessment",description:"Comprehensive assessment of digital skills",targetDate:new Date(Date.now()+6048e5),duration:35,totalQuestions:4,passingScore:70,attemptsLeft:3,maxAttempts:3,isEligible:!0}],completedTests:[],upcomingTests:[{surveyId:"demo-survey-1",title:"Digital Literacy Assessment",targetDate:new Date(Date.now()+6048e5),daysLeft:7,isOverdue:!1}],certificates:[],overallProgress:0,averageScore:0,totalAttempts:0,passedTests:0},message:"Demo dashboard data loaded"};const e=localStorage.getItem("userData"),t=e?JSON.parse(e):null;if(!t)return{success:!1,message:"User not authenticated"};const{data:r,error:n}=await V.from("surveys").select("*").eq("is_active",!0);if(n)throw console.error("enumeratorDashboardApi: Error fetching surveys:",n),n;const{data:s,error:i}=await V.from("test_sessions").select("survey_id, attempt_number").eq("user_id",t.id);i&&console.error("enumeratorDashboardApi: Error fetching user attempts:",i);const o=(s==null?void 0:s.reduce((v,j)=>(v[j.survey_id]=Math.max(v[j.survey_id]||0,j.attempt_number),v),{}))||{},l=(r==null?void 0:r.map(v=>{const j=o[v.id]||0,y=v.max_attempts-j,x=!v.assigned_zones||v.assigned_zones.length===0||t.zone&&v.assigned_zones.includes(t.zone),_=!v.assigned_regions||v.assigned_regions.length===0||t.region&&v.assigned_regions.includes(t.region),m=(!v.assigned_zones||v.assigned_zones.length===0)&&(!v.assigned_regions||v.assigned_regions.length===0),g=v.assigned_zones&&v.assigned_zones.length>0&&t.zone&&v.assigned_zones.includes(t.zone),N=v.assigned_regions&&v.assigned_regions.length>0&&t.region&&v.assigned_regions.includes(t.region),S=m||g||N;return{surveyId:v.id,title:v.title,description:v.description,targetDate:new Date(v.target_date),duration:v.duration,totalQuestions:v.total_questions,passingScore:v.passing_score,attemptsLeft:Math.max(0,y),maxAttempts:v.max_attempts,isEligible:y>0&&S}}))||[],{data:c,error:u}=await V.from("test_results").select(`
          *,
          survey:surveys(title)
        `).eq("user_id",t.id).order("completed_at",{ascending:!1});u&&console.error("enumeratorDashboardApi: Error fetching results:",u);const f=(c==null?void 0:c.map(v=>({resultId:v.id,surveyTitle:v.survey.title,score:v.score,isPassed:v.is_passed,completedAt:new Date(v.completed_at),attemptNumber:v.attempt_number,certificateId:v.certificate_id})))||[],{data:d,error:h}=await V.from("certificates").select(`
          *,
          survey:surveys(title)
        `).eq("user_id",t.id).order("issued_at",{ascending:!1});h&&console.error("enumeratorDashboardApi: Error fetching certificates:",h);const p=(d==null?void 0:d.map(v=>({id:v.id,userId:v.user_id,user:t,surveyId:v.survey_id,survey:{id:v.survey_id,title:v.survey.title},resultId:v.result_id,certificateNumber:v.certificate_number,issuedAt:new Date(v.issued_at),validUntil:v.valid_until?new Date(v.valid_until):void 0,downloadCount:v.download_count,status:v.certificate_status})))||[],b=f.filter(v=>v.isPassed).length,w=f.length>0?f.reduce((v,j)=>v+j.score,0)/f.length:0;return{success:!0,data:{availableTests:l,completedTests:f,upcomingTests:l.map(v=>({surveyId:v.surveyId,title:v.title,targetDate:v.targetDate,daysLeft:Math.ceil((v.targetDate.getTime()-new Date().getTime())/(1e3*60*60*24)),isOverdue:v.targetDate<new Date})),certificates:p,overallProgress:l.length>0?b/l.length*100:0,averageScore:w,totalAttempts:f.length,passedTests:b},message:"Enumerator Dashboard data fetched successfully"}}catch(e){return console.error("enumeratorDashboardApi: Error fetching dashboard data:",e),{success:!1,message:`Failed to fetch dashboard data: ${e instanceof Error?e.message:"Unknown error"}`}}}},Yp={async getResults(e){try{console.log("resultApi: Fetching results with filters");const{data:t,error:r}=await V.from("test_results").select(`
          *,
          user:users(*),
          survey:surveys(*)
        `).order("completed_at",{ascending:!1});if(r)throw console.error("resultApi: Error fetching results:",r),r;return{success:!0,data:t.map(s=>{var i,o,l,c,u,f,d;return{id:s.id,userId:s.user_id,user:{id:((i=s.user)==null?void 0:i.id)||"",name:((o=s.user)==null?void 0:o.name)||"Unknown User",email:((l=s.user)==null?void 0:l.email)||"",role:{name:"Enumerator"},jurisdiction:((c=s.user)==null?void 0:c.jurisdiction)||""},surveyId:s.survey_id,survey:{id:((u=s.survey)==null?void 0:u.id)||"",title:((f=s.survey)==null?void 0:f.title)||"Unknown Survey",maxAttempts:((d=s.survey)==null?void 0:d.max_attempts)||1},sessionId:s.session_id,score:s.score,totalQuestions:s.total_questions,correctAnswers:s.correct_answers,isPassed:s.is_passed,timeSpent:s.time_spent,attemptNumber:s.attempt_number,sectionScores:[],completedAt:new Date(s.completed_at),certificateId:s.certificate_id,grade:s.grade}}),message:"Results fetched successfully"}}catch(t){return console.error("resultApi: Error in getResults:",t),{success:!1,message:"Failed to fetch results",data:[]}}},async getAnalytics(e){try{if(console.log("resultApi: Fetching analytics data with filters:",e),jr)return{success:!0,data:{overview:{totalAttempts:0,passRate:0,averageScore:0,averageTime:0},performanceByRole:[],performanceBySurvey:[],performanceByJurisdiction:[],timeSeriesData:[],topPerformers:[],lowPerformers:[]},message:"Demo analytics data"};const{data:t,error:r}=await V.from("test_results").select(`
          *,
          user:users(name, email, role:roles(name), jurisdiction),
          survey:surveys(title)
        `).gte("completed_at",e.dateRange.start.toISOString()).lte("completed_at",e.dateRange.end.toISOString()).order("completed_at",{ascending:!1});if(r)throw console.error("resultApi: Error fetching analytics data:",r),r;const n=(t==null?void 0:t.length)||0,s=(t==null?void 0:t.filter(_=>_.is_passed).length)||0,i=n>0?s/n*100:0,o=n>0?t.reduce((_,m)=>_+m.score,0)/n:0,l=n>0?t.reduce((_,m)=>_+m.time_spent,0)/n:0,c=(t==null?void 0:t.reduce((_,m)=>{var N,S;const g=((S=(N=m.user)==null?void 0:N.role)==null?void 0:S.name)||"Unknown";return _[g]||(_[g]={total:0,passed:0,totalScore:0}),_[g].total++,m.is_passed&&_[g].passed++,_[g].totalScore+=m.score,_},{}))||{},u=Object.entries(c).map(([_,m])=>({name:_,value:m.passed,total:m.total,percentage:m.total>0?m.passed/m.total*100:0})),f=(t==null?void 0:t.reduce((_,m)=>{var N;const g=((N=m.survey)==null?void 0:N.title)||"Unknown Survey";return _[g]||(_[g]={total:0,passed:0,totalScore:0}),_[g].total++,m.is_passed&&_[g].passed++,_[g].totalScore+=m.score,_},{}))||{},d=Object.entries(f).map(([_,m])=>({name:_,value:m.passed,total:m.total,percentage:m.total>0?m.passed/m.total*100:0})),h=(t==null?void 0:t.reduce((_,m)=>{var N;const g=((N=m.user)==null?void 0:N.jurisdiction)||"Unknown";return _[g]||(_[g]={total:0,passed:0,totalScore:0}),_[g].total++,m.is_passed&&_[g].passed++,_[g].totalScore+=m.score,_},{}))||{},p=Object.entries(h).map(([_,m])=>({name:_,value:m.passed,total:m.total,percentage:m.total>0?m.passed/m.total*100:0})),b=(t==null?void 0:t.reduce((_,m)=>{const g=new Date(m.completed_at).toISOString().split("T")[0];return _[g]||(_[g]={attempts:0,passed:0,totalScore:0}),_[g].attempts++,m.is_passed&&_[g].passed++,_[g].totalScore+=m.score,_},{}))||{},w=Object.entries(b).map(([_,m])=>({date:_,attempts:m.attempts,passed:m.passed,averageScore:m.attempts>0?m.totalScore/m.attempts:0})).sort((_,m)=>_.date.localeCompare(m.date)),v=(t==null?void 0:t.reduce((_,m)=>{var S;const g=m.user_id,N=((S=m.user)==null?void 0:S.name)||"Unknown User";return _[g]||(_[g]={userId:g,userName:N,totalAttempts:0,passed:0,totalScore:0}),_[g].totalAttempts++,m.is_passed&&_[g].passed++,_[g].totalScore+=m.score,_},{}))||{},j=Object.values(v).map(_=>({userId:_.userId,userName:_.userName,averageScore:_.totalAttempts>0?_.totalScore/_.totalAttempts:0,totalAttempts:_.totalAttempts,passRate:_.totalAttempts>0?_.passed/_.totalAttempts*100:0})),y=j.filter(_=>_.totalAttempts>0).sort((_,m)=>m.averageScore-_.averageScore).slice(0,5),x=j.filter(_=>_.totalAttempts>0).sort((_,m)=>_.averageScore-m.averageScore).slice(0,5);return{success:!0,data:{overview:{totalAttempts:n,passRate:i,averageScore:o,averageTime:l},performanceByRole:u,performanceBySurvey:d,performanceByJurisdiction:p,timeSeriesData:w,topPerformers:y,lowPerformers:x},message:"Analytics data fetched successfully"}}catch(t){return console.error("resultApi: Error in getAnalytics:",t),{success:!1,message:`Failed to fetch analytics: ${t instanceof Error?t.message:"Unknown error"}`,data:{overview:{totalAttempts:0,passRate:0,averageScore:0,averageTime:0},performanceByRole:[],performanceBySurvey:[],performanceByJurisdiction:[],timeSeriesData:[],topPerformers:[],lowPerformers:[]}}}},async exportResults(e){console.log("resultApi: Exporting results");const t=`user_name,survey_title,score,status,completed_at
`;return{success:!0,data:new Blob([t],{type:"text/csv"}),message:"Results exported successfully"}}},ld={async getCertificates(){return console.log("certificateApi: Fetching certificates"),await Gp.getCertificates()},async downloadCertificate(e){return console.log("certificateApi: Downloading certificate:",e),await Gp.downloadCertificate(e)},async revokeCertificate(e){return console.log("certificateApi: Revoking certificate:",e),await Gp.revokeCertificate(e)}},ow={async getSettings(){return console.log("settingsApi: Fetching settings"),await iw.getSettings()},async updateSetting(e,t){console.log("settingsApi: Updating setting:",e);const r=localStorage.getItem("userData"),n=r?JSON.parse(r).id:void 0;return await iw.updateSetting(e,t,n)}},_3={async getEnumeratorStatus(){return console.log("enumeratorApi: Fetching enumerator status"),{success:!0,data:[],message:"Enumerator status fetched successfully"}}};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ae=(e,t)=>{const r=O.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},f)=>O.createElement("svg",{ref:f,...S3,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${N3(e)}`,l].join(" "),...u},[...t.map(([d,h])=>O.createElement(d,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=ae("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=ae("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fA=ae("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=ae("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=ae("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=ae("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=ae("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=ae("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=ae("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=ae("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=ae("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=ae("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=ae("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=ae("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Et=ae("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=ae("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gt=ae("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=ae("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=ae("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=ae("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=ae("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=ae("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=ae("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=ae("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=ae("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=ae("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=ae("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=ae("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=ae("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=ae("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=ae("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sa=ae("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=ae("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cd=ae("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=ae("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=ae("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=ae("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=ae("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Da=ae("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=ae("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=ae("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=ae("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pv=ae("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=ae("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=ae("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=ae("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mv=ae("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=ae("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ma=ae("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hA=ae("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ra=ae("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=ae("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=ae("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qr=ae("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xp=ae("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=ae("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=ae("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=ae("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function _e({isOpen:e,onClose:t,title:r,children:n,size:s="md"}){if(!e)return null;const i={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),a.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:""}),a.jsxs("div",{className:`inline-block w-full ${i[s]} p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(q3,{className:"w-5 h-5"})})]}),n]})]})})}function pA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=pA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function ge(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=pA(e))&&(n&&(n+=" "),n+=t);return n}const gv="-",W3=e=>{const t=K3(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(gv);return l[0]===""&&l.length!==1&&l.shift(),mA(l,t)||H3(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},mA=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?mA(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(gv);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},uw=/^\[(.+)\]$/,H3=e=>{if(uw.test(e)){const t=uw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},K3=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return G3(Object.entries(e.classGroups),r).forEach(([i,o])=>{Cg(o,n,i,t)}),n},Cg=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:dw(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(V3(s)){Cg(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{Cg(o,dw(t,i),r,n)})})},dw=(e,t)=>{let r=e;return t.split(gv).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},V3=e=>e.isThemeGetter,G3=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,Q3=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},gA="!",Y3=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,f=0,d;for(let v=0;v<l.length;v++){let j=l[v];if(u===0){if(j===s&&(n||l.slice(v,v+i)===t)){c.push(l.slice(f,v)),f=v+i;continue}if(j==="/"){d=v;continue}}j==="["?u++:j==="]"&&u--}const h=c.length===0?l:l.substring(f),p=h.startsWith(gA),b=p?h.substring(1):h,w=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:b,maybePostfixModifierPosition:w}};return r?l=>r({className:l,parseClassName:o}):o},X3=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Z3=e=>({cache:Q3(e.cacheSize),parseClassName:Y3(e),...W3(e)}),J3=/\s+/,e$=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(J3);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let b=!!p,w=n(b?h.substring(0,p):h);if(!w){if(!b){l=u+(l.length>0?" "+l:l);continue}if(w=n(h),!w){l=u+(l.length>0?" "+l:l);continue}b=!1}const v=X3(f).join(":"),j=d?v+gA:v,y=j+w;if(i.includes(y))continue;i.push(y);const x=s(w,b);for(let _=0;_<x.length;++_){const m=x[_];i.push(j+m)}l=u+(l.length>0?" "+l:l)}return l};function t$(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=xA(t))&&(n&&(n+=" "),n+=r);return n}const xA=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=xA(e[n]))&&(r&&(r+=" "),r+=t);return r};function r$(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((f,d)=>d(f),e());return r=Z3(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=e$(c,r);return s(c,f),f}return function(){return i(t$.apply(null,arguments))}}const Qe=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},vA=/^\[(?:([a-z-]+):)?(.+)\]$/i,n$=/^\d+\/\d+$/,s$=new Set(["px","full","screen"]),a$=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,i$=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,o$=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,l$=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,c$=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,$n=e=>Ri(e)||s$.has(e)||n$.test(e),us=e=>Eo(e,"length",x$),Ri=e=>!!e&&!Number.isNaN(Number(e)),Zp=e=>Eo(e,"number",Ri),nl=e=>!!e&&Number.isInteger(Number(e)),u$=e=>e.endsWith("%")&&Ri(e.slice(0,-1)),xe=e=>vA.test(e),ds=e=>a$.test(e),d$=new Set(["length","size","percentage"]),f$=e=>Eo(e,d$,yA),h$=e=>Eo(e,"position",yA),p$=new Set(["image","url"]),m$=e=>Eo(e,p$,y$),g$=e=>Eo(e,"",v$),sl=()=>!0,Eo=(e,t,r)=>{const n=vA.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},x$=e=>i$.test(e)&&!o$.test(e),yA=()=>!1,v$=e=>l$.test(e),y$=e=>c$.test(e),b$=()=>{const e=Qe("colors"),t=Qe("spacing"),r=Qe("blur"),n=Qe("brightness"),s=Qe("borderColor"),i=Qe("borderRadius"),o=Qe("borderSpacing"),l=Qe("borderWidth"),c=Qe("contrast"),u=Qe("grayscale"),f=Qe("hueRotate"),d=Qe("invert"),h=Qe("gap"),p=Qe("gradientColorStops"),b=Qe("gradientColorStopPositions"),w=Qe("inset"),v=Qe("margin"),j=Qe("opacity"),y=Qe("padding"),x=Qe("saturate"),_=Qe("scale"),m=Qe("sepia"),g=Qe("skew"),N=Qe("space"),S=Qe("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto",xe,t],k=()=>[xe,t],I=()=>["",$n,us],$=()=>["auto",Ri,xe],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],C=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",xe],q=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[Ri,xe];return{cacheSize:500,separator:":",theme:{colors:[sl],spacing:[$n,us],blur:["none","",ds,xe],brightness:Q(),borderColor:[e],borderRadius:["none","","full",ds,xe],borderSpacing:k(),borderWidth:I(),contrast:Q(),grayscale:L(),hueRotate:Q(),invert:L(),gap:k(),gradientColorStops:[e],gradientColorStopPositions:[u$,us],inset:E(),margin:E(),opacity:Q(),padding:k(),saturate:Q(),scale:Q(),sepia:L(),skew:Q(),space:k(),translate:k()},classGroups:{aspect:[{aspect:["auto","square","video",xe]}],container:["container"],columns:[{columns:[ds]}],"break-after":[{"break-after":q()}],"break-before":[{"break-before":q()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),xe]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",nl,xe]}],basis:[{basis:E()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xe]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",nl,xe]}],"grid-cols":[{"grid-cols":[sl]}],"col-start-end":[{col:["auto",{span:["full",nl,xe]},xe]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[sl]}],"row-start-end":[{row:["auto",{span:[nl,xe]},xe]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xe,t]}],"min-w":[{"min-w":[xe,t,"min","max","fit"]}],"max-w":[{"max-w":[xe,t,"none","full","min","max","fit","prose",{screen:[ds]},ds]}],h:[{h:[xe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",ds,us]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zp]}],"font-family":[{font:[sl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xe]}],"line-clamp":[{"line-clamp":["none",Ri,Zp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",$n,xe]}],"list-image":[{"list-image":["none",xe]}],"list-style-type":[{list:["none","disc","decimal",xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...C(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",$n,us]}],"underline-offset":[{"underline-offset":["auto",$n,xe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:k()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),h$]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",f$]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},m$]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...C(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:C()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...C()]}],"outline-offset":[{"outline-offset":[$n,xe]}],"outline-w":[{outline:[$n,us]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:I()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[$n,us]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",ds,g$]}],"shadow-color":[{shadow:[sl]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",ds,xe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[x]}],sepia:[{sepia:[m]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[m]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xe]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",xe]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[nl,xe]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[g]}],"skew-y":[{"skew-y":[g]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":k()}],"scroll-mx":[{"scroll-mx":k()}],"scroll-my":[{"scroll-my":k()}],"scroll-ms":[{"scroll-ms":k()}],"scroll-me":[{"scroll-me":k()}],"scroll-mt":[{"scroll-mt":k()}],"scroll-mr":[{"scroll-mr":k()}],"scroll-mb":[{"scroll-mb":k()}],"scroll-ml":[{"scroll-ml":k()}],"scroll-p":[{"scroll-p":k()}],"scroll-px":[{"scroll-px":k()}],"scroll-py":[{"scroll-py":k()}],"scroll-ps":[{"scroll-ps":k()}],"scroll-pe":[{"scroll-pe":k()}],"scroll-pt":[{"scroll-pt":k()}],"scroll-pr":[{"scroll-pr":k()}],"scroll-pb":[{"scroll-pb":k()}],"scroll-pl":[{"scroll-pl":k()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[$n,us,Zp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},w$=r$(b$);function xv(...e){return w$(ge(e))}function Te(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function Er(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Ls(e){const t=Math.floor(e/60),r=e%60;return t>0?`${t}h ${r}m`:`${r}m`}function j$(e){const t=Math.floor(e/60),r=e%60;return`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function As(e){return e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600"}function z({children:e,variant:t="primary",size:r="md",disabled:n=!1,loading:s=!1,onClick:i,type:o="button",className:l}){const c="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",u={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",warning:"bg-yellow-600 text-white hover:bg-yellow-700 focus:ring-yellow-500"},f={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},d=h=>{o!=="submit"&&h.preventDefault(),!n&&!s&&i&&i()};return a.jsxs("button",{type:o,onClick:d,disabled:n||s,className:xv(c,u[t],f[r],l),children:[s&&a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e]})}const te=O.forwardRef(({label:e,error:t,helperText:r,className:n,...s},i)=>a.jsxs("div",{className:"space-y-1",children:[e&&a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),a.jsx("input",{ref:i,className:xv("block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",t&&"border-red-300 focus:ring-red-500 focus:border-red-500",n),...s}),t&&a.jsx("p",{className:"text-sm text-red-600",children:t}),r&&!t&&a.jsx("p",{className:"text-sm text-gray-500",children:r})]}));te.displayName="Input";const bA=O.createContext(void 0);function Gs(){const e=O.useContext(bA);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function _$({children:e}){const[t,r]=O.useState(null),[n,s]=O.useState(!0),[i,o]=O.useState(!1),[l,c]=O.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[u,f]=O.useState(""),[d,h]=O.useState(!1);O.useEffect(()=>{(async()=>{try{if(V){const{data:{user:m},error:g}=await V.auth.getUser();if(m&&!g){const{data:{session:N},error:S}=await V.auth.getSession();if(N&&!S){const{data:A,error:P}=await V.from("users").select(`
                *,
                role:roles(*)
              `).eq("id",m.id).maybeSingle();if(A&&!P){const E={id:A.id,name:A.name,email:A.email,role:A.role,jurisdiction:A.jurisdiction,isActive:A.is_active,createdAt:new Date(A.created_at),updatedAt:new Date(A.updated_at)};r(E),localStorage.setItem("userData",JSON.stringify(E)),localStorage.setItem("authToken",N.access_token),s(!1);return}else{await v(),r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData"),s(!1);return}}else{await v(),r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData"),s(!1);return}}else{await v(),r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData"),s(!1);return}}const x=localStorage.getItem("authToken"),_=localStorage.getItem("userData");x&&_&&r(JSON.parse(_))}catch(x){console.error("Auth initialization error:",x);try{await v()}catch{}r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData")}s(!1)})()},[]),O.useEffect(()=>{if(V){const{data:{subscription:y}}=V.auth.onAuthStateChange(async(x,_)=>{(x==="SIGNED_OUT"||!_)&&(r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData"))});return()=>y.unsubscribe()}},[]);const p=async(y,x)=>{try{console.log("Attempting login with:",y);const _=await Qp.login(y,x);if(console.log("Login response:",_),_.success&&_.data){const{user:m,token:g}=_.data;console.log("Setting user:",m);const N=m.passwordChangedAt&&new Date(m.passwordChangedAt).getTime()===new Date(m.createdAt).getTime();return r(m),localStorage.setItem("authToken",g),localStorage.setItem("userData",JSON.stringify(m)),N&&o(!0),{success:!0,message:_.message}}return{success:!1,message:_.message}}catch(_){return console.error("Login error:",_),{success:!1,message:"Login failed. Please try again."}}},b=async()=>{if(f(""),!l.currentPassword){f("Current password is required");return}if(!l.newPassword){f("New password is required");return}if(l.newPassword.length<6){f("New password must be at least 6 characters long");return}if(l.newPassword!==l.confirmPassword){f("New passwords do not match");return}if(l.currentPassword===l.newPassword){f("New password must be different from current password");return}try{h(!0);const y=await Qp.changePassword(l.currentPassword,l.newPassword);y.success?(o(!1),c({currentPassword:"",newPassword:"",confirmPassword:""}),alert("Password changed successfully! Please remember your new password.")):f(y.message)}catch(y){console.error("Password change error:",y),f("Failed to change password. Please try again.")}finally{h(!1)}},w=()=>{window.confirm("Are you sure you want to skip changing your password? It is recommended to change your default password for security.")&&(o(!1),c({currentPassword:"",newPassword:"",confirmPassword:""}))},v=async()=>{try{await Qp.logout()}catch(y){const x=y instanceof Error?y.message:String(y);x.includes("Auth session missing!")||x.includes("session_not_found")||x.includes("Session from session_id claim in JWT does not exist")?console.info("Logout: Session was already invalid or missing"):console.error("Logout error:",y)}finally{r(null),localStorage.removeItem("authToken"),localStorage.removeItem("userData")}},j={user:t,isLoading:n,login:p,logout:v,isAuthenticated:!!t};return a.jsxs(bA.Provider,{value:j,children:[e,a.jsx(_e,{isOpen:i,onClose:()=>{},title:"Change Your Password",size:"md",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(lw,{className:"w-8 h-8 text-yellow-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"First Login - Change Password"}),a.jsx("p",{className:"text-gray-600",children:"For security reasons, please change your default password before continuing."})]}),u&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[a.jsx(dA,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),a.jsx("p",{className:"text-red-700 text-sm",children:u})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{label:"Current Password",type:"password",value:l.currentPassword,onChange:y=>c({...l,currentPassword:y.target.value}),placeholder:"Enter your current password"}),a.jsx(te,{label:"New Password",type:"password",value:l.newPassword,onChange:y=>c({...l,newPassword:y.target.value}),placeholder:"Enter your new password (min 6 characters)"}),a.jsx(te,{label:"Confirm New Password",type:"password",value:l.confirmPassword,onChange:y=>c({...l,confirmPassword:y.target.value}),placeholder:"Confirm your new password"}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Password Requirements"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" At least 6 characters long"}),a.jsx("li",{children:" Different from your current password"}),a.jsx("li",{children:" Use a combination of letters, numbers, and symbols for better security"})]})]})]}),a.jsxs("div",{className:"flex justify-between space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:w,disabled:d,children:"Skip for Now"}),a.jsxs(z,{onClick:b,loading:d,disabled:d,className:"flex items-center space-x-2",children:[a.jsx(lw,{className:"w-4 h-4"}),a.jsx("span",{children:"Change Password"})]})]})]})})]})}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ac.apply(this,arguments)}var Os;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Os||(Os={}));const fw="popstate";function S$(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return Tg("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ud(s)}return A$(t,r,null,e)}function at(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function wA(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function N$(){return Math.random().toString(36).substr(2,8)}function hw(e,t){return{usr:e.state,key:e.key,idx:t}}function Tg(e,t,r,n){return r===void 0&&(r=null),ac({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ko(t):t,{state:r,key:t&&t.key||n||N$()})}function Ud(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ko(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function A$(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Os.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(ac({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function d(){l=Os.Pop;let v=f(),j=v==null?null:v-u;u=v,c&&c({action:l,location:w.location,delta:j})}function h(v,j){l=Os.Push;let y=Tg(w.location,v,j);u=f()+1;let x=hw(y,u),_=w.createHref(y);try{o.pushState(x,"",_)}catch(m){if(m instanceof DOMException&&m.name==="DataCloneError")throw m;s.location.assign(_)}i&&c&&c({action:l,location:w.location,delta:1})}function p(v,j){l=Os.Replace;let y=Tg(w.location,v,j);u=f();let x=hw(y,u),_=w.createHref(y);o.replaceState(x,"",_),i&&c&&c({action:l,location:w.location,delta:0})}function b(v){let j=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof v=="string"?v:Ud(v);return y=y.replace(/ $/,"%20"),at(j,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,j)}let w={get action(){return l},get location(){return e(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(fw,d),c=v,()=>{s.removeEventListener(fw,d),c=null}},createHref(v){return t(s,v)},createURL:b,encodeLocation(v){let j=b(v);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:h,replace:p,go(v){return o.go(v)}};return w}var pw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pw||(pw={}));function O$(e,t,r){return r===void 0&&(r="/"),P$(e,t,r,!1)}function P$(e,t,r,n){let s=typeof t=="string"?ko(t):t,i=Yi(s.pathname||"/",r);if(i==null)return null;let o=jA(e);E$(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=F$(i);l=L$(o[c],u,n)}return l}function jA(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(at(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Us([n,c.relativePath]),f=r.concat(c);i.children&&i.children.length>0&&(at(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),jA(i.children,t,f,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:M$(u,i.index),routesMeta:f})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of _A(i.path))s(i,o,c)}),t}function _A(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=_A(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function E$(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:R$(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const k$=/^:[\w-]+$/,C$=3,T$=2,$$=1,D$=10,I$=-2,mw=e=>e==="*";function M$(e,t){let r=e.split("/"),n=r.length;return r.some(mw)&&(n+=I$),t&&(n+=T$),r.filter(s=>!mw(s)).reduce((s,i)=>s+(k$.test(i)?C$:i===""?$$:D$),n)}function R$(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function L$(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",d=Fd({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=Fd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Us([i,d.pathname]),pathnameBase:W$(Us([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Us([i,d.pathnameBase]))}return o}function Fd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=U$(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:h,isOptional:p}=f;if(h==="*"){let w=l[d]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const b=l[d];return p&&!b?u[h]=void 0:u[h]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function U$(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),wA(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function F$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return wA(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Yi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function B$(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?ko(e):e;return{pathname:r?r.startsWith("/")?r:z$(r,t):t,search:H$(n),hash:K$(s)}}function z$(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Jp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function q$(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function vv(e,t){let r=q$(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function yv(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=ko(e):(s=ac({},e),at(!s.pathname||!s.pathname.includes("?"),Jp("?","pathname","search",s)),at(!s.pathname||!s.pathname.includes("#"),Jp("#","pathname","hash",s)),at(!s.search||!s.search.includes("#"),Jp("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}l=d>=0?t[d]:"/"}let c=B$(s,l),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Us=e=>e.join("/").replace(/\/\/+/g,"/"),W$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),H$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,K$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function V$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const SA=["post","put","patch","delete"];new Set(SA);const G$=["get",...SA];new Set(G$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ic.apply(this,arguments)}const xh=O.createContext(null),NA=O.createContext(null),ns=O.createContext(null),vh=O.createContext(null),ss=O.createContext({outlet:null,matches:[],isDataRoute:!1}),AA=O.createContext(null);function Q$(e,t){let{relative:r}=t===void 0?{}:t;Co()||at(!1);let{basename:n,navigator:s}=O.useContext(ns),{hash:i,pathname:o,search:l}=yh(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Us([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Co(){return O.useContext(vh)!=null}function Va(){return Co()||at(!1),O.useContext(vh).location}function OA(e){O.useContext(ns).static||O.useLayoutEffect(e)}function To(){let{isDataRoute:e}=O.useContext(ss);return e?c5():Y$()}function Y$(){Co()||at(!1);let e=O.useContext(xh),{basename:t,future:r,navigator:n}=O.useContext(ns),{matches:s}=O.useContext(ss),{pathname:i}=Va(),o=JSON.stringify(vv(s,r.v7_relativeSplatPath)),l=O.useRef(!1);return OA(()=>{l.current=!0}),O.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=yv(u,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Us([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,o,i,e])}function X$(){let{matches:e}=O.useContext(ss),t=e[e.length-1];return t?t.params:{}}function yh(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=O.useContext(ns),{matches:s}=O.useContext(ss),{pathname:i}=Va(),o=JSON.stringify(vv(s,n.v7_relativeSplatPath));return O.useMemo(()=>yv(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function Z$(e,t){return J$(e,t)}function J$(e,t,r,n){Co()||at(!1);let{navigator:s}=O.useContext(ns),{matches:i}=O.useContext(ss),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Va(),f;if(t){var d;let v=typeof t=="string"?ko(t):t;c==="/"||(d=v.pathname)!=null&&d.startsWith(c)||at(!1),f=v}else f=u;let h=f.pathname||"/",p=h;if(c!=="/"){let v=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(v.length).join("/")}let b=O$(e,{pathname:p}),w=s5(b&&b.map(v=>Object.assign({},v,{params:Object.assign({},l,v.params),pathname:Us([c,s.encodeLocation?s.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:Us([c,s.encodeLocation?s.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),i,r,n);return t&&w?O.createElement(vh.Provider,{value:{location:ic({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Os.Pop}},w):w}function e5(){let e=l5(),t=V$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:s},r):null,null)}const t5=O.createElement(e5,null);class r5 extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?O.createElement(ss.Provider,{value:this.props.routeContext},O.createElement(AA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function n5(e){let{routeContext:t,match:r,children:n}=e,s=O.useContext(xh);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(ss.Provider,{value:t},n)}function s5(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||at(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:p}=r,b=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,d,h)=>{let p,b=!1,w=null,v=null;r&&(p=l&&d.route.id?l[d.route.id]:void 0,w=d.route.errorElement||t5,c&&(u<0&&h===0?(b=!0,v=null):u===h&&(b=!0,v=d.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,h+1)),y=()=>{let x;return p?x=w:b?x=v:d.route.Component?x=O.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=f,O.createElement(n5,{match:d,routeContext:{outlet:f,matches:j,isDataRoute:r!=null},children:x})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?O.createElement(r5,{location:r.location,revalidation:r.revalidation,component:w,error:p,children:y(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):y()},null)}var PA=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(PA||{}),Bd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Bd||{});function a5(e){let t=O.useContext(xh);return t||at(!1),t}function i5(e){let t=O.useContext(NA);return t||at(!1),t}function o5(e){let t=O.useContext(ss);return t||at(!1),t}function EA(e){let t=o5(),r=t.matches[t.matches.length-1];return r.route.id||at(!1),r.route.id}function l5(){var e;let t=O.useContext(AA),r=i5(Bd.UseRouteError),n=EA(Bd.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function c5(){let{router:e}=a5(PA.UseNavigateStable),t=EA(Bd.UseNavigateStable),r=O.useRef(!1);return OA(()=>{r.current=!0}),O.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ic({fromRouteId:t},i)))},[e,t])}function u5(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function oc(e){let{to:t,replace:r,state:n,relative:s}=e;Co()||at(!1);let{future:i,static:o}=O.useContext(ns),{matches:l}=O.useContext(ss),{pathname:c}=Va(),u=To(),f=yv(t,vv(l,i.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(f);return O.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function Be(e){at(!1)}function d5(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Os.Pop,navigator:i,static:o=!1,future:l}=e;Co()&&at(!1);let c=t.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:c,navigator:i,static:o,future:ic({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=ko(n));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:b="default"}=n,w=O.useMemo(()=>{let v=Yi(f,c);return v==null?null:{location:{pathname:v,search:d,hash:h,state:p,key:b},navigationType:s}},[c,f,d,h,p,b,s]);return w==null?null:O.createElement(ns.Provider,{value:u},O.createElement(vh.Provider,{children:r,value:w}))}function kA(e){let{children:t,location:r}=e;return Z$($g(t),r)}new Promise(()=>{});function $g(e,t){t===void 0&&(t=[]);let r=[];return O.Children.forEach(e,(n,s)=>{if(!O.isValidElement(n))return;let i=[...t,s];if(n.type===O.Fragment){r.push.apply(r,$g(n.props.children,i));return}n.type!==Be&&at(!1),!n.props.index||!n.props.children||at(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=$g(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zd(){return zd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zd.apply(this,arguments)}function CA(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function f5(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function h5(e,t){return e.button===0&&(!t||t==="_self")&&!f5(e)}const p5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],m5=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],g5="6";try{window.__reactRouterVersion=g5}catch{}const x5=O.createContext({isTransitioning:!1}),v5="startTransition",gw=GE[v5];function y5(e){let{basename:t,children:r,future:n,window:s}=e,i=O.useRef();i.current==null&&(i.current=S$({window:s,v5Compat:!0}));let o=i.current,[l,c]=O.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=O.useCallback(d=>{u&&gw?gw(()=>c(d)):c(d)},[c,u]);return O.useLayoutEffect(()=>o.listen(f),[o,f]),O.useEffect(()=>u5(n),[n]),O.createElement(d5,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const b5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",w5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,j5=O.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,h=CA(t,p5),{basename:p}=O.useContext(ns),b,w=!1;if(typeof u=="string"&&w5.test(u)&&(b=u,b5))try{let x=new URL(window.location.href),_=u.startsWith("//")?new URL(x.protocol+u):new URL(u),m=Yi(_.pathname,p);_.origin===x.origin&&m!=null?u=m+_.search+_.hash:w=!0}catch{}let v=Q$(u,{relative:s}),j=N5(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:d});function y(x){n&&n(x),x.defaultPrevented||j(x)}return O.createElement("a",zd({},h,{href:b||v,onClick:w||i?n:y,ref:r,target:c}))}),_5=O.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:f}=t,d=CA(t,m5),h=yh(c,{relative:d.relative}),p=Va(),b=O.useContext(NA),{navigator:w,basename:v}=O.useContext(ns),j=b!=null&&A5(h)&&u===!0,y=w.encodeLocation?w.encodeLocation(h).pathname:h.pathname,x=p.pathname,_=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;s||(x=x.toLowerCase(),_=_?_.toLowerCase():null,y=y.toLowerCase()),_&&v&&(_=Yi(_,v)||_);const m=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let g=x===y||!o&&x.startsWith(y)&&x.charAt(m)==="/",N=_!=null&&(_===y||!o&&_.startsWith(y)&&_.charAt(y.length)==="/"),S={isActive:g,isPending:N,isTransitioning:j},A=g?n:void 0,P;typeof i=="function"?P=i(S):P=[i,g?"active":null,N?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let E=typeof l=="function"?l(S):l;return O.createElement(j5,zd({},d,{"aria-current":A,className:P,ref:r,style:E,to:c,viewTransition:u}),typeof f=="function"?f(S):f)});var Dg;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Dg||(Dg={}));var xw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xw||(xw={}));function S5(e){let t=O.useContext(xh);return t||at(!1),t}function N5(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=To(),u=Va(),f=yh(e,{relative:o});return O.useCallback(d=>{if(h5(d,r)){d.preventDefault();let h=n!==void 0?n:Ud(u)===Ud(f);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,f,n,s,r,e,i,o,l])}function A5(e,t){t===void 0&&(t={});let r=O.useContext(x5);r==null&&at(!1);let{basename:n}=S5(Dg.useViewTransitionState),s=yh(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Yi(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Yi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Fd(s.pathname,o)!=null||Fd(s.pathname,i)!=null}const O5=O.createContext(void 0);function P5({children:e}){const[t,r]=O.useState(navigator.onLine),[n,s]=O.useState(null),[i,o]=O.useState(!1);O.useEffect(()=>{const u=()=>{r(!0),l()},f=()=>{r(!1)},d=()=>{try{const p=localStorage.getItem("pending_saves");o(!!p&&JSON.parse(p).length>0);const b=localStorage.getItem("last_sync");b&&s(new Date(parseInt(b)))}catch(p){console.error("Error checking pending changes:",p)}};window.addEventListener("online",u),window.addEventListener("offline",f),d();const h=setInterval(d,1e4);return()=>{window.removeEventListener("online",u),window.removeEventListener("offline",f),clearInterval(h)}},[]);const l=async()=>{if(t)try{await tn.syncOfflineData(),o(!1),s(new Date)}catch(u){console.error("Failed to sync data:",u)}},c={isOnline:t,lastSynced:n,hasPendingChanges:i,syncData:l};return a.jsx(O5.Provider,{value:c,children:e})}const E5={};var Ig=null;function k5(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch{}try{return E5.randomBytes(e)}catch{}if(!Ig)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return Ig(e)}function TA(e){Ig=e}function bh(e,t){if(e=e||_v,typeof e!="number")throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var r=[];return r.push("$2b$"),e<10&&r.push("0"),r.push(e.toString()),r.push("$"),r.push(qd(k5(lc),lc)),r.join("")}function bv(e,t,r){if(typeof t=="function"&&(r=t,t=void 0),typeof e=="function"&&(r=e,e=void 0),typeof e>"u")e=_v;else if(typeof e!="number")throw Error("illegal arguments: "+typeof e);function n(s){un(function(){try{s(null,bh(e))}catch(i){s(i)}})}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);n(r)}else return new Promise(function(s,i){n(function(o,l){if(o){i(o);return}s(l)})})}function wv(e,t){if(typeof t>"u"&&(t=_v),typeof t=="number"&&(t=bh(t)),typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return Mg(e,t)}function jv(e,t,r,n){function s(i){typeof e=="string"&&typeof t=="number"?bv(t,function(o,l){Mg(e,l,i,n)}):typeof e=="string"&&typeof t=="string"?Mg(e,t,i,n):un(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);s(r)}else return new Promise(function(i,o){s(function(l,c){if(l){o(l);return}i(c)})})}function $A(e,t){for(var r=e.length^t.length,n=0;n<e.length;++n)r|=e.charCodeAt(n)^t.charCodeAt(n);return r===0}function DA(e,t){if(typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return t.length!==60?!1:$A(wv(e,t.substring(0,t.length-31)),t)}function IA(e,t,r,n){function s(i){if(typeof e!="string"||typeof t!="string"){un(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)));return}if(t.length!==60){un(i.bind(this,null,!1));return}jv(e,t.substring(0,29),function(o,l){o?i(o):i(null,$A(l,t))},n)}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);s(r)}else return new Promise(function(i,o){s(function(l,c){if(l){o(l);return}i(c)})})}function MA(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)}function RA(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);if(e.length!==60)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)}function LA(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return UA(e)>72}var un=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function UA(e){for(var t=0,r=0,n=0;n<e.length;++n)r=e.charCodeAt(n),r<128?t+=1:r<2048?t+=2:(r&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,t+=4):t+=3;return t}function C5(e){for(var t=0,r,n,s=new Array(UA(e)),i=0,o=e.length;i<o;++i)r=e.charCodeAt(i),r<128?s[t++]=r:r<2048?(s[t++]=r>>6|192,s[t++]=r&63|128):(r&64512)===55296&&((n=e.charCodeAt(i+1))&64512)===56320?(r=65536+((r&1023)<<10)+(n&1023),++i,s[t++]=r>>18|240,s[t++]=r>>12&63|128,s[t++]=r>>6&63|128,s[t++]=r&63|128):(s[t++]=r>>12|224,s[t++]=r>>6&63|128,s[t++]=r&63|128);return s}var ai="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),fs=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function qd(e,t){var r=0,n=[],s,i;if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;r<t;){if(s=e[r++]&255,n.push(ai[s>>2&63]),s=(s&3)<<4,r>=t){n.push(ai[s&63]);break}if(i=e[r++]&255,s|=i>>4&15,n.push(ai[s&63]),s=(i&15)<<2,r>=t){n.push(ai[s&63]);break}i=e[r++]&255,s|=i>>6&3,n.push(ai[s&63]),n.push(ai[i&63])}return n.join("")}function FA(e,t){var r=0,n=e.length,s=0,i=[],o,l,c,u,f,d;if(t<=0)throw Error("Illegal len: "+t);for(;r<n-1&&s<t&&(d=e.charCodeAt(r++),o=d<fs.length?fs[d]:-1,d=e.charCodeAt(r++),l=d<fs.length?fs[d]:-1,!(o==-1||l==-1||(f=o<<2>>>0,f|=(l&48)>>4,i.push(String.fromCharCode(f)),++s>=t||r>=n)||(d=e.charCodeAt(r++),c=d<fs.length?fs[d]:-1,c==-1)||(f=(l&15)<<4>>>0,f|=(c&60)>>2,i.push(String.fromCharCode(f)),++s>=t||r>=n)));)d=e.charCodeAt(r++),u=d<fs.length?fs[d]:-1,f=(c&3)<<6>>>0,f|=u,i.push(String.fromCharCode(f)),++s;var h=[];for(r=0;r<s;r++)h.push(i[r].charCodeAt(0));return h}var lc=16,_v=10,T5=16,$5=100,vw=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],yw=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],BA=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function cc(e,t,r,n){var s,i=e[t],o=e[t+1];return i^=r[0],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[1],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[2],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[3],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[4],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[5],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[6],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[7],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[8],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[9],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[10],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[11],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[12],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[13],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[14],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[15],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[16],e[t]=o^r[T5+1],e[t+1]=i,e}function fi(e,t){for(var r=0,n=0;r<4;++r)n=n<<8|e[t]&255,t=(t+1)%e.length;return{key:n,offp:t}}function bw(e,t,r){for(var n=0,s=[0,0],i=t.length,o=r.length,l,c=0;c<i;c++)l=fi(e,n),n=l.offp,t[c]=t[c]^l.key;for(c=0;c<i;c+=2)s=cc(s,0,t,r),t[c]=s[0],t[c+1]=s[1];for(c=0;c<o;c+=2)s=cc(s,0,t,r),r[c]=s[0],r[c+1]=s[1]}function D5(e,t,r,n){for(var s=0,i=[0,0],o=r.length,l=n.length,c,u=0;u<o;u++)c=fi(t,s),s=c.offp,r[u]=r[u]^c.key;for(s=0,u=0;u<o;u+=2)c=fi(e,s),s=c.offp,i[0]^=c.key,c=fi(e,s),s=c.offp,i[1]^=c.key,i=cc(i,0,r,n),r[u]=i[0],r[u+1]=i[1];for(u=0;u<l;u+=2)c=fi(e,s),s=c.offp,i[0]^=c.key,c=fi(e,s),s=c.offp,i[1]^=c.key,i=cc(i,0,r,n),n[u]=i[0],n[u+1]=i[1]}function ww(e,t,r,n,s){var i=BA.slice(),o=i.length,l;if(r<4||r>31)if(l=Error("Illegal number of rounds (4-31): "+r),n){un(n.bind(this,l));return}else throw l;if(t.length!==lc)if(l=Error("Illegal salt length: "+t.length+" != "+lc),n){un(n.bind(this,l));return}else throw l;r=1<<r>>>0;var c,u,f=0,d;typeof Int32Array=="function"?(c=new Int32Array(vw),u=new Int32Array(yw)):(c=vw.slice(),u=yw.slice()),D5(t,e,c,u);function h(){if(s&&s(f/r),f<r)for(var b=Date.now();f<r&&(f=f+1,bw(e,c,u),bw(t,c,u),!(Date.now()-b>$5)););else{for(f=0;f<64;f++)for(d=0;d<o>>1;d++)cc(i,d<<1,c,u);var w=[];for(f=0;f<o;f++)w.push((i[f]>>24&255)>>>0),w.push((i[f]>>16&255)>>>0),w.push((i[f]>>8&255)>>>0),w.push((i[f]&255)>>>0);if(n){n(null,w);return}else return w}n&&un(h)}if(typeof n<"u")h();else for(var p;;)if(typeof(p=h())<"u")return p||[]}function Mg(e,t,r,n){var s;if(typeof e!="string"||typeof t!="string")if(s=Error("Invalid string / salt: Not a string"),r){un(r.bind(this,s));return}else throw s;var i,o;if(t.charAt(0)!=="$"||t.charAt(1)!=="2")if(s=Error("Invalid salt version: "+t.substring(0,2)),r){un(r.bind(this,s));return}else throw s;if(t.charAt(2)==="$")i="\0",o=3;else{if(i=t.charAt(2),i!=="a"&&i!=="b"&&i!=="y"||t.charAt(3)!=="$")if(s=Error("Invalid salt revision: "+t.substring(2,4)),r){un(r.bind(this,s));return}else throw s;o=4}if(t.charAt(o+2)>"$")if(s=Error("Missing salt rounds"),r){un(r.bind(this,s));return}else throw s;var l=parseInt(t.substring(o,o+1),10)*10,c=parseInt(t.substring(o+1,o+2),10),u=l+c,f=t.substring(o+3,o+25);e+=i>="a"?"\0":"";var d=C5(e),h=FA(f,lc);function p(b){var w=[];return w.push("$2"),i>="a"&&w.push(i),w.push("$"),u<10&&w.push("0"),w.push(u.toString()),w.push("$"),w.push(qd(h,h.length)),w.push(qd(b,BA.length*4-1)),w.join("")}if(typeof r>"u")return p(ww(d,h,u));ww(d,h,u,function(b,w){b?r(b,null):r(null,p(w))},n)}function zA(e,t){return qd(e,t)}function qA(e,t){return FA(e,t)}const WA={setRandomFallback:TA,genSaltSync:bh,genSalt:bv,hashSync:wv,hash:jv,compareSync:DA,compare:IA,getRounds:MA,getSalt:RA,truncates:LA,encodeBase64:zA,decodeBase64:qA},em=Object.freeze(Object.defineProperty({__proto__:null,compare:IA,compareSync:DA,decodeBase64:qA,default:WA,encodeBase64:zA,genSalt:bv,genSaltSync:bh,getRounds:MA,getSalt:RA,hash:jv,hashSync:wv,setRandomFallback:TA,truncates:LA},Symbol.toStringTag,{value:"Module"}));async function I5(){try{const e=["roles","users","surveys","survey_sections","questions","question_options","system_settings"];for(const t of e)await V.rpc("exec_sql",{sql:`ALTER TABLE ${t} DISABLE ROW LEVEL SECURITY;`}).catch(()=>{})}catch{console.log("Could not disable RLS via RPC, using service role client")}}async function tm(){try{const e=["roles","users","surveys","survey_sections","questions","question_options","system_settings"];for(const t of e)await V.rpc("exec_sql",{sql:`ALTER TABLE ${t} ENABLE ROW LEVEL SECURITY;`}).catch(()=>{})}catch{console.log("Could not re-enable RLS via RPC")}}class M5{static async initializeDatabase(){try{if(console.log("Starting database initialization..."),jr)return{success:!1,message:`Cannot initialize database in demo mode. Please configure Supabase first:

1. Create a Supabase project at https://supabase.com
2. Get your project URL and API keys from Settings  API
3. Update the .env file with your actual credentials
4. Restart the development server
5. Try initialization again`};await I5(),console.log("Testing admin client...");try{const{data:s,error:i}=await ce.auth.admin.listUsers({page:1,perPage:1});if(i)return console.error("Admin client test failed:",i),{success:!1,message:`Admin client authentication failed: ${i.message}. Please check your VITE_SUPABASE_SERVICE_ROLE_KEY in .env file.`};console.log("Admin client test successful")}catch(s){return console.error("Admin client test error:",s),await tm(),{success:!1,message:"Failed to authenticate with Supabase admin client. Please verify your service role key."}}console.log("Checking database connection..."),console.log("Cleaning up existing data..."),await this.cleanupExistingData(V,ce);const{data:t,error:r}=await V.from("roles").select("id").limit(1);if(r)return console.error("Database connection failed:",r),{success:!1,message:`Failed to connect to database: ${r.message}. Please check your Supabase configuration.`,error:r};console.log("Database is empty, starting initialization..."),console.log("Running comprehensive schema migration...");try{const s=await fetch("/supabase/migrations/create_comprehensive_schema.sql");if(s.ok){const i=await s.text(),{error:o}=await ce.rpc("exec_sql",{sql:i});o?console.error("Migration execution failed:",o):console.log("Schema migration executed successfully")}}catch{console.log("Could not run migration file, proceeding with manual creation...")}await this.createRoles(ce),console.log("Roles created successfully"),await this.createUsers(ce),console.log("Users created successfully");const n=await this.verifyUserCreation(ce);return await this.createSurveys(ce,n),console.log("Surveys created successfully"),await this.createSurveySections(ce),console.log("Survey sections created successfully"),await this.createQuestions(ce),console.log("Questions created successfully"),await this.createSystemSettings(ce),console.log("System settings created successfully"),await tm(),console.log("Database initialization completed successfully"),{success:!0,message:"Database initialized successfully with demo users and sample data!"}}catch(t){return console.error("Database initialization failed:",t),await tm(),{success:!1,message:`Failed to initialize database: ${t instanceof Error?t.message:"Unknown error"}`,error:t}}}static async cleanupExistingData(t,r){try{console.log("Cleaning up existing data..."),console.log("Dropping existing policies...");try{const{error:s}=await r.rpc("exec_sql",{sql:`
            DO $$ 
            DECLARE
                r RECORD;
            BEGIN
                FOR r IN (SELECT schemaname, tablename, policyname FROM pg_policies WHERE schemaname = 'public') LOOP
                    EXECUTE format('DROP POLICY IF EXISTS %I ON %I.%I', r.policyname, r.schemaname, r.tablename);
                END LOOP;
            END $$;
          `});console.log(s?"Could not drop policies via RPC, continuing with data cleanup...":"Existing policies dropped successfully")}catch{console.log("Policy cleanup failed, continuing with data cleanup...")}console.log("Deleting test_answers..."),await r.from("test_answers").delete().gte("created_at","1900-01-01"),console.log("Deleting section_scores..."),await r.from("section_scores").delete().gte("created_at","1900-01-01"),console.log("Deleting certificates..."),await r.from("certificates").delete().gte("created_at","1900-01-01"),console.log("Deleting test_results..."),await r.from("test_results").delete().gte("created_at","1900-01-01"),console.log("Deleting test_sessions..."),await r.from("test_sessions").delete().gte("created_at","1900-01-01"),console.log("Deleting activity_logs..."),await r.from("activity_logs").delete().gte("created_at","1900-01-01"),console.log("Deleting question_options..."),await r.from("question_options").delete().gte("created_at","1900-01-01"),console.log("Deleting questions..."),await r.from("questions").delete().gte("created_at","1900-01-01"),console.log("Deleting survey_sections..."),await r.from("survey_sections").delete().gte("created_at","1900-01-01"),console.log("Deleting surveys..."),await r.from("surveys").delete().gte("created_at","1900-01-01"),console.log("Deleting system_settings..."),await r.from("system_settings").delete().gte("updated_at","1900-01-01"),console.log("Deleting users..."),await r.from("users").delete().gte("created_at","1900-01-01"),console.log("Deleting roles..."),await r.from("roles").delete().gte("created_at","1900-01-01"),console.log("Cleaning up auth users...");const{data:n}=await r.auth.admin.listUsers();if(n&&n.users)for(const s of n.users)s.email&&!s.email.includes("supabase")&&(console.log(`Deleting auth user: ${s.email}`),await r.auth.admin.deleteUser(s.id));console.log("Cleanup completed")}catch(n){console.error("Cleanup error:",n)}}static async verifyUserCreation(t){console.log("Verifying user creation...");const r=["admin@esigma.com","enumerator@esigma.com"];let n=null;for(const s of r)try{const{data:i,error:o}=await V.auth.signInWithPassword({email:s,password:"password123"});if(o)throw console.error(`Verification failed for ${s}:`,o),new Error(`User ${s} cannot authenticate: ${o.message}`);console.log(` User ${s} can authenticate successfully`),s==="admin@esigma.com"&&(n=i.user.id),await V.auth.signOut()}catch(i){throw console.error(`Verification error for ${s}:`,i),i}return console.log("All users verified successfully"),n}static async createRoles(t){console.log("Creating roles...");const r=[{id:"550e8400-e29b-41d4-a716-446655440001",name:"Administrator",description:"System Administrator with full access to all features",level:1,is_active:!0,menu_access:["/dashboard","/users","/roles","/role-menu-management","/surveys","/questions","/results","/enumerator-status","/certificates","/settings"]},{id:"550e8400-e29b-41d4-a716-446655440002",name:"CPG User",description:"Central Planning Group User with national oversight",level:2,is_active:!0,menu_access:["/cpg-dashboard","/results","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440003",name:"ZO User",description:"Zonal Office User with zone-level management access",level:3,is_active:!0,menu_access:["/zo-dashboard","/results","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440004",name:"RO User",description:"Regional Office User with regional management access",level:4,is_active:!0,menu_access:["/ro-dashboard","/results","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440005",name:"Supervisor",description:"Field Supervisor with team management capabilities",level:5,is_active:!0,menu_access:["/supervisor-dashboard","/team-results","/my-enumerators","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440006",name:"Enumerator",description:"Field Enumerator with test-taking access (Lowest Level)",level:6,is_active:!0,menu_access:["/enumerator-dashboard","/available-tests","/my-results","/my-certificates","/test-schedule"]}],{error:n}=await t.from("roles").insert(r);if(n)throw n;console.log("Roles created successfully")}static async createUsers(t){console.log("Creating users..."),console.log("Creating users in Supabase Auth and custom user profiles...");const r=[{email:"admin@esigma.com",password:"password123",name:"System Administrator",role_id:"550e8400-e29b-41d4-a716-446655440001",is_active:!0,jurisdiction:"National",zone:null,region:null,district:null,employee_id:"ADM001",phone_number:"+91-9876543210"},{email:"zo@esigma.com",password:"password123",name:"Zonal Officer",role_id:"550e8400-e29b-41d4-a716-446655440002",is_active:!0,jurisdiction:"North Zone",zone:"North Zone",region:null,district:null,employee_id:"ZO001",phone_number:"+91-9876543211"},{email:"ro@esigma.com",password:"password123",name:"Regional Officer",role_id:"550e8400-e29b-41d4-a716-446655440003",is_active:!0,jurisdiction:"Delhi Region",zone:"North Zone",region:"Delhi Region",district:null,employee_id:"RO001",phone_number:"+91-9876543212",parent_id:null},{email:"supervisor@esigma.com",password:"password123",name:"Field Supervisor",role_id:"550e8400-e29b-41d4-a716-446655440004",is_active:!0,jurisdiction:"Central Delhi District",zone:"North Zone",region:"Delhi Region",district:"Central Delhi",employee_id:"SUP001",phone_number:"+91-9876543213",parent_id:null},{email:"enumerator@esigma.com",password:"password123",name:"Field Enumerator",role_id:"550e8400-e29b-41d4-a716-446655440006",is_active:!0,jurisdiction:"Block A, Central Delhi",zone:"North Zone",region:"Delhi Region",district:"Central Delhi",employee_id:"ENU001",phone_number:"+91-9876543214",parent_id:null}];console.log(`Creating ${r.length} users...`);for(const n of r)try{console.log(`Processing user: ${n.email}`),console.log(`Creating new auth user: ${n.email}`);const{data:s,error:i}=await t.auth.admin.createUser({email:n.email,password:n.password,email_confirm:!1,user_metadata:{name:n.name}});if(i)throw console.error(`Failed to create auth user ${n.email}:`,i),new Error(`Auth creation failed for ${n.email}: ${i.message}`);if(s.user){const{error:c}=await t.auth.admin.updateUserById(s.user.id,{email_confirm:!0});c?console.error(`Failed to confirm email for ${n.email}:`,c):console.log(`Email confirmed for ${n.email}`)}console.log(`Created auth user for ${n.email} with ID: ${s.user.id}`);const o=WA.hashSync(n.password,10);console.log(`Creating profile for ${n.email}`);const{error:l}=await t.from("users").insert({id:s.user.id,email:n.email,password_hash:o,name:n.name,role_id:n.role_id,is_active:n.is_active,jurisdiction:n.jurisdiction,zone:n.zone,region:n.region,district:n.district,employee_id:n.employee_id,phone_number:n.phone_number,parent_id:n.parent_id});if(l)throw console.error(`Failed to create user profile ${n.email}:`,l),new Error(`Profile creation failed for ${n.email}: ${l.message}`);console.log(`Successfully created user: ${n.email}`)}catch(s){throw console.error(`Error creating user ${n.email}:`,s),s}console.log("Users created successfully")}static async createSurveys(t,r){console.log("Creating surveys...");const n=[{id:"550e8400-e29b-41d4-a716-446655440020",title:"Digital Literacy Assessment",description:"Comprehensive assessment of digital skills and computer literacy for field staff",target_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],duration:35,total_questions:30,passing_score:70,max_attempts:3,is_active:!0,assigned_zones:["North Zone","South Zone"],assigned_regions:["Delhi Region","Mumbai Region"],created_by:r},{id:"550e8400-e29b-41d4-a716-446655440021",title:"Data Collection Procedures",description:"Assessment of field data collection methods and procedures",target_date:new Date(Date.now()+45*24*60*60*1e3).toISOString().split("T")[0],duration:40,total_questions:25,passing_score:75,max_attempts:2,is_active:!0,assigned_zones:["North Zone"],assigned_regions:["Delhi Region"],created_by:r},{id:"550e8400-e29b-41d4-a716-446655440022",title:"Survey Methodology Training",description:"Training assessment on survey methodology and best practices",target_date:new Date(Date.now()+60*24*60*60*1e3).toISOString().split("T")[0],duration:30,total_questions:20,passing_score:80,max_attempts:3,is_active:!0,assigned_zones:["North Zone","South Zone","East Zone"],assigned_regions:["Delhi Region","Mumbai Region","Kolkata Region"],created_by:r}],{error:s}=await t.from("surveys").insert(n);if(s)throw s;console.log("Surveys created successfully")}static async createSurveySections(t){console.log("Creating survey sections...");const r=[{id:"550e8400-e29b-41d4-a716-446655440030",survey_id:"550e8400-e29b-41d4-a716-446655440020",title:"Basic Computer Skills",description:"Fundamental computer operations and software usage",questions_count:10,section_order:1},{id:"550e8400-e29b-41d4-a716-446655440031",survey_id:"550e8400-e29b-41d4-a716-446655440020",title:"Internet and Digital Communication",description:"Web browsing, email, and online communication tools",questions_count:10,section_order:2},{id:"550e8400-e29b-41d4-a716-446655440032",survey_id:"550e8400-e29b-41d4-a716-446655440020",title:"Digital Security and Privacy",description:"Online safety, password management, and privacy protection",questions_count:10,section_order:3},{id:"550e8400-e29b-41d4-a716-446655440033",survey_id:"550e8400-e29b-41d4-a716-446655440021",title:"Field Data Collection",description:"Methods and procedures for collecting data in the field",questions_count:15,section_order:1},{id:"550e8400-e29b-41d4-a716-446655440034",survey_id:"550e8400-e29b-41d4-a716-446655440021",title:"Data Quality Assurance",description:"Ensuring accuracy and completeness of collected data",questions_count:10,section_order:2}],{error:n}=await t.from("survey_sections").insert(r);if(n)throw n;console.log("Survey sections created successfully")}static async createQuestions(t){console.log("Creating sample questions...");const r=[{id:"550e8400-e29b-41d4-a716-446655440040",section_id:"550e8400-e29b-41d4-a716-446655440030",text:"What is the primary function of an operating system?",question_type:"single_choice",complexity:"easy",points:1,explanation:"An operating system manages all hardware and software resources of a computer.",question_order:1},{id:"550e8400-e29b-41d4-a716-446655440041",section_id:"550e8400-e29b-41d4-a716-446655440030",text:"Which of the following are input devices? (Select all that apply)",question_type:"multiple_choice",complexity:"medium",points:2,explanation:"Input devices allow users to provide data to the computer. Monitor is an output device.",question_order:2},{id:"550e8400-e29b-41d4-a716-446655440042",section_id:"550e8400-e29b-41d4-a716-446655440031",text:"What does URL stand for?",question_type:"single_choice",complexity:"easy",points:1,explanation:"URL stands for Uniform Resource Locator, which is the address of a web page.",question_order:1},{id:"550e8400-e29b-41d4-a716-446655440043",section_id:"550e8400-e29b-41d4-a716-446655440032",text:"Which of the following are good password practices?",question_type:"multiple_choice",complexity:"medium",points:2,explanation:"Strong passwords should be long, complex, unique, and not shared.",question_order:1}],{error:n}=await t.from("questions").insert(r);if(n)throw n;const s=[{id:"550e8400-e29b-41d4-a716-446655440050",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To manage hardware and software resources",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440051",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To create documents",is_correct:!1,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440052",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To browse the internet",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440053",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To play games",is_correct:!1,option_order:4},{id:"550e8400-e29b-41d4-a716-446655440054",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Keyboard",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440055",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Mouse",is_correct:!0,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440056",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Monitor",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440057",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Microphone",is_correct:!0,option_order:4},{id:"550e8400-e29b-41d4-a716-446655440058",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Uniform Resource Locator",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440059",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Universal Resource Link",is_correct:!1,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440060",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Unified Resource Location",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440061",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Universal Reference Locator",is_correct:!1,option_order:4},{id:"550e8400-e29b-41d4-a716-446655440062",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Use at least 8 characters",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440063",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Include uppercase and lowercase letters",is_correct:!0,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440064",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Share passwords with colleagues",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440065",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Use unique passwords for each account",is_correct:!0,option_order:4}],{error:i}=await t.from("question_options").insert(s);if(i)throw i;console.log("Questions and options created successfully")}static async createSystemSettings(t){console.log("Creating system settings...");const r=[{category:"security",setting_key:"max_login_attempts",setting_value:"5",description:"Maximum failed login attempts before account lockout",setting_type:"number",is_editable:!0},{category:"security",setting_key:"lockout_duration",setting_value:"30",description:"Account lockout duration in minutes",setting_type:"number",is_editable:!0},{category:"security",setting_key:"session_timeout",setting_value:"120",description:"User session timeout in minutes",setting_type:"number",is_editable:!0},{category:"security",setting_key:"password_min_length",setting_value:"8",description:"Minimum password length requirement",setting_type:"number",is_editable:!0},{category:"security",setting_key:"password_complexity",setting_value:"true",description:"Require complex passwords (uppercase, lowercase, numbers)",setting_type:"boolean",is_editable:!0},{category:"security",setting_key:"force_password_change",setting_value:"90",description:"Force password change every X days",setting_type:"number",is_editable:!0},{category:"test",setting_key:"auto_save_interval",setting_value:"30",description:"Auto-save test progress every X seconds",setting_type:"number",is_editable:!0},{category:"test",setting_key:"enable_auto_save",setting_value:"true",description:"Enable automatic saving of test progress",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"auto_submit_on_timeout",setting_value:"true",description:"Automatically submit test when time expires",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"show_time_warning",setting_value:"true",description:"Show warning when 5 minutes remaining",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"allow_question_navigation",setting_value:"true",description:"Allow users to navigate between questions",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"enable_question_flagging",setting_value:"true",description:"Allow users to flag questions for review",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"network_pause_enabled",setting_value:"true",description:"Auto-pause test when network is unavailable",setting_type:"boolean",is_editable:!0},{category:"general",setting_key:"site_name",setting_value:"eSigma Survey Platform",description:"Application name displayed to users",setting_type:"string",is_editable:!0},{category:"general",setting_key:"site_description",setting_value:"Online MCQ Test Management System",description:"Application description",setting_type:"string",is_editable:!0},{category:"general",setting_key:"support_email",setting_value:"support@esigma.com",description:"Support contact email address",setting_type:"email",is_editable:!0},{category:"general",setting_key:"maintenance_mode",setting_value:"false",description:"Enable maintenance mode to restrict access",setting_type:"boolean",is_editable:!0},{category:"general",setting_key:"default_timezone",setting_value:"Asia/Kolkata",description:"Default system timezone",setting_type:"select",is_editable:!0,options:["Asia/Kolkata","UTC","America/New_York","Europe/London"]},{category:"general",setting_key:"date_format",setting_value:"DD/MM/YYYY",description:"Date display format",setting_type:"select",is_editable:!0,options:["DD/MM/YYYY","MM/DD/YYYY","YYYY-MM-DD"]}],{error:n}=await t.from("system_settings").insert(r);if(n)throw n;console.log("System settings created successfully")}static async checkDatabaseConnection(){try{const{count:t,error:r}=await V.from("roles").select("*",{count:"exact",head:!0});if(r)throw r;return(t||0)>0}catch(t){return console.error("Database connection failed:",t),{success:!1,message:"Database connection failed",error:t}}}}function R5(){const{login:e,isAuthenticated:t}=Gs(),[r,n]=O.useState("admin@esigma.com"),[s,i]=O.useState("password123"),[o,l]=O.useState(!1),[c,u]=O.useState(!1),[f,d]=O.useState("");if(t)return a.jsx(oc,{to:"/",replace:!0});const h=async()=>{if(u(!0),d(""),jr){d('Supabase is not configured. Please set up your Supabase credentials in the .env file and restart the development server. Then click "Initialize Database" on the login page.'),u(!1);return}try{console.log("Starting database initialization...");const v=await M5.initializeDatabase();console.log("Database initialization result:",v),v.success?(d(""),alert(`Database initialized successfully! ${v.message}

You can now login with the demo credentials:
- admin@esigma.com / password123
- enumerator@esigma.com / password123`)):(console.error("Database initialization failed:",v),d(`Database initialization failed: ${v.message}`),v.error&&console.error("Detailed error:",v.error))}catch(v){console.error("Database initialization exception:",v),d(`Failed to initialize database: ${v instanceof Error?v.message:"Unknown error"}. Please check your Supabase configuration.`)}finally{u(!1)}},p=async v=>{if(v.preventDefault(),!r||!s){d("Please enter both email and password");return}l(!0),d("");const j=await e(r,s);j.success?console.log("Login successful"):d(j.message),l(!1)},b=[{role:"Admin",email:"admin@esigma.com",icon:qr,color:"bg-red-100 text-red-700",password:"password123",roleId:"550e8400-e29b-41d4-a716-446655440010"},{role:"ZO User",email:"zo@esigma.com",icon:Ta,color:"bg-purple-100 text-purple-700",password:"password123",roleId:"550e8400-e29b-41d4-a716-446655440011"},{role:"RO User",email:"ro@esigma.com",icon:Ta,color:"bg-indigo-100 text-indigo-700",password:"password123",roleId:"550e8400-e29b-41d4-a716-446655440012"},{role:"Supervisor",email:"supervisor@esigma.com",icon:Ra,color:"bg-green-100 text-green-700",password:"password123",roleId:"550e8400-e29b-41d4-a716-446655440013"},{role:"Candidate",email:"enumerator@esigma.com",icon:qs,color:"bg-blue-100 text-blue-700",password:"password123",roleId:"550e8400-e29b-41d4-a716-446655440014"}],w=v=>{n(v),i("password123"),d("")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center px-4",children:a.jsx("div",{className:"max-w-md w-full",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mb-6",children:a.jsx("img",{src:"/Tuteck-Logo_Darkmode-2.svg",alt:"Tuteck Technologies Pvt. Ltd.",className:"h-20 mx-auto object-contain"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Online Examination Platform"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Tuteck Technologies Pvt. Ltd."}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Sign in to your account"}),jr&&a.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("p",{className:"text-yellow-800 text-sm font-medium",children:"Demo Mode"}),a.jsx("p",{className:"text-yellow-700 text-xs",children:"Configure Supabase to enable full functionality"})]})]}),f&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[a.jsx(dA,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),a.jsx("p",{className:"text-red-700 text-sm",children:f})]}),a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsx(te,{label:"Email Address",type:"text",value:r,onChange:v=>n(v.target.value),placeholder:"Enter your email address",required:!0}),a.jsx(te,{label:"Password",type:"password",value:s,onChange:v=>i(v.target.value),placeholder:"Enter your password",required:!0}),a.jsx(z,{type:"submit",disabled:o,className:"w-full",size:"lg",children:o?"Signing In...":"Sign In"})]}),a.jsx("div",{className:"mt-6 text-center",children:jr?a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Demo mode - Limited functionality without Supabase"}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"To enable full functionality:"}),a.jsxs("ol",{className:"text-sm text-blue-800 text-left space-y-1",children:[a.jsxs("li",{children:["1. Create a Supabase project at ",a.jsx("a",{href:"https://supabase.com",target:"_blank",className:"underline",children:"supabase.com"})]}),a.jsx("li",{children:"2. Get your project URL and API keys from Settings  API"}),a.jsx("li",{children:"3. Update the .env file with your credentials"}),a.jsx("li",{children:"4. Restart the development server"}),a.jsx("li",{children:'5. Click "Initialize Database" to set up the schema'})]})]})]}):a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Enter your credentials to access the examination platform"}),a.jsxs(z,{onClick:h,loading:c,variant:"secondary",className:"w-full flex items-center justify-center space-x-2",children:[a.jsx(Gt,{className:"w-4 h-4"}),a.jsx("span",{children:c?"Initializing Database...":"Initialize Database"})]})]})}),!jr&&a.jsx("div",{className:"mt-6 space-y-4",children:a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-green-900 mb-2",children:"Demo Credentials"}),a.jsx("div",{className:"grid grid-cols-1 gap-2",children:b.map(v=>a.jsxs("button",{onClick:()=>w(v.email),className:`flex items-center justify-between p-2 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors ${v.color}`,children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(v.icon,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:v.role})]}),a.jsx("span",{className:"text-xs font-mono",children:v.email})]},v.email))})]})})]})})})}function L5({children:e}){const{isAuthenticated:t,isLoading:r}=Gs();return r?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(oc,{to:"/login",replace:!0})}function U5(){const{user:e,logout:t}=Gs(),r=async()=>{await t()};return a.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:"/Tuteck-Logo_Darkmode-2.svg",alt:"Tuteck Technologies Pvt. Ltd.",className:"h-10 object-contain"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Tuteck Online Examination Platform"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Tuteck Technologies Pvt. Ltd."})]}),jr&&a.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full font-medium",children:"Demo Mode"})]})]}),a.jsx("div",{}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(O3,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.name}),a.jsx("p",{className:"text-xs text-gray-500",children:e==null?void 0:e.role.name})]}),a.jsxs("div",{className:"relative group",children:[a.jsx("button",{className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(qs,{className:"w-4 h-4 text-white"})})}),a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:a.jsxs("div",{className:"py-2",children:[a.jsxs("button",{className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[a.jsx(eu,{className:"w-4 h-4"}),a.jsx("span",{children:"Settings"})]}),a.jsxs("button",{onClick:r,className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[a.jsx($3,{className:"w-4 h-4"}),a.jsx("span",{children:"Logout"})]})]})})]})]})]})]})})}const F5=[{to:"/dashboard",icon:wn,label:"Dashboard",roles:["Admin"],level:1},{to:"/users",icon:qr,label:"User Management",roles:["Admin"],level:1},{to:"/roles",icon:Da,label:"Role Management",roles:["Admin"],level:1},{to:"/role-menu-management",icon:hv,label:"Menu Access Control",roles:["Admin"],level:1},{to:"/surveys",icon:Gt,label:"Question Area",roles:["Admin"],level:1},{to:"/questions",icon:fv,label:"Question Bank",roles:["Admin"],level:1},{to:"/settings",icon:eu,label:"System Settings",roles:["Admin"],level:1},{to:"/zo-dashboard",icon:wn,label:"ZO Dashboard",roles:["ZO User"],level:2},{to:"/zone-performance",icon:Jc,label:"Zone Performance",roles:["ZO User"],level:2},{to:"/regional-overview",icon:Ta,label:"Regional Overview",roles:["ZO User"],level:2},{to:"/ro-dashboard",icon:wn,label:"RO Dashboard",roles:["RO User"],level:3},{to:"/district-performance",icon:Ta,label:"District Performance",roles:["RO User"],level:3},{to:"/supervisor-teams",icon:Ra,label:"Supervisor Teams",roles:["RO User"],level:3},{to:"/supervisor-dashboard",icon:wn,label:"Dashboard",roles:["Supervisor"],level:4},{to:"/team-results",icon:Ns,label:"Team Results",roles:["Supervisor"],level:4},{to:"/my-enumerators",icon:Ra,label:"My Enumerators",roles:["Supervisor"],level:4},{to:"/assigned-surveys",icon:Gt,label:"Assigned Surveys",roles:["Supervisor"],level:4},{to:"/enumerator-dashboard",icon:wn,label:"My Dashboard",roles:["Enumerator"],level:5},{to:"/available-tests",icon:sc,label:"Available Tests",roles:["Enumerator"],level:5},{to:"/my-results",icon:Po,label:"My Results",roles:["Enumerator"],level:5},{to:"/my-certificates",icon:Ma,label:"My Certificates",roles:["Enumerator"],level:5},{to:"/test-schedule",icon:pv,label:"Test Schedule",roles:["Enumerator"],level:5},{to:"/results",icon:Ns,label:"Results & Analytics",roles:["Admin","ZO User","RO User","Supervisor"],level:1},{to:"/enumerator-status",icon:Ke,label:"Candidate Status",roles:["Admin","ZO User","RO User","Supervisor"],level:1},{to:"/certificates",icon:Oe,label:"Certificates",roles:["Admin","ZO User","RO User","Supervisor","Enumerator"],level:1}],jw={admin:[{to:"/dashboard",icon:wn,label:"Dashboard"},{to:"/users",icon:qr,label:"User Management"},{to:"/roles",icon:Da,label:"Role Management"},{to:"/role-menu-management",icon:hv,label:"Menu Access Control"},{to:"/surveys",icon:Gt,label:"Question Area"},{to:"/questions",icon:fv,label:"Question Bank"},{to:"/results",icon:Ns,label:"Results & Analytics"},{to:"/enumerator-status",icon:Ke,label:"Candidate Status"},{to:"/certificates",icon:Oe,label:"Certificates"},{to:"/settings",icon:eu,label:"System Settings"}],"zo user":[{to:"/zo-dashboard",icon:wn,label:"ZO Dashboard"},{to:"/zone-performance",icon:Jc,label:"Zone Performance"},{to:"/regional-overview",icon:Ta,label:"Regional Overview"},{to:"/enumerator-status",icon:Ke,label:"Candidate Status"},{to:"/results",icon:Ns,label:"Zone Analytics"},{to:"/certificates",icon:Oe,label:"Certificates"}],"ro user":[{to:"/ro-dashboard",icon:wn,label:"RO Dashboard"},{to:"/district-performance",icon:Ta,label:"District Performance"},{to:"/supervisor-teams",icon:Ra,label:"Supervisor Teams"},{to:"/enumerator-status",icon:Ke,label:"Candidate Status"},{to:"/results",icon:Ns,label:"Regional Analytics"},{to:"/certificates",icon:Oe,label:"Certificates"}],supervisor:[{to:"/supervisor-dashboard",icon:wn,label:"Dashboard"},{to:"/team-results",icon:Ns,label:"Team Results"},{to:"/my-enumerators",icon:Ra,label:"My Enumerators"},{to:"/enumerator-status",icon:Ke,label:"Candidate Status"},{to:"/assigned-surveys",icon:Gt,label:"Assigned Surveys"},{to:"/certificates",icon:Oe,label:"Team Certificates"}],enumerator:[{to:"/enumerator-dashboard",icon:wn,label:"My Dashboard"},{to:"/available-tests",icon:sc,label:"Available Tests"},{to:"/my-results",icon:Po,label:"My Results"},{to:"/my-certificates",icon:Ma,label:"My Certificates"},{to:"/test-schedule",icon:pv,label:"Test Schedule"}]};function B5(){const{user:e}=Gs(),r=(()=>{if(!e)return[];const u=e.role.name==="Administrator"?"Admin":e.role.name,f=e.role.level;return F5.filter(d=>{const h=d.roles.includes(u),p=d.level?f<=d.level:!0;return h&&p})})(),n=e==null?void 0:e.role.name.toLowerCase().replace(" ","_"),s=jw[n]||jw.enumerator,o=r.length>0?r.map(u=>({to:u.to,icon:u.icon,label:u.label})):s,l=u=>{switch(u.toLowerCase()){case"admin":return"bg-red-600";case"zo user":return"bg-purple-600";case"ro user":return"bg-indigo-600";case"supervisor":return"bg-green-600";case"enumerator":return"bg-blue-600";default:return"bg-gray-600"}},c=u=>{switch(u.toLowerCase()){case"admin":return"Full System Access";case"zo user":return"Zone Level Access";case"ro user":return"Regional Access";case"supervisor":return"Team Management";case"enumerator":return"Test Access";default:return"Limited Access"}};return a.jsxs("aside",{className:"w-64 bg-gray-900 text-white flex flex-col",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-10 h-10 ${l((e==null?void 0:e.role.name)||"")} rounded-lg flex items-center justify-center`,children:a.jsx(Gt,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:"Tuteck"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Examination Platform"})]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-gray-800 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm font-medium text-white",children:e==null?void 0:e.name}),a.jsx("span",{className:"px-2 py-1 bg-blue-600 text-xs rounded-full",children:e==null?void 0:e.role.level})]}),a.jsx("p",{className:"text-xs text-gray-400",children:e==null?void 0:e.role.name}),a.jsx("p",{className:"text-xs text-gray-500",children:c((e==null?void 0:e.role.name)||"")}),(e==null?void 0:e.zone)&&a.jsx("p",{className:"text-xs text-gray-400",children:e.zone}),(e==null?void 0:e.region)&&a.jsx("p",{className:"text-xs text-gray-400",children:e.region}),(e==null?void 0:e.district)&&a.jsx("p",{className:"text-xs text-gray-400",children:e.district})]}),a.jsx("div",{className:"mt-3 p-2 bg-green-900 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(hv,{className:"w-4 h-4 text-green-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-green-400",children:"RBAC Active"}),a.jsxs("p",{className:"text-xs text-green-300",children:[r.length," menu items"]})]})]})})]}),a.jsx("nav",{className:"flex-1 px-4 pb-4",children:a.jsx("ul",{className:"space-y-2",children:o.map(u=>a.jsx("li",{children:a.jsxs(_5,{to:u.to,className:({isActive:f})=>`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${f?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[a.jsx(u.icon,{className:"w-5 h-5"}),a.jsx("span",{children:u.label})]})},u.to))})}),a.jsx("div",{className:"p-4 border-t border-gray-800",children:a.jsxs("button",{className:"flex items-center space-x-3 px-4 py-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors w-full",children:[a.jsx(C3,{className:"w-5 h-5"}),a.jsx("span",{children:"Help & Support"})]})})]})}function Ee({children:e}){return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[a.jsx(B5,{}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx(U5,{}),a.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})}function F({children:e,className:t,padding:r="md",onClick:n}){const s={none:"",sm:"p-4",md:"p-6",lg:"p-8"};return a.jsx("div",{className:xv("bg-white rounded-lg border border-gray-200 shadow-sm",n&&"cursor-pointer hover:shadow-md transition-shadow",s[r],t),onClick:n,children:e})}function Iu({title:e,value:t,icon:r,change:n,color:s="blue"}){const i={blue:"bg-blue-500",green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500"};return a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:e}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t}),n&&a.jsxs("p",{className:`text-sm ${n.type==="increase"?"text-green-600":"text-red-600"}`,children:[n.type==="increase"?"+":"-",Math.abs(n.value),"% from last month"]})]}),a.jsx("div",{className:`p-3 rounded-full ${i[s]}`,children:a.jsx("div",{className:"text-white",children:r})})]})})}function z5({activities:e}){const t=r=>{switch(r){case"test_completed":return a.jsx(ct,{className:"w-4 h-4 text-green-600"});case"user_created":return a.jsx(qs,{className:"w-4 h-4 text-blue-600"});case"survey_created":return a.jsx(Gt,{className:"w-4 h-4 text-purple-600"});case"question_uploaded":return a.jsx(hA,{className:"w-4 h-4 text-orange-600"});default:return a.jsx(sr,{className:"w-4 h-4 text-gray-600"})}};return a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),a.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700",children:"View All"})]}),a.jsx("div",{className:"space-y-4",children:e.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No recent activity"}):e.map(r=>a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:t(r.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-gray-900",children:r.description}),a.jsxs("p",{className:"text-xs text-gray-500",children:["by ",r.userName,"  ",Er(r.timestamp)]})]})]},r.id))})]})}var q5=Array.isArray,gr=q5,W5=typeof Ht=="object"&&Ht&&Ht.Object===Object&&Ht,HA=W5,H5=HA,K5=typeof self=="object"&&self&&self.Object===Object&&self,V5=H5||K5||Function("return this")(),Cn=V5,G5=Cn,Q5=G5.Symbol,tu=Q5,_w=tu,KA=Object.prototype,Y5=KA.hasOwnProperty,X5=KA.toString,al=_w?_w.toStringTag:void 0;function Z5(e){var t=Y5.call(e,al),r=e[al];try{e[al]=void 0;var n=!0}catch{}var s=X5.call(e);return n&&(t?e[al]=r:delete e[al]),s}var J5=Z5,eD=Object.prototype,tD=eD.toString;function rD(e){return tD.call(e)}var nD=rD,Sw=tu,sD=J5,aD=nD,iD="[object Null]",oD="[object Undefined]",Nw=Sw?Sw.toStringTag:void 0;function lD(e){return e==null?e===void 0?oD:iD:Nw&&Nw in Object(e)?sD(e):aD(e)}var as=lD;function cD(e){return e!=null&&typeof e=="object"}var is=cD,uD=as,dD=is,fD="[object Symbol]";function hD(e){return typeof e=="symbol"||dD(e)&&uD(e)==fD}var $o=hD,pD=gr,mD=$o,gD=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,xD=/^\w*$/;function vD(e,t){if(pD(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||mD(e)?!0:xD.test(e)||!gD.test(e)||t!=null&&e in Object(t)}var Sv=vD;function yD(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Qs=yD;const Do=De(Qs);var bD=as,wD=Qs,jD="[object AsyncFunction]",_D="[object Function]",SD="[object GeneratorFunction]",ND="[object Proxy]";function AD(e){if(!wD(e))return!1;var t=bD(e);return t==_D||t==SD||t==jD||t==ND}var Nv=AD;const ue=De(Nv);var OD=Cn,PD=OD["__core-js_shared__"],ED=PD,rm=ED,Aw=function(){var e=/[^.]+$/.exec(rm&&rm.keys&&rm.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function kD(e){return!!Aw&&Aw in e}var CD=kD,TD=Function.prototype,$D=TD.toString;function DD(e){if(e!=null){try{return $D.call(e)}catch{}try{return e+""}catch{}}return""}var VA=DD,ID=Nv,MD=CD,RD=Qs,LD=VA,UD=/[\\^$.*+?()[\]{}|]/g,FD=/^\[object .+?Constructor\]$/,BD=Function.prototype,zD=Object.prototype,qD=BD.toString,WD=zD.hasOwnProperty,HD=RegExp("^"+qD.call(WD).replace(UD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function KD(e){if(!RD(e)||MD(e))return!1;var t=ID(e)?HD:FD;return t.test(LD(e))}var VD=KD;function GD(e,t){return e==null?void 0:e[t]}var QD=GD,YD=VD,XD=QD;function ZD(e,t){var r=XD(e,t);return YD(r)?r:void 0}var Ga=ZD,JD=Ga,eI=JD(Object,"create"),wh=eI,Ow=wh;function tI(){this.__data__=Ow?Ow(null):{},this.size=0}var rI=tI;function nI(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var sI=nI,aI=wh,iI="__lodash_hash_undefined__",oI=Object.prototype,lI=oI.hasOwnProperty;function cI(e){var t=this.__data__;if(aI){var r=t[e];return r===iI?void 0:r}return lI.call(t,e)?t[e]:void 0}var uI=cI,dI=wh,fI=Object.prototype,hI=fI.hasOwnProperty;function pI(e){var t=this.__data__;return dI?t[e]!==void 0:hI.call(t,e)}var mI=pI,gI=wh,xI="__lodash_hash_undefined__";function vI(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=gI&&t===void 0?xI:t,this}var yI=vI,bI=rI,wI=sI,jI=uI,_I=mI,SI=yI;function Io(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Io.prototype.clear=bI;Io.prototype.delete=wI;Io.prototype.get=jI;Io.prototype.has=_I;Io.prototype.set=SI;var NI=Io;function AI(){this.__data__=[],this.size=0}var OI=AI;function PI(e,t){return e===t||e!==e&&t!==t}var Av=PI,EI=Av;function kI(e,t){for(var r=e.length;r--;)if(EI(e[r][0],t))return r;return-1}var jh=kI,CI=jh,TI=Array.prototype,$I=TI.splice;function DI(e){var t=this.__data__,r=CI(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():$I.call(t,r,1),--this.size,!0}var II=DI,MI=jh;function RI(e){var t=this.__data__,r=MI(t,e);return r<0?void 0:t[r][1]}var LI=RI,UI=jh;function FI(e){return UI(this.__data__,e)>-1}var BI=FI,zI=jh;function qI(e,t){var r=this.__data__,n=zI(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var WI=qI,HI=OI,KI=II,VI=LI,GI=BI,QI=WI;function Mo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Mo.prototype.clear=HI;Mo.prototype.delete=KI;Mo.prototype.get=VI;Mo.prototype.has=GI;Mo.prototype.set=QI;var _h=Mo,YI=Ga,XI=Cn,ZI=YI(XI,"Map"),Ov=ZI,Pw=NI,JI=_h,eM=Ov;function tM(){this.size=0,this.__data__={hash:new Pw,map:new(eM||JI),string:new Pw}}var rM=tM;function nM(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var sM=nM,aM=sM;function iM(e,t){var r=e.__data__;return aM(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Sh=iM,oM=Sh;function lM(e){var t=oM(this,e).delete(e);return this.size-=t?1:0,t}var cM=lM,uM=Sh;function dM(e){return uM(this,e).get(e)}var fM=dM,hM=Sh;function pM(e){return hM(this,e).has(e)}var mM=pM,gM=Sh;function xM(e,t){var r=gM(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var vM=xM,yM=rM,bM=cM,wM=fM,jM=mM,_M=vM;function Ro(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ro.prototype.clear=yM;Ro.prototype.delete=bM;Ro.prototype.get=wM;Ro.prototype.has=jM;Ro.prototype.set=_M;var Pv=Ro,GA=Pv,SM="Expected a function";function Ev(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(SM);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(Ev.Cache||GA),r}Ev.Cache=GA;var QA=Ev;const NM=De(QA);var AM=QA,OM=500;function PM(e){var t=AM(e,function(n){return r.size===OM&&r.clear(),n}),r=t.cache;return t}var EM=PM,kM=EM,CM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,TM=/\\(\\)?/g,$M=kM(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(CM,function(r,n,s,i){t.push(s?i.replace(TM,"$1"):n||r)}),t}),DM=$M;function IM(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var kv=IM,Ew=tu,MM=kv,RM=gr,LM=$o,UM=1/0,kw=Ew?Ew.prototype:void 0,Cw=kw?kw.toString:void 0;function YA(e){if(typeof e=="string")return e;if(RM(e))return MM(e,YA)+"";if(LM(e))return Cw?Cw.call(e):"";var t=e+"";return t=="0"&&1/e==-UM?"-0":t}var FM=YA,BM=FM;function zM(e){return e==null?"":BM(e)}var XA=zM,qM=gr,WM=Sv,HM=DM,KM=XA;function VM(e,t){return qM(e)?e:WM(e,t)?[e]:HM(KM(e))}var ZA=VM,GM=$o,QM=1/0;function YM(e){if(typeof e=="string"||GM(e))return e;var t=e+"";return t=="0"&&1/e==-QM?"-0":t}var Nh=YM,XM=ZA,ZM=Nh;function JM(e,t){t=XM(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[ZM(t[r++])];return r&&r==n?e:void 0}var Cv=JM,e8=Cv;function t8(e,t,r){var n=e==null?void 0:e8(e,t);return n===void 0?r:n}var JA=t8;const Ar=De(JA);function r8(e){return e==null}var n8=r8;const fe=De(n8);var s8=as,a8=gr,i8=is,o8="[object String]";function l8(e){return typeof e=="string"||!a8(e)&&i8(e)&&s8(e)==o8}var c8=l8;const La=De(c8);var e4={exports:{}},Ie={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv=Symbol.for("react.element"),$v=Symbol.for("react.portal"),Ah=Symbol.for("react.fragment"),Oh=Symbol.for("react.strict_mode"),Ph=Symbol.for("react.profiler"),Eh=Symbol.for("react.provider"),kh=Symbol.for("react.context"),u8=Symbol.for("react.server_context"),Ch=Symbol.for("react.forward_ref"),Th=Symbol.for("react.suspense"),$h=Symbol.for("react.suspense_list"),Dh=Symbol.for("react.memo"),Ih=Symbol.for("react.lazy"),d8=Symbol.for("react.offscreen"),t4;t4=Symbol.for("react.module.reference");function Qr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Tv:switch(e=e.type,e){case Ah:case Ph:case Oh:case Th:case $h:return e;default:switch(e=e&&e.$$typeof,e){case u8:case kh:case Ch:case Ih:case Dh:case Eh:return e;default:return t}}case $v:return t}}}Ie.ContextConsumer=kh;Ie.ContextProvider=Eh;Ie.Element=Tv;Ie.ForwardRef=Ch;Ie.Fragment=Ah;Ie.Lazy=Ih;Ie.Memo=Dh;Ie.Portal=$v;Ie.Profiler=Ph;Ie.StrictMode=Oh;Ie.Suspense=Th;Ie.SuspenseList=$h;Ie.isAsyncMode=function(){return!1};Ie.isConcurrentMode=function(){return!1};Ie.isContextConsumer=function(e){return Qr(e)===kh};Ie.isContextProvider=function(e){return Qr(e)===Eh};Ie.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Tv};Ie.isForwardRef=function(e){return Qr(e)===Ch};Ie.isFragment=function(e){return Qr(e)===Ah};Ie.isLazy=function(e){return Qr(e)===Ih};Ie.isMemo=function(e){return Qr(e)===Dh};Ie.isPortal=function(e){return Qr(e)===$v};Ie.isProfiler=function(e){return Qr(e)===Ph};Ie.isStrictMode=function(e){return Qr(e)===Oh};Ie.isSuspense=function(e){return Qr(e)===Th};Ie.isSuspenseList=function(e){return Qr(e)===$h};Ie.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ah||e===Ph||e===Oh||e===Th||e===$h||e===d8||typeof e=="object"&&e!==null&&(e.$$typeof===Ih||e.$$typeof===Dh||e.$$typeof===Eh||e.$$typeof===kh||e.$$typeof===Ch||e.$$typeof===t4||e.getModuleId!==void 0)};Ie.typeOf=Qr;e4.exports=Ie;var f8=e4.exports,h8=as,p8=is,m8="[object Number]";function g8(e){return typeof e=="number"||p8(e)&&h8(e)==m8}var r4=g8;const x8=De(r4);var v8=r4;function y8(e){return v8(e)&&e!=+e}var b8=y8;const ru=De(b8);var er=function(t){return t===0?0:t>0?1:-1},va=function(t){return La(t)&&t.indexOf("%")===t.length-1},Y=function(t){return x8(t)&&!ru(t)},w8=function(t){return fe(t)},jt=function(t){return Y(t)||La(t)},j8=0,Lo=function(t){var r=++j8;return"".concat(t||"").concat(r)},tr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Y(t)&&!La(t))return n;var i;if(va(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return ru(i)&&(i=n),s&&i>r&&(i=r),i},js=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},_8=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},wr=function(t,r){return Y(t)&&Y(r)?function(n){return t+n*(r-t)}:function(){return r}};function Wd(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Ar(n,t))===r})}var S8=function(t,r){return Y(t)&&Y(r)?t-r:La(t)&&La(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Li(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Rg(e){"@babel/helpers - typeof";return Rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rg(e)}var N8=["viewBox","children"],A8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Tw=["points","pathLength"],nm={svg:N8,polygon:Tw,polyline:Tw},Dv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Hd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!Do(n))return null;var s={};return Object.keys(n).forEach(function(i){Dv.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},O8=function(t,r,n){return function(s){return t(r,n,s),null}},Ua=function(t,r,n){if(!Do(t)||Rg(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];Dv.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=O8(o,r,n))}),s},P8=["children"],E8=["children"];function $w(e,t){if(e==null)return{};var r=k8(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function k8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lg(e){"@babel/helpers - typeof";return Lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lg(e)}var Dw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Kn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Iw=null,sm=null,Iv=function e(t){if(t===Iw&&Array.isArray(sm))return sm;var r=[];return O.Children.forEach(t,function(n){fe(n)||(f8.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),sm=r,Iw=t,r};function Or(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Kn(s)}):n=[Kn(t)],Iv(e).forEach(function(s){var i=Ar(s,"type.displayName")||Ar(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function br(e,t){var r=Or(e,t);return r&&r[0]}var Mw=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!Y(n)||n<=0||!Y(s)||s<=0)},C8=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],T8=function(t){return t&&t.type&&La(t.type)&&C8.indexOf(t.type)>=0},$8=function(t){return t&&Lg(t)==="object"&&"clipDot"in t},D8=function(t,r,n,s){var i,o=(i=nm==null?void 0:nm[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!ue(t)&&(s&&o.includes(r)||A8.includes(r))||n&&Dv.includes(r)},ie=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(O.isValidElement(t)&&(s=t.props),!Do(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;D8((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},Ug=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Rw(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Rw(i,o))return!1}return!0},Rw=function(t,r){if(fe(t)&&fe(r))return!0;if(!fe(t)&&!fe(r)){var n=t.props||{},s=n.children,i=$w(n,P8),o=r.props||{},l=o.children,c=$w(o,E8);return s&&l?Li(i,c)&&Ug(s,l):!s&&!l?Li(i,c):!1}return!1},Lw=function(t,r){var n=[],s={};return Iv(t).forEach(function(i,o){if(T8(i))n.push(i);else if(i){var l=Kn(i.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!s[l])){var d=u(i,l,o);n.push(d),s[l]=!0}}}),n},I8=function(t){var r=t&&t.type;return r&&Dw[r]?Dw[r]:null},M8=function(t,r){return Iv(r).indexOf(t)},R8=["children","width","height","viewBox","className","style","title","desc"];function Fg(){return Fg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fg.apply(this,arguments)}function L8(e,t){if(e==null)return{};var r=U8(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function U8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Bg(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=L8(e,R8),f=s||{width:r,height:n,x:0,y:0},d=ge("recharts-surface",i);return T.createElement("svg",Fg({},ie(u,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),T.createElement("title",null,l),T.createElement("desc",null,c),t)}var F8=["children","className"];function zg(){return zg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zg.apply(this,arguments)}function B8(e,t){if(e==null)return{};var r=z8(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function z8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Ne=T.forwardRef(function(e,t){var r=e.children,n=e.className,s=B8(e,F8),i=ge("recharts-layer",n);return T.createElement("g",zg({className:i},ie(s,!0),{ref:t}),r)}),hn=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function q8(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var W8=q8,H8=W8;function K8(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:H8(e,t,r)}var V8=K8,G8="\\ud800-\\udfff",Q8="\\u0300-\\u036f",Y8="\\ufe20-\\ufe2f",X8="\\u20d0-\\u20ff",Z8=Q8+Y8+X8,J8="\\ufe0e\\ufe0f",eR="\\u200d",tR=RegExp("["+eR+G8+Z8+J8+"]");function rR(e){return tR.test(e)}var n4=rR;function nR(e){return e.split("")}var sR=nR,s4="\\ud800-\\udfff",aR="\\u0300-\\u036f",iR="\\ufe20-\\ufe2f",oR="\\u20d0-\\u20ff",lR=aR+iR+oR,cR="\\ufe0e\\ufe0f",uR="["+s4+"]",qg="["+lR+"]",Wg="\\ud83c[\\udffb-\\udfff]",dR="(?:"+qg+"|"+Wg+")",a4="[^"+s4+"]",i4="(?:\\ud83c[\\udde6-\\uddff]){2}",o4="[\\ud800-\\udbff][\\udc00-\\udfff]",fR="\\u200d",l4=dR+"?",c4="["+cR+"]?",hR="(?:"+fR+"(?:"+[a4,i4,o4].join("|")+")"+c4+l4+")*",pR=c4+l4+hR,mR="(?:"+[a4+qg+"?",qg,i4,o4,uR].join("|")+")",gR=RegExp(Wg+"(?="+Wg+")|"+mR+pR,"g");function xR(e){return e.match(gR)||[]}var vR=xR,yR=sR,bR=n4,wR=vR;function jR(e){return bR(e)?wR(e):yR(e)}var _R=jR,SR=V8,NR=n4,AR=_R,OR=XA;function PR(e){return function(t){t=OR(t);var r=NR(t)?AR(t):void 0,n=r?r[0]:t.charAt(0),s=r?SR(r,1).join(""):t.slice(1);return n[e]()+s}}var ER=PR,kR=ER,CR=kR("toUpperCase"),TR=CR;const Mh=De(TR);function qe(e){return function(){return e}}const u4=Math.cos,Kd=Math.sin,mn=Math.sqrt,Vd=Math.PI,Rh=2*Vd,Hg=Math.PI,Kg=2*Hg,ua=1e-6,$R=Kg-ua;function d4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function DR(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return d4;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class IR{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?d4:DR(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,f=o-t,d=l-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ua)if(!(Math.abs(d*c-u*f)>ua)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,b=s-l,w=c*c+u*u,v=p*p+b*b,j=Math.sqrt(w),y=Math.sqrt(h),x=i*Math.tan((Hg-Math.acos((w+h-v)/(2*j*y)))/2),_=x/y,m=x/j;Math.abs(_-1)>ua&&this._append`L${t+_*f},${r+_*d}`,this._append`A${i},${i},0,0,${+(d*p>f*b)},${this._x1=t+m*c},${this._y1=r+m*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,f=r+c,d=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>ua||Math.abs(this._y1-f)>ua)&&this._append`L${u},${f}`,n&&(h<0&&(h=h%Kg+Kg),h>$R?this._append`A${n},${n},0,1,${d},${t-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:h>ua&&this._append`A${n},${n},0,${+(h>=Hg)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Mv(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new IR(t)}function Rv(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function f4(e){this._context=e}f4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Lh(e){return new f4(e)}function h4(e){return e[0]}function p4(e){return e[1]}function m4(e,t){var r=qe(!0),n=null,s=Lh,i=null,o=Mv(l);e=typeof e=="function"?e:e===void 0?h4:qe(e),t=typeof t=="function"?t:t===void 0?p4:qe(t);function l(c){var u,f=(c=Rv(c)).length,d,h=!1,p;for(n==null&&(i=s(p=o())),u=0;u<=f;++u)!(u<f&&r(d=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(d,u,c),+t(d,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:qe(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:qe(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:qe(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Mu(e,t,r){var n=null,s=qe(!0),i=null,o=Lh,l=null,c=Mv(u);e=typeof e=="function"?e:e===void 0?h4:qe(+e),t=typeof t=="function"?t:qe(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?p4:qe(+r);function u(d){var h,p,b,w=(d=Rv(d)).length,v,j=!1,y,x=new Array(w),_=new Array(w);for(i==null&&(l=o(y=c())),h=0;h<=w;++h){if(!(h<w&&s(v=d[h],h,d))===j)if(j=!j)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=h-1;b>=p;--b)l.point(x[b],_[b]);l.lineEnd(),l.areaEnd()}j&&(x[h]=+e(v,h,d),_[h]=+t(v,h,d),l.point(n?+n(v,h,d):x[h],r?+r(v,h,d):_[h]))}if(y)return l=null,y+""||null}function f(){return m4().defined(s).curve(o).context(i)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:qe(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:qe(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:qe(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:qe(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:qe(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:qe(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(s=typeof d=="function"?d:qe(!!d),u):s},u.curve=function(d){return arguments.length?(o=d,i!=null&&(l=o(i)),u):o},u.context=function(d){return arguments.length?(d==null?i=l=null:l=o(i=d),u):i},u}class g4{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function MR(e){return new g4(e,!0)}function RR(e){return new g4(e,!1)}const Lv={draw(e,t){const r=mn(t/Vd);e.moveTo(r,0),e.arc(0,0,r,0,Rh)}},LR={draw(e,t){const r=mn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},x4=mn(1/3),UR=x4*2,FR={draw(e,t){const r=mn(t/UR),n=r*x4;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},BR={draw(e,t){const r=mn(t),n=-r/2;e.rect(n,n,r,r)}},zR=.8908130915292852,v4=Kd(Vd/10)/Kd(7*Vd/10),qR=Kd(Rh/10)*v4,WR=-u4(Rh/10)*v4,HR={draw(e,t){const r=mn(t*zR),n=qR*r,s=WR*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Rh*i/5,l=u4(o),c=Kd(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},am=mn(3),KR={draw(e,t){const r=-mn(t/(am*3));e.moveTo(0,r*2),e.lineTo(-am*r,-r),e.lineTo(am*r,-r),e.closePath()}},Dr=-.5,Ir=mn(3)/2,Vg=1/mn(12),VR=(Vg/2+1)*3,GR={draw(e,t){const r=mn(t/VR),n=r/2,s=r*Vg,i=n,o=r*Vg+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Dr*n-Ir*s,Ir*n+Dr*s),e.lineTo(Dr*i-Ir*o,Ir*i+Dr*o),e.lineTo(Dr*l-Ir*c,Ir*l+Dr*c),e.lineTo(Dr*n+Ir*s,Dr*s-Ir*n),e.lineTo(Dr*i+Ir*o,Dr*o-Ir*i),e.lineTo(Dr*l+Ir*c,Dr*c-Ir*l),e.closePath()}};function QR(e,t){let r=null,n=Mv(s);e=typeof e=="function"?e:qe(e||Lv),t=typeof t=="function"?t:qe(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:qe(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:qe(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Gd(){}function Qd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function y4(e){this._context=e}y4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YR(e){return new y4(e)}function b4(e){this._context=e}b4.prototype={areaStart:Gd,areaEnd:Gd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Qd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XR(e){return new b4(e)}function w4(e){this._context=e}w4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Qd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ZR(e){return new w4(e)}function j4(e){this._context=e}j4.prototype={areaStart:Gd,areaEnd:Gd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function JR(e){return new j4(e)}function Uw(e){return e<0?-1:1}function Fw(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(Uw(i)+Uw(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function Bw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function im(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function Yd(e){this._context=e}Yd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:im(this,this._t0,Bw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,im(this,Bw(this,r=Fw(this,e,t)),r);break;default:im(this,this._t0,r=Fw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function _4(e){this._context=new S4(e)}(_4.prototype=Object.create(Yd.prototype)).point=function(e,t){Yd.prototype.point.call(this,t,e)};function S4(e){this._context=e}S4.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function eL(e){return new Yd(e)}function tL(e){return new _4(e)}function N4(e){this._context=e}N4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=zw(e),s=zw(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function zw(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function rL(e){return new N4(e)}function Uh(e,t){this._context=e,this._t=t}Uh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function nL(e){return new Uh(e,.5)}function sL(e){return new Uh(e,0)}function aL(e){return new Uh(e,1)}function Xi(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Gg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function iL(e,t){return e[t]}function oL(e){const t=[];return t.key=e,t}function lL(){var e=qe([]),t=Gg,r=Xi,n=iL;function s(i){var o=Array.from(e.apply(this,arguments),oL),l,c=o.length,u=-1,f;for(const d of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(d,o[l].key,u,i)]).data=d;for(l=0,f=Rv(t(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:qe(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:qe(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?Gg:typeof i=="function"?i:qe(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Xi,s):r},s}function cL(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Xi(e,t)}}function uL(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Xi(e,t)}}function dL(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var f=e[t[l]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,b=0;b<l;++b){var w=e[t[b]],v=w[n][1]||0,j=w[n-1][1]||0;p+=v-j}c+=d,u+=p*d}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Xi(e,t)}}function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}var fL=["type","size","sizeType"];function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qg.apply(this,arguments)}function qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(r),!0).forEach(function(n){hL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hL(e,t,r){return t=pL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pL(e){var t=mL(e,"string");return uc(t)=="symbol"?t:t+""}function mL(e,t){if(uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gL(e,t){if(e==null)return{};var r=xL(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function xL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var A4={symbolCircle:Lv,symbolCross:LR,symbolDiamond:FR,symbolSquare:BR,symbolStar:HR,symbolTriangle:KR,symbolWye:GR},vL=Math.PI/180,yL=function(t){var r="symbol".concat(Mh(t));return A4[r]||Lv},bL=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*vL;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},wL=function(t,r){A4["symbol".concat(Mh(t))]=r},Uv=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=gL(t,fL),u=Ww(Ww({},c),{},{type:n,size:i,sizeType:l}),f=function(){var v=yL(n),j=QR().type(v).size(bL(i,l,n));return j()},d=u.className,h=u.cx,p=u.cy,b=ie(u,!0);return h===+h&&p===+p&&i===+i?T.createElement("path",Qg({},b,{className:ge("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};Uv.registerSymbol=wL;function Zi(e){"@babel/helpers - typeof";return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zi(e)}function Yg(){return Yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yg.apply(this,arguments)}function Hw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function jL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hw(Object(r),!0).forEach(function(n){dc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,P4(n.key),n)}}function NL(e,t,r){return t&&SL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AL(e,t,r){return t=Xd(t),OL(e,O4()?Reflect.construct(t,r||[],Xd(e).constructor):t.apply(e,r))}function OL(e,t){if(t&&(Zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PL(e)}function PL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(O4=function(){return!!e})()}function Xd(e){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xd(e)}function EL(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xg(e,t)}function Xg(e,t){return Xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Xg(e,t)}function dc(e,t,r){return t=P4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function P4(e){var t=kL(e,"string");return Zi(t)=="symbol"?t:t+""}function kL(e,t){if(Zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mr=32,Fv=function(e){function t(){return _L(this,t),AL(this,t,arguments)}return EL(t,e),NL(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=Mr/2,o=Mr/6,l=Mr/3,c=n.inactive?s:n.color;if(n.type==="plainline")return T.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Mr,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return T.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Mr,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return T.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Mr/8,"h").concat(Mr,"v").concat(Mr*3/4,"h").concat(-Mr,"z"),className:"recharts-legend-icon"});if(T.isValidElement(n.legendIcon)){var u=jL({},n);return delete u.legendIcon,T.cloneElement(n.legendIcon,u)}return T.createElement(Uv,{fill:c,cx:i,cy:i,size:Mr,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,f={x:0,y:0,width:Mr,height:Mr},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,b){var w=p.formatter||c,v=ge(dc(dc({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",p.inactive));if(p.type==="none")return null;var j=ue(p.value)?null:p.value;hn(!ue(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var y=p.inactive?u:p.color;return T.createElement("li",Yg({className:v,style:d,key:"legend-item-".concat(b)},Ua(n.props,p,b)),T.createElement(Bg,{width:o,height:o,viewBox:f,style:h},n.renderIcon(p)),T.createElement("span",{className:"recharts-legend-item-text",style:{color:y}},w?w(j,p,b):j))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return T.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(O.PureComponent);dc(Fv,"displayName","Legend");dc(Fv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var CL=_h;function TL(){this.__data__=new CL,this.size=0}var $L=TL;function DL(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var IL=DL;function ML(e){return this.__data__.get(e)}var RL=ML;function LL(e){return this.__data__.has(e)}var UL=LL,FL=_h,BL=Ov,zL=Pv,qL=200;function WL(e,t){var r=this.__data__;if(r instanceof FL){var n=r.__data__;if(!BL||n.length<qL-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new zL(n)}return r.set(e,t),this.size=r.size,this}var HL=WL,KL=_h,VL=$L,GL=IL,QL=RL,YL=UL,XL=HL;function Uo(e){var t=this.__data__=new KL(e);this.size=t.size}Uo.prototype.clear=VL;Uo.prototype.delete=GL;Uo.prototype.get=QL;Uo.prototype.has=YL;Uo.prototype.set=XL;var E4=Uo,ZL="__lodash_hash_undefined__";function JL(e){return this.__data__.set(e,ZL),this}var e9=JL;function t9(e){return this.__data__.has(e)}var r9=t9,n9=Pv,s9=e9,a9=r9;function Zd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new n9;++t<r;)this.add(e[t])}Zd.prototype.add=Zd.prototype.push=s9;Zd.prototype.has=a9;var k4=Zd;function i9(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var C4=i9;function o9(e,t){return e.has(t)}var T4=o9,l9=k4,c9=C4,u9=T4,d9=1,f9=2;function h9(e,t,r,n,s,i){var o=r&d9,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),f=i.get(t);if(u&&f)return u==t&&f==e;var d=-1,h=!0,p=r&f9?new l9:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var b=e[d],w=t[d];if(n)var v=o?n(w,b,d,t,e,i):n(b,w,d,e,t,i);if(v!==void 0){if(v)continue;h=!1;break}if(p){if(!c9(t,function(j,y){if(!u9(p,y)&&(b===j||s(b,j,r,n,i)))return p.push(y)})){h=!1;break}}else if(!(b===w||s(b,w,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var $4=h9,p9=Cn,m9=p9.Uint8Array,g9=m9;function x9(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var v9=x9;function y9(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Bv=y9,Kw=tu,Vw=g9,b9=Av,w9=$4,j9=v9,_9=Bv,S9=1,N9=2,A9="[object Boolean]",O9="[object Date]",P9="[object Error]",E9="[object Map]",k9="[object Number]",C9="[object RegExp]",T9="[object Set]",$9="[object String]",D9="[object Symbol]",I9="[object ArrayBuffer]",M9="[object DataView]",Gw=Kw?Kw.prototype:void 0,om=Gw?Gw.valueOf:void 0;function R9(e,t,r,n,s,i,o){switch(r){case M9:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case I9:return!(e.byteLength!=t.byteLength||!i(new Vw(e),new Vw(t)));case A9:case O9:case k9:return b9(+e,+t);case P9:return e.name==t.name&&e.message==t.message;case C9:case $9:return e==t+"";case E9:var l=j9;case T9:var c=n&S9;if(l||(l=_9),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=N9,o.set(e,t);var f=w9(l(e),l(t),n,s,i,o);return o.delete(e),f;case D9:if(om)return om.call(e)==om.call(t)}return!1}var L9=R9;function U9(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var D4=U9,F9=D4,B9=gr;function z9(e,t,r){var n=t(e);return B9(e)?n:F9(n,r(e))}var q9=z9;function W9(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var H9=W9;function K9(){return[]}var V9=K9,G9=H9,Q9=V9,Y9=Object.prototype,X9=Y9.propertyIsEnumerable,Qw=Object.getOwnPropertySymbols,Z9=Qw?function(e){return e==null?[]:(e=Object(e),G9(Qw(e),function(t){return X9.call(e,t)}))}:Q9,J9=Z9;function e7(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var t7=e7,r7=as,n7=is,s7="[object Arguments]";function a7(e){return n7(e)&&r7(e)==s7}var i7=a7,Yw=i7,o7=is,I4=Object.prototype,l7=I4.hasOwnProperty,c7=I4.propertyIsEnumerable,u7=Yw(function(){return arguments}())?Yw:function(e){return o7(e)&&l7.call(e,"callee")&&!c7.call(e,"callee")},zv=u7,Jd={exports:{}};function d7(){return!1}var f7=d7;Jd.exports;(function(e,t){var r=Cn,n=f7,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Jd,Jd.exports);var M4=Jd.exports,h7=9007199254740991,p7=/^(?:0|[1-9]\d*)$/;function m7(e,t){var r=typeof e;return t=t??h7,!!t&&(r=="number"||r!="symbol"&&p7.test(e))&&e>-1&&e%1==0&&e<t}var qv=m7,g7=9007199254740991;function x7(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=g7}var Wv=x7,v7=as,y7=Wv,b7=is,w7="[object Arguments]",j7="[object Array]",_7="[object Boolean]",S7="[object Date]",N7="[object Error]",A7="[object Function]",O7="[object Map]",P7="[object Number]",E7="[object Object]",k7="[object RegExp]",C7="[object Set]",T7="[object String]",$7="[object WeakMap]",D7="[object ArrayBuffer]",I7="[object DataView]",M7="[object Float32Array]",R7="[object Float64Array]",L7="[object Int8Array]",U7="[object Int16Array]",F7="[object Int32Array]",B7="[object Uint8Array]",z7="[object Uint8ClampedArray]",q7="[object Uint16Array]",W7="[object Uint32Array]",Xe={};Xe[M7]=Xe[R7]=Xe[L7]=Xe[U7]=Xe[F7]=Xe[B7]=Xe[z7]=Xe[q7]=Xe[W7]=!0;Xe[w7]=Xe[j7]=Xe[D7]=Xe[_7]=Xe[I7]=Xe[S7]=Xe[N7]=Xe[A7]=Xe[O7]=Xe[P7]=Xe[E7]=Xe[k7]=Xe[C7]=Xe[T7]=Xe[$7]=!1;function H7(e){return b7(e)&&y7(e.length)&&!!Xe[v7(e)]}var K7=H7;function V7(e){return function(t){return e(t)}}var R4=V7,ef={exports:{}};ef.exports;(function(e,t){var r=HA,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(ef,ef.exports);var G7=ef.exports,Q7=K7,Y7=R4,Xw=G7,Zw=Xw&&Xw.isTypedArray,X7=Zw?Y7(Zw):Q7,L4=X7,Z7=t7,J7=zv,eU=gr,tU=M4,rU=qv,nU=L4,sU=Object.prototype,aU=sU.hasOwnProperty;function iU(e,t){var r=eU(e),n=!r&&J7(e),s=!r&&!n&&tU(e),i=!r&&!n&&!s&&nU(e),o=r||n||s||i,l=o?Z7(e.length,String):[],c=l.length;for(var u in e)(t||aU.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||rU(u,c)))&&l.push(u);return l}var oU=iU,lU=Object.prototype;function cU(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||lU;return e===r}var uU=cU;function dU(e,t){return function(r){return e(t(r))}}var U4=dU,fU=U4,hU=fU(Object.keys,Object),pU=hU,mU=uU,gU=pU,xU=Object.prototype,vU=xU.hasOwnProperty;function yU(e){if(!mU(e))return gU(e);var t=[];for(var r in Object(e))vU.call(e,r)&&r!="constructor"&&t.push(r);return t}var bU=yU,wU=Nv,jU=Wv;function _U(e){return e!=null&&jU(e.length)&&!wU(e)}var nu=_U,SU=oU,NU=bU,AU=nu;function OU(e){return AU(e)?SU(e):NU(e)}var Fh=OU,PU=q9,EU=J9,kU=Fh;function CU(e){return PU(e,kU,EU)}var TU=CU,Jw=TU,$U=1,DU=Object.prototype,IU=DU.hasOwnProperty;function MU(e,t,r,n,s,i){var o=r&$U,l=Jw(e),c=l.length,u=Jw(t),f=u.length;if(c!=f&&!o)return!1;for(var d=c;d--;){var h=l[d];if(!(o?h in t:IU.call(t,h)))return!1}var p=i.get(e),b=i.get(t);if(p&&b)return p==t&&b==e;var w=!0;i.set(e,t),i.set(t,e);for(var v=o;++d<c;){h=l[d];var j=e[h],y=t[h];if(n)var x=o?n(y,j,h,t,e,i):n(j,y,h,e,t,i);if(!(x===void 0?j===y||s(j,y,r,n,i):x)){w=!1;break}v||(v=h=="constructor")}if(w&&!v){var _=e.constructor,m=t.constructor;_!=m&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof m=="function"&&m instanceof m)&&(w=!1)}return i.delete(e),i.delete(t),w}var RU=MU,LU=Ga,UU=Cn,FU=LU(UU,"DataView"),BU=FU,zU=Ga,qU=Cn,WU=zU(qU,"Promise"),HU=WU,KU=Ga,VU=Cn,GU=KU(VU,"Set"),F4=GU,QU=Ga,YU=Cn,XU=QU(YU,"WeakMap"),ZU=XU,Zg=BU,Jg=Ov,e0=HU,t0=F4,r0=ZU,B4=as,Fo=VA,e1="[object Map]",JU="[object Object]",t1="[object Promise]",r1="[object Set]",n1="[object WeakMap]",s1="[object DataView]",eF=Fo(Zg),tF=Fo(Jg),rF=Fo(e0),nF=Fo(t0),sF=Fo(r0),da=B4;(Zg&&da(new Zg(new ArrayBuffer(1)))!=s1||Jg&&da(new Jg)!=e1||e0&&da(e0.resolve())!=t1||t0&&da(new t0)!=r1||r0&&da(new r0)!=n1)&&(da=function(e){var t=B4(e),r=t==JU?e.constructor:void 0,n=r?Fo(r):"";if(n)switch(n){case eF:return s1;case tF:return e1;case rF:return t1;case nF:return r1;case sF:return n1}return t});var aF=da,lm=E4,iF=$4,oF=L9,lF=RU,a1=aF,i1=gr,o1=M4,cF=L4,uF=1,l1="[object Arguments]",c1="[object Array]",Ru="[object Object]",dF=Object.prototype,u1=dF.hasOwnProperty;function fF(e,t,r,n,s,i){var o=i1(e),l=i1(t),c=o?c1:a1(e),u=l?c1:a1(t);c=c==l1?Ru:c,u=u==l1?Ru:u;var f=c==Ru,d=u==Ru,h=c==u;if(h&&o1(e)){if(!o1(t))return!1;o=!0,f=!1}if(h&&!f)return i||(i=new lm),o||cF(e)?iF(e,t,r,n,s,i):oF(e,t,c,r,n,s,i);if(!(r&uF)){var p=f&&u1.call(e,"__wrapped__"),b=d&&u1.call(t,"__wrapped__");if(p||b){var w=p?e.value():e,v=b?t.value():t;return i||(i=new lm),s(w,v,r,n,i)}}return h?(i||(i=new lm),lF(e,t,r,n,s,i)):!1}var hF=fF,pF=hF,d1=is;function z4(e,t,r,n,s){return e===t?!0:e==null||t==null||!d1(e)&&!d1(t)?e!==e&&t!==t:pF(e,t,r,n,z4,s)}var Hv=z4,mF=E4,gF=Hv,xF=1,vF=2;function yF(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],f=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var d=new mF;if(n)var h=n(u,f,c,e,t,d);if(!(h===void 0?gF(f,u,xF|vF,n,d):h))return!1}}return!0}var bF=yF,wF=Qs;function jF(e){return e===e&&!wF(e)}var q4=jF,_F=q4,SF=Fh;function NF(e){for(var t=SF(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,_F(s)]}return t}var AF=NF;function OF(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var W4=OF,PF=bF,EF=AF,kF=W4;function CF(e){var t=EF(e);return t.length==1&&t[0][2]?kF(t[0][0],t[0][1]):function(r){return r===e||PF(r,e,t)}}var TF=CF;function $F(e,t){return e!=null&&t in Object(e)}var DF=$F,IF=ZA,MF=zv,RF=gr,LF=qv,UF=Wv,FF=Nh;function BF(e,t,r){t=IF(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=FF(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&UF(s)&&LF(o,s)&&(RF(e)||MF(e)))}var zF=BF,qF=DF,WF=zF;function HF(e,t){return e!=null&&WF(e,t,qF)}var KF=HF,VF=Hv,GF=JA,QF=KF,YF=Sv,XF=q4,ZF=W4,JF=Nh,eB=1,tB=2;function rB(e,t){return YF(e)&&XF(t)?ZF(JF(e),t):function(r){var n=GF(r,e);return n===void 0&&n===t?QF(r,e):VF(t,n,eB|tB)}}var nB=rB;function sB(e){return e}var Bo=sB;function aB(e){return function(t){return t==null?void 0:t[e]}}var iB=aB,oB=Cv;function lB(e){return function(t){return oB(t,e)}}var cB=lB,uB=iB,dB=cB,fB=Sv,hB=Nh;function pB(e){return fB(e)?uB(hB(e)):dB(e)}var mB=pB,gB=TF,xB=nB,vB=Bo,yB=gr,bB=mB;function wB(e){return typeof e=="function"?e:e==null?vB:typeof e=="object"?yB(e)?xB(e[0],e[1]):gB(e):bB(e)}var Tn=wB;function jB(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var H4=jB;function _B(e){return e!==e}var SB=_B;function NB(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var AB=NB,OB=H4,PB=SB,EB=AB;function kB(e,t,r){return t===t?EB(e,t,r):OB(e,PB,r)}var CB=kB,TB=CB;function $B(e,t){var r=e==null?0:e.length;return!!r&&TB(e,t,0)>-1}var DB=$B;function IB(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var MB=IB;function RB(){}var LB=RB,cm=F4,UB=LB,FB=Bv,BB=1/0,zB=cm&&1/FB(new cm([,-0]))[1]==BB?function(e){return new cm(e)}:UB,qB=zB,WB=k4,HB=DB,KB=MB,VB=T4,GB=qB,QB=Bv,YB=200;function XB(e,t,r){var n=-1,s=HB,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=KB;else if(i>=YB){var u=t?null:GB(e);if(u)return QB(u);o=!1,s=VB,c=new WB}else c=t?[]:l;e:for(;++n<i;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,o&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),l.push(f)}else s(c,d,r)||(c!==l&&c.push(d),l.push(f))}return l}var ZB=XB,JB=Tn,ez=ZB;function tz(e,t){return e&&e.length?ez(e,JB(t)):[]}var rz=tz;const f1=De(rz);function K4(e,t,r){return t===!0?f1(e,r):ue(t)?f1(e,t):e}function Ji(e){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}var nz=["ref"];function h1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h1(Object(r),!0).forEach(function(n){Bh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,G4(n.key),n)}}function az(e,t,r){return t&&p1(e.prototype,t),r&&p1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function iz(e,t,r){return t=tf(t),oz(e,V4()?Reflect.construct(t,r||[],tf(e).constructor):t.apply(e,r))}function oz(e,t){if(t&&(Ji(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lz(e)}function lz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V4(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(V4=function(){return!!e})()}function tf(e){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tf(e)}function cz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&n0(e,t)}function n0(e,t){return n0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},n0(e,t)}function Bh(e,t,r){return t=G4(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function G4(e){var t=uz(e,"string");return Ji(t)=="symbol"?t:t+""}function uz(e,t){if(Ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dz(e,t){if(e==null)return{};var r=fz(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function hz(e){return e.value}function pz(e,t){if(T.isValidElement(e))return T.cloneElement(e,t);if(typeof e=="function")return T.createElement(e,t);t.ref;var r=dz(t,nz);return T.createElement(Fv,r)}var m1=1,Ui=function(e){function t(){var r;sz(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=iz(this,t,[].concat(s)),Bh(r,"lastBoundingBox",{width:-1,height:-1}),r}return cz(t,e),az(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>m1||Math.abs(s.height-this.lastBoundingBox.height)>m1)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Dn({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,f=s.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();h={top:((f||0)-b.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Dn(Dn({},d),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,f=s.payload,d=Dn(Dn({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return T.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},pz(i,Dn(Dn({},this.props),{},{payload:K4(f,u,hz)})))}}],[{key:"getWithHeight",value:function(n,s){var i=Dn(Dn({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Y(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(O.PureComponent);Bh(Ui,"displayName","Legend");Bh(Ui,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var g1=tu,mz=zv,gz=gr,x1=g1?g1.isConcatSpreadable:void 0;function xz(e){return gz(e)||mz(e)||!!(x1&&e&&e[x1])}var vz=xz,yz=D4,bz=vz;function Q4(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=bz),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?Q4(l,t-1,r,n,s):yz(s,l):n||(s[s.length]=l)}return s}var Y4=Q4;function wz(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var jz=wz,_z=jz,Sz=_z(),Nz=Sz,Az=Nz,Oz=Fh;function Pz(e,t){return e&&Az(e,t,Oz)}var X4=Pz,Ez=nu;function kz(e,t){return function(r,n){if(r==null)return r;if(!Ez(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var Cz=kz,Tz=X4,$z=Cz,Dz=$z(Tz),Kv=Dz,Iz=Kv,Mz=nu;function Rz(e,t){var r=-1,n=Mz(e)?Array(e.length):[];return Iz(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var Z4=Rz;function Lz(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Uz=Lz,v1=$o;function Fz(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=v1(e),o=t!==void 0,l=t===null,c=t===t,u=v1(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var Bz=Fz,zz=Bz;function qz(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=zz(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Wz=qz,um=kv,Hz=Cv,Kz=Tn,Vz=Z4,Gz=Uz,Qz=R4,Yz=Wz,Xz=Bo,Zz=gr;function Jz(e,t,r){t.length?t=um(t,function(i){return Zz(i)?function(o){return Hz(o,i.length===1?i[0]:i)}:i}):t=[Xz];var n=-1;t=um(t,Qz(Kz));var s=Vz(e,function(i,o,l){var c=um(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return Gz(s,function(i,o){return Yz(i,o,r)})}var eq=Jz;function tq(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var rq=tq,nq=rq,y1=Math.max;function sq(e,t,r){return t=y1(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=y1(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),nq(e,this,l)}}var aq=sq;function iq(e){return function(){return e}}var oq=iq,lq=Ga,cq=function(){try{var e=lq(Object,"defineProperty");return e({},"",{}),e}catch{}}(),J4=cq,uq=oq,b1=J4,dq=Bo,fq=b1?function(e,t){return b1(e,"toString",{configurable:!0,enumerable:!1,value:uq(t),writable:!0})}:dq,hq=fq,pq=800,mq=16,gq=Date.now;function xq(e){var t=0,r=0;return function(){var n=gq(),s=mq-(n-r);if(r=n,s>0){if(++t>=pq)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var vq=xq,yq=hq,bq=vq,wq=bq(yq),jq=wq,_q=Bo,Sq=aq,Nq=jq;function Aq(e,t){return Nq(Sq(e,t,_q),e+"")}var Oq=Aq,Pq=Av,Eq=nu,kq=qv,Cq=Qs;function Tq(e,t,r){if(!Cq(r))return!1;var n=typeof t;return(n=="number"?Eq(r)&&kq(t,r.length):n=="string"&&t in r)?Pq(r[t],e):!1}var zh=Tq,$q=Y4,Dq=eq,Iq=Oq,w1=zh,Mq=Iq(function(e,t){if(e==null)return[];var r=t.length;return r>1&&w1(e,t[0],t[1])?t=[]:r>2&&w1(t[0],t[1],t[2])&&(t=[t[0]]),Dq(e,$q(t,1),[])}),Rq=Mq;const Vv=De(Rq);function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function s0(){return s0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s0.apply(this,arguments)}function Lq(e,t){return zq(e)||Bq(e,t)||Fq(e,t)||Uq()}function Uq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fq(e,t){if(e){if(typeof e=="string")return j1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j1(e,t)}}function j1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function zq(e){if(Array.isArray(e))return e}function _1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_1(Object(r),!0).forEach(function(n){qq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qq(e,t,r){return t=Wq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wq(e){var t=Hq(e,"string");return fc(t)=="symbol"?t:t+""}function Hq(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kq(e){return Array.isArray(e)&&jt(e[0])&&jt(e[1])?e.join(" ~ "):e}var Vq=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,b=t.labelClassName,w=t.label,v=t.labelFormatter,j=t.accessibilityLayer,y=j===void 0?!1:j,x=function(){if(f&&f.length){var k={padding:0,margin:0},I=(h?Vv(f,h):f).map(function($,R){if($.type==="none")return null;var C=dm({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},l),U=$.formatter||d||Kq,D=$.value,L=$.name,q=D,Q=L;if(U&&q!=null&&Q!=null){var H=U(D,L,$,R,f);if(Array.isArray(H)){var ee=Lq(H,2);q=ee[0],Q=ee[1]}else q=H}return T.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:C},jt(Q)?T.createElement("span",{className:"recharts-tooltip-item-name"},Q):null,jt(Q)?T.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,T.createElement("span",{className:"recharts-tooltip-item-value"},q),T.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return T.createElement("ul",{className:"recharts-tooltip-item-list",style:k},I)}return null},_=dm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),m=dm({margin:0},u),g=!fe(w),N=g?w:"",S=ge("recharts-default-tooltip",p),A=ge("recharts-tooltip-label",b);g&&v&&f!==void 0&&f!==null&&(N=v(w,f));var P=y?{role:"status","aria-live":"assertive"}:{};return T.createElement("div",s0({className:S,style:_},P),T.createElement("p",{className:A,style:m},T.isValidElement(N)?N:"".concat(N)),x())};function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function Lu(e,t,r){return t=Gq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gq(e){var t=Qq(e,"string");return hc(t)=="symbol"?t:t+""}function Qq(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var il="recharts-tooltip-wrapper",Yq={visibility:"hidden"};function Xq(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return ge(il,Lu(Lu(Lu(Lu({},"".concat(il,"-right"),Y(r)&&t&&Y(t.x)&&r>=t.x),"".concat(il,"-left"),Y(r)&&t&&Y(t.x)&&r<t.x),"".concat(il,"-bottom"),Y(n)&&t&&Y(t.y)&&n>=t.y),"".concat(il,"-top"),Y(n)&&t&&Y(t.y)&&n<t.y))}function S1(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&Y(i[n]))return i[n];var f=r[n]-l-s,d=r[n]+s;if(t[n])return o[n]?f:d;if(o[n]){var h=f,p=c[n];return h<p?Math.max(d,c[n]):Math.max(f,c[n])}var b=d+l,w=c[n]+u;return b>w?Math.max(f,c[n]):Math.max(d,c[n])}function Zq(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function Jq(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,d;return o.height>0&&o.width>0&&r?(f=S1({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=S1({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=Zq({translateX:f,translateY:d,useTranslate3d:l})):u=Yq,{cssProperties:u,cssClasses:Xq({translateX:f,translateY:d,coordinate:r})}}function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function N1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function A1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N1(Object(r),!0).forEach(function(n){i0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,tO(n.key),n)}}function rW(e,t,r){return t&&tW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nW(e,t,r){return t=rf(t),sW(e,eO()?Reflect.construct(t,r||[],rf(e).constructor):t.apply(e,r))}function sW(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aW(e)}function aW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eO=function(){return!!e})()}function rf(e){return rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rf(e)}function iW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a0(e,t)}function a0(e,t){return a0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},a0(e,t)}function i0(e,t,r){return t=tO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tO(e){var t=oW(e,"string");return eo(t)=="symbol"?t:t+""}function oW(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O1=1,lW=function(e){function t(){var r;eW(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=nW(this,t,[].concat(s)),i0(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),i0(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return iW(t,e),rW(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>O1||Math.abs(n.height-this.state.lastBoundingBox.height)>O1)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,f=s.coordinate,d=s.hasPayload,h=s.isAnimationActive,p=s.offset,b=s.position,w=s.reverseDirection,v=s.useTranslate3d,j=s.viewBox,y=s.wrapperStyle,x=Jq({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:p,position:b,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:j}),_=x.cssClasses,m=x.cssProperties,g=A1(A1({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},m),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},y);return T.createElement("div",{tabIndex:-1,className:_,style:g,ref:function(S){n.wrapperNode=S}},u)}}])}(O.PureComponent),cW=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},An={isSsr:cW(),get:function(t){return An[t]},set:function(t,r){if(typeof t=="string")An[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(s){An[s]=t[s]})}}};function to(e){"@babel/helpers - typeof";return to=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},to(e)}function P1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function E1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P1(Object(r),!0).forEach(function(n){Gv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nO(n.key),n)}}function fW(e,t,r){return t&&dW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function hW(e,t,r){return t=nf(t),pW(e,rO()?Reflect.construct(t,r||[],nf(e).constructor):t.apply(e,r))}function pW(e,t){if(t&&(to(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mW(e)}function mW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rO=function(){return!!e})()}function nf(e){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nf(e)}function gW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o0(e,t)}function o0(e,t){return o0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},o0(e,t)}function Gv(e,t,r){return t=nO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nO(e){var t=xW(e,"string");return to(t)=="symbol"?t:t+""}function xW(e,t){if(to(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(to(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vW(e){return e.dataKey}function yW(e,t){return T.isValidElement(e)?T.cloneElement(e,t):typeof e=="function"?T.createElement(e,t):T.createElement(Vq,t)}var We=function(e){function t(){return uW(this,t),hW(this,t,arguments)}return gW(t,e),fW(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,f=s.coordinate,d=s.filterNull,h=s.isAnimationActive,p=s.offset,b=s.payload,w=s.payloadUniqBy,v=s.position,j=s.reverseDirection,y=s.useTranslate3d,x=s.viewBox,_=s.wrapperStyle,m=b??[];d&&m.length&&(m=K4(b.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),w,vW));var g=m.length>0;return T.createElement(lW,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:f,hasPayload:g,offset:p,position:v,reverseDirection:j,useTranslate3d:y,viewBox:x,wrapperStyle:_},yW(u,E1(E1({},this.props),{},{payload:m})))}}])}(O.PureComponent);Gv(We,"displayName","Tooltip");Gv(We,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!An.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var bW=Cn,wW=function(){return bW.Date.now()},jW=wW,_W=/\s/;function SW(e){for(var t=e.length;t--&&_W.test(e.charAt(t)););return t}var NW=SW,AW=NW,OW=/^\s+/;function PW(e){return e&&e.slice(0,AW(e)+1).replace(OW,"")}var EW=PW,kW=EW,k1=Qs,CW=$o,C1=NaN,TW=/^[-+]0x[0-9a-f]+$/i,$W=/^0b[01]+$/i,DW=/^0o[0-7]+$/i,IW=parseInt;function MW(e){if(typeof e=="number")return e;if(CW(e))return C1;if(k1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=k1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=kW(e);var r=$W.test(e);return r||DW.test(e)?IW(e.slice(2),r?2:8):TW.test(e)?C1:+e}var sO=MW,RW=Qs,fm=jW,T1=sO,LW="Expected a function",UW=Math.max,FW=Math.min;function BW(e,t,r){var n,s,i,o,l,c,u=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(LW);t=T1(t)||0,RW(r)&&(f=!!r.leading,d="maxWait"in r,i=d?UW(T1(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(g){var N=n,S=s;return n=s=void 0,u=g,o=e.apply(S,N),o}function b(g){return u=g,l=setTimeout(j,t),f?p(g):o}function w(g){var N=g-c,S=g-u,A=t-N;return d?FW(A,i-S):A}function v(g){var N=g-c,S=g-u;return c===void 0||N>=t||N<0||d&&S>=i}function j(){var g=fm();if(v(g))return y(g);l=setTimeout(j,w(g))}function y(g){return l=void 0,h&&n?p(g):(n=s=void 0,o)}function x(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function _(){return l===void 0?o:y(fm())}function m(){var g=fm(),N=v(g);if(n=arguments,s=this,c=g,N){if(l===void 0)return b(c);if(d)return clearTimeout(l),l=setTimeout(j,t),p(c)}return l===void 0&&(l=setTimeout(j,t)),o}return m.cancel=x,m.flush=_,m}var zW=BW,qW=zW,WW=Qs,HW="Expected a function";function KW(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(HW);return WW(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),qW(e,t,{leading:n,maxWait:t,trailing:s})}var VW=KW;const aO=De(VW);function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function $1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Uu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$1(Object(r),!0).forEach(function(n){GW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GW(e,t,r){return t=QW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QW(e){var t=YW(e,"string");return pc(t)=="symbol"?t:t+""}function YW(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XW(e,t){return tH(e)||eH(e,t)||JW(e,t)||ZW()}function ZW(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JW(e,t){if(e){if(typeof e=="string")return D1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D1(e,t)}}function D1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function eH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function tH(e){if(Array.isArray(e))return e}var Rt=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,h=e.maxHeight,p=e.children,b=e.debounce,w=b===void 0?0:b,v=e.id,j=e.className,y=e.onResize,x=e.style,_=x===void 0?{}:x,m=O.useRef(null),g=O.useRef();g.current=y,O.useImperativeHandle(t,function(){return Object.defineProperty(m.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),m.current},configurable:!0})});var N=O.useState({containerWidth:s.width,containerHeight:s.height}),S=XW(N,2),A=S[0],P=S[1],E=O.useCallback(function(I,$){P(function(R){var C=Math.round(I),U=Math.round($);return R.containerWidth===C&&R.containerHeight===U?R:{containerWidth:C,containerHeight:U}})},[]);O.useEffect(function(){var I=function(L){var q,Q=L[0].contentRect,H=Q.width,ee=Q.height;E(H,ee),(q=g.current)===null||q===void 0||q.call(g,H,ee)};w>0&&(I=aO(I,w,{trailing:!0,leading:!1}));var $=new ResizeObserver(I),R=m.current.getBoundingClientRect(),C=R.width,U=R.height;return E(C,U),$.observe(m.current),function(){$.disconnect()}},[E,w]);var k=O.useMemo(function(){var I=A.containerWidth,$=A.containerHeight;if(I<0||$<0)return null;hn(va(o)||va(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),hn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var R=va(o)?I:o,C=va(c)?$:c;r&&r>0&&(R?C=R/r:C&&(R=C*r),h&&C>h&&(C=h)),hn(R>0||C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,C,o,c,f,d,r);var U=!Array.isArray(p)&&Kn(p.type).endsWith("Chart");return T.Children.map(p,function(D){return T.isValidElement(D)?O.cloneElement(D,Uu({width:R,height:C},U?{style:Uu({height:"100%",width:"100%",maxHeight:C,maxWidth:R},D.props.style)}:{})):D})},[r,p,c,h,d,f,A,o]);return T.createElement("div",{id:v?"".concat(v):void 0,className:ge("recharts-responsive-container",j),style:Uu(Uu({},_),{},{width:o,height:c,minWidth:f,minHeight:d,maxHeight:h}),ref:m},k)}),Ys=function(t){return null};Ys.displayName="Cell";function mc(e){"@babel/helpers - typeof";return mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mc(e)}function I1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function l0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I1(Object(r),!0).forEach(function(n){rH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rH(e,t,r){return t=nH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nH(e){var t=sH(e,"string");return mc(t)=="symbol"?t:t+""}function sH(e,t){if(mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ii={widthCache:{},cacheCount:0},aH=2e3,iH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},M1="recharts_measurement_span";function oH(e){var t=l0({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var $l=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||An.isSsr)return{width:0,height:0};var n=oH(r),s=JSON.stringify({text:t,copyStyle:n});if(ii.widthCache[s])return ii.widthCache[s];try{var i=document.getElementById(M1);i||(i=document.createElement("span"),i.setAttribute("id",M1),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=l0(l0({},iH),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return ii.widthCache[s]=c,++ii.cacheCount>aH&&(ii.cacheCount=0,ii.widthCache={}),c}catch{return{width:0,height:0}}},lH=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function gc(e){"@babel/helpers - typeof";return gc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gc(e)}function sf(e,t){return fH(e)||dH(e,t)||uH(e,t)||cH()}function cH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uH(e,t){if(e){if(typeof e=="string")return R1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R1(e,t)}}function R1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function fH(e){if(Array.isArray(e))return e}function hH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,mH(n.key),n)}}function pH(e,t,r){return t&&L1(e.prototype,t),r&&L1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function mH(e){var t=gH(e,"string");return gc(t)=="symbol"?t:t+""}function gH(e,t){if(gc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var U1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,F1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,xH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,vH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,iO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},yH=Object.keys(iO),Ni="NaN";function bH(e,t){return e*iO[t]}var Fu=function(){function e(t,r){hH(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!xH.test(r)&&(this.num=NaN,this.unit=""),yH.includes(r)&&(this.num=bH(t,r),this.unit="px")}return pH(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=vH.exec(r))!==null&&n!==void 0?n:[],i=sf(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function oO(e){if(e.includes(Ni))return Ni;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=U1.exec(t))!==null&&r!==void 0?r:[],s=sf(n,4),i=s[1],o=s[2],l=s[3],c=Fu.parse(i??""),u=Fu.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Ni;t=t.replace(U1,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=F1.exec(t))!==null&&d!==void 0?d:[],p=sf(h,4),b=p[1],w=p[2],v=p[3],j=Fu.parse(b??""),y=Fu.parse(v??""),x=w==="+"?j.add(y):j.subtract(y);if(x.isNaN())return Ni;t=t.replace(F1,x.toString())}return t}var B1=/\(([^()]*)\)/;function wH(e){for(var t=e;t.includes("(");){var r=B1.exec(t),n=sf(r,2),s=n[1];t=t.replace(B1,oO(s))}return t}function jH(e){var t=e.replace(/\s+/g,"");return t=wH(t),t=oO(t),t}function _H(e){try{return jH(e)}catch{return Ni}}function hm(e){var t=_H(e.slice(5,-1));return t===Ni?"":t}var SH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],NH=["dx","dy","angle","className","breakAll"];function c0(){return c0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c0.apply(this,arguments)}function z1(e,t){if(e==null)return{};var r=AH(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function AH(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function q1(e,t){return kH(e)||EH(e,t)||PH(e,t)||OH()}function OH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PH(e,t){if(e){if(typeof e=="string")return W1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return W1(e,t)}}function W1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function EH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function kH(e){if(Array.isArray(e))return e}var lO=/[ \f\n\r\t\v\u2028\u2029]+/,cO=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];fe(r)||(n?i=r.toString().split(""):i=r.toString().split(lO));var o=i.map(function(c){return{word:c,width:$l(c,s).width}}),l=n?0:$l("",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},CH=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=Y(o),d=l,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function(C,U){var D=U.word,L=U.width,q=C[C.length-1];if(q&&(s==null||i||q.width+L+n<Number(s)))q.words.push(D),q.width+=L+n;else{var Q={words:[D],width:L};C.push(Q)}return C},[])},p=h(r),b=function(R){return R.reduce(function(C,U){return C.width>U.width?C:U})};if(!f)return p;for(var w="",v=function(R){var C=d.slice(0,R),U=cO({breakAll:u,style:c,children:C+w}).wordsWithComputedWidth,D=h(U),L=D.length>o||b(D).width>Number(s);return[L,D]},j=0,y=d.length-1,x=0,_;j<=y&&x<=d.length-1;){var m=Math.floor((j+y)/2),g=m-1,N=v(g),S=q1(N,2),A=S[0],P=S[1],E=v(m),k=q1(E,1),I=k[0];if(!A&&!I&&(j=m+1),A&&I&&(y=m-1),!A&&I){_=P;break}x++}return _||p},H1=function(t){var r=fe(t)?[]:t.toString().split(lO);return[{words:r}]},TH=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!An.isSsr){var c,u,f=cO({breakAll:o,children:s,style:i});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;c=d,u=h}else return H1(s);return CH({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return H1(s)},K1="#808080",Fa=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,b=t.verticalAnchor,w=b===void 0?"end":b,v=t.fill,j=v===void 0?K1:v,y=z1(t,SH),x=O.useMemo(function(){return TH({breakAll:y.breakAll,children:y.children,maxLines:y.maxLines,scaleToFit:d,style:y.style,width:y.width})},[y.breakAll,y.children,y.maxLines,d,y.style,y.width]),_=y.dx,m=y.dy,g=y.angle,N=y.className,S=y.breakAll,A=z1(y,NH);if(!jt(n)||!jt(i))return null;var P=n+(Y(_)?_:0),E=i+(Y(m)?m:0),k;switch(w){case"start":k=hm("calc(".concat(u,")"));break;case"middle":k=hm("calc(".concat((x.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:k=hm("calc(".concat(x.length-1," * -").concat(l,")"));break}var I=[];if(d){var $=x[0].width,R=y.width;I.push("scale(".concat((Y(R)?R/$:1)/$,")"))}return g&&I.push("rotate(".concat(g,", ").concat(P,", ").concat(E,")")),I.length&&(A.transform=I.join(" ")),T.createElement("text",c0({},ie(A,!0),{x:P,y:E,className:ge("recharts-text",N),textAnchor:p,fill:j.includes("url")?K1:j}),x.map(function(C,U){var D=C.words.join(S?"":" ");return T.createElement("tspan",{x:P,dy:U===0?k:l,key:"".concat(D,"-").concat(U)},D)}))};function Fs(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $H(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qv(e){let t,r,n;e.length!==2?(t=Fs,r=(l,c)=>Fs(e(l),c),n=(l,c)=>e(l)-c):(t=e===Fs||e===$H?e:DH,r=e,n=e);function s(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function i(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function o(l,c,u=0,f=l.length){const d=s(l,c,u,f-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:s,center:o,right:i}}function DH(){return 0}function uO(e){return e===null?NaN:+e}function*IH(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const MH=Qv(Fs),su=MH.right;Qv(uO).center;class V1 extends Map{constructor(t,r=UH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(G1(this,t))}has(t){return super.has(G1(this,t))}set(t,r){return super.set(RH(this,t),r)}delete(t){return super.delete(LH(this,t))}}function G1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function RH({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function LH({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function UH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function FH(e=Fs){if(e===Fs)return dO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function dO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const BH=Math.sqrt(50),zH=Math.sqrt(10),qH=Math.sqrt(2);function af(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=BH?10:i>=zH?5:i>=qH?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?af(e,t,r*2):[l,c,u]}function u0(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?af(t,e,r):af(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function d0(e,t,r){return t=+t,e=+e,r=+r,af(e,t,r)[2]}function f0(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?d0(t,e,r):d0(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function Q1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Y1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function fO(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?dO:FH(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(c-d)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*d/c+h)),b=Math.min(n,Math.floor(t+(c-u)*d/c+h));fO(e,t,p,b,s)}const i=e[t];let o=r,l=n;for(ol(e,r,t),s(e[n],i)>0&&ol(e,r,n);o<l;){for(ol(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?ol(e,r,l):(++l,ol(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function ol(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function WH(e,t,r){if(e=Float64Array.from(IH(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Y1(e);if(t>=1)return Q1(e);var n,s=(n-1)*t,i=Math.floor(s),o=Q1(fO(e,i).subarray(0,i+1)),l=Y1(e.subarray(i+1));return o+(l-o)*(s-i)}}function HH(e,t,r=uO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function KH(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Yr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function os(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const h0=Symbol("implicit");function Yv(){var e=new V1,t=[],r=[],n=h0;function s(i){let o=e.get(i);if(o===void 0){if(n!==h0)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new V1;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Yv(t,r).unknown(n)},Yr.apply(s,arguments),s}function xc(){var e=Yv().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var h=t().length,p=s<n,b=p?s:n,w=p?n:s;i=(w-b)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),b+=(w-b-i*(h-c))*f,o=i*(1-c),l&&(b=Math.round(b),o=Math.round(o));var v=KH(h).map(function(j){return b+i*j});return r(p?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,d()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return xc(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(f)},Yr.apply(d(),arguments)}function hO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return hO(t())},e}function Dl(){return hO(xc.apply(null,arguments).paddingInner(1))}function Xv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function pO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function au(){}var vc=.7,of=1/vc,Fi="\\s*([+-]?\\d+)\\s*",yc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",On="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",VH=/^#([0-9a-f]{3,8})$/,GH=new RegExp(`^rgb\\(${Fi},${Fi},${Fi}\\)$`),QH=new RegExp(`^rgb\\(${On},${On},${On}\\)$`),YH=new RegExp(`^rgba\\(${Fi},${Fi},${Fi},${yc}\\)$`),XH=new RegExp(`^rgba\\(${On},${On},${On},${yc}\\)$`),ZH=new RegExp(`^hsl\\(${yc},${On},${On}\\)$`),JH=new RegExp(`^hsla\\(${yc},${On},${On},${yc}\\)$`),X1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Xv(au,bc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Z1,formatHex:Z1,formatHex8:eK,formatHsl:tK,formatRgb:J1,toString:J1});function Z1(){return this.rgb().formatHex()}function eK(){return this.rgb().formatHex8()}function tK(){return mO(this).formatHsl()}function J1(){return this.rgb().formatRgb()}function bc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=VH.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?ej(t):r===3?new fr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Bu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Bu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=GH.exec(e))?new fr(t[1],t[2],t[3],1):(t=QH.exec(e))?new fr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=YH.exec(e))?Bu(t[1],t[2],t[3],t[4]):(t=XH.exec(e))?Bu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=ZH.exec(e))?nj(t[1],t[2]/100,t[3]/100,1):(t=JH.exec(e))?nj(t[1],t[2]/100,t[3]/100,t[4]):X1.hasOwnProperty(e)?ej(X1[e]):e==="transparent"?new fr(NaN,NaN,NaN,0):null}function ej(e){return new fr(e>>16&255,e>>8&255,e&255,1)}function Bu(e,t,r,n){return n<=0&&(e=t=r=NaN),new fr(e,t,r,n)}function rK(e){return e instanceof au||(e=bc(e)),e?(e=e.rgb(),new fr(e.r,e.g,e.b,e.opacity)):new fr}function p0(e,t,r,n){return arguments.length===1?rK(e):new fr(e,t,r,n??1)}function fr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Xv(fr,p0,pO(au,{brighter(e){return e=e==null?of:Math.pow(of,e),new fr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vc:Math.pow(vc,e),new fr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new fr(Na(this.r),Na(this.g),Na(this.b),lf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:tj,formatHex:tj,formatHex8:nK,formatRgb:rj,toString:rj}));function tj(){return`#${ya(this.r)}${ya(this.g)}${ya(this.b)}`}function nK(){return`#${ya(this.r)}${ya(this.g)}${ya(this.b)}${ya((isNaN(this.opacity)?1:this.opacity)*255)}`}function rj(){const e=lf(this.opacity);return`${e===1?"rgb(":"rgba("}${Na(this.r)}, ${Na(this.g)}, ${Na(this.b)}${e===1?")":`, ${e})`}`}function lf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Na(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ya(e){return e=Na(e),(e<16?"0":"")+e.toString(16)}function nj(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ln(e,t,r,n)}function mO(e){if(e instanceof ln)return new ln(e.h,e.s,e.l,e.opacity);if(e instanceof au||(e=bc(e)),!e)return new ln;if(e instanceof ln)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new ln(o,l,c,e.opacity)}function sK(e,t,r,n){return arguments.length===1?mO(e):new ln(e,t,r,n??1)}function ln(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Xv(ln,sK,pO(au,{brighter(e){return e=e==null?of:Math.pow(of,e),new ln(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vc:Math.pow(vc,e),new ln(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new fr(pm(e>=240?e-240:e+120,s,n),pm(e,s,n),pm(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new ln(sj(this.h),zu(this.s),zu(this.l),lf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lf(this.opacity);return`${e===1?"hsl(":"hsla("}${sj(this.h)}, ${zu(this.s)*100}%, ${zu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function sj(e){return e=(e||0)%360,e<0?e+360:e}function zu(e){return Math.max(0,Math.min(1,e||0))}function pm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Zv=e=>()=>e;function aK(e,t){return function(r){return e+r*t}}function iK(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function oK(e){return(e=+e)==1?gO:function(t,r){return r-t?iK(t,r,e):Zv(isNaN(t)?r:t)}}function gO(e,t){var r=t-e;return r?aK(e,r):Zv(isNaN(e)?t:e)}const aj=function e(t){var r=oK(t);function n(s,i){var o=r((s=p0(s)).r,(i=p0(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=gO(s.opacity,i.opacity);return function(f){return s.r=o(f),s.g=l(f),s.b=c(f),s.opacity=u(f),s+""}}return n.gamma=e,n}(1);function lK(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function cK(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function uK(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=zo(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function dK(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function cf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function fK(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=zo(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var m0=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mm=new RegExp(m0.source,"g");function hK(e){return function(){return e}}function pK(e){return function(t){return e(t)+""}}function mK(e,t){var r=m0.lastIndex=mm.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=m0.exec(e))&&(s=mm.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:cf(n,s)})),r=mm.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?pK(c[0].x):hK(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function zo(e,t){var r=typeof t,n;return t==null||r==="boolean"?Zv(t):(r==="number"?cf:r==="string"?(n=bc(t))?(t=n,aj):mK:t instanceof bc?aj:t instanceof Date?dK:cK(t)?lK:Array.isArray(t)?uK:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?fK:cf)(e,t)}function Jv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function gK(e,t){t===void 0&&(t=e,e=zo);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function xK(e){return function(){return e}}function uf(e){return+e}var ij=[0,1];function rr(e){return e}function g0(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:xK(isNaN(t)?NaN:.5)}function vK(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function yK(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=g0(s,n),i=r(o,i)):(n=g0(n,s),i=r(i,o)),function(l){return i(n(l))}}function bK(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=g0(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=su(e,l,1,n)-1;return i[c](s[c](l))}}function iu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function qh(){var e=ij,t=ij,r=zo,n,s,i,o=rr,l,c,u;function f(){var h=Math.min(e.length,t.length);return o!==rr&&(o=vK(e[0],e[h-1])),l=h>2?bK:yK,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return d.invert=function(h){return o(s((u||(u=l(t,e.map(n),cf)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,uf),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=Jv,f()},d.clamp=function(h){return arguments.length?(o=h?!0:rr,f()):o!==rr},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,p){return n=h,s=p,f()}}function ey(){return qh()(rr,rr)}function wK(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function df(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function ro(e){return e=df(Math.abs(e)),e?e[1]:NaN}function jK(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function _K(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var SK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wc(e){if(!(t=SK.exec(e)))throw new Error("invalid format: "+e);var t;return new ty({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}wc.prototype=ty.prototype;function ty(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ty.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function NK(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var xO;function AK(e,t){var r=df(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(xO=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+df(e,Math.max(0,t+i-1))[0]}function oj(e,t){var r=df(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const lj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:wK,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>oj(e*100,t),r:oj,s:AK,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function cj(e){return e}var uj=Array.prototype.map,dj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function OK(e){var t=e.grouping===void 0||e.thousands===void 0?cj:jK(uj.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?cj:_K(uj.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=wc(d);var h=d.fill,p=d.align,b=d.sign,w=d.symbol,v=d.zero,j=d.width,y=d.comma,x=d.precision,_=d.trim,m=d.type;m==="n"?(y=!0,m="g"):lj[m]||(x===void 0&&(x=12),_=!0,m="g"),(v||h==="0"&&p==="=")&&(v=!0,h="0",p="=");var g=w==="$"?r:w==="#"&&/[boxX]/.test(m)?"0"+m.toLowerCase():"",N=w==="$"?n:/[%p]/.test(m)?o:"",S=lj[m],A=/[defgprs%]/.test(m);x=x===void 0?6:/[gprs]/.test(m)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function P(E){var k=g,I=N,$,R,C;if(m==="c")I=S(E)+I,E="";else{E=+E;var U=E<0||1/E<0;if(E=isNaN(E)?c:S(Math.abs(E),x),_&&(E=NK(E)),U&&+E==0&&b!=="+"&&(U=!1),k=(U?b==="("?b:l:b==="-"||b==="("?"":b)+k,I=(m==="s"?dj[8+xO/3]:"")+I+(U&&b==="("?")":""),A){for($=-1,R=E.length;++$<R;)if(C=E.charCodeAt($),48>C||C>57){I=(C===46?s+E.slice($+1):E.slice($))+I,E=E.slice(0,$);break}}}y&&!v&&(E=t(E,1/0));var D=k.length+E.length+I.length,L=D<j?new Array(j-D+1).join(h):"";switch(y&&v&&(E=t(L+E,L.length?j-I.length:1/0),L=""),p){case"<":E=k+E+I+L;break;case"=":E=k+L+E+I;break;case"^":E=L.slice(0,D=L.length>>1)+k+E+I+L.slice(D);break;default:E=L+k+E+I;break}return i(E)}return P.toString=function(){return d+""},P}function f(d,h){var p=u((d=wc(d),d.type="f",d)),b=Math.max(-8,Math.min(8,Math.floor(ro(h)/3)))*3,w=Math.pow(10,-b),v=dj[8+b/3];return function(j){return p(w*j)+v}}return{format:u,formatPrefix:f}}var qu,ry,vO;PK({thousands:",",grouping:[3],currency:["$",""]});function PK(e){return qu=OK(e),ry=qu.format,vO=qu.formatPrefix,qu}function EK(e){return Math.max(0,-ro(Math.abs(e)))}function kK(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ro(t)/3)))*3-ro(Math.abs(e)))}function CK(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ro(t)-ro(e))+1}function yO(e,t,r,n){var s=f0(e,t,r),i;switch(n=wc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=kK(s,o))&&(n.precision=i),vO(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=CK(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=EK(s))&&(n.precision=i-(n.type==="%")*2);break}}return ry(n)}function Xs(e){var t=e.domain;return e.ticks=function(r){var n=t();return u0(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return yO(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);f-- >0;){if(u=d0(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function ff(){var e=ey();return e.copy=function(){return iu(e,ff())},Yr.apply(e,arguments),Xs(e)}function bO(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,uf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return bO(e).unknown(t)},e=arguments.length?Array.from(e,uf):[0,1],Xs(r)}function wO(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function fj(e){return Math.log(e)}function hj(e){return Math.exp(e)}function TK(e){return-Math.log(-e)}function $K(e){return-Math.exp(-e)}function DK(e){return isFinite(e)?+("1e"+e):e<0?0:e}function IK(e){return e===10?DK:e===Math.E?Math.exp:t=>Math.pow(e,t)}function MK(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function pj(e){return(t,r)=>-e(-t,r)}function ny(e){const t=e(fj,hj),r=t.domain;let n=10,s,i;function o(){return s=MK(n),i=IK(n),r()[0]<0?(s=pj(s),i=pj(i),e(TK,$K)):e(fj,hj),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const d=f<u;d&&([u,f]=[f,u]);let h=s(u),p=s(f),b,w;const v=l==null?10:+l;let j=[];if(!(n%1)&&p-h<v){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(b=1;b<n;++b)if(w=h<0?b/i(-h):b*i(h),!(w<u)){if(w>f)break;j.push(w)}}else for(;h<=p;++h)for(b=n-1;b>=1;--b)if(w=h>0?b/i(-h):b*i(h),!(w<u)){if(w>f)break;j.push(w)}j.length*2<v&&(j=u0(u,f,v))}else j=u0(h,p,Math.min(p-h,v)).map(i);return d?j.reverse():j},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=wc(c)).precision==null&&(c.trim=!0),c=ry(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let d=f/i(Math.round(s(f)));return d*n<n-.5&&(d*=n),d<=u?c(f):""}},t.nice=()=>r(wO(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function jO(){const e=ny(qh()).domain([1,10]);return e.copy=()=>iu(e,jO()).base(e.base()),Yr.apply(e,arguments),e}function mj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function gj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function sy(e){var t=1,r=e(mj(t),gj(t));return r.constant=function(n){return arguments.length?e(mj(t=+n),gj(t)):t},Xs(r)}function _O(){var e=sy(qh());return e.copy=function(){return iu(e,_O()).constant(e.constant())},Yr.apply(e,arguments)}function xj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function RK(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function LK(e){return e<0?-e*e:e*e}function ay(e){var t=e(rr,rr),r=1;function n(){return r===1?e(rr,rr):r===.5?e(RK,LK):e(xj(r),xj(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Xs(t)}function iy(){var e=ay(qh());return e.copy=function(){return iu(e,iy()).exponent(e.exponent())},Yr.apply(e,arguments),e}function UK(){return iy.apply(null,arguments).exponent(.5)}function vj(e){return Math.sign(e)*e*e}function FK(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function SO(){var e=ey(),t=[0,1],r=!1,n;function s(i){var o=FK(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(vj(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,uf)).map(vj)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return SO(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Yr.apply(s,arguments),Xs(s)}function NO(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=HH(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[su(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Fs),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return NO().domain(e).range(t).unknown(n)},Yr.apply(i,arguments)}function AO(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[su(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return AO().domain([e,t]).range(s).unknown(i)},Yr.apply(Xs(o),arguments)}function OO(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[su(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return OO().domain(e).range(t).unknown(r)},Yr.apply(s,arguments)}const gm=new Date,xm=new Date;function _t(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>_t(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(gm.setTime(+i),xm.setTime(+o),e(gm),e(xm),Math.floor(r(gm,xm))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const hf=_t(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);hf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_t(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):hf);hf.range;const zn=1e3,Br=zn*60,qn=Br*60,Jn=qn*24,oy=Jn*7,yj=Jn*30,vm=Jn*365,ba=_t(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*zn)},(e,t)=>(t-e)/zn,e=>e.getUTCSeconds());ba.range;const ly=_t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zn)},(e,t)=>{e.setTime(+e+t*Br)},(e,t)=>(t-e)/Br,e=>e.getMinutes());ly.range;const cy=_t(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Br)},(e,t)=>(t-e)/Br,e=>e.getUTCMinutes());cy.range;const uy=_t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*zn-e.getMinutes()*Br)},(e,t)=>{e.setTime(+e+t*qn)},(e,t)=>(t-e)/qn,e=>e.getHours());uy.range;const dy=_t(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*qn)},(e,t)=>(t-e)/qn,e=>e.getUTCHours());dy.range;const ou=_t(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Br)/Jn,e=>e.getDate()-1);ou.range;const Wh=_t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jn,e=>e.getUTCDate()-1);Wh.range;const PO=_t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Jn,e=>Math.floor(e/Jn));PO.range;function Qa(e){return _t(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Br)/oy)}const Hh=Qa(0),pf=Qa(1),BK=Qa(2),zK=Qa(3),no=Qa(4),qK=Qa(5),WK=Qa(6);Hh.range;pf.range;BK.range;zK.range;no.range;qK.range;WK.range;function Ya(e){return _t(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/oy)}const Kh=Ya(0),mf=Ya(1),HK=Ya(2),KK=Ya(3),so=Ya(4),VK=Ya(5),GK=Ya(6);Kh.range;mf.range;HK.range;KK.range;so.range;VK.range;GK.range;const fy=_t(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());fy.range;const hy=_t(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());hy.range;const es=_t(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());es.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_t(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});es.range;const ts=_t(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ts.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_t(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ts.range;function EO(e,t,r,n,s,i){const o=[[ba,1,zn],[ba,5,5*zn],[ba,15,15*zn],[ba,30,30*zn],[i,1,Br],[i,5,5*Br],[i,15,15*Br],[i,30,30*Br],[s,1,qn],[s,3,3*qn],[s,6,6*qn],[s,12,12*qn],[n,1,Jn],[n,2,2*Jn],[r,1,oy],[t,1,yj],[t,3,3*yj],[e,1,vm]];function l(u,f,d){const h=f<u;h&&([u,f]=[f,u]);const p=d&&typeof d.range=="function"?d:c(u,f,d),b=p?p.range(u,+f+1):[];return h?b.reverse():b}function c(u,f,d){const h=Math.abs(f-u)/d,p=Qv(([,,v])=>v).right(o,h);if(p===o.length)return e.every(f0(u/vm,f/vm,d));if(p===0)return hf.every(Math.max(f0(u,f,d),1));const[b,w]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return b.every(w)}return[l,c]}const[QK,YK]=EO(ts,hy,Kh,PO,dy,cy),[XK,ZK]=EO(es,fy,Hh,ou,uy,ly);function ym(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function bm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function ll(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function JK(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=cl(s),f=ul(s),d=cl(i),h=ul(i),p=cl(o),b=ul(o),w=cl(l),v=ul(l),j=cl(c),y=ul(c),x={a:U,A:D,b:L,B:q,c:null,d:Nj,e:Nj,f:jV,g:TV,G:DV,H:yV,I:bV,j:wV,L:kO,m:_V,M:SV,p:Q,q:H,Q:Pj,s:Ej,S:NV,u:AV,U:OV,V:PV,w:EV,W:kV,x:null,X:null,y:CV,Y:$V,Z:IV,"%":Oj},_={a:ee,A:K,b:he,B:Ge,c:null,d:Aj,e:Aj,f:UV,g:QV,G:XV,H:MV,I:RV,j:LV,L:TO,m:FV,M:BV,p:$t,q:mt,Q:Pj,s:Ej,S:zV,u:qV,U:WV,V:HV,w:KV,W:VV,x:null,X:null,y:GV,Y:YV,Z:ZV,"%":Oj},m={a:P,A:E,b:k,B:I,c:$,d:_j,e:_j,f:mV,g:jj,G:wj,H:Sj,I:Sj,j:dV,L:pV,m:uV,M:fV,p:A,q:cV,Q:xV,s:vV,S:hV,u:sV,U:aV,V:iV,w:nV,W:oV,x:R,X:C,y:jj,Y:wj,Z:lV,"%":gV};x.x=g(r,x),x.X=g(n,x),x.c=g(t,x),_.x=g(r,_),_.X=g(n,_),_.c=g(t,_);function g(J,de){return function(pe){var W=[],Le=-1,ve=0,Ue=J.length,ke,St,Xt;for(pe instanceof Date||(pe=new Date(+pe));++Le<Ue;)J.charCodeAt(Le)===37&&(W.push(J.slice(ve,Le)),(St=bj[ke=J.charAt(++Le)])!=null?ke=J.charAt(++Le):St=ke==="e"?" ":"0",(Xt=de[ke])&&(ke=Xt(pe,St)),W.push(ke),ve=Le+1);return W.push(J.slice(ve,Le)),W.join("")}}function N(J,de){return function(pe){var W=ll(1900,void 0,1),Le=S(W,J,pe+="",0),ve,Ue;if(Le!=pe.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(de&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(ve=bm(ll(W.y,0,1)),Ue=ve.getUTCDay(),ve=Ue>4||Ue===0?mf.ceil(ve):mf(ve),ve=Wh.offset(ve,(W.V-1)*7),W.y=ve.getUTCFullYear(),W.m=ve.getUTCMonth(),W.d=ve.getUTCDate()+(W.w+6)%7):(ve=ym(ll(W.y,0,1)),Ue=ve.getDay(),ve=Ue>4||Ue===0?pf.ceil(ve):pf(ve),ve=ou.offset(ve,(W.V-1)*7),W.y=ve.getFullYear(),W.m=ve.getMonth(),W.d=ve.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Ue="Z"in W?bm(ll(W.y,0,1)).getUTCDay():ym(ll(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Ue+5)%7:W.w+W.U*7-(Ue+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,bm(W)):ym(W)}}function S(J,de,pe,W){for(var Le=0,ve=de.length,Ue=pe.length,ke,St;Le<ve;){if(W>=Ue)return-1;if(ke=de.charCodeAt(Le++),ke===37){if(ke=de.charAt(Le++),St=m[ke in bj?de.charAt(Le++):ke],!St||(W=St(J,pe,W))<0)return-1}else if(ke!=pe.charCodeAt(W++))return-1}return W}function A(J,de,pe){var W=u.exec(de.slice(pe));return W?(J.p=f.get(W[0].toLowerCase()),pe+W[0].length):-1}function P(J,de,pe){var W=p.exec(de.slice(pe));return W?(J.w=b.get(W[0].toLowerCase()),pe+W[0].length):-1}function E(J,de,pe){var W=d.exec(de.slice(pe));return W?(J.w=h.get(W[0].toLowerCase()),pe+W[0].length):-1}function k(J,de,pe){var W=j.exec(de.slice(pe));return W?(J.m=y.get(W[0].toLowerCase()),pe+W[0].length):-1}function I(J,de,pe){var W=w.exec(de.slice(pe));return W?(J.m=v.get(W[0].toLowerCase()),pe+W[0].length):-1}function $(J,de,pe){return S(J,t,de,pe)}function R(J,de,pe){return S(J,r,de,pe)}function C(J,de,pe){return S(J,n,de,pe)}function U(J){return o[J.getDay()]}function D(J){return i[J.getDay()]}function L(J){return c[J.getMonth()]}function q(J){return l[J.getMonth()]}function Q(J){return s[+(J.getHours()>=12)]}function H(J){return 1+~~(J.getMonth()/3)}function ee(J){return o[J.getUTCDay()]}function K(J){return i[J.getUTCDay()]}function he(J){return c[J.getUTCMonth()]}function Ge(J){return l[J.getUTCMonth()]}function $t(J){return s[+(J.getUTCHours()>=12)]}function mt(J){return 1+~~(J.getUTCMonth()/3)}return{format:function(J){var de=g(J+="",x);return de.toString=function(){return J},de},parse:function(J){var de=N(J+="",!1);return de.toString=function(){return J},de},utcFormat:function(J){var de=g(J+="",_);return de.toString=function(){return J},de},utcParse:function(J){var de=N(J+="",!0);return de.toString=function(){return J},de}}}var bj={"-":"",_:" ",0:"0"},Tt=/^\s*\d+/,eV=/^%/,tV=/[\\^$*+?|[\]().{}]/g;function Ae(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function rV(e){return e.replace(tV,"\\$&")}function cl(e){return new RegExp("^(?:"+e.map(rV).join("|")+")","i")}function ul(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function nV(e,t,r){var n=Tt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function sV(e,t,r){var n=Tt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function aV(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function iV(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function oV(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function wj(e,t,r){var n=Tt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function jj(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function lV(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function cV(e,t,r){var n=Tt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function uV(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function _j(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function dV(e,t,r){var n=Tt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Sj(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function fV(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function hV(e,t,r){var n=Tt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function pV(e,t,r){var n=Tt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function mV(e,t,r){var n=Tt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function gV(e,t,r){var n=eV.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function xV(e,t,r){var n=Tt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function vV(e,t,r){var n=Tt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Nj(e,t){return Ae(e.getDate(),t,2)}function yV(e,t){return Ae(e.getHours(),t,2)}function bV(e,t){return Ae(e.getHours()%12||12,t,2)}function wV(e,t){return Ae(1+ou.count(es(e),e),t,3)}function kO(e,t){return Ae(e.getMilliseconds(),t,3)}function jV(e,t){return kO(e,t)+"000"}function _V(e,t){return Ae(e.getMonth()+1,t,2)}function SV(e,t){return Ae(e.getMinutes(),t,2)}function NV(e,t){return Ae(e.getSeconds(),t,2)}function AV(e){var t=e.getDay();return t===0?7:t}function OV(e,t){return Ae(Hh.count(es(e)-1,e),t,2)}function CO(e){var t=e.getDay();return t>=4||t===0?no(e):no.ceil(e)}function PV(e,t){return e=CO(e),Ae(no.count(es(e),e)+(es(e).getDay()===4),t,2)}function EV(e){return e.getDay()}function kV(e,t){return Ae(pf.count(es(e)-1,e),t,2)}function CV(e,t){return Ae(e.getFullYear()%100,t,2)}function TV(e,t){return e=CO(e),Ae(e.getFullYear()%100,t,2)}function $V(e,t){return Ae(e.getFullYear()%1e4,t,4)}function DV(e,t){var r=e.getDay();return e=r>=4||r===0?no(e):no.ceil(e),Ae(e.getFullYear()%1e4,t,4)}function IV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ae(t/60|0,"0",2)+Ae(t%60,"0",2)}function Aj(e,t){return Ae(e.getUTCDate(),t,2)}function MV(e,t){return Ae(e.getUTCHours(),t,2)}function RV(e,t){return Ae(e.getUTCHours()%12||12,t,2)}function LV(e,t){return Ae(1+Wh.count(ts(e),e),t,3)}function TO(e,t){return Ae(e.getUTCMilliseconds(),t,3)}function UV(e,t){return TO(e,t)+"000"}function FV(e,t){return Ae(e.getUTCMonth()+1,t,2)}function BV(e,t){return Ae(e.getUTCMinutes(),t,2)}function zV(e,t){return Ae(e.getUTCSeconds(),t,2)}function qV(e){var t=e.getUTCDay();return t===0?7:t}function WV(e,t){return Ae(Kh.count(ts(e)-1,e),t,2)}function $O(e){var t=e.getUTCDay();return t>=4||t===0?so(e):so.ceil(e)}function HV(e,t){return e=$O(e),Ae(so.count(ts(e),e)+(ts(e).getUTCDay()===4),t,2)}function KV(e){return e.getUTCDay()}function VV(e,t){return Ae(mf.count(ts(e)-1,e),t,2)}function GV(e,t){return Ae(e.getUTCFullYear()%100,t,2)}function QV(e,t){return e=$O(e),Ae(e.getUTCFullYear()%100,t,2)}function YV(e,t){return Ae(e.getUTCFullYear()%1e4,t,4)}function XV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?so(e):so.ceil(e),Ae(e.getUTCFullYear()%1e4,t,4)}function ZV(){return"+0000"}function Oj(){return"%"}function Pj(e){return+e}function Ej(e){return Math.floor(+e/1e3)}var oi,DO,IO;JV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function JV(e){return oi=JK(e),DO=oi.format,oi.parse,IO=oi.utcFormat,oi.utcParse,oi}function eG(e){return new Date(e)}function tG(e){return e instanceof Date?+e:+new Date(+e)}function py(e,t,r,n,s,i,o,l,c,u){var f=ey(),d=f.invert,h=f.domain,p=u(".%L"),b=u(":%S"),w=u("%I:%M"),v=u("%I %p"),j=u("%a %d"),y=u("%b %d"),x=u("%B"),_=u("%Y");function m(g){return(c(g)<g?p:l(g)<g?b:o(g)<g?w:i(g)<g?v:n(g)<g?s(g)<g?j:y:r(g)<g?x:_)(g)}return f.invert=function(g){return new Date(d(g))},f.domain=function(g){return arguments.length?h(Array.from(g,tG)):h().map(eG)},f.ticks=function(g){var N=h();return e(N[0],N[N.length-1],g??10)},f.tickFormat=function(g,N){return N==null?m:u(N)},f.nice=function(g){var N=h();return(!g||typeof g.range!="function")&&(g=t(N[0],N[N.length-1],g??10)),g?h(wO(N,g)):f},f.copy=function(){return iu(f,py(e,t,r,n,s,i,o,l,c,u))},f}function rG(){return Yr.apply(py(XK,ZK,es,fy,Hh,ou,uy,ly,ba,DO).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function nG(){return Yr.apply(py(QK,YK,ts,hy,Kh,Wh,dy,cy,ba,IO).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Vh(){var e=0,t=1,r,n,s,i,o=rr,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:o(s===0?.5:(d=(i(d)-r)*s,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(o=d,u):o};function f(d){return function(h){var p,b;return arguments.length?([p,b]=h,o=d(p,b),u):[o(0),o(1)]}}return u.range=f(zo),u.rangeRound=f(Jv),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return i=d,r=d(e),n=d(t),s=r===n?0:1/(n-r),u}}function Zs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function MO(){var e=Xs(Vh()(rr));return e.copy=function(){return Zs(e,MO())},os.apply(e,arguments)}function RO(){var e=ny(Vh()).domain([1,10]);return e.copy=function(){return Zs(e,RO()).base(e.base())},os.apply(e,arguments)}function LO(){var e=sy(Vh());return e.copy=function(){return Zs(e,LO()).constant(e.constant())},os.apply(e,arguments)}function my(){var e=ay(Vh());return e.copy=function(){return Zs(e,my()).exponent(e.exponent())},os.apply(e,arguments)}function sG(){return my.apply(null,arguments).exponent(.5)}function UO(){var e=[],t=rr;function r(n){if(n!=null&&!isNaN(n=+n))return t((su(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Fs),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>WH(e,i/n))},r.copy=function(){return UO(t).domain(e)},os.apply(r,arguments)}function Gh(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=rr,f,d=!1,h;function p(w){return isNaN(w=+w)?h:(w=.5+((w=+f(w))-i)*(n*w<n*i?l:c),u(d?Math.max(0,Math.min(1,w)):w))}p.domain=function(w){return arguments.length?([e,t,r]=w,s=f(e=+e),i=f(t=+t),o=f(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(w){return arguments.length?(d=!!w,p):d},p.interpolator=function(w){return arguments.length?(u=w,p):u};function b(w){return function(v){var j,y,x;return arguments.length?([j,y,x]=v,u=gK(w,[j,y,x]),p):[u(0),u(.5),u(1)]}}return p.range=b(zo),p.rangeRound=b(Jv),p.unknown=function(w){return arguments.length?(h=w,p):h},function(w){return f=w,s=w(e),i=w(t),o=w(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function FO(){var e=Xs(Gh()(rr));return e.copy=function(){return Zs(e,FO())},os.apply(e,arguments)}function BO(){var e=ny(Gh()).domain([.1,1,10]);return e.copy=function(){return Zs(e,BO()).base(e.base())},os.apply(e,arguments)}function zO(){var e=sy(Gh());return e.copy=function(){return Zs(e,zO()).constant(e.constant())},os.apply(e,arguments)}function gy(){var e=ay(Gh());return e.copy=function(){return Zs(e,gy()).exponent(e.exponent())},os.apply(e,arguments)}function aG(){return gy.apply(null,arguments).exponent(.5)}const kj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:xc,scaleDiverging:FO,scaleDivergingLog:BO,scaleDivergingPow:gy,scaleDivergingSqrt:aG,scaleDivergingSymlog:zO,scaleIdentity:bO,scaleImplicit:h0,scaleLinear:ff,scaleLog:jO,scaleOrdinal:Yv,scalePoint:Dl,scalePow:iy,scaleQuantile:NO,scaleQuantize:AO,scaleRadial:SO,scaleSequential:MO,scaleSequentialLog:RO,scaleSequentialPow:my,scaleSequentialQuantile:UO,scaleSequentialSqrt:sG,scaleSequentialSymlog:LO,scaleSqrt:UK,scaleSymlog:_O,scaleThreshold:OO,scaleTime:rG,scaleUtc:nG,tickFormat:yO},Symbol.toStringTag,{value:"Module"}));var iG=$o;function oG(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!iG(o):r(o,l)))var l=o,c=i}return c}var Qh=oG;function lG(e,t){return e>t}var qO=lG,cG=Qh,uG=qO,dG=Bo;function fG(e){return e&&e.length?cG(e,dG,uG):void 0}var hG=fG;const Yh=De(hG);function pG(e,t){return e<t}var WO=pG,mG=Qh,gG=WO,xG=Bo;function vG(e){return e&&e.length?mG(e,xG,gG):void 0}var yG=vG;const Xh=De(yG);var bG=kv,wG=Tn,jG=Z4,_G=gr;function SG(e,t){var r=_G(e)?bG:jG;return r(e,wG(t))}var NG=SG,AG=Y4,OG=NG;function PG(e,t){return AG(OG(e,t),1)}var EG=PG;const kG=De(EG);var CG=Hv;function TG(e,t){return CG(e,t)}var $G=TG;const lu=De($G);var qo=1e9,DG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vy,rt=!0,Vr="[DecimalError] ",Aa=Vr+"Invalid argument: ",xy=Vr+"Exponent out of range: ",Wo=Math.floor,fa=Math.pow,IG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_r,At=1e7,Ze=7,HO=9007199254740991,gf=Wo(HO/Ze),ne={};ne.absoluteValue=ne.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ne.comparedTo=ne.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};ne.decimalPlaces=ne.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ze;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ne.dividedBy=ne.div=function(e){return Vn(this,new this.constructor(e))};ne.dividedToIntegerBy=ne.idiv=function(e){var t=this,r=t.constructor;return Re(Vn(t,new r(e),0,1),r.precision)};ne.equals=ne.eq=function(e){return!this.cmp(e)};ne.exponent=function(){return pt(this)};ne.greaterThan=ne.gt=function(e){return this.cmp(e)>0};ne.greaterThanOrEqualTo=ne.gte=function(e){return this.cmp(e)>=0};ne.isInteger=ne.isint=function(){return this.e>this.d.length-2};ne.isNegative=ne.isneg=function(){return this.s<0};ne.isPositive=ne.ispos=function(){return this.s>0};ne.isZero=function(){return this.s===0};ne.lessThan=ne.lt=function(e){return this.cmp(e)<0};ne.lessThanOrEqualTo=ne.lte=function(e){return this.cmp(e)<1};ne.logarithm=ne.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(_r))throw Error(Vr+"NaN");if(r.s<1)throw Error(Vr+(r.s?"NaN":"-Infinity"));return r.eq(_r)?new n(0):(rt=!1,t=Vn(jc(r,i),jc(e,i),i),rt=!0,Re(t,s))};ne.minus=ne.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?GO(t,e):KO(t,(e.s=-e.s,e))};ne.modulo=ne.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Vr+"NaN");return r.s?(rt=!1,t=Vn(r,e,0,1).times(e),rt=!0,r.minus(t)):Re(new n(r),s)};ne.naturalExponential=ne.exp=function(){return VO(this)};ne.naturalLogarithm=ne.ln=function(){return jc(this)};ne.negated=ne.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ne.plus=ne.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?KO(t,e):GO(t,(e.s=-e.s,e))};ne.precision=ne.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Aa+e);if(t=pt(s)+1,n=s.d.length-1,r=n*Ze+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ne.squareRoot=ne.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Vr+"NaN")}for(e=pt(l),rt=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=jn(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Wo((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Vn(l,i,o+2)).times(.5),jn(i.d).slice(0,o)===(t=jn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(Re(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return rt=!0,Re(n,r)};ne.times=ne.mul=function(e){var t,r,n,s,i,o,l,c,u,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+p[n]*h[s-n-1]+t,i[s--]=l%At|0,t=l/At|0;i[s]=(i[s]+t)%At|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,rt?Re(e,d.precision):e};ne.toDecimalPlaces=ne.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(En(e,0,qo),t===void 0?t=n.rounding:En(t,0,8),Re(r,e+pt(r)+1,t))};ne.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=Ba(n,!0):(En(e,0,qo),t===void 0?t=s.rounding:En(t,0,8),n=Re(new s(n),e+1,t),r=Ba(n,!0,e+1)),r};ne.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?Ba(s):(En(e,0,qo),t===void 0?t=i.rounding:En(t,0,8),n=Re(new i(s),e+pt(s)+1,t),r=Ba(n.abs(),!1,e+pt(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};ne.toInteger=ne.toint=function(){var e=this,t=e.constructor;return Re(new t(e),pt(e)+1,t.rounding)};ne.toNumber=function(){return+this};ne.toPower=ne.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(_r);if(l=new c(l),!l.s){if(e.s<1)throw Error(Vr+"Infinity");return l}if(l.eq(_r))return l;if(n=c.precision,e.eq(_r))return Re(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=f<0?-f:f)<=HO){for(s=new c(_r),t=Math.ceil(n/Ze+4),rt=!1;r%2&&(s=s.times(l),Tj(s.d,t)),r=Wo(r/2),r!==0;)l=l.times(l),Tj(l.d,t);return rt=!0,e.s<0?new c(_r).div(s):Re(s,n)}}else if(i<0)throw Error(Vr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,rt=!1,s=e.times(jc(l,n+u)),rt=!0,s=VO(s),s.s=i,s};ne.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=pt(s),n=Ba(s,r<=i.toExpNeg||r>=i.toExpPos)):(En(e,1,qo),t===void 0?t=i.rounding:En(t,0,8),s=Re(new i(s),e,t),r=pt(s),n=Ba(s,e<=r||r<=i.toExpNeg,e)),n};ne.toSignificantDigits=ne.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(En(e,1,qo),t===void 0?t=n.rounding:En(t,0,8)),Re(new n(r),e,t)};ne.toString=ne.valueOf=ne.val=ne.toJSON=ne[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=pt(e),r=e.constructor;return Ba(e,t<=r.toExpNeg||t>=r.toExpPos)};function KO(e,t){var r,n,s,i,o,l,c,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),rt?Re(t,d):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(d/Ze),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/At|0,c[i]%=At;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,rt?Re(t,d):t}function En(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Aa+e)}function jn(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Ze-n.length,r&&(i+=xs(r)),i+=n;o=e[t],n=o+"",r=Ze-n.length,r&&(i+=xs(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Vn=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%At|0,o=i/At|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*At+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,f,d,h,p,b,w,v,j,y,x,_,m,g,N,S,A=n.constructor,P=n.s==s.s?1:-1,E=n.d,k=s.d;if(!n.s)return new A(n);if(!s.s)throw Error(Vr+"Division by zero");for(c=n.e-s.e,N=k.length,m=E.length,p=new A(P),b=p.d=[],u=0;k[u]==(E[u]||0);)++u;if(k[u]>(E[u]||0)&&--c,i==null?y=i=A.precision:o?y=i+(pt(n)-pt(s))+1:y=i,y<0)return new A(0);if(y=y/Ze+2|0,u=0,N==1)for(f=0,k=k[0],y++;(u<m||f)&&y--;u++)x=f*At+(E[u]||0),b[u]=x/k|0,f=x%k|0;else{for(f=At/(k[0]+1)|0,f>1&&(k=e(k,f),E=e(E,f),N=k.length,m=E.length),_=N,w=E.slice(0,N),v=w.length;v<N;)w[v++]=0;S=k.slice(),S.unshift(0),g=k[0],k[1]>=At/2&&++g;do f=0,l=t(k,w,N,v),l<0?(j=w[0],N!=v&&(j=j*At+(w[1]||0)),f=j/g|0,f>1?(f>=At&&(f=At-1),d=e(k,f),h=d.length,v=w.length,l=t(d,w,h,v),l==1&&(f--,r(d,N<h?S:k,h))):(f==0&&(l=f=1),d=k.slice()),h=d.length,h<v&&d.unshift(0),r(w,d,v),l==-1&&(v=w.length,l=t(k,w,N,v),l<1&&(f++,r(w,N<v?S:k,v))),v=w.length):l===0&&(f++,w=[0]),b[u++]=f,l&&w[0]?w[v++]=E[_]||0:(w=[E[_]],v=1);while((_++<m||w[0]!==void 0)&&y--)}return b[0]||b.shift(),p.e=c,Re(p,o?i+pt(p)+1:i)}}();function VO(e,t){var r,n,s,i,o,l,c=0,u=0,f=e.constructor,d=f.precision;if(pt(e)>16)throw Error(xy+pt(e));if(!e.s)return new f(_r);for(t==null?(rt=!1,l=d):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(fa(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new f(_r),f.precision=l;;){if(s=Re(s.times(e),l),r=r.times(++c),o=i.plus(Vn(s,r,l)),jn(o.d).slice(0,l)===jn(i.d).slice(0,l)){for(;u--;)i=Re(i.times(i),l);return f.precision=d,t==null?(rt=!0,Re(i,d)):i}i=o}}function pt(e){for(var t=e.e*Ze,r=e.d[0];r>=10;r/=10)t++;return t}function wm(e,t,r){if(t>e.LN10.sd())throw rt=!0,r&&(e.precision=r),Error(Vr+"LN10 precision limit exceeded");return Re(new e(e.LN10),t)}function xs(e){for(var t="";e--;)t+="0";return t}function jc(e,t){var r,n,s,i,o,l,c,u,f,d=1,h=10,p=e,b=p.d,w=p.constructor,v=w.precision;if(p.s<1)throw Error(Vr+(p.s?"NaN":"-Infinity"));if(p.eq(_r))return new w(0);if(t==null?(rt=!1,u=v):u=t,p.eq(10))return t==null&&(rt=!0),wm(w,u);if(u+=h,w.precision=u,r=jn(b),n=r.charAt(0),i=pt(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=jn(p.d),n=r.charAt(0),d++;i=pt(p),n>1?(p=new w("0."+r),i++):p=new w(n+"."+r.slice(1))}else return c=wm(w,u+2,v).times(i+""),p=jc(new w(n+"."+r.slice(1)),u-h).plus(c),w.precision=v,t==null?(rt=!0,Re(p,v)):p;for(l=o=p=Vn(p.minus(_r),p.plus(_r),u),f=Re(p.times(p),u),s=3;;){if(o=Re(o.times(f),u),c=l.plus(Vn(o,new w(s),u)),jn(c.d).slice(0,u)===jn(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(wm(w,u+2,v).times(i+""))),l=Vn(l,new w(d),u),w.precision=v,t==null?(rt=!0,Re(l,v)):l;l=c,s+=2}}function Cj(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Wo(r/Ze),e.d=[],n=(r+1)%Ze,r<0&&(n+=Ze),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Ze;n<s;)e.d.push(+t.slice(n,n+=Ze));t=t.slice(n),n=Ze-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),rt&&(e.e>gf||e.e<-gf))throw Error(xy+r)}else e.s=0,e.e=0,e.d=[0];return e}function Re(e,t,r){var n,s,i,o,l,c,u,f,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Ze,s=t,u=d[f=0];else{if(f=Math.ceil((n+1)/Ze),i=d.length,f>=i)return e;for(u=i=d[f],o=1;i>=10;i/=10)o++;n%=Ze,s=n-Ze+o}if(r!==void 0&&(i=fa(10,o-s-1),l=u/i%10|0,c=t<0||d[f+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/fa(10,o-s):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(i=pt(e),d.length=1,t=t-i-1,d[0]=fa(10,(Ze-t%Ze)%Ze),e.e=Wo(-t/Ze)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,i=1,f--):(d.length=f+1,i=fa(10,Ze-n),d[f]=s>0?(u/fa(10,o-s)%fa(10,s)|0)*i:0),c)for(;;)if(f==0){(d[0]+=i)==At&&(d[0]=1,++e.e);break}else{if(d[f]+=i,d[f]!=At)break;d[f--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(rt&&(e.e>gf||e.e<-gf))throw Error(xy+pt(e));return e}function GO(e,t){var r,n,s,i,o,l,c,u,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),rt?Re(t,p):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(f=o<0,f?(r=c,o=-o,l=d.length):(r=d,n=u,l=c.length),s=Math.max(Math.ceil(p/Ze),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=d.length,f=s<l,f&&(l=s),s=0;s<l;s++)if(c[s]!=d[s]){f=c[s]<d[s];break}o=0}for(f&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,s=d.length-l;s>0;--s)c[l++]=0;for(s=d.length;s>o;){if(c[--s]<d[s]){for(i=s;i&&c[--i]===0;)c[i]=At-1;--c[i],c[s]+=At}c[s]-=d[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,rt?Re(t,p):t):new h(0)}function Ba(e,t,r){var n,s=pt(e),i=jn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+xs(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+xs(-s-1)+i,r&&(n=r-o)>0&&(i+=xs(n))):s>=o?(i+=xs(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+xs(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=xs(n))),e.s<0?"-"+i:i}function Tj(e,t){if(e.length>t)return e.length=t,!0}function QO(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Aa+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Cj(o,i.toString())}else if(typeof i!="string")throw Error(Aa+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,IG.test(i))Cj(o,i);else throw Error(Aa+i)}if(s.prototype=ne,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=QO,s.config=s.set=MG,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function MG(e){if(!e||typeof e!="object")throw Error(Vr+"Object expected");var t,r,n,s=["precision",1,qo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Wo(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Aa+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Aa+r+": "+n);return this}var vy=QO(DG);_r=new vy(1);const Me=vy;function RG(e){return BG(e)||FG(e)||UG(e)||LG()}function LG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UG(e,t){if(e){if(typeof e=="string")return x0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x0(e,t)}}function FG(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function BG(e){if(Array.isArray(e))return x0(e)}function x0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var zG=function(t){return t},YO={"@@functional/placeholder":!0},XO=function(t){return t===YO},$j=function(t){return function r(){return arguments.length===0||arguments.length===1&&XO(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},qG=function e(t,r){return t===1?r:$j(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==YO}).length;return o>=t?r.apply(void 0,s):e(t-o,$j(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=s.map(function(d){return XO(d)?c.shift():d});return r.apply(void 0,RG(f).concat(c))}))})},Zh=function(t){return qG(t.length,t)},v0=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},WG=Zh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),HG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return zG;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},y0=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},ZO=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function KG(e){var t;return e===0?t=1:t=Math.floor(new Me(e).abs().log(10).toNumber())+1,t}function VG(e,t,r){for(var n=new Me(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var GG=Zh(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),QG=Zh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),YG=Zh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Jh={rangeStep:VG,getDigitCount:KG,interpolateNumber:GG,uninterpolateNumber:QG,uninterpolateTruncation:YG};function b0(e){return JG(e)||ZG(e)||JO(e)||XG()}function XG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZG(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function JG(e){if(Array.isArray(e))return w0(e)}function _c(e,t){return rQ(e)||tQ(e,t)||JO(e,t)||eQ()}function eQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JO(e,t){if(e){if(typeof e=="string")return w0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w0(e,t)}}function w0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tQ(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function rQ(e){if(Array.isArray(e))return e}function eP(e){var t=_c(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function tP(e,t,r){if(e.lte(0))return new Me(0);var n=Jh.getDigitCount(e.toNumber()),s=new Me(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Me(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Me(Math.ceil(c))}function nQ(e,t,r){var n=1,s=new Me(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Me(10).pow(Jh.getDigitCount(e)-1),s=new Me(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Me(Math.floor(e)))}else e===0?s=new Me(Math.floor((t-1)/2)):r||(s=new Me(Math.floor(e)));var o=Math.floor((t-1)/2),l=HG(WG(function(c){return s.add(new Me(c-o).mul(n)).toNumber()}),v0);return l(0,t)}function rP(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Me(0),tickMin:new Me(0),tickMax:new Me(0)};var i=tP(new Me(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Me(0):(o=new Me(e).add(t).div(2),o=o.sub(new Me(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Me(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?rP(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Me(l).mul(i)),tickMax:o.add(new Me(c).mul(i))})}function sQ(e){var t=_c(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=eP([r,n]),c=_c(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(b0(v0(0,s-1).map(function(){return 1/0}))):[].concat(b0(v0(0,s-1).map(function(){return-1/0})),[f]);return r>n?y0(d):d}if(u===f)return nQ(u,s,i);var h=rP(u,f,o,i),p=h.step,b=h.tickMin,w=h.tickMax,v=Jh.rangeStep(b,w.add(new Me(.1).mul(p)),p);return r>n?y0(v):v}function aQ(e,t){var r=_c(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=eP([n,s]),l=_c(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var f=Math.max(t,2),d=tP(new Me(u).sub(c).div(f-1),i,0),h=[].concat(b0(Jh.rangeStep(new Me(c),new Me(u).sub(new Me(.99).mul(d)),d)),[u]);return n>s?y0(h):h}var iQ=ZO(sQ),oQ=ZO(aQ),lQ="Invariant failed";function za(e,t){throw new Error(lQ)}var cQ=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}function xf(){return xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xf.apply(this,arguments)}function uQ(e,t){return pQ(e)||hQ(e,t)||fQ(e,t)||dQ()}function dQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fQ(e,t){if(e){if(typeof e=="string")return Dj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dj(e,t)}}function Dj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function pQ(e){if(Array.isArray(e))return e}function mQ(e,t){if(e==null)return{};var r=gQ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function xQ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vQ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aP(n.key),n)}}function yQ(e,t,r){return t&&vQ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bQ(e,t,r){return t=vf(t),wQ(e,nP()?Reflect.construct(t,r||[],vf(e).constructor):t.apply(e,r))}function wQ(e,t){if(t&&(ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jQ(e)}function jQ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nP=function(){return!!e})()}function vf(e){return vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vf(e)}function _Q(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j0(e,t)}function j0(e,t){return j0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},j0(e,t)}function sP(e,t,r){return t=aP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aP(e){var t=SQ(e,"string");return ao(t)=="symbol"?t:t+""}function SQ(e,t){if(ao(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ao(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cu=function(e){function t(){return xQ(this,t),bQ(this,t,arguments)}return _Q(t,e),yQ(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=mQ(n,cQ),p=ie(h,!1);this.props.direction==="x"&&f.type!=="number"&&za();var b=c.map(function(w){var v=u(w,l),j=v.x,y=v.y,x=v.value,_=v.errorVal;if(!_)return null;var m=[],g,N;if(Array.isArray(_)){var S=uQ(_,2);g=S[0],N=S[1]}else g=N=_;if(i==="vertical"){var A=f.scale,P=y+s,E=P+o,k=P-o,I=A(x-g),$=A(x+N);m.push({x1:$,y1:E,x2:$,y2:k}),m.push({x1:I,y1:P,x2:$,y2:P}),m.push({x1:I,y1:E,x2:I,y2:k})}else if(i==="horizontal"){var R=d.scale,C=j+s,U=C-o,D=C+o,L=R(x-g),q=R(x+N);m.push({x1:U,y1:q,x2:D,y2:q}),m.push({x1:C,y1:L,x2:C,y2:q}),m.push({x1:U,y1:L,x2:D,y2:L})}return T.createElement(Ne,xf({className:"recharts-errorBar",key:"bar-".concat(m.map(function(Q){return"".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))},p),m.map(function(Q){return T.createElement("line",xf({},Q,{key:"line-".concat(Q.x1,"-").concat(Q.x2,"-").concat(Q.y1,"-").concat(Q.y2)}))}))});return T.createElement(Ne,{className:"recharts-errorBars"},b)}}])}(T.Component);sP(cu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});sP(cu,"displayName","ErrorBar");function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){NQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NQ(e,t,r){return t=AQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function AQ(e){var t=OQ(e,"string");return Sc(t)=="symbol"?t:t+""}function OQ(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var iP=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=br(r,Ui);if(!o)return null;var l=Ui.defaultProps,c=l!==void 0?sa(sa({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(f,d){var h=d.item,p=d.props,b=p.sectors||p.data||[];return f.concat(b.map(function(w){return{type:o.props.iconType||h.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?sa(sa({},h),d.props):{},b=p.dataKey,w=p.name,v=p.legendType,j=p.hide;return{inactive:j,dataKey:b,type:c.iconType||v||"square",color:yy(d),value:w||b,payload:p}}),sa(sa(sa({},c),Ui.getWithHeight(o,s)),{},{payload:u,item:o})};function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function Mj(e){return CQ(e)||kQ(e)||EQ(e)||PQ()}function PQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function EQ(e,t){if(e){if(typeof e=="string")return _0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _0(e,t)}}function kQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function CQ(e){if(Array.isArray(e))return _0(e)}function _0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){Bi(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bi(e,t,r){return t=TQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TQ(e){var t=$Q(e,"string");return Nc(t)=="symbol"?t:t+""}function $Q(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bt(e,t,r){return fe(e)||fe(t)?r:jt(t)?Ar(e,t,r):ue(t)?t(e):r}function Il(e,t,r,n){var s=kG(e,function(l){return bt(l,t)});if(r==="number"){var i=s.filter(function(l){return Y(l)||parseFloat(l)});return i.length?[Xh(i),Yh(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!fe(l)}):s;return o.map(function(l){return jt(l)||l instanceof Date?l:""})}var DQ=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var f=u>0?s[u-1].coordinate:s[l-1].coordinate,d=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(er(d-f)!==er(h-d)){var b=[];if(er(h-d)===er(c[1]-c[0])){p=h;var w=d+c[1]-c[0];b[0]=Math.min(w,(w+f)/2),b[1]=Math.max(w,(w+f)/2)}else{p=f;var v=h+c[1]-c[0];b[0]=Math.min(d,(v+d)/2),b[1]=Math.max(d,(v+d)/2)}var j=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>j[0]&&t<=j[1]||t>=b[0]&&t<=b[1]){o=s[u].index;break}}else{var y=Math.min(f,h),x=Math.max(f,h);if(t>(y+d)/2&&t<=(x+d)/2){o=s[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},yy=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?lt(lt({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},IQ=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var f=i[l[c]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var b=f[d[h]],w=b.items,v=b.cateAxisId,j=w.filter(function(N){return Kn(N.type).indexOf("Bar")>=0});if(j&&j.length){var y=j[0].type.defaultProps,x=y!==void 0?lt(lt({},y),j[0].props):j[0].props,_=x.barSize,m=x[v];o[m]||(o[m]=[]);var g=fe(_)?r:_;o[m].push({item:j[0],stackList:j.slice(1),barSize:fe(g)?void 0:tr(g,n,0)})}}return o},MQ=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=tr(r,s,0,!0),f,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=s/c,b=o.reduce(function(_,m){return _+m.barSize||0},0);b+=(c-1)*u,b>=s&&(b-=(c-1)*u,u=0),b>=s&&p>0&&(h=!0,p*=.9,b=c*p);var w=(s-b)/2>>0,v={offset:w-u,size:0};f=o.reduce(function(_,m){var g={item:m.item,position:{offset:v.offset+v.size+u,size:h?p:m.barSize}},N=[].concat(Mj(_),[g]);return v=N[N.length-1].position,m.stackList&&m.stackList.length&&m.stackList.forEach(function(S){N.push({item:S,position:v})}),N},d)}else{var j=tr(n,s,0,!0);s-2*j-(c-1)*u<=0&&(u=0);var y=(s-2*j-(c-1)*u)/c;y>1&&(y>>=0);var x=l===+l?Math.min(y,l):y;f=o.reduce(function(_,m,g){var N=[].concat(Mj(_),[{item:m.item,position:{offset:j+(y+u)*g+(y-x)/2,size:x}}]);return m.stackList&&m.stackList.length&&m.stackList.forEach(function(S){N.push({item:S,position:N[N.length-1].position})}),N},d)}return f},RQ=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=iP({children:i,legendWidth:c});if(u){var f=s||{},d=f.width,h=f.height,p=u.align,b=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&b==="middle")&&p!=="center"&&Y(t[p]))return lt(lt({},t),{},Bi({},p,t[p]+(d||0)));if((w==="horizontal"||w==="vertical"&&p==="center")&&b!=="middle"&&Y(t[b]))return lt(lt({},t),{},Bi({},b,t[b]+(h||0)))}return t},LQ=function(t,r,n){return fe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},oP=function(t,r,n,s,i){var o=r.props.children,l=Or(o,cu).filter(function(u){return LQ(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=bt(f,n);if(fe(d))return u;var h=Array.isArray(d)?[Xh(d),Yh(d)]:[d,d],p=c.reduce(function(b,w){var v=bt(f,w,0),j=h[0]-Math.abs(Array.isArray(v)?v[0]:v),y=h[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(j,b[0]),Math.max(y,b[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},UQ=function(t,r,n,s,i){var o=r.map(function(l){return oP(t,l,n,i,s)}).filter(function(l){return!fe(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},lP=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&oP(t,c,u,s)||Il(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,d=u.length;f<d;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},cP=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},uP=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Wn=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?er(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=i?i.indexOf(d):d;return{coordinate:s(h)+u,value:d,offset:u}});return f.filter(function(d){return!ru(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:s(d)+u,value:d,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(d){return{coordinate:s(d)+u,value:d,offset:u}}):s.domain().map(function(d,h){return{coordinate:s(d)+u,value:i?i[d]:d,index:h,offset:u}})},jm=new WeakMap,Wu=function(t,r){if(typeof r!="function")return t;jm.has(t)||jm.set(t,new WeakMap);var n=jm.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},dP=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:xc(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:ff(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Dl(),realScaleType:"point"}:i==="category"?{scale:xc(),realScaleType:"band"}:{scale:ff(),realScaleType:"linear"};if(La(s)){var c="scale".concat(Mh(s));return{scale:(kj[c]||Dl)(),realScaleType:kj[c]?c:"point"}}return ue(s)?{scale:s}:{scale:Dl(),realScaleType:"point"}},Lj=1e-4,fP=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-Lj,o=Math.max(s[0],s[1])+Lj,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},FQ=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},BQ=function(t,r){if(!r||r.length!==2||!Y(r[0])||!Y(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!Y(t[0])||t[0]<n)&&(i[0]=n),(!Y(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},zQ=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=ru(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},qQ=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=ru(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},WQ={sign:zQ,expand:cL,none:Xi,silhouette:uL,wiggle:dL,positive:qQ},HQ=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=WQ[n],o=lL().keys(s).value(function(l,c){return+bt(l,c,0)}).order(Gg).offset(i);return o(t)},KQ=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(d,h){var p,b=(p=h.type)!==null&&p!==void 0&&p.defaultProps?lt(lt({},h.type.defaultProps),h.props):h.props,w=b.stackId,v=b.hide;if(v)return d;var j=b[n],y=d[j]||{hasStack:!1,stackGroups:{}};if(jt(w)){var x=y.stackGroups[w]||{numericAxisId:n,cateAxisId:s,items:[]};x.items.push(h),y.hasStack=!0,y.stackGroups[w]=x}else y.stackGroups[Lo("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return lt(lt({},d),{},Bi({},j,y))},c),f={};return Object.keys(u).reduce(function(d,h){var p=u[h];if(p.hasStack){var b={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(w,v){var j=p.stackGroups[v];return lt(lt({},w),{},Bi({},v,{numericAxisId:n,cateAxisId:s,items:j.items,stackedData:HQ(t,j.items,i)}))},b)}return lt(lt({},d),{},Bi({},h,p))},f)},hP=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=iQ(u,i,l);return t.domain([Xh(f),Yh(f)]),{niceTicks:f}}if(i&&s==="number"){var d=t.domain(),h=oQ(d,i,l);return{niceTicks:h}}return null};function Uj(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!fe(s[t.dataKey])){var l=Wd(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=bt(s,fe(o)?t.dataKey:o);return fe(c)?null:t.scale(c)}var Fj=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=bt(o,r.dataKey,r.domain[l]);return fe(c)?null:r.scale(c)-i/2+s},VQ=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},GQ=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?lt(lt({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(jt(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},QQ=function(t){return t.reduce(function(r,n){return[Xh(n.concat([r[0]]).filter(Y)),Yh(n.concat([r[1]]).filter(Y))]},[1/0,-1/0])},pP=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,f){var d=QQ(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},Bj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,zj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,S0=function(t,r,n){if(ue(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(Y(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(Bj.test(t[0])){var i=+Bj.exec(t[0])[1];s[0]=r[0]-i}else ue(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(Y(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(zj.test(t[1])){var o=+zj.exec(t[1])[1];s[1]=r[1]+o}else ue(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},yf=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=Vv(r,function(d){return d.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],f=i[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},qj=function(t,r,n){return!t||!t.length||lu(t,Ar(n,"type.defaultProps.domain"))?r:t},mP=function(t,r){var n=t.type.defaultProps?lt(lt({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return lt(lt({},ie(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:yy(t),value:bt(r,s),type:c,payload:r,chartType:u,hide:f})};function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ln(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){gP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gP(e,t,r){return t=YQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YQ(e){var t=XQ(e,"string");return Ac(t)=="symbol"?t:t+""}function XQ(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ZQ(e,t){return rY(e)||tY(e,t)||eY(e,t)||JQ()}function JQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eY(e,t){if(e){if(typeof e=="string")return Hj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hj(e,t)}}function Hj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function tY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function rY(e){if(Array.isArray(e))return e}var bf=Math.PI/180,nY=function(t){return t*180/Math.PI},Ve=function(t,r,n,s){return{x:t+Math.cos(-bf*s)*n,y:r+Math.sin(-bf*s)*n}},xP=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},sY=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,f=tr(t.cx,o,o/2),d=tr(t.cy,l,l/2),h=xP(o,l,n),p=tr(t.innerRadius,h,0),b=tr(t.outerRadius,h,h*.8),w=Object.keys(r);return w.reduce(function(v,j){var y=r[j],x=y.domain,_=y.reversed,m;if(fe(y.range))s==="angleAxis"?m=[c,u]:s==="radiusAxis"&&(m=[p,b]),_&&(m=[m[1],m[0]]);else{m=y.range;var g=m,N=ZQ(g,2);c=N[0],u=N[1]}var S=dP(y,i),A=S.realScaleType,P=S.scale;P.domain(x).range(m),fP(P);var E=hP(P,Ln(Ln({},y),{},{realScaleType:A})),k=Ln(Ln(Ln({},y),E),{},{range:m,radius:b,realScaleType:A,scale:P,cx:f,cy:d,innerRadius:p,outerRadius:b,startAngle:c,endAngle:u});return Ln(Ln({},v),{},gP({},j,k))},{})},aY=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},iY=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=aY({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:nY(u),angleInRadian:u}},oY=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},lY=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},Kj=function(t,r){var n=t.x,s=t.y,i=iY({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=oY(r),d=f.startAngle,h=f.endAngle,p=l,b;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;b=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;b=p>=h&&p<=d}return b?Ln(Ln({},r),{},{radius:o,angle:lY(p,r)}):null},vP=function(t){return!O.isValidElement(t)&&!ue(t)&&typeof t!="boolean"?t.className:""};function Oc(e){"@babel/helpers - typeof";return Oc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Oc(e)}var cY=["offset"];function uY(e){return pY(e)||hY(e)||fY(e)||dY()}function dY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fY(e,t){if(e){if(typeof e=="string")return N0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N0(e,t)}}function hY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pY(e){if(Array.isArray(e))return N0(e)}function N0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function mY(e,t){if(e==null)return{};var r=gY(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function gY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Vj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vj(Object(r),!0).forEach(function(n){xY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xY(e,t,r){return t=vY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vY(e){var t=yY(e,"string");return Oc(t)=="symbol"?t:t+""}function yY(e,t){if(Oc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Oc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pc(){return Pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pc.apply(this,arguments)}var bY=function(t){var r=t.value,n=t.formatter,s=fe(t.children)?r:t.children;return ue(n)?n(s):s},wY=function(t,r){var n=er(r-t),s=Math.min(Math.abs(r-t),360);return n*s},jY=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,f=c.cy,d=c.innerRadius,h=c.outerRadius,p=c.startAngle,b=c.endAngle,w=c.clockWise,v=(d+h)/2,j=wY(p,b),y=j>=0?1:-1,x,_;s==="insideStart"?(x=p+y*o,_=w):s==="insideEnd"?(x=b-y*o,_=!w):s==="end"&&(x=b+y*o,_=w),_=j<=0?_:!_;var m=Ve(u,f,v,x),g=Ve(u,f,v,x+(_?1:-1)*359),N="M".concat(m.x,",").concat(m.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(_?0:1,`,
    `).concat(g.x,",").concat(g.y),S=fe(t.id)?Lo("recharts-radial-line-"):t.id;return T.createElement("text",Pc({},n,{dominantBaseline:"central",className:ge("recharts-radial-bar-label",l)}),T.createElement("defs",null,T.createElement("path",{id:S,d:N})),T.createElement("textPath",{xlinkHref:"#".concat(S)},r))},_Y=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,f=i.startAngle,d=i.endAngle,h=(f+d)/2;if(s==="outside"){var p=Ve(o,l,u+n,h),b=p.x,w=p.y;return{x:b,y:w,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+u)/2,j=Ve(o,l,v,h),y=j.x,x=j.y;return{x:y,y:x,textAnchor:"middle",verticalAnchor:"middle"}},SY=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,f=o.height,d=f>=0?1:-1,h=d*s,p=d>0?"end":"start",b=d>0?"start":"end",w=u>=0?1:-1,v=w*s,j=w>0?"end":"start",y=w>0?"start":"end";if(i==="top"){var x={x:l+u/2,y:c-d*s,textAnchor:"middle",verticalAnchor:p};return vt(vt({},x),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+f+h,textAnchor:"middle",verticalAnchor:b};return vt(vt({},_),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(i==="left"){var m={x:l-v,y:c+f/2,textAnchor:j,verticalAnchor:"middle"};return vt(vt({},m),n?{width:Math.max(m.x-n.x,0),height:f}:{})}if(i==="right"){var g={x:l+u+v,y:c+f/2,textAnchor:y,verticalAnchor:"middle"};return vt(vt({},g),n?{width:Math.max(n.x+n.width-g.x,0),height:f}:{})}var N=n?{width:u,height:f}:{};return i==="insideLeft"?vt({x:l+v,y:c+f/2,textAnchor:y,verticalAnchor:"middle"},N):i==="insideRight"?vt({x:l+u-v,y:c+f/2,textAnchor:j,verticalAnchor:"middle"},N):i==="insideTop"?vt({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:b},N):i==="insideBottom"?vt({x:l+u/2,y:c+f-h,textAnchor:"middle",verticalAnchor:p},N):i==="insideTopLeft"?vt({x:l+v,y:c+h,textAnchor:y,verticalAnchor:b},N):i==="insideTopRight"?vt({x:l+u-v,y:c+h,textAnchor:j,verticalAnchor:b},N):i==="insideBottomLeft"?vt({x:l+v,y:c+f-h,textAnchor:y,verticalAnchor:p},N):i==="insideBottomRight"?vt({x:l+u-v,y:c+f-h,textAnchor:j,verticalAnchor:p},N):Do(i)&&(Y(i.x)||va(i.x))&&(Y(i.y)||va(i.y))?vt({x:l+tr(i.x,u),y:c+tr(i.y,f),textAnchor:"end",verticalAnchor:"end"},N):vt({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},N)},NY=function(t){return"cx"in t&&Y(t.cx)};function Pt(e){var t=e.offset,r=t===void 0?5:t,n=mY(e,cY),s=vt({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,f=s.className,d=f===void 0?"":f,h=s.textBreakAll;if(!i||fe(l)&&fe(c)&&!O.isValidElement(u)&&!ue(u))return null;if(O.isValidElement(u))return O.cloneElement(u,s);var p;if(ue(u)){if(p=O.createElement(u,s),O.isValidElement(p))return p}else p=bY(s);var b=NY(i),w=ie(s,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return jY(s,p,w);var v=b?_Y(s):SY(s);return T.createElement(Fa,Pc({className:ge("recharts-label",d)},w,v,{breakAll:h}),p)}Pt.displayName="Label";var yP=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,b=t.left,w=t.width,v=t.height,j=t.clockWise,y=t.labelViewBox;if(y)return y;if(Y(w)&&Y(v)){if(Y(d)&&Y(h))return{x:d,y:h,width:w,height:v};if(Y(p)&&Y(b))return{x:p,y:b,width:w,height:v}}return Y(d)&&Y(h)?{x:d,y:h,width:0,height:0}:Y(r)&&Y(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:j}:t.viewBox?t.viewBox:{}},AY=function(t,r){return t?t===!0?T.createElement(Pt,{key:"label-implicit",viewBox:r}):jt(t)?T.createElement(Pt,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===Pt?O.cloneElement(t,{key:"label-implicit",viewBox:r}):T.createElement(Pt,{key:"label-implicit",content:t,viewBox:r}):ue(t)?T.createElement(Pt,{key:"label-implicit",content:t,viewBox:r}):Do(t)?T.createElement(Pt,Pc({viewBox:r},t,{key:"label-implicit"})):null:null},OY=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=yP(t),o=Or(s,Pt).map(function(c,u){return O.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=AY(t.label,r||i);return[l].concat(uY(o))};Pt.parseViewBox=yP;Pt.renderCallByParent=OY;function PY(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var EY=PY;const kY=De(EY);function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}var CY=["valueAccessor"],TY=["data","dataKey","clockWise","id","textBreakAll"];function $Y(e){return RY(e)||MY(e)||IY(e)||DY()}function DY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IY(e,t){if(e){if(typeof e=="string")return A0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A0(e,t)}}function MY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RY(e){if(Array.isArray(e))return A0(e)}function A0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wf.apply(this,arguments)}function Gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Qj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(r),!0).forEach(function(n){LY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LY(e,t,r){return t=UY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UY(e){var t=FY(e,"string");return Ec(t)=="symbol"?t:t+""}function FY(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yj(e,t){if(e==null)return{};var r=BY(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function BY(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var zY=function(t){return Array.isArray(t.value)?kY(t.value):t.value};function Gn(e){var t=e.valueAccessor,r=t===void 0?zY:t,n=Yj(e,CY),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=Yj(n,TY);return!s||!s.length?null:T.createElement(Ne,{className:"recharts-label-list"},s.map(function(f,d){var h=fe(i)?r(f,d):bt(f&&f.payload,i),p=fe(l)?{}:{id:"".concat(l,"-").concat(d)};return T.createElement(Pt,wf({},ie(f,!0),u,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:c,viewBox:Pt.parseViewBox(fe(o)?f:Qj(Qj({},f),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Gn.displayName="LabelList";function qY(e,t){return e?e===!0?T.createElement(Gn,{key:"labelList-implicit",data:t}):T.isValidElement(e)||ue(e)?T.createElement(Gn,{key:"labelList-implicit",data:t,content:e}):Do(e)?T.createElement(Gn,wf({data:t},e,{key:"labelList-implicit"})):null:null}function WY(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Or(n,Gn).map(function(o,l){return O.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=qY(e.label,t);return[i].concat($Y(s))}Gn.renderCallByParent=WY;function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function O0(){return O0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},O0.apply(this,arguments)}function Xj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Xj(Object(r),!0).forEach(function(n){HY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HY(e,t,r){return t=KY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KY(e){var t=VY(e,"string");return kc(t)=="symbol"?t:t+""}function VY(e,t){if(kc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GY=function(t,r){var n=er(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},Hu=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+s,d=Math.asin(c/f)/bf,h=u?i:i+o*d,p=Ve(r,n,f,h),b=Ve(r,n,s,h),w=u?i-o*d:i,v=Ve(r,n,f*Math.cos(d*bf),w);return{center:p,circleTangency:b,lineTangency:v,theta:d}},bP=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=GY(o,l),u=o+c,f=Ve(r,n,i,o),d=Ve(r,n,i,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(s>0){var p=Ve(r,n,s,o),b=Ve(r,n,s,u);h+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},QY=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=er(f-u),h=Hu({cx:r,cy:n,radius:i,angle:u,sign:d,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,b=h.lineTangency,w=h.theta,v=Hu({cx:r,cy:n,radius:i,angle:f,sign:-d,cornerRadius:o,cornerIsExternal:c}),j=v.circleTangency,y=v.lineTangency,x=v.theta,_=c?Math.abs(u-f):Math.abs(u-f)-w-x;if(_<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):bP({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:f});var m="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(d<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
  `);if(s>0){var g=Hu({cx:r,cy:n,radius:s,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=g.circleTangency,S=g.lineTangency,A=g.theta,P=Hu({cx:r,cy:n,radius:s,angle:f,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=P.circleTangency,k=P.lineTangency,I=P.theta,$=c?Math.abs(u-f):Math.abs(u-f)-A-I;if($<0&&o===0)return"".concat(m,"L").concat(r,",").concat(n,"Z");m+="L".concat(k.x,",").concat(k.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,").concat(+($>180),",").concat(+(d>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,"Z")}else m+="L".concat(r,",").concat(n,"Z");return m},YY={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},wP=function(t){var r=Zj(Zj({},YY),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(o<i||f===d)return null;var p=ge("recharts-sector",h),b=o-i,w=tr(l,b,0,!0),v;return w>0&&Math.abs(f-d)<360?v=QY({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,b/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:d}):v=bP({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:f,endAngle:d}),T.createElement("path",O0({},ie(r,!0),{className:p,d:v,role:"img"}))};function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function P0(){return P0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},P0.apply(this,arguments)}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function e_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){XY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XY(e,t,r){return t=ZY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZY(e){var t=JY(e,"string");return Cc(t)=="symbol"?t:t+""}function JY(e,t){if(Cc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var t_={curveBasisClosed:XR,curveBasisOpen:ZR,curveBasis:YR,curveBumpX:MR,curveBumpY:RR,curveLinearClosed:JR,curveLinear:Lh,curveMonotoneX:eL,curveMonotoneY:tL,curveNatural:rL,curveStep:nL,curveStepAfter:aL,curveStepBefore:sL},Ku=function(t){return t.x===+t.x&&t.y===+t.y},dl=function(t){return t.x},fl=function(t){return t.y},eX=function(t,r){if(ue(t))return t;var n="curve".concat(Mh(t));return(n==="curveMonotone"||n==="curveBump")&&r?t_["".concat(n).concat(r==="vertical"?"Y":"X")]:t_[n]||Lh},tX=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=eX(n,l),d=u?i.filter(function(w){return Ku(w)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(w){return Ku(w)}):o,b=d.map(function(w,v){return e_(e_({},w),{},{base:p[v]})});return l==="vertical"?h=Mu().y(fl).x1(dl).x0(function(w){return w.base.x}):h=Mu().x(dl).y1(fl).y0(function(w){return w.base.y}),h.defined(Ku).curve(f),h(b)}return l==="vertical"&&Y(o)?h=Mu().y(fl).x1(dl).x0(o):Y(o)?h=Mu().x(dl).y1(fl).y0(o):h=m4().x(dl).y(fl),h.defined(Ku).curve(f),h(d)},jf=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?tX(t):s;return O.createElement("path",P0({},ie(t,!1),Hd(t),{className:ge("recharts-curve",r),d:o,ref:i}))},jP={exports:{}},rX="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",nX=rX,sX=nX;function _P(){}function SP(){}SP.resetWarningCache=_P;var aX=function(){function e(n,s,i,o,l,c){if(c!==sX){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:SP,resetWarningCache:_P};return r.PropTypes=r,r};jP.exports=aX();var iX=jP.exports;const Pe=De(iX);var oX=Object.getOwnPropertyNames,lX=Object.getOwnPropertySymbols,cX=Object.prototype.hasOwnProperty;function r_(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Vu(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var i=s.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,s);return i.delete(r),i.delete(n),c}}function n_(e){return oX(e).concat(lX(e))}var uX=Object.hasOwn||function(e,t){return cX.call(e,t)};function Xa(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var dX="__v",fX="__o",hX="_owner",s_=Object.getOwnPropertyDescriptor,a_=Object.keys;function pX(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function mX(e,t){return Xa(e.getTime(),t.getTime())}function gX(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function xX(e,t){return e===t}function i_(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),f=!1,d=0;(l=u.next())&&!l.done;){if(s[d]){d++;continue}var h=o.value,p=l.value;if(r.equals(h[0],p[0],c,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=s[d]=!0;break}d++}if(!f)return!1;c++}return!0}var vX=Xa;function yX(e,t,r){var n=a_(e),s=n.length;if(a_(t).length!==s)return!1;for(;s-- >0;)if(!NP(e,t,r,n[s]))return!1;return!0}function hl(e,t,r){var n=n_(e),s=n.length;if(n_(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=n[s],!NP(e,t,r,i)||(o=s_(e,i),l=s_(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function bX(e,t){return Xa(e.valueOf(),t.valueOf())}function wX(e,t){return e.source===t.source&&e.flags===t.flags}function o_(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!s[f]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[f]=!0;break}f++}if(!u)return!1}return!0}function jX(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function _X(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function NP(e,t,r,n){return(n===hX||n===fX||n===dX)&&(e.$$typeof||t.$$typeof)?!0:uX(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var SX="[object Arguments]",NX="[object Boolean]",AX="[object Date]",OX="[object Error]",PX="[object Map]",EX="[object Number]",kX="[object Object]",CX="[object RegExp]",TX="[object Set]",$X="[object String]",DX="[object URL]",IX=Array.isArray,l_=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,c_=Object.assign,MX=Object.prototype.toString.call.bind(Object.prototype.toString);function RX(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(b,w,v){if(b===w)return!0;if(b==null||w==null)return!1;var j=typeof b;if(j!==typeof w)return!1;if(j!=="object")return j==="number"?o(b,w,v):j==="function"?s(b,w,v):!1;var y=b.constructor;if(y!==w.constructor)return!1;if(y===Object)return l(b,w,v);if(IX(b))return t(b,w,v);if(l_!=null&&l_(b))return d(b,w,v);if(y===Date)return r(b,w,v);if(y===RegExp)return u(b,w,v);if(y===Map)return i(b,w,v);if(y===Set)return f(b,w,v);var x=MX(b);return x===AX?r(b,w,v):x===CX?u(b,w,v):x===PX?i(b,w,v):x===TX?f(b,w,v):x===kX?typeof b.then!="function"&&typeof w.then!="function"&&l(b,w,v):x===DX?h(b,w,v):x===OX?n(b,w,v):x===SX?l(b,w,v):x===NX||x===EX||x===$X?c(b,w,v):!1}}function LX(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?hl:pX,areDatesEqual:mX,areErrorsEqual:gX,areFunctionsEqual:xX,areMapsEqual:n?r_(i_,hl):i_,areNumbersEqual:vX,areObjectsEqual:n?hl:yX,arePrimitiveWrappersEqual:bX,areRegExpsEqual:wX,areSetsEqual:n?r_(o_,hl):o_,areTypedArraysEqual:n?hl:jX,areUrlsEqual:_X};if(r&&(s=c_({},s,r(s))),t){var i=Vu(s.areArraysEqual),o=Vu(s.areMapsEqual),l=Vu(s.areObjectsEqual),c=Vu(s.areSetsEqual);s=c_({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function UX(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function FX(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,i=e.strict;if(n)return function(c,u){var f=n(),d=f.cache,h=d===void 0?t?new WeakMap:void 0:d,p=f.meta;return r(c,u,{cache:h,equals:s,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var BX=Js();Js({strict:!0});Js({circular:!0});Js({circular:!0,strict:!0});Js({createInternalComparator:function(){return Xa}});Js({strict:!0,createInternalComparator:function(){return Xa}});Js({circular:!0,createInternalComparator:function(){return Xa}});Js({circular:!0,createInternalComparator:function(){return Xa},strict:!0});function Js(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=LX(e),c=RX(l),u=n?n(c):UX(c);return FX({circular:r,comparator:c,createState:s,equals:u,strict:o})}function zX(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function u_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):zX(s)};requestAnimationFrame(n)}function E0(e){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E0(e)}function qX(e){return VX(e)||KX(e)||HX(e)||WX()}function WX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HX(e,t){if(e){if(typeof e=="string")return d_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d_(e,t)}}function d_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VX(e){if(Array.isArray(e))return e}function GX(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=qX(o),c=l[0],u=l.slice(1);if(typeof c=="number"){u_(s.bind(null,u),c);return}s(c),u_(s.bind(null,u));return}E0(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function f_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function h_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f_(Object(r),!0).forEach(function(n){AP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AP(e,t,r){return t=QX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QX(e){var t=YX(e,"string");return Tc(t)==="symbol"?t:String(t)}function YX(e,t){if(Tc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var XX=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},ZX=function(t){return t},JX=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ml=function(t,r){return Object.keys(r).reduce(function(n,s){return h_(h_({},n),{},AP({},s,t(s,r[s])))},{})},p_=function(t,r,n){return t.map(function(s){return"".concat(JX(s)," ").concat(r,"ms ").concat(n)}).join(",")};function eZ(e,t){return nZ(e)||rZ(e,t)||OP(e,t)||tZ()}function tZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function nZ(e){if(Array.isArray(e))return e}function sZ(e){return oZ(e)||iZ(e)||OP(e)||aZ()}function aZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OP(e,t){if(e){if(typeof e=="string")return k0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k0(e,t)}}function iZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function oZ(e){if(Array.isArray(e))return k0(e)}function k0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _f=1e-4,PP=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},EP=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},m_=function(t,r){return function(n){var s=PP(t,r);return EP(s,n)}},lZ=function(t,r){return function(n){var s=PP(t,r),i=[].concat(sZ(s.map(function(o,l){return o*l}).slice(1)),[0]);return EP(i,n)}},g_=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),f=eZ(u,4);s=f[0],i=f[1],o=f[2],l=f[3]}}}var d=m_(s,o),h=m_(i,l),p=lZ(s,o),b=function(j){return j>1?1:j<0?0:j},w=function(j){for(var y=j>1?1:j,x=y,_=0;_<8;++_){var m=d(x)-y,g=p(x);if(Math.abs(m-y)<_f||g<_f)return h(x);x=b(x-m/g)}return h(x)};return w.isStepper=!1,w},cZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(f,d,h){var p=-(f-d)*n,b=h*i,w=h+(p-b)*l/1e3,v=h*l/1e3+f;return Math.abs(v-d)<_f&&Math.abs(w)<_f?[d,0]:[v,w]};return c.isStepper=!0,c.dt=l,c},uZ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return g_(s);case"spring":return cZ();default:if(s.split("(")[0]==="cubic-bezier")return g_(s)}return typeof s=="function"?s:null};function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}function x_(e){return hZ(e)||fZ(e)||kP(e)||dZ()}function dZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hZ(e){if(Array.isArray(e))return T0(e)}function v_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v_(Object(r),!0).forEach(function(n){C0(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C0(e,t,r){return t=pZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pZ(e){var t=mZ(e,"string");return $c(t)==="symbol"?t:String(t)}function mZ(e,t){if($c(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($c(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gZ(e,t){return yZ(e)||vZ(e,t)||kP(e,t)||xZ()}function xZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kP(e,t){if(e){if(typeof e=="string")return T0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T0(e,t)}}function T0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function yZ(e){if(Array.isArray(e))return e}var Sf=function(t,r,n){return t+(r-t)*n},$0=function(t){var r=t.from,n=t.to;return r!==n},bZ=function e(t,r,n){var s=Ml(function(i,o){if($0(o)){var l=t(o.from,o.to,o.velocity),c=gZ(l,2),u=c[0],f=c[1];return Dt(Dt({},o),{},{from:u,velocity:f})}return o},r);return n<1?Ml(function(i,o){return $0(o)?Dt(Dt({},o),{},{velocity:Sf(o.velocity,s[i].velocity,n),from:Sf(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const wZ=function(e,t,r,n,s){var i=XX(e,t),o=i.reduce(function(v,j){return Dt(Dt({},v),{},C0({},j,[e[j],t[j]]))},{}),l=i.reduce(function(v,j){return Dt(Dt({},v),{},C0({},j,{from:e[j],velocity:0,to:t[j]}))},{}),c=-1,u,f,d=function(){return null},h=function(){return Ml(function(j,y){return y.from},l)},p=function(){return!Object.values(l).filter($0).length},b=function(j){u||(u=j);var y=j-u,x=y/r.dt;l=bZ(r,l,x),s(Dt(Dt(Dt({},e),t),h())),u=j,p()||(c=requestAnimationFrame(d))},w=function(j){f||(f=j);var y=(j-f)/n,x=Ml(function(m,g){return Sf.apply(void 0,x_(g).concat([r(y)]))},o);if(s(Dt(Dt(Dt({},e),t),x)),y<1)c=requestAnimationFrame(d);else{var _=Ml(function(m,g){return Sf.apply(void 0,x_(g).concat([r(1)]))},o);s(Dt(Dt(Dt({},e),t),_))}};return d=r.isStepper?b:w,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}var jZ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function _Z(e,t){if(e==null)return{};var r=SZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function SZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function _m(e){return PZ(e)||OZ(e)||AZ(e)||NZ()}function NZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AZ(e,t){if(e){if(typeof e=="string")return D0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D0(e,t)}}function OZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function PZ(e){if(Array.isArray(e))return D0(e)}function D0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?y_(Object(r),!0).forEach(function(n){wl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wl(e,t,r){return t=CP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CP(n.key),n)}}function CZ(e,t,r){return t&&kZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function CP(e){var t=TZ(e,"string");return io(t)==="symbol"?t:String(t)}function TZ(e,t){if(io(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(io(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $Z(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&I0(e,t)}function I0(e,t){return I0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},I0(e,t)}function DZ(e){var t=IZ();return function(){var n=Nf(e),s;if(t){var i=Nf(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return M0(this,s)}}function M0(e,t){if(t&&(io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R0(e)}function R0(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function IZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nf(e){return Nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nf(e)}var kn=function(e){$Z(r,e);var t=DZ(r);function r(n,s){var i;EZ(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,d=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(R0(i)),i.changeStyle=i.changeStyle.bind(R0(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:f}),M0(i);if(d&&d.length)i.state={style:d[0].style};else if(u){if(typeof h=="function")return i.state={style:u},M0(i);i.state={style:c?wl({},c,u):u}}else i.state={style:{}};return i}return CZ(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,f=i.to,d=i.from,h=this.state.style;if(l){if(!o){var p={style:c?wl({},c,f):f};this.state&&h&&(c&&h[c]!==f||!c&&h!==f)&&this.setState(p);return}if(!(BX(s.to,f)&&s.canBegin&&s.isActive)){var b=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=b||u?d:s.to;if(this.state&&h){var v={style:c?wl({},c,w):w};(c&&h[c]!==w||!c&&h!==w)&&this.setState(v)}this.runAnimation(Zr(Zr({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,f=s.begin,d=s.onAnimationEnd,h=s.onAnimationStart,p=wZ(o,l,uZ(u),c,this.changeStyle),b=function(){i.stopJSAnimation=p()};this.manager.start([h,f,b,c,d])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],f=u.style,d=u.duration,h=d===void 0?0:d,p=function(w,v,j){if(j===0)return w;var y=v.duration,x=v.easing,_=x===void 0?"ease":x,m=v.style,g=v.properties,N=v.onAnimationEnd,S=j>0?o[j-1]:v,A=g||Object.keys(m);if(typeof _=="function"||_==="spring")return[].concat(_m(w),[i.runJSAnimation.bind(i,{from:S.style,to:m,duration:y,easing:_}),y]);var P=p_(A,y,_),E=Zr(Zr(Zr({},S.style),m),{},{transition:P});return[].concat(_m(w),[E,y,N]).filter(ZX)};return this.manager.start([c].concat(_m(o.reduce(p,[f,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=GX());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,f=s.onAnimationStart,d=s.onAnimationEnd,h=s.steps,p=s.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var w=l?wl({},l,c):c,v=p_(Object.keys(w),o,u);b.start([f,i,Zr(Zr({},w),{},{transition:v}),o,d])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=_Z(s,jZ),u=O.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!l||u===0||o<=0)return i;var d=function(p){var b=p.props,w=b.style,v=w===void 0?{}:w,j=b.className,y=O.cloneElement(p,Zr(Zr({},c),{},{style:Zr(Zr({},v),f),className:j}));return y};return u===1?d(O.Children.only(i)):T.createElement("div",null,O.Children.map(i,function(h){return d(h)}))}}]),r}(O.PureComponent);kn.displayName="Animate";kn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};kn.propTypes={from:Pe.oneOfType([Pe.object,Pe.string]),to:Pe.oneOfType([Pe.object,Pe.string]),attributeName:Pe.string,duration:Pe.number,begin:Pe.number,easing:Pe.oneOfType([Pe.string,Pe.func]),steps:Pe.arrayOf(Pe.shape({duration:Pe.number.isRequired,style:Pe.object.isRequired,easing:Pe.oneOfType([Pe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Pe.func]),properties:Pe.arrayOf("string"),onAnimationEnd:Pe.func})),children:Pe.oneOfType([Pe.node,Pe.func]),isActive:Pe.bool,canBegin:Pe.bool,onAnimationEnd:Pe.func,shouldReAnimate:Pe.bool,onAnimationStart:Pe.func,onAnimationReStart:Pe.func};function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Af.apply(this,arguments)}function MZ(e,t){return FZ(e)||UZ(e,t)||LZ(e,t)||RZ()}function RZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LZ(e,t){if(e){if(typeof e=="string")return b_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b_(e,t)}}function b_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function UZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function FZ(e){if(Array.isArray(e))return e}function w_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function j_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?w_(Object(r),!0).forEach(function(n){BZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BZ(e,t,r){return t=zZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zZ(e){var t=qZ(e,"string");return Dc(t)=="symbol"?t:t+""}function qZ(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var __=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,f;if(o>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=i[h]>o?o:i[h];f="M".concat(t,",").concat(r+l*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(r)),f+="L ".concat(t+n-c*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*d[1])),f+="L ".concat(t+n,",").concat(r+s-l*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-c*d[2],",").concat(r+s)),f+="L ".concat(t+c*d[3],",").concat(r+s),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*d[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);f="M ".concat(t,",").concat(r+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+c*b,",").concat(r,`
            L `).concat(t+n-c*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*b,`
            L `).concat(t+n,",").concat(r+s-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+n-c*b,",").concat(r+s,`
            L `).concat(t+c*b,",").concat(r+s,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*b," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return f},WZ=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),f=Math.max(i,i+l),d=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=f&&s>=d&&s<=h}return!1},HZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},by=function(t){var r=j_(j_({},HZ),t),n=O.useRef(),s=O.useState(-1),i=MZ(s,2),o=i[0],l=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,b=r.animationEasing,w=r.animationDuration,v=r.animationBegin,j=r.isAnimationActive,y=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var x=ge("recharts-rectangle",p);return y?T.createElement(kn,{canBegin:o>0,from:{width:f,height:d,x:c,y:u},to:{width:f,height:d,x:c,y:u},duration:w,animationEasing:b,isActive:y},function(_){var m=_.width,g=_.height,N=_.x,S=_.y;return T.createElement(kn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:w,isActive:j,easing:b},T.createElement("path",Af({},ie(r,!0),{className:x,d:__(N,S,m,g,h),ref:n})))}):T.createElement("path",Af({},ie(r,!0),{className:x,d:__(c,u,f,d,h)}))},KZ=["points","className","baseLinePoints","connectNulls"];function Ai(){return Ai=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ai.apply(this,arguments)}function VZ(e,t){if(e==null)return{};var r=GZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GZ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function S_(e){return ZZ(e)||XZ(e)||YZ(e)||QZ()}function QZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YZ(e,t){if(e){if(typeof e=="string")return L0(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return L0(e,t)}}function XZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ZZ(e){if(Array.isArray(e))return L0(e)}function L0(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var N_=function(t){return t&&t.x===+t.x&&t.y===+t.y},JZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){N_(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),N_(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Rl=function(t,r){var n=JZ(t);r&&(n=[n.reduce(function(i,o){return[].concat(S_(i),S_(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},eJ=function(t,r,n){var s=Rl(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Rl(r.reverse(),n).slice(1))},tJ=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=VZ(t,KZ);if(!r||!r.length)return null;var l=ge("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=eJ(r,s,i);return T.createElement("g",{className:l},T.createElement("path",Ai({},ie(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?T.createElement("path",Ai({},ie(o,!0),{fill:"none",d:Rl(r,i)})):null,c?T.createElement("path",Ai({},ie(o,!0),{fill:"none",d:Rl(s,i)})):null)}var f=Rl(r,i);return T.createElement("path",Ai({},ie(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},U0.apply(this,arguments)}var ep=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=ge("recharts-dot",i);return r===+r&&n===+n&&s===+s?O.createElement("circle",U0({},ie(t,!1),Hd(t),{className:o,cx:r,cy:n,r:s})):null};function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}var rJ=["x","y","top","left","width","height","className"];function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},F0.apply(this,arguments)}function A_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(r),!0).forEach(function(n){sJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sJ(e,t,r){return t=aJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aJ(e){var t=iJ(e,"string");return Ic(t)=="symbol"?t:t+""}function iJ(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oJ(e,t){if(e==null)return{};var r=lJ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function lJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cJ=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},uJ=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,b=t.className,w=oJ(t,rJ),v=nJ({x:n,y:i,top:l,left:u,width:d,height:p},w);return!Y(n)||!Y(i)||!Y(d)||!Y(p)||!Y(l)||!Y(u)?null:T.createElement("path",F0({},ie(v,!0),{className:ge("recharts-cross",b),d:cJ(n,i,d,p,l,u)}))},dJ=Qh,fJ=qO,hJ=Tn;function pJ(e,t){return e&&e.length?dJ(e,hJ(t),fJ):void 0}var mJ=pJ;const gJ=De(mJ);var xJ=Qh,vJ=Tn,yJ=WO;function bJ(e,t){return e&&e.length?xJ(e,vJ(t),yJ):void 0}var wJ=bJ;const jJ=De(wJ);var _J=["cx","cy","angle","ticks","axisLine"],SJ=["ticks","tick","angle","tickFormatter","stroke"];function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function Ll(){return Ll=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ll.apply(this,arguments)}function O_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function aa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?O_(Object(r),!0).forEach(function(n){tp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P_(e,t){if(e==null)return{};var r=NJ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function AJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$P(n.key),n)}}function OJ(e,t,r){return t&&E_(e.prototype,t),r&&E_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function PJ(e,t,r){return t=Of(t),EJ(e,TP()?Reflect.construct(t,r||[],Of(e).constructor):t.apply(e,r))}function EJ(e,t){if(t&&(oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kJ(e)}function kJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(TP=function(){return!!e})()}function Of(e){return Of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Of(e)}function CJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B0(e,t)}function B0(e,t){return B0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},B0(e,t)}function tp(e,t,r){return t=$P(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $P(e){var t=TJ(e,"string");return oo(t)=="symbol"?t:t+""}function TJ(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rp=function(e){function t(){return AJ(this,t),PJ(this,t,arguments)}return CJ(t,e),OJ(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Ve(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=gJ(l,function(f){return f.coordinate||0}),u=jJ(l,function(f){return f.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=P_(n,_J),f=l.reduce(function(b,w){return[Math.min(b[0],w.coordinate),Math.max(b[1],w.coordinate)]},[1/0,-1/0]),d=Ve(s,i,f[0],o),h=Ve(s,i,f[1],o),p=aa(aa(aa({},ie(u,!1)),{},{fill:"none"},ie(c,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return T.createElement("line",Ll({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,f=P_(s,SJ),d=this.getTickTextAnchor(),h=ie(f,!1),p=ie(o,!1),b=i.map(function(w,v){var j=n.getTickValueCoord(w),y=aa(aa(aa(aa({textAnchor:d,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:v},j),{},{payload:w});return T.createElement(Ne,Ll({className:ge("recharts-polar-radius-axis-tick",vP(o)),key:"tick-".concat(w.coordinate)},Ua(n.props,w,v)),t.renderTickItem(o,y,c?c(w.value,v):w.value))});return T.createElement(Ne,{className:"recharts-polar-radius-axis-ticks"},b)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:T.createElement(Ne,{className:ge("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Pt.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return T.isValidElement(n)?o=T.cloneElement(n,s):ue(n)?o=n(s):o=T.createElement(Fa,Ll({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(O.PureComponent);tp(rp,"displayName","PolarRadiusAxis");tp(rp,"axisType","radiusAxis");tp(rp,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function pa(){return pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pa.apply(this,arguments)}function k_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?k_(Object(r),!0).forEach(function(n){np(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IP(n.key),n)}}function DJ(e,t,r){return t&&C_(e.prototype,t),r&&C_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IJ(e,t,r){return t=Pf(t),MJ(e,DP()?Reflect.construct(t,r||[],Pf(e).constructor):t.apply(e,r))}function MJ(e,t){if(t&&(lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RJ(e)}function RJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DP=function(){return!!e})()}function Pf(e){return Pf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Pf(e)}function LJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&z0(e,t)}function z0(e,t){return z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},z0(e,t)}function np(e,t,r){return t=IP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IP(e){var t=UJ(e,"string");return lo(t)=="symbol"?t:t+""}function UJ(e,t){if(lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var FJ=Math.PI/180,T_=1e-5,sp=function(e){function t(){return $J(this,t),IJ(this,t,arguments)}return LJ(t,e),DJ(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,f=u||8,d=Ve(i,o,l,n.coordinate),h=Ve(i,o,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*FJ),o;return i>T_?o=s==="outer"?"start":"end":i<-T_?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=ia(ia({},ie(this.props,!1)),{},{fill:"none"},ie(l,!1));if(c==="circle")return T.createElement(ep,pa({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var f=this.props.ticks,d=f.map(function(h){return Ve(s,i,o,h.coordinate)});return T.createElement(tJ,pa({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,f=ie(this.props,!1),d=ie(o,!1),h=ia(ia({},f),{},{fill:"none"},ie(l,!1)),p=i.map(function(b,w){var v=n.getTickLineCoord(b),j=n.getTickTextAnchor(b),y=ia(ia(ia({textAnchor:j},f),{},{stroke:"none",fill:u},d),{},{index:w,payload:b,x:v.x2,y:v.y2});return T.createElement(Ne,pa({className:ge("recharts-polar-angle-axis-tick",vP(o)),key:"tick-".concat(b.coordinate)},Ua(n.props,b,w)),l&&T.createElement("line",pa({className:"recharts-polar-angle-axis-tick-line"},h,v)),o&&t.renderTickItem(o,y,c?c(b.value,w):b.value))});return T.createElement(Ne,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:T.createElement(Ne,{className:ge("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return T.isValidElement(n)?o=T.cloneElement(n,s):ue(n)?o=n(s):o=T.createElement(Fa,pa({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(O.PureComponent);np(sp,"displayName","PolarAngleAxis");np(sp,"axisType","angleAxis");np(sp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var BJ=U4,zJ=BJ(Object.getPrototypeOf,Object),qJ=zJ,WJ=as,HJ=qJ,KJ=is,VJ="[object Object]",GJ=Function.prototype,QJ=Object.prototype,MP=GJ.toString,YJ=QJ.hasOwnProperty,XJ=MP.call(Object);function ZJ(e){if(!KJ(e)||WJ(e)!=VJ)return!1;var t=HJ(e);if(t===null)return!0;var r=YJ.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&MP.call(r)==XJ}var JJ=ZJ;const eee=De(JJ);var tee=as,ree=is,nee="[object Boolean]";function see(e){return e===!0||e===!1||ree(e)&&tee(e)==nee}var aee=see;const iee=De(aee);function Mc(e){"@babel/helpers - typeof";return Mc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mc(e)}function Ef(){return Ef=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ef.apply(this,arguments)}function oee(e,t){return dee(e)||uee(e,t)||cee(e,t)||lee()}function lee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cee(e,t){if(e){if(typeof e=="string")return $_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $_(e,t)}}function $_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function dee(e){if(Array.isArray(e))return e}function D_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function I_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?D_(Object(r),!0).forEach(function(n){fee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fee(e,t,r){return t=hee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hee(e){var t=pee(e,"string");return Mc(t)=="symbol"?t:t+""}function pee(e,t){if(Mc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Mc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M_=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},mee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},gee=function(t){var r=I_(I_({},mee),t),n=O.useRef(),s=O.useState(-1),i=oee(s,2),o=i[0],l=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var x=n.current.getTotalLength();x&&l(x)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,b=r.animationEasing,w=r.animationDuration,v=r.animationBegin,j=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var y=ge("recharts-trapezoid",p);return j?T.createElement(kn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:f,lowerWidth:d,height:h,x:c,y:u},duration:w,animationEasing:b,isActive:j},function(x){var _=x.upperWidth,m=x.lowerWidth,g=x.height,N=x.x,S=x.y;return T.createElement(kn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:w,easing:b},T.createElement("path",Ef({},ie(r,!0),{className:y,d:M_(N,S,_,m,g),ref:n})))}):T.createElement("g",null,T.createElement("path",Ef({},ie(r,!0),{className:y,d:M_(c,u,f,d,h)})))},xee=["option","shapeType","propTransformer","activeClassName","isActive"];function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function vee(e,t){if(e==null)return{};var r=yee(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function R_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?R_(Object(r),!0).forEach(function(n){bee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bee(e,t,r){return t=wee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wee(e){var t=jee(e,"string");return Rc(t)=="symbol"?t:t+""}function jee(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _ee(e,t){return kf(kf({},t),e)}function See(e,t){return e==="symbols"}function L_(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return T.createElement(by,r);case"trapezoid":return T.createElement(gee,r);case"sector":return T.createElement(wP,r);case"symbols":if(See(t))return T.createElement(Uv,r);break;default:return null}}function Nee(e){return O.isValidElement(e)?e.props:e}function RP(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?_ee:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=vee(e,xee),u;if(O.isValidElement(t))u=O.cloneElement(t,kf(kf({},c),Nee(t)));else if(ue(t))u=t(c);else if(eee(t)&&!iee(t)){var f=s(t,c);u=T.createElement(L_,{shapeType:r,elementProps:f})}else{var d=c;u=T.createElement(L_,{shapeType:r,elementProps:d})}return l?T.createElement(Ne,{className:o},u):u}function ap(e,t){return t!=null&&"trapezoids"in e.props}function ip(e,t){return t!=null&&"sectors"in e.props}function Lc(e,t){return t!=null&&"points"in e.props}function Aee(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function Oee(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Pee(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function Eee(e,t){var r;return ap(e,t)?r=Aee:ip(e,t)?r=Oee:Lc(e,t)&&(r=Pee),r}function kee(e,t){var r;return ap(e,t)?r="trapezoids":ip(e,t)?r="sectors":Lc(e,t)&&(r="points"),r}function Cee(e,t){if(ap(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(ip(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Lc(e,t)?t.payload:{}}function Tee(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=kee(r,t),i=Cee(r,t),o=n.filter(function(c,u){var f=lu(i,c),d=r.props[s].filter(function(b){var w=Eee(r,t);return w(b,t)}),h=r.props[s].indexOf(d[d.length-1]),p=u===h;return f&&p}),l=n.indexOf(o[o.length-1]);return l}var ud;function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oi.apply(this,arguments)}function U_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U_(Object(r),!0).forEach(function(n){Ur(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UP(n.key),n)}}function Dee(e,t,r){return t&&F_(e.prototype,t),r&&F_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Iee(e,t,r){return t=Cf(t),Mee(e,LP()?Reflect.construct(t,r||[],Cf(e).constructor):t.apply(e,r))}function Mee(e,t){if(t&&(co(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ree(e)}function Ree(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LP=function(){return!!e})()}function Cf(e){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Cf(e)}function Lee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&q0(e,t)}function q0(e,t){return q0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},q0(e,t)}function Ur(e,t,r){return t=UP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UP(e){var t=Uee(e,"string");return co(t)=="symbol"?t:t+""}function Uee(e,t){if(co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $r=function(e){function t(r){var n;return $ee(this,t),n=Iee(this,t,[r]),Ur(n,"pieRef",null),Ur(n,"sectorRefs",[]),Ur(n,"id",Lo("recharts-pie-")),Ur(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),ue(s)&&s()}),Ur(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),ue(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Lee(t,e),Dee(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,f=ie(this.props,!1),d=ie(o,!1),h=ie(l,!1),p=o&&o.offsetRadius||20,b=n.map(function(w,v){var j=(w.startAngle+w.endAngle)/2,y=Ve(w.cx,w.cy,w.outerRadius+p,j),x=ze(ze(ze(ze({},f),w),{},{stroke:"none"},d),{},{index:v,textAnchor:t.getTextAnchor(y.x,w.cx)},y),_=ze(ze(ze(ze({},f),w),{},{fill:"none",stroke:w.fill},h),{},{index:v,points:[Ve(w.cx,w.cy,w.outerRadius,j),y]}),m=c;return fe(c)&&fe(u)?m="value":fe(c)&&(m=u),T.createElement(Ne,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(v)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,x,bt(w,m)))});return T.createElement(Ne,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var d=s.isActiveIndex(f),h=c&&s.hasActiveIndex()?c:null,p=d?o:h,b=ze(ze({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return T.createElement(Ne,Oi({ref:function(v){v&&!s.sectorRefs.includes(v)&&s.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},Ua(s.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),T.createElement(RP,Oi({option:p,isActive:d,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,f=s.animationId,d=this.state,h=d.prevSectors,p=d.prevIsAnimationActive;return T.createElement(kn,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var w=b.t,v=[],j=i&&i[0],y=j.startAngle;return i.forEach(function(x,_){var m=h&&h[_],g=_>0?Ar(x,"paddingAngle",0):0;if(m){var N=wr(m.endAngle-m.startAngle,x.endAngle-x.startAngle),S=ze(ze({},x),{},{startAngle:y+g,endAngle:y+N(w)+g});v.push(S),y=S.endAngle}else{var A=x.endAngle,P=x.startAngle,E=wr(0,A-P),k=E(w),I=ze(ze({},x),{},{startAngle:y+g,endAngle:y+k+g});v.push(I),y=I.endAngle}}),T.createElement(Ne,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!lu(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,f=s.cy,d=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,b=this.state.isAnimationFinished;if(i||!o||!o.length||!Y(u)||!Y(f)||!Y(d)||!Y(h))return null;var w=ge("recharts-pie",l);return T.createElement(Ne,{tabIndex:this.props.rootTabIndex,className:w,ref:function(j){n.pieRef=j}},this.renderSectors(),c&&this.renderLabels(o),Pt.renderCallByParent(this.props,null,!1),(!p||b)&&Gn.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(T.isValidElement(n))return T.cloneElement(n,s);if(ue(n))return n(s);var o=ge("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return T.createElement(jf,Oi({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(T.isValidElement(n))return T.cloneElement(n,s);var o=i;if(ue(n)&&(o=n(s),T.isValidElement(o)))return o;var l=ge("recharts-pie-label-text",typeof n!="boolean"&&!ue(n)?n.className:"");return T.createElement(Fa,Oi({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(O.PureComponent);ud=$r;Ur($r,"displayName","Pie");Ur($r,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!An.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ur($r,"parseDeltaAngle",function(e,t){var r=er(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Ur($r,"getRealPieData",function(e){var t=e.data,r=e.children,n=ie(e,!1),s=Or(r,Ys);return t&&t.length?t.map(function(i,o){return ze(ze(ze({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return ze(ze({},n),i.props)}):[]});Ur($r,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=xP(s,i),l=n+tr(e.cx,s,s/2),c=r+tr(e.cy,i,i/2),u=tr(e.innerRadius,o,0),f=tr(e.outerRadius,o,o*.8),d=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:d}});Ur($r,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?ze(ze({},t.type.defaultProps),t.props):t.props,s=ud.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,d=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),b=ud.parseCoordinateOfPie(n,r),w=ud.parseDeltaAngle(o,l),v=Math.abs(w),j=u;fe(u)&&fe(d)?(hn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):fe(u)&&(hn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=d);var y=s.filter(function(S){return bt(S,j,0)!==0}).length,x=(v>=360?y:y-1)*c,_=v-y*p-x,m=s.reduce(function(S,A){var P=bt(A,j,0);return S+(Y(P)?P:0)},0),g;if(m>0){var N;g=s.map(function(S,A){var P=bt(S,j,0),E=bt(S,f,A),k=(Y(P)?P:0)/m,I;A?I=N.endAngle+er(w)*c*(P!==0?1:0):I=o;var $=I+er(w)*((P!==0?p:0)+k*_),R=(I+$)/2,C=(b.innerRadius+b.outerRadius)/2,U=[{name:E,value:P,payload:S,dataKey:j,type:h}],D=Ve(b.cx,b.cy,C,R);return N=ze(ze(ze({percent:k,cornerRadius:i,name:E,tooltipPayload:U,midAngle:R,middleRadius:C,tooltipPosition:D},S),b),{},{value:bt(S,j),startAngle:I,endAngle:$,payload:S,paddingAngle:er(w)*c}),N})}return ze(ze({},b),{},{sectors:g,data:s})});var Fee=Math.ceil,Bee=Math.max;function zee(e,t,r,n){for(var s=-1,i=Bee(Fee((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var qee=zee,Wee=sO,B_=1/0,Hee=17976931348623157e292;function Kee(e){if(!e)return e===0?e:0;if(e=Wee(e),e===B_||e===-B_){var t=e<0?-1:1;return t*Hee}return e===e?e:0}var FP=Kee,Vee=qee,Gee=zh,Sm=FP;function Qee(e){return function(t,r,n){return n&&typeof n!="number"&&Gee(t,r,n)&&(r=n=void 0),t=Sm(t),r===void 0?(r=t,t=0):r=Sm(r),n=n===void 0?t<r?1:-1:Sm(n),Vee(t,r,n,e)}}var Yee=Qee,Xee=Yee,Zee=Xee(),Jee=Zee;const Tf=De(Jee);function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function q_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z_(Object(r),!0).forEach(function(n){BP(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BP(e,t,r){return t=ete(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ete(e){var t=tte(e,"string");return Uc(t)=="symbol"?t:t+""}function tte(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rte=["Webkit","Moz","O","ms"],nte=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=rte.reduce(function(i,o){return q_(q_({},i),{},BP({},o+n,r))},{});return s[t]=r,s};function uo(e){"@babel/helpers - typeof";return uo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uo(e)}function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$f.apply(this,arguments)}function W_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?W_(Object(r),!0).forEach(function(n){vr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):W_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ste(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qP(n.key),n)}}function ate(e,t,r){return t&&H_(e.prototype,t),r&&H_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ite(e,t,r){return t=Df(t),ote(e,zP()?Reflect.construct(t,r||[],Df(e).constructor):t.apply(e,r))}function ote(e,t){if(t&&(uo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lte(e)}function lte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zP=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(e)}function cte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W0(e,t)}function W0(e,t){return W0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},W0(e,t)}function vr(e,t,r){return t=qP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qP(e){var t=ute(e,"string");return uo(t)=="symbol"?t:t+""}function ute(e,t){if(uo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dte=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Dl().domain(Tf(0,c)).range([i,i+o-l]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:f}},K_=function(t){return t.changedTouches&&!!t.changedTouches.length},fo=function(e){function t(r){var n;return ste(this,t),n=ite(this,t,[r]),vr(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),vr(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),vr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),vr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),vr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),vr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),vr(n,"handleSlideDragStart",function(s){var i=K_(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return cte(t,e),ate(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,d=Math.min(s,i),h=Math.max(s,i),p=t.getIndexInRange(o,d),b=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:b===f?f:b-b%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=bt(i[n],l,n);return ue(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,f=c.width,d=c.travellerWidth,h=c.startIndex,p=c.endIndex,b=c.onChange,w=n.pageX-i;w>0?w=Math.min(w,u+f-d-l,u+f-d-o):w<0&&(w=Math.max(w,u-o,u-l));var v=this.getIndex({startX:o+w,endX:l+w});(v.startIndex!==h||v.endIndex!==p)&&b&&b(v),this.setState({startX:o+w,endX:l+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=K_(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,b=f.onChange,w=f.gap,v=f.data,j={startX:this.state.startX,endX:this.state.endX},y=n.pageX-i;y>0?y=Math.min(y,d+h-p-u):y<0&&(y=Math.max(y,d-u)),j[o]=u+y;var x=this.getIndex(j),_=x.startIndex,m=x.endIndex,g=function(){var S=v.length-1;return o==="startX"&&(l>c?_%w===0:m%w===0)||l<c&&m===S||o==="endX"&&(l>c?m%w===0:_%w===0)||l>c&&m===S};this.setState(vr(vr({},o,u+y),"brushMoveStartX",n.pageX),function(){b&&g()&&b(x)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[s],d=l.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=l.length)){var p=l[h];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(vr({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return T.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,d=O.Children.only(u);return d?T.cloneElement(d,{x:s,y:i,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,d=c.height,h=c.traveller,p=c.ariaLabel,b=c.data,w=c.startIndex,v=c.endIndex,j=Math.max(n,this.props.x),y=Nm(Nm({},ie(this.props,!1)),{},{x:j,y:u,width:f,height:d}),x=p||"Min value: ".concat((i=b[w])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=b[v])===null||o===void 0?void 0:o.name);return T.createElement(Ne,{tabIndex:0,role:"slider","aria-label":x,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(m){["ArrowLeft","ArrowRight"].includes(m.key)&&(m.preventDefault(),m.stopPropagation(),l.handleTravellerMoveKeyboard(m.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,y))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,f=Math.min(n,s)+u,d=Math.max(Math.abs(s-n)-u,0);return T.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,h=f.endX,p=5,b={pointerEvents:"none",fill:u};return T.createElement(Ne,{className:"recharts-brush-texts"},T.createElement(Fa,$f({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:o+l/2},b),this.getTextOfTick(s)),T.createElement(Fa,$f({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+p,y:o+l/2},b),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,f=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,b=h.endX,w=h.isTextActive,v=h.isSlideMoving,j=h.isTravellerMoving,y=h.isTravellerFocused;if(!s||!s.length||!Y(l)||!Y(c)||!Y(u)||!Y(f)||u<=0||f<=0)return null;var x=ge("recharts-brush",i),_=T.Children.count(o)===1,m=nte("userSelect","none");return T.createElement(Ne,{className:x,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:m},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,b),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(b,"endX"),(w||v||j||y||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return T.createElement(T.Fragment,null,T.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),T.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),T.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return T.isValidElement(n)?i=T.cloneElement(n,s):ue(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return Nm({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?dte({data:i,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(O.PureComponent);vr(fo,"displayName","Brush");vr(fo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var fte=Kv;function hte(e,t){var r;return fte(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var pte=hte,mte=C4,gte=Tn,xte=pte,vte=gr,yte=zh;function bte(e,t,r){var n=vte(e)?mte:xte;return r&&yte(e,t,r)&&(t=void 0),n(e,gte(t))}var wte=bte;const jte=De(wte);var Pn=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},V_=J4;function _te(e,t,r){t=="__proto__"&&V_?V_(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var Ste=_te,Nte=Ste,Ate=X4,Ote=Tn;function Pte(e,t){var r={};return t=Ote(t),Ate(e,function(n,s,i){Nte(r,s,t(n,s,i))}),r}var Ete=Pte;const kte=De(Ete);function Cte(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Tte=Cte,$te=Kv;function Dte(e,t){var r=!0;return $te(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var Ite=Dte,Mte=Tte,Rte=Ite,Lte=Tn,Ute=gr,Fte=zh;function Bte(e,t,r){var n=Ute(e)?Mte:Rte;return r&&Fte(e,t,r)&&(t=void 0),n(e,Lte(t))}var zte=Bte;const WP=De(zte);var qte=["x","y"];function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H0.apply(this,arguments)}function G_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(r),!0).forEach(function(n){Wte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wte(e,t,r){return t=Hte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Hte(e){var t=Kte(e,"string");return Fc(t)=="symbol"?t:t+""}function Kte(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vte(e,t){if(e==null)return{};var r=Gte(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Gte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Qte(e,t){var r=e.x,n=e.y,s=Vte(e,qte),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),f=parseInt(u,10),d="".concat(t.width||s.width),h=parseInt(d,10);return pl(pl(pl(pl(pl({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function Q_(e){return T.createElement(RP,H0({shapeType:"rectangle",propTransformer:Qte,activeClassName:"recharts-active-bar"},e))}var Yte=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=Y(n)||w8(n);return i?t(n,s):(i||za(),r)}},Xte=["value","background"],HP;function ho(e){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(e)}function Zte(e,t){if(e==null)return{};var r=Jte(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jte(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function If(){return If=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},If.apply(this,arguments)}function Y_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ft(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Y_(Object(r),!0).forEach(function(n){Ps(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ere(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function X_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VP(n.key),n)}}function tre(e,t,r){return t&&X_(e.prototype,t),r&&X_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function rre(e,t,r){return t=Mf(t),nre(e,KP()?Reflect.construct(t,r||[],Mf(e).constructor):t.apply(e,r))}function nre(e,t){if(t&&(ho(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sre(e)}function sre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KP=function(){return!!e})()}function Mf(e){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mf(e)}function are(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K0(e,t)}function K0(e,t){return K0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},K0(e,t)}function Ps(e,t,r){return t=VP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VP(e){var t=ire(e,"string");return ho(t)=="symbol"?t:t+""}function ire(e,t){if(ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ct=function(e){function t(){var r;ere(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=rre(this,t,[].concat(s)),Ps(r,"state",{isAnimationFinished:!1}),Ps(r,"id",Lo("recharts-bar-")),Ps(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ps(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return are(t,e),tre(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,f=ie(this.props,!1);return n&&n.map(function(d,h){var p=h===c,b=p?u:o,w=ft(ft(ft({},f),d),{},{isActive:p,option:b,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return T.createElement(Ne,If({className:"recharts-bar-rectangle"},Ua(s.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),T.createElement(Q_,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,f=s.animationEasing,d=s.animationId,h=this.state.prevData;return T.createElement(kn,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var b=p.t,w=i.map(function(v,j){var y=h&&h[j];if(y){var x=wr(y.x,v.x),_=wr(y.y,v.y),m=wr(y.width,v.width),g=wr(y.height,v.height);return ft(ft({},v),{},{x:x(b),y:_(b),width:m(b),height:g(b)})}if(o==="horizontal"){var N=wr(0,v.height),S=N(b);return ft(ft({},v),{},{y:v.y+v.height-S,height:S})}var A=wr(0,v.width),P=A(b);return ft(ft({},v),{},{width:P})});return T.createElement(Ne,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!lu(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=ie(this.props.background,!1);return i.map(function(u,f){u.value;var d=u.background,h=Zte(u,Xte);if(!d)return null;var p=ft(ft(ft(ft(ft({},h),{},{fill:"#eee"},d),c),Ua(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return T.createElement(Q_,If({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,d=Or(f,cu);if(!d)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(v,j){var y=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:y,errorVal:bt(v,j)}},b={clipPath:n?"url(#clipPath-".concat(s,")"):null};return T.createElement(Ne,b,d.map(function(w){return T.cloneElement(w,{key:"error-bar-".concat(s,"-").concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,d=n.width,h=n.height,p=n.isAnimationActive,b=n.background,w=n.id;if(s||!i||!i.length)return null;var v=this.state.isAnimationFinished,j=ge("recharts-bar",o),y=l&&l.allowDataOverflow,x=c&&c.allowDataOverflow,_=y||x,m=fe(w)?this.id:w;return T.createElement(Ne,{className:j},y||x?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(m)},T.createElement("rect",{x:y?u:u-d/2,y:x?f:f-h/2,width:y?d:d*2,height:x?h:h*2}))):null,T.createElement(Ne,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(m,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,m),(!p||v)&&Gn.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(O.PureComponent);HP=Ct;Ps(Ct,"displayName","Bar");Ps(Ct,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!An.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ps(Ct,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=FQ(n,r);if(!p)return null;var b=t.layout,w=r.type.defaultProps,v=w!==void 0?ft(ft({},w),r.props):r.props,j=v.dataKey,y=v.children,x=v.minPointSize,_=b==="horizontal"?o:i,m=u?_.scale.domain():null,g=VQ({numericAxis:_}),N=Or(y,Ys),S=d.map(function(A,P){var E,k,I,$,R,C;u?E=BQ(u[f+P],m):(E=bt(A,j),Array.isArray(E)||(E=[g,E]));var U=Yte(x,HP.defaultProps.minPointSize)(E[1],P);if(b==="horizontal"){var D,L=[o.scale(E[0]),o.scale(E[1])],q=L[0],Q=L[1];k=Fj({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:A,index:P}),I=(D=Q??q)!==null&&D!==void 0?D:void 0,$=p.size;var H=q-Q;if(R=Number.isNaN(H)?0:H,C={x:k,y:o.y,width:$,height:o.height},Math.abs(U)>0&&Math.abs(R)<Math.abs(U)){var ee=er(R||U)*(Math.abs(U)-Math.abs(R));I-=ee,R+=ee}}else{var K=[i.scale(E[0]),i.scale(E[1])],he=K[0],Ge=K[1];if(k=he,I=Fj({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:A,index:P}),$=Ge-he,R=p.size,C={x:i.x,y:I,width:i.width,height:R},Math.abs(U)>0&&Math.abs($)<Math.abs(U)){var $t=er($||U)*(Math.abs(U)-Math.abs($));$+=$t}}return ft(ft(ft({},A),{},{x:k,y:I,width:$,height:R,value:u?E:E[1],payload:A,background:C},N&&N[P]&&N[P].props),{},{tooltipPayload:[mP(r,A)],tooltipPosition:{x:k+$/2,y:I+R/2}})});return ft({data:S,layout:b},h)});function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function ore(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Z_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,GP(n.key),n)}}function lre(e,t,r){return t&&Z_(e.prototype,t),r&&Z_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(n){op(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function op(e,t,r){return t=GP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GP(e){var t=cre(e,"string");return Bc(t)=="symbol"?t:t+""}function cre(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var QP=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!br(u,Ct);return f.reduce(function(p,b){var w=r[b],v=w.orientation,j=w.domain,y=w.padding,x=y===void 0?{}:y,_=w.mirror,m=w.reversed,g="".concat(v).concat(_?"Mirror":""),N,S,A,P,E;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var k=j[1]-j[0],I=1/0,$=w.categoricalDomain.sort(S8);if($.forEach(function(K,he){he>0&&(I=Math.min((K||0)-($[he-1]||0),I))}),Number.isFinite(I)){var R=I/k,C=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(N=R*C/2),w.padding==="no-gap"){var U=tr(t.barCategoryGap,R*C),D=R*C/2;N=D-U-(D-U)/C*U}}}s==="xAxis"?S=[n.left+(x.left||0)+(N||0),n.left+n.width-(x.right||0)-(N||0)]:s==="yAxis"?S=c==="horizontal"?[n.top+n.height-(x.bottom||0),n.top+(x.top||0)]:[n.top+(x.top||0)+(N||0),n.top+n.height-(x.bottom||0)-(N||0)]:S=w.range,m&&(S=[S[1],S[0]]);var L=dP(w,i,h),q=L.scale,Q=L.realScaleType;q.domain(j).range(S),fP(q);var H=hP(q,sn(sn({},w),{},{realScaleType:Q}));s==="xAxis"?(E=v==="top"&&!_||v==="bottom"&&_,A=n.left,P=d[g]-E*w.height):s==="yAxis"&&(E=v==="left"&&!_||v==="right"&&_,A=d[g]-E*w.width,P=n.top);var ee=sn(sn(sn({},w),H),{},{realScaleType:Q,x:A,y:P,scale:q,width:s==="xAxis"?n.width:w.width,height:s==="yAxis"?n.height:w.height});return ee.bandSize=yf(ee,H),!w.hide&&s==="xAxis"?d[g]+=(E?-1:1)*ee.height:w.hide||(d[g]+=(E?-1:1)*ee.width),sn(sn({},p),{},op({},b,ee))},{})},YP=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},ure=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return YP({x:r,y:n},{x:s,y:i})},XP=function(){function e(t){ore(this,e),this.scale=t}return lre(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();op(XP,"EPS",1e-4);var wy=function(t){var r=Object.keys(t).reduce(function(n,s){return sn(sn({},n),{},op({},s,XP.create(t[s])))},{});return sn(sn({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return kte(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return WP(s,function(i,o){return r[o].isInRange(i)})}})};function dre(e){return(e%180+180)%180}var fre=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=dre(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},hre=Tn,pre=nu,mre=Fh;function gre(e){return function(t,r,n){var s=Object(t);if(!pre(t)){var i=hre(r);t=mre(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var xre=gre,vre=FP;function yre(e){var t=vre(e),r=t%1;return t===t?r?t-r:t:0}var bre=yre,wre=H4,jre=Tn,_re=bre,Sre=Math.max;function Nre(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:_re(r);return s<0&&(s=Sre(n+s,0)),wre(e,jre(t),s)}var Are=Nre,Ore=xre,Pre=Are,Ere=Ore(Pre),kre=Ere;const Cre=De(kre);var Tre=NM(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),jy=O.createContext(void 0),_y=O.createContext(void 0),ZP=O.createContext(void 0),JP=O.createContext({}),eE=O.createContext(void 0),tE=O.createContext(0),rE=O.createContext(0),eS=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,f=Tre(i);return T.createElement(jy.Provider,{value:n},T.createElement(_y.Provider,{value:s},T.createElement(JP.Provider,{value:i},T.createElement(ZP.Provider,{value:f},T.createElement(eE.Provider,{value:o},T.createElement(tE.Provider,{value:u},T.createElement(rE.Provider,{value:c},l)))))))},$re=function(){return O.useContext(eE)},nE=function(t){var r=O.useContext(jy);r==null&&za();var n=r[t];return n==null&&za(),n},Dre=function(){var t=O.useContext(jy);return js(t)},Ire=function(){var t=O.useContext(_y),r=Cre(t,function(n){return WP(n.domain,Number.isFinite)});return r||js(t)},sE=function(t){var r=O.useContext(_y);r==null&&za();var n=r[t];return n==null&&za(),n},Mre=function(){var t=O.useContext(ZP);return t},Rre=function(){return O.useContext(JP)},Sy=function(){return O.useContext(rE)},Ny=function(){return O.useContext(tE)};function po(e){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(e)}function Lre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ure(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,iE(n.key),n)}}function Fre(e,t,r){return t&&Ure(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bre(e,t,r){return t=Rf(t),zre(e,aE()?Reflect.construct(t,r||[],Rf(e).constructor):t.apply(e,r))}function zre(e,t){if(t&&(po(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qre(e)}function qre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function aE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aE=function(){return!!e})()}function Rf(e){return Rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rf(e)}function Wre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V0(e,t)}function V0(e,t){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},V0(e,t)}function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function rS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){Ay(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ay(e,t,r){return t=iE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iE(e){var t=Hre(e,"string");return po(t)=="symbol"?t:t+""}function Hre(e,t){if(po(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kre(e,t){return Yre(e)||Qre(e,t)||Gre(e,t)||Vre()}function Vre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gre(e,t){if(e){if(typeof e=="string")return nS(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nS(e,t)}}function nS(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Qre(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Yre(e){if(Array.isArray(e))return e}function G0(){return G0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},G0.apply(this,arguments)}var Xre=function(t,r){var n;return T.isValidElement(t)?n=T.cloneElement(t,r):ue(t)?n=t(r):n=T.createElement("line",G0({},r,{className:"recharts-reference-line-line"})),n},Zre=function(t,r,n,s,i,o,l,c,u){var f=i.x,d=i.y,h=i.width,p=i.height;if(n){var b=u.y,w=t.y.apply(b,{position:o});if(Pn(u,"discard")&&!t.y.isInRange(w))return null;var v=[{x:f+h,y:w},{x:f,y:w}];return c==="left"?v.reverse():v}if(r){var j=u.x,y=t.x.apply(j,{position:o});if(Pn(u,"discard")&&!t.x.isInRange(y))return null;var x=[{x:y,y:d+p},{x:y,y:d}];return l==="top"?x.reverse():x}if(s){var _=u.segment,m=_.map(function(g){return t.apply(g,{position:o})});return Pn(u,"discard")&&jte(m,function(g){return!t.isInRange(g)})?null:m}return null};function Jre(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=$re(),f=nE(s),d=sE(i),h=Mre();if(!u||!h)return null;hn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=wy({x:f.scale,y:d.scale}),b=jt(t),w=jt(r),v=n&&n.length===2,j=Zre(p,b,w,v,h,e.position,f.orientation,d.orientation,e);if(!j)return null;var y=Kre(j,2),x=y[0],_=x.x,m=x.y,g=y[1],N=g.x,S=g.y,A=Pn(e,"hidden")?"url(#".concat(u,")"):void 0,P=rS(rS({clipPath:A},ie(e,!0)),{},{x1:_,y1:m,x2:N,y2:S});return T.createElement(Ne,{className:ge("recharts-reference-line",l)},Xre(o,P),Pt.renderCallByParent(e,ure({x1:_,y1:m,x2:N,y2:S})))}var Oy=function(e){function t(){return Lre(this,t),Bre(this,t,arguments)}return Wre(t,e),Fre(t,[{key:"render",value:function(){return T.createElement(Jre,this.props)}}])}(T.Component);Ay(Oy,"displayName","ReferenceLine");Ay(Oy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Q0(){return Q0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Q0.apply(this,arguments)}function mo(e){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mo(e)}function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function aS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){lp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ene(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,lE(n.key),n)}}function rne(e,t,r){return t&&tne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function nne(e,t,r){return t=Lf(t),sne(e,oE()?Reflect.construct(t,r||[],Lf(e).constructor):t.apply(e,r))}function sne(e,t){if(t&&(mo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ane(e)}function ane(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oE=function(){return!!e})()}function Lf(e){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lf(e)}function ine(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y0(e,t)}function Y0(e,t){return Y0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Y0(e,t)}function lp(e,t,r){return t=lE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lE(e){var t=one(e,"string");return mo(t)=="symbol"?t:t+""}function one(e,t){if(mo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lne=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=wy({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Pn(t,"discard")&&!o.isInRange(l)?null:l},cp=function(e){function t(){return ene(this,t),nne(this,t,arguments)}return ine(t,e),rne(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=jt(s),f=jt(i);if(hn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=lne(this.props);if(!d)return null;var h=d.x,p=d.y,b=this.props,w=b.shape,v=b.className,j=Pn(this.props,"hidden")?"url(#".concat(c,")"):void 0,y=aS(aS({clipPath:j},ie(this.props,!0)),{},{cx:h,cy:p});return T.createElement(Ne,{className:ge("recharts-reference-dot",v)},t.renderDot(w,y),Pt.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(T.Component);lp(cp,"displayName","ReferenceDot");lp(cp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});lp(cp,"renderDot",function(e,t){var r;return T.isValidElement(e)?r=T.cloneElement(e,t):ue(e)?r=e(t):r=T.createElement(ep,Q0({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function X0(){return X0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},X0.apply(this,arguments)}function go(e){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(e)}function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(n){up(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function une(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,uE(n.key),n)}}function dne(e,t,r){return t&&une(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function fne(e,t,r){return t=Uf(t),hne(e,cE()?Reflect.construct(t,r||[],Uf(e).constructor):t.apply(e,r))}function hne(e,t){if(t&&(go(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pne(e)}function pne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cE=function(){return!!e})()}function Uf(e){return Uf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Uf(e)}function mne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z0(e,t)}function Z0(e,t){return Z0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Z0(e,t)}function up(e,t,r){return t=uE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uE(e){var t=gne(e,"string");return go(t)=="symbol"?t:t+""}function gne(e,t){if(go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xne=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,f=i.xAxis,d=i.yAxis;if(!f||!d)return null;var h=wy({x:f.scale,y:d.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},b={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Pn(i,"discard")&&(!h.isInRange(p)||!h.isInRange(b))?null:YP(p,b)},dp=function(e){function t(){return cne(this,t),fne(this,t,arguments)}return mne(t,e),dne(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;hn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=jt(s),h=jt(i),p=jt(o),b=jt(l),w=this.props.shape;if(!d&&!h&&!p&&!b&&!w)return null;var v=xne(d,h,p,b,this.props);if(!v&&!w)return null;var j=Pn(this.props,"hidden")?"url(#".concat(f,")"):void 0;return T.createElement(Ne,{className:ge("recharts-reference-area",c)},t.renderRect(w,oS(oS({clipPath:j},ie(this.props,!0)),v)),Pt.renderCallByParent(this.props,v))}}])}(T.Component);up(dp,"displayName","ReferenceArea");up(dp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});up(dp,"renderRect",function(e,t){var r;return T.isValidElement(e)?r=T.cloneElement(e,t):ue(e)?r=e(t):r=T.createElement(by,X0({},t,{className:"recharts-reference-area-rect"})),r});function dE(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function vne(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return fre(n,r)}function yne(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Ff(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function bne(e,t){return dE(e,t+1)}function wne(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,f=o,d=function(){var b=n==null?void 0:n[c];if(b===void 0)return{v:dE(n,u)};var w=c,v,j=function(){return v===void 0&&(v=r(b,w)),v},y=b.coordinate,x=c===0||Ff(e,y,j,f,l);x||(c=0,f=o,u+=1),x&&(f=y+e*(j()/2+s),c+=u)},h;u<=i.length;)if(h=d(),h)return h.v;return[]}function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){jne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jne(e,t,r){return t=_ne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _ne(e){var t=Sne(e,"string");return zc(t)=="symbol"?t:t+""}function Sne(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Nne(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],b,w=function(){return b===void 0&&(b=r(p,h)),b};if(h===o-1){var v=e*(p.coordinate+e*w()/2-c);i[h]=p=zt(zt({},p),{},{tickCoord:v>0?p.coordinate-v*e:p.coordinate})}else i[h]=p=zt(zt({},p),{},{tickCoord:p.coordinate});var j=Ff(e,p.tickCoord,w,l,c);j&&(c=p.tickCoord-e*(w()/2+s),i[h]=zt(zt({},p),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return i}function Ane(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var f=n[l-1],d=r(f,l-1),h=e*(f.coordinate+e*d/2-u);o[l-1]=f=zt(zt({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=Ff(e,f.tickCoord,function(){return d},c,u);p&&(u=f.tickCoord-e*(d/2+s),o[l-1]=zt(zt({},f),{},{isShow:!0}))}for(var b=i?l-1:l,w=function(y){var x=o[y],_,m=function(){return _===void 0&&(_=r(x,y)),_};if(y===0){var g=e*(x.coordinate-e*m()/2-c);o[y]=x=zt(zt({},x),{},{tickCoord:g<0?x.coordinate-g*e:x.coordinate})}else o[y]=x=zt(zt({},x),{},{tickCoord:x.coordinate});var N=Ff(e,x.tickCoord,m,c,u);N&&(c=x.tickCoord+e*(m()/2+s),o[y]=zt(zt({},x),{},{isShow:!0}))},v=0;v<b;v++)w(v);return o}function Py(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!s||!s.length||!n)return[];if(Y(c)||An.isSsr)return bne(s,typeof c=="number"&&Y(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",b=f&&p==="width"?$l(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},w=function(x,_){var m=ue(u)?u(x.value,_):x.value;return p==="width"?vne($l(m,{fontSize:t,letterSpacing:r}),b,d):$l(m,{fontSize:t,letterSpacing:r})[p]},v=s.length>=2?er(s[1].coordinate-s[0].coordinate):1,j=yne(i,v,p);return c==="equidistantPreserveStart"?wne(v,j,w,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=Ane(v,j,w,s,o,c==="preserveStartEnd"):h=Nne(v,j,w,s,o),h.filter(function(y){return y.isShow}))}var One=["viewBox"],Pne=["viewBox"],Ene=["ticks"];function xo(e){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(e)}function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pi.apply(this,arguments)}function cS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cS(Object(r),!0).forEach(function(n){Ey(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Am(e,t){if(e==null)return{};var r=kne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Cne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,hE(n.key),n)}}function Tne(e,t,r){return t&&uS(e.prototype,t),r&&uS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $ne(e,t,r){return t=Bf(t),Dne(e,fE()?Reflect.construct(t,r||[],Bf(e).constructor):t.apply(e,r))}function Dne(e,t){if(t&&(xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ine(e)}function Ine(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fE=function(){return!!e})()}function Bf(e){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bf(e)}function Mne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J0(e,t)}function J0(e,t){return J0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},J0(e,t)}function Ey(e,t,r){return t=hE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hE(e){var t=Rne(e,"string");return xo(t)=="symbol"?t:t+""}function Rne(e,t){if(xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ho=function(e){function t(r){var n;return Cne(this,t),n=$ne(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return Mne(t,e),Tne(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=Am(n,One),l=this.props,c=l.viewBox,u=Am(l,Pne);return!Li(i,c)||!Li(o,u)||!Li(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,f=s.tickSize,d=s.mirror,h=s.tickMargin,p,b,w,v,j,y,x=d?-1:1,_=n.tickSize||f,m=Y(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=b=n.coordinate,v=o+ +!d*c,w=v-x*_,y=w-x*h,j=m;break;case"left":w=v=n.coordinate,b=i+ +!d*l,p=b-x*_,j=p-x*h,y=m;break;case"right":w=v=n.coordinate,b=i+ +d*l,p=b+x*_,j=p+x*h,y=m;break;default:p=b=n.coordinate,v=o+ +d*c,w=v+x*_,y=w+x*h,j=m;break}return{line:{x1:p,y1:w,x2:b,y2:v},tick:{x:j,y}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,d=xt(xt(xt({},ie(this.props,!1)),ie(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=xt(xt({},d),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);d=xt(xt({},d),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+l})}return T.createElement("line",Pi({},d,{className:ge("recharts-cartesian-axis-line",Ar(f,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,d=l.tickFormatter,h=l.unit,p=Py(xt(xt({},this.props),{},{ticks:n}),s,i),b=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),v=ie(this.props,!1),j=ie(f,!1),y=xt(xt({},v),{},{fill:"none"},ie(c,!1)),x=p.map(function(_,m){var g=o.getTickLineCoord(_),N=g.line,S=g.tick,A=xt(xt(xt(xt({textAnchor:b,verticalAnchor:w},v),{},{stroke:"none",fill:u},j),S),{},{index:m,payload:_,visibleTicksCount:p.length,tickFormatter:d});return T.createElement(Ne,Pi({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Ua(o.props,_,m)),c&&T.createElement("line",Pi({},y,N,{className:ge("recharts-cartesian-axis-tick-line",Ar(c,"className"))})),f&&t.renderTickItem(f,A,"".concat(ue(d)?d(_.value,m):_.value).concat(h||"")))});return T.createElement("g",{className:"recharts-cartesian-axis-ticks"},x)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,f=s.hide;if(f)return null;var d=this.props,h=d.ticks,p=Am(d,Ene),b=h;return ue(c)&&(b=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!b||!b.length?null:T.createElement(Ne,{className:ge("recharts-cartesian-axis",u),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),Pt.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=ge(s.className,"recharts-cartesian-axis-tick-value");return T.isValidElement(n)?o=T.cloneElement(n,xt(xt({},s),{},{className:l})):ue(n)?o=n(xt(xt({},s),{},{className:l})):o=T.createElement(Fa,Pi({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(O.Component);Ey(Ho,"displayName","CartesianAxis");Ey(Ho,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Lne=["x1","y1","x2","y2","key"],Une=["offset"];function qa(e){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qa(e)}function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){Fne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Fne(e,t,r){return t=Bne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Bne(e){var t=zne(e,"string");return qa(t)=="symbol"?t:t+""}function zne(e,t){if(qa(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(qa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wa(){return wa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wa.apply(this,arguments)}function fS(e,t){if(e==null)return{};var r=qne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Wne=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return T.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function pE(e,t){var r;if(T.isValidElement(e))r=T.cloneElement(e,t);else if(ue(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=fS(t,Lne),u=ie(c,!1);u.offset;var f=fS(u,Une);r=T.createElement("line",wa({},f,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function Hne(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Wt(Wt({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return pE(s,u)});return T.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Kne(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=Wt(Wt({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return pE(s,u)});return T.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function Vne(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var b=!f[p+1],w=b?s+o-h:f[p+1]-h;if(w<=0)return null;var v=p%t.length;return T.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:w,width:i,stroke:"none",fill:t[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Gne(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var b=!f[p+1],w=b?i+l-h:f[p+1]-h;if(w<=0)return null;var v=p%n.length;return T.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:w,height:c,stroke:"none",fill:n[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return T.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Qne=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return uP(Py(Wt(Wt(Wt({},Ho.defaultProps),n),{},{ticks:Wn(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},Yne=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return uP(Py(Wt(Wt(Wt({},Ho.defaultProps),n),{},{ticks:Wn(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},li={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function kr(e){var t,r,n,s,i,o,l=Sy(),c=Ny(),u=Rre(),f=Wt(Wt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:li.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:li.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:li.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:li.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:li.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:li.verticalFill,x:Y(e.x)?e.x:u.left,y:Y(e.y)?e.y:u.top,width:Y(e.width)?e.width:u.width,height:Y(e.height)?e.height:u.height}),d=f.x,h=f.y,p=f.width,b=f.height,w=f.syncWithTicks,v=f.horizontalValues,j=f.verticalValues,y=Dre(),x=Ire();if(!Y(p)||p<=0||!Y(b)||b<=0||!Y(d)||d!==+d||!Y(h)||h!==+h)return null;var _=f.verticalCoordinatesGenerator||Qne,m=f.horizontalCoordinatesGenerator||Yne,g=f.horizontalPoints,N=f.verticalPoints;if((!g||!g.length)&&ue(m)){var S=v&&v.length,A=m({yAxis:x?Wt(Wt({},x),{},{ticks:S?v:x.ticks}):void 0,width:l,height:c,offset:u},S?!0:w);hn(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(qa(A),"]")),Array.isArray(A)&&(g=A)}if((!N||!N.length)&&ue(_)){var P=j&&j.length,E=_({xAxis:y?Wt(Wt({},y),{},{ticks:P?j:y.ticks}):void 0,width:l,height:c,offset:u},P?!0:w);hn(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(qa(E),"]")),Array.isArray(E)&&(N=E)}return T.createElement("g",{className:"recharts-cartesian-grid"},T.createElement(Wne,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),T.createElement(Hne,wa({},f,{offset:u,horizontalPoints:g,xAxis:y,yAxis:x})),T.createElement(Kne,wa({},f,{offset:u,verticalPoints:N,xAxis:y,yAxis:x})),T.createElement(Vne,wa({},f,{horizontalPoints:g})),T.createElement(Gne,wa({},f,{verticalPoints:N})))}kr.displayName="CartesianGrid";var Xne=["type","layout","connectNulls","ref"],Zne=["key"];function vo(e){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(e)}function hS(e,t){if(e==null)return{};var r=Jne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Jne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Ul(){return Ul=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ul.apply(this,arguments)}function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){an(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ci(e){return nse(e)||rse(e)||tse(e)||ese()}function ese(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tse(e,t){if(e){if(typeof e=="string")return ex(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ex(e,t)}}function rse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function nse(e){if(Array.isArray(e))return ex(e)}function ex(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mS(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gE(n.key),n)}}function ase(e,t,r){return t&&mS(e.prototype,t),r&&mS(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function ise(e,t,r){return t=zf(t),ose(e,mE()?Reflect.construct(t,r||[],zf(e).constructor):t.apply(e,r))}function ose(e,t){if(t&&(vo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lse(e)}function lse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mE=function(){return!!e})()}function zf(e){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zf(e)}function cse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tx(e,t)}function tx(e,t){return tx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},tx(e,t)}function an(e,t,r){return t=gE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gE(e){var t=use(e,"string");return vo(t)=="symbol"?t:t+""}function use(e,t){if(vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ar=function(e){function t(){var r;sse(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=ise(this,t,[].concat(s)),an(r,"state",{isAnimationFinished:!0,totalLength:0}),an(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),an(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(j,y){return j+y});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/u),d=o%u,h=l-o,p=[],b=0,w=0;b<c.length;w+=c[b],++b)if(w+c[b]>d){p=[].concat(ci(c.slice(0,b)),[d-w]);break}var v=p.length%2===0?[0,h]:[h];return[].concat(ci(t.repeat(c,f)),ci(p),v).map(function(j){return"".concat(j,"px")}).join(", ")}),an(r,"id",Lo("recharts-line-")),an(r,"pathRef",function(o){r.mainCurve=o}),an(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),an(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return cse(t,e),ase(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,d=Or(f,cu);if(!d)return null;var h=function(w,v){return{x:w.x,y:w.y,value:w.value,errorVal:bt(w.payload,v)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return T.createElement(Ne,p,d.map(function(b){return T.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,d=ie(this.props,!1),h=ie(c,!0),p=u.map(function(w,v){var j=xr(xr(xr({key:"dot-".concat(v),r:3},d),h),{},{index:v,cx:w.x,cy:w.y,value:w.value,dataKey:f,payload:w.payload,points:u});return t.renderDotItem(c,j)}),b={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return T.createElement(Ne,Ul({className:"recharts-line-dots",key:"dots"},b),p)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var d=hS(l,Xne),h=xr(xr(xr({},ie(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:f});return T.createElement(jf,Ul({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,h=o.animationEasing,p=o.animationId,b=o.animateNewValues,w=o.width,v=o.height,j=this.state,y=j.prevPoints,x=j.totalLength;return T.createElement(kn,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var m=_.t;if(y){var g=y.length/l.length,N=l.map(function(k,I){var $=Math.floor(I*g);if(y[$]){var R=y[$],C=wr(R.x,k.x),U=wr(R.y,k.y);return xr(xr({},k),{},{x:C(m),y:U(m)})}if(b){var D=wr(w*2,k.x),L=wr(v/2,k.y);return xr(xr({},k),{},{x:D(m),y:L(m)})}return xr(xr({},k),{},{x:k.x,y:k.y})});return i.renderCurveStatically(N,n,s)}var S=wr(0,x),A=S(m),P;if(c){var E="".concat(c).split(/[,\s]+/gim).map(function(k){return parseFloat(k)});P=i.getStrokeDasharray(A,x,E)}else P=i.generateSimpleStrokeDasharray(x,A);return i.renderCurveStatically(l,n,s,{strokeDasharray:P})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!u&&f>0||!lu(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,f=s.yAxis,d=s.top,h=s.left,p=s.width,b=s.height,w=s.isAnimationActive,v=s.id;if(i||!l||!l.length)return null;var j=this.state.isAnimationFinished,y=l.length===1,x=ge("recharts-line",c),_=u&&u.allowDataOverflow,m=f&&f.allowDataOverflow,g=_||m,N=fe(v)?this.id:v,S=(n=ie(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=S.r,P=A===void 0?3:A,E=S.strokeWidth,k=E===void 0?2:E,I=$8(o)?o:{},$=I.clipDot,R=$===void 0?!0:$,C=P*2+k;return T.createElement(Ne,{className:x},_||m?T.createElement("defs",null,T.createElement("clipPath",{id:"clipPath-".concat(N)},T.createElement("rect",{x:_?h:h-p/2,y:m?d:d-b/2,width:_?p:p*2,height:m?b:b*2})),!R&&T.createElement("clipPath",{id:"clipPath-dots-".concat(N)},T.createElement("rect",{x:h-C/2,y:d-C/2,width:p+C,height:b+C}))):null,!y&&this.renderCurve(g,N),this.renderErrorBar(g,N),(y||o)&&this.renderDots(g,R,N),(!w||j)&&Gn.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(ci(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(ci(o),ci(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(T.isValidElement(n))i=T.cloneElement(n,s);else if(ue(n))i=n(s);else{var o=s.key,l=hS(s,Zne),c=ge("recharts-line-dot",typeof n!="boolean"?n.className:"");i=T.createElement(ep,Ul({key:o},l,{className:c}))}return i}}])}(O.PureComponent);an(ar,"displayName","Line");an(ar,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!An.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});an(ar,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,d=c.map(function(h,p){var b=bt(h,o);return f==="horizontal"?{x:Uj({axis:r,ticks:s,bandSize:l,entry:h,index:p}),y:fe(b)?null:n.scale(b),value:b,payload:h}:{x:fe(b)?null:r.scale(b),y:Uj({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:b,payload:h}});return xr({points:d,layout:f},u)});function yo(e){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(e)}function dse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yE(n.key),n)}}function hse(e,t,r){return t&&fse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pse(e,t,r){return t=qf(t),mse(e,xE()?Reflect.construct(t,r||[],qf(e).constructor):t.apply(e,r))}function mse(e,t){if(t&&(yo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gse(e)}function gse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xE=function(){return!!e})()}function qf(e){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qf(e)}function xse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rx(e,t)}function rx(e,t){return rx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},rx(e,t)}function vE(e,t,r){return t=yE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yE(e){var t=vse(e,"string");return yo(t)=="symbol"?t:t+""}function vse(e,t){if(yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nx(){return nx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nx.apply(this,arguments)}function yse(e){var t=e.xAxisId,r=Sy(),n=Ny(),s=nE(t);return s==null?null:O.createElement(Ho,nx({},s,{className:ge("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Wn(o,!0)}}))}var Qt=function(e){function t(){return dse(this,t),pse(this,t,arguments)}return xse(t,e),hse(t,[{key:"render",value:function(){return O.createElement(yse,this.props)}}])}(O.Component);vE(Qt,"displayName","XAxis");vE(Qt,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function bse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jE(n.key),n)}}function jse(e,t,r){return t&&wse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _se(e,t,r){return t=Wf(t),Sse(e,bE()?Reflect.construct(t,r||[],Wf(e).constructor):t.apply(e,r))}function Sse(e,t){if(t&&(bo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nse(e)}function Nse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bE=function(){return!!e})()}function Wf(e){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wf(e)}function Ase(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sx(e,t)}function sx(e,t){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},sx(e,t)}function wE(e,t,r){return t=jE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jE(e){var t=Ose(e,"string");return bo(t)=="symbol"?t:t+""}function Ose(e,t){if(bo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ax(){return ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ax.apply(this,arguments)}var Pse=function(t){var r=t.yAxisId,n=Sy(),s=Ny(),i=sE(r);return i==null?null:O.createElement(Ho,ax({},i,{className:ge("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Wn(l,!0)}}))},Yt=function(e){function t(){return bse(this,t),_se(this,t,arguments)}return Ase(t,e),jse(t,[{key:"render",value:function(){return O.createElement(Pse,this.props)}}])}(O.Component);wE(Yt,"displayName","YAxis");wE(Yt,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function gS(e){return Tse(e)||Cse(e)||kse(e)||Ese()}function Ese(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kse(e,t){if(e){if(typeof e=="string")return ix(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ix(e,t)}}function Cse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Tse(e){if(Array.isArray(e))return ix(e)}function ix(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ox=function(t,r,n,s,i){var o=Or(t,Oy),l=Or(t,cp),c=[].concat(gS(o),gS(l)),u=Or(t,dp),f="".concat(s,"Id"),d=s[0],h=r;if(c.length&&(h=c.reduce(function(w,v){if(v.props[f]===n&&Pn(v.props,"extendDomain")&&Y(v.props[d])){var j=v.props[d];return[Math.min(w[0],j),Math.max(w[1],j)]}return w},h)),u.length){var p="".concat(d,"1"),b="".concat(d,"2");h=u.reduce(function(w,v){if(v.props[f]===n&&Pn(v.props,"extendDomain")&&Y(v.props[p])&&Y(v.props[b])){var j=v.props[p],y=v.props[b];return[Math.min(w[0],j,y),Math.max(w[1],j,y)]}return w},h)}return i&&i.length&&(h=i.reduce(function(w,v){return Y(v)?[Math.min(w[0],v),Math.max(w[1],v)]:w},h)),h},_E={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new s(f,d||c,h),b=r?r+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],p]:c._events[b].push(p):(c._events[b]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,b=new Array(p);h<p;h++)b[h]=d[h].fn;return b},l.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,f,d,h,p,b){var w=r?r+u:u;if(!this._events[w])return!1;var v=this._events[w],j=arguments.length,y,x;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),j){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,f),!0;case 3:return v.fn.call(v.context,f,d),!0;case 4:return v.fn.call(v.context,f,d,h),!0;case 5:return v.fn.call(v.context,f,d,h,p),!0;case 6:return v.fn.call(v.context,f,d,h,p,b),!0}for(x=1,y=new Array(j-1);x<j;x++)y[x-1]=arguments[x];v.fn.apply(v.context,y)}else{var _=v.length,m;for(x=0;x<_;x++)switch(v[x].once&&this.removeListener(u,v[x].fn,void 0,!0),j){case 1:v[x].fn.call(v[x].context);break;case 2:v[x].fn.call(v[x].context,f);break;case 3:v[x].fn.call(v[x].context,f,d);break;case 4:v[x].fn.call(v[x].context,f,d,h);break;default:if(!y)for(m=1,y=new Array(j-1);m<j;m++)y[m-1]=arguments[m];v[x].fn.apply(v[x].context,y)}}return!0},l.prototype.on=function(u,f,d){return i(this,u,f,d,!1)},l.prototype.once=function(u,f,d){return i(this,u,f,d,!0)},l.prototype.removeListener=function(u,f,d,h){var p=r?r+u:u;if(!this._events[p])return this;if(!f)return o(this,p),this;var b=this._events[p];if(b.fn)b.fn===f&&(!h||b.once)&&(!d||b.context===d)&&o(this,p);else{for(var w=0,v=[],j=b.length;w<j;w++)(b[w].fn!==f||h&&!b[w].once||d&&b[w].context!==d)&&v.push(b[w]);v.length?this._events[p]=v.length===1?v[0]:v:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(_E);var $se=_E.exports;const Dse=De($se);var Om=new Dse,Pm="recharts.syncMouseEvents";function qc(e){"@babel/helpers - typeof";return qc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qc(e)}function Ise(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,SE(n.key),n)}}function Rse(e,t,r){return t&&Mse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Em(e,t,r){return t=SE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SE(e){var t=Lse(e,"string");return qc(t)=="symbol"?t:t+""}function Lse(e,t){if(qc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(qc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Use=function(){function e(){Ise(this,e),Em(this,"activeIndex",0),Em(this,"coordinateList",[]),Em(this,"layout","horizontal")}return Rse(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=i+c+u,h=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function Fse(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&Y(n)&&Y(s))return!0}return!1}function Bse(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function NE(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=Ve(t,r,n,s),l=Ve(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function zse(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,h=Ve(l,c,u,d),p=Ve(l,c,f,d);n=h.x,s=h.y,i=p.x,o=p.y}else return NE(t);return[{x:n,y:s},{x:i,y:o}]}function Wc(e){"@babel/helpers - typeof";return Wc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wc(e)}function xS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gu(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(r),!0).forEach(function(n){qse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qse(e,t,r){return t=Wse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wse(e){var t=Hse(e,"string");return Wc(t)=="symbol"?t:t+""}function Hse(e,t){if(Wc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Wc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Kse(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var b,w=jf;if(h==="ScatterChart")b=o,w=uJ;else if(h==="BarChart")b=Bse(d,o,c,f),w=by;else if(d==="radial"){var v=NE(o),j=v.cx,y=v.cy,x=v.radius,_=v.startAngle,m=v.endAngle;b={cx:j,cy:y,startAngle:_,endAngle:m,innerRadius:x,outerRadius:x},w=wP}else b={points:zse(d,o,c)},w=jf;var g=Gu(Gu(Gu(Gu({stroke:"#ccc",pointerEvents:"none"},c),b),ie(p,!1)),{},{payload:l,payloadIndex:u,className:ge("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,g):O.createElement(w,g)}var Vse=["item"],Gse=["children","className","width","height","style","compact","title","desc"];function wo(e){"@babel/helpers - typeof";return wo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wo(e)}function Ei(){return Ei=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ei.apply(this,arguments)}function vS(e,t){return Xse(e)||Yse(e,t)||OE(e,t)||Qse()}function Qse(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yse(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Xse(e){if(Array.isArray(e))return e}function yS(e,t){if(e==null)return{};var r=Zse(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Zse(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,PE(n.key),n)}}function tae(e,t,r){return t&&eae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function rae(e,t,r){return t=Hf(t),nae(e,AE()?Reflect.construct(t,r||[],Hf(e).constructor):t.apply(e,r))}function nae(e,t){if(t&&(wo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sae(e)}function sae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function AE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AE=function(){return!!e})()}function Hf(e){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hf(e)}function aae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lx(e,t)}function lx(e,t){return lx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},lx(e,t)}function jo(e){return lae(e)||oae(e)||OE(e)||iae()}function iae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OE(e,t){if(e){if(typeof e=="string")return cx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cx(e,t)}}function oae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function lae(e){if(Array.isArray(e))return cx(e)}function cx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(r),!0).forEach(function(n){oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oe(e,t,r){return t=PE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PE(e){var t=cae(e,"string");return wo(t)=="symbol"?t:t+""}function cae(e,t){if(wo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(wo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uae={xAxis:["bottom","top"],yAxis:["left","right"]},dae={width:"100%",height:"100%"},EE={x:0,y:0};function Qu(e){return e}var fae=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},hae=function(t,r,n,s){var i=r.find(function(f){return f&&f.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return B(B(B({},s),Ve(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return B(B(B({},s),Ve(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return EE},fp=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(jo(l),jo(u)):l},[]);return o.length>0?o:t&&t.length&&Y(s)&&Y(i)?t.slice(s,i+1):[]};function kE(e){return e==="number"?[0,"auto"]:void 0}var ux=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=fp(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=d===void 0?l:d;h=Wd(p,o.dataKey,s)}else h=d&&d[n]||l[n];return h?[].concat(jo(c),[mP(u,h)]):c},[])},wS=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=fae(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=DQ(o,l,u,c);if(f>=0&&u){var d=u[f]&&u[f].value,h=ux(t,r,f,d),p=hae(n,l,f,i);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},pae=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=cP(f,i);return n.reduce(function(b,w){var v,j=w.type.defaultProps!==void 0?B(B({},w.type.defaultProps),w.props):w.props,y=j.type,x=j.dataKey,_=j.allowDataOverflow,m=j.allowDuplicatedCategory,g=j.scale,N=j.ticks,S=j.includeHidden,A=j[o];if(b[A])return b;var P=fp(t.data,{graphicalItems:s.filter(function(H){var ee,K=o in H.props?H.props[o]:(ee=H.type.defaultProps)===null||ee===void 0?void 0:ee[o];return K===A}),dataStartIndex:c,dataEndIndex:u}),E=P.length,k,I,$;Fse(j.domain,_,y)&&(k=S0(j.domain,null,_),p&&(y==="number"||g!=="auto")&&($=Il(P,x,"category")));var R=kE(y);if(!k||k.length===0){var C,U=(C=j.domain)!==null&&C!==void 0?C:R;if(x){if(k=Il(P,x,y),y==="category"&&p){var D=_8(k);m&&D?(I=k,k=Tf(0,E)):m||(k=qj(U,k,w).reduce(function(H,ee){return H.indexOf(ee)>=0?H:[].concat(jo(H),[ee])},[]))}else if(y==="category")m?k=k.filter(function(H){return H!==""&&!fe(H)}):k=qj(U,k,w).reduce(function(H,ee){return H.indexOf(ee)>=0||ee===""||fe(ee)?H:[].concat(jo(H),[ee])},[]);else if(y==="number"){var L=UQ(P,s.filter(function(H){var ee,K,he=o in H.props?H.props[o]:(ee=H.type.defaultProps)===null||ee===void 0?void 0:ee[o],Ge="hide"in H.props?H.props.hide:(K=H.type.defaultProps)===null||K===void 0?void 0:K.hide;return he===A&&(S||!Ge)}),x,i,f);L&&(k=L)}p&&(y==="number"||g!=="auto")&&($=Il(P,x,"category"))}else p?k=Tf(0,E):l&&l[A]&&l[A].hasStack&&y==="number"?k=h==="expand"?[0,1]:pP(l[A].stackGroups,c,u):k=lP(P,s.filter(function(H){var ee=o in H.props?H.props[o]:H.type.defaultProps[o],K="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return ee===A&&(S||!K)}),y,f,!0);if(y==="number")k=ox(d,k,A,i,N),U&&(k=S0(U,k,_));else if(y==="category"&&U){var q=U,Q=k.every(function(H){return q.indexOf(H)>=0});Q&&(k=q)}}return B(B({},b),{},oe({},A,B(B({},j),{},{axisType:i,domain:k,categoricalDomain:$,duplicateDomain:I,originalDomain:(v=j.domain)!==null&&v!==void 0?v:R,isCategorical:p,layout:f})))},{})},mae=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=fp(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,b=cP(f,i),w=-1;return n.reduce(function(v,j){var y=j.type.defaultProps!==void 0?B(B({},j.type.defaultProps),j.props):j.props,x=y[o],_=kE("number");if(!v[x]){w++;var m;return b?m=Tf(0,p):l&&l[x]&&l[x].hasStack?(m=pP(l[x].stackGroups,c,u),m=ox(d,m,x,i)):(m=S0(_,lP(h,n.filter(function(g){var N,S,A=o in g.props?g.props[o]:(N=g.type.defaultProps)===null||N===void 0?void 0:N[o],P="hide"in g.props?g.props.hide:(S=g.type.defaultProps)===null||S===void 0?void 0:S.hide;return A===x&&!P}),"number",f),s.defaultProps.allowDataOverflow),m=ox(d,m,x,i)),B(B({},v),{},oe({},x,B(B({axisType:i},s.defaultProps),{},{hide:!0,orientation:Ar(uae,"".concat(i,".").concat(w%2),null),domain:m,originalDomain:_,isCategorical:b,layout:f})))}return v},{})},gae=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,d="".concat(s,"Id"),h=Or(f,i),p={};return h&&h.length?p=pae(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=mae(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},xae=function(t){var r=js(t),n=Wn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Vv(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:yf(r,n)}},jS=function(t){var r=t.children,n=t.defaultShowTooltip,s=br(r,fo),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},vae=function(t){return!t||!t.length?!1:t.some(function(r){var n=Kn(r&&r.type);return n&&n.indexOf("Bar")>=0})},_S=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},yae=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,d=n.children,h=n.margin||{},p=br(d,fo),b=br(d,Ui),w=Object.keys(c).reduce(function(m,g){var N=c[g],S=N.orientation;return!N.mirror&&!N.hide?B(B({},m),{},oe({},S,m[S]+N.width)):m},{left:h.left||0,right:h.right||0}),v=Object.keys(o).reduce(function(m,g){var N=o[g],S=N.orientation;return!N.mirror&&!N.hide?B(B({},m),{},oe({},S,Ar(m,"".concat(S))+N.height)):m},{top:h.top||0,bottom:h.bottom||0}),j=B(B({},v),w),y=j.bottom;p&&(j.bottom+=p.props.height||fo.defaultProps.height),b&&r&&(j=RQ(j,s,n,r));var x=u-j.left-j.right,_=f-j.top-j.bottom;return B(B({brushBottom:y},j),{},{width:Math.max(x,0),height:Math.max(_,0)})},bae=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},ky=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(j,y){var x=y.graphicalItems,_=y.stackGroups,m=y.offset,g=y.updateId,N=y.dataStartIndex,S=y.dataEndIndex,A=j.barSize,P=j.layout,E=j.barGap,k=j.barCategoryGap,I=j.maxBarSize,$=_S(P),R=$.numericAxisName,C=$.cateAxisName,U=vae(x),D=[];return x.forEach(function(L,q){var Q=fp(j.data,{graphicalItems:[L],dataStartIndex:N,dataEndIndex:S}),H=L.type.defaultProps!==void 0?B(B({},L.type.defaultProps),L.props):L.props,ee=H.dataKey,K=H.maxBarSize,he=H["".concat(R,"Id")],Ge=H["".concat(C,"Id")],$t={},mt=c.reduce(function(X,se){var je=y["".concat(se.axisType,"Map")],Ce=H["".concat(se.axisType,"Id")];je&&je[Ce]||se.axisType==="zAxis"||za();var gt=je[Ce];return B(B({},X),{},oe(oe({},se.axisType,gt),"".concat(se.axisType,"Ticks"),Wn(gt)))},$t),J=mt[C],de=mt["".concat(C,"Ticks")],pe=_&&_[he]&&_[he].hasStack&&GQ(L,_[he].stackGroups),W=Kn(L.type).indexOf("Bar")>=0,Le=yf(J,de),ve=[],Ue=U&&IQ({barSize:A,stackGroups:_,totalSize:bae(mt,C)});if(W){var ke,St,Xt=fe(K)?I:K,Zt=(ke=(St=yf(J,de,!0))!==null&&St!==void 0?St:Xt)!==null&&ke!==void 0?ke:0;ve=MQ({barGap:E,barCategoryGap:k,bandSize:Zt!==Le?Zt:Le,sizeList:Ue[Ge],maxBarSize:Xt}),Zt!==Le&&(ve=ve.map(function(X){return B(B({},X),{},{position:B(B({},X.position),{},{offset:X.position.offset-Zt/2})})}))}var et=L&&L.type&&L.type.getComposedData;et&&D.push({props:B(B({},et(B(B({},mt),{},{displayedData:Q,props:j,dataKey:ee,item:L,bandSize:Le,barPosition:ve,offset:m,stackedData:pe,layout:P,dataStartIndex:N,dataEndIndex:S}))),{},oe(oe(oe({key:L.key||"item-".concat(q)},R,mt[R]),C,mt[C]),"animationId",g)),childIndex:M8(L,j.children),item:L})}),D},p=function(j,y){var x=j.props,_=j.dataStartIndex,m=j.dataEndIndex,g=j.updateId;if(!Mw({props:x}))return null;var N=x.children,S=x.layout,A=x.stackOffset,P=x.data,E=x.reverseStackOrder,k=_S(S),I=k.numericAxisName,$=k.cateAxisName,R=Or(N,n),C=KQ(P,R,"".concat(I,"Id"),"".concat($,"Id"),A,E),U=c.reduce(function(H,ee){var K="".concat(ee.axisType,"Map");return B(B({},H),{},oe({},K,gae(x,B(B({},ee),{},{graphicalItems:R,stackGroups:ee.axisType===I&&C,dataStartIndex:_,dataEndIndex:m}))))},{}),D=yae(B(B({},U),{},{props:x,graphicalItems:R}),y==null?void 0:y.legendBBox);Object.keys(U).forEach(function(H){U[H]=f(x,U[H],D,H.replace("Map",""),r)});var L=U["".concat($,"Map")],q=xae(L),Q=h(x,B(B({},U),{},{dataStartIndex:_,dataEndIndex:m,updateId:g,graphicalItems:R,stackGroups:C,offset:D}));return B(B({formattedGraphicalItems:Q,graphicalItems:R,offset:D,stackGroups:C},q),U)},b=function(v){function j(y){var x,_,m;return Jse(this,j),m=rae(this,j,[y]),oe(m,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),oe(m,"accessibilityManager",new Use),oe(m,"handleLegendBBoxUpdate",function(g){if(g){var N=m.state,S=N.dataStartIndex,A=N.dataEndIndex,P=N.updateId;m.setState(B({legendBBox:g},p({props:m.props,dataStartIndex:S,dataEndIndex:A,updateId:P},B(B({},m.state),{},{legendBBox:g}))))}}),oe(m,"handleReceiveSyncEvent",function(g,N,S){if(m.props.syncId===g){if(S===m.eventEmitterSymbol&&typeof m.props.syncMethod!="function")return;m.applySyncEvent(N)}}),oe(m,"handleBrushChange",function(g){var N=g.startIndex,S=g.endIndex;if(N!==m.state.dataStartIndex||S!==m.state.dataEndIndex){var A=m.state.updateId;m.setState(function(){return B({dataStartIndex:N,dataEndIndex:S},p({props:m.props,dataStartIndex:N,dataEndIndex:S,updateId:A},m.state))}),m.triggerSyncEvent({dataStartIndex:N,dataEndIndex:S})}}),oe(m,"handleMouseEnter",function(g){var N=m.getMouseInfo(g);if(N){var S=B(B({},N),{},{isTooltipActive:!0});m.setState(S),m.triggerSyncEvent(S);var A=m.props.onMouseEnter;ue(A)&&A(S,g)}}),oe(m,"triggeredAfterMouseMove",function(g){var N=m.getMouseInfo(g),S=N?B(B({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};m.setState(S),m.triggerSyncEvent(S);var A=m.props.onMouseMove;ue(A)&&A(S,g)}),oe(m,"handleItemMouseEnter",function(g){m.setState(function(){return{isTooltipActive:!0,activeItem:g,activePayload:g.tooltipPayload,activeCoordinate:g.tooltipPosition||{x:g.cx,y:g.cy}}})}),oe(m,"handleItemMouseLeave",function(){m.setState(function(){return{isTooltipActive:!1}})}),oe(m,"handleMouseMove",function(g){g.persist(),m.throttleTriggeredAfterMouseMove(g)}),oe(m,"handleMouseLeave",function(g){m.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};m.setState(N),m.triggerSyncEvent(N);var S=m.props.onMouseLeave;ue(S)&&S(N,g)}),oe(m,"handleOuterEvent",function(g){var N=I8(g),S=Ar(m.props,"".concat(N));if(N&&ue(S)){var A,P;/.*touch.*/i.test(N)?P=m.getMouseInfo(g.changedTouches[0]):P=m.getMouseInfo(g),S((A=P)!==null&&A!==void 0?A:{},g)}}),oe(m,"handleClick",function(g){var N=m.getMouseInfo(g);if(N){var S=B(B({},N),{},{isTooltipActive:!0});m.setState(S),m.triggerSyncEvent(S);var A=m.props.onClick;ue(A)&&A(S,g)}}),oe(m,"handleMouseDown",function(g){var N=m.props.onMouseDown;if(ue(N)){var S=m.getMouseInfo(g);N(S,g)}}),oe(m,"handleMouseUp",function(g){var N=m.props.onMouseUp;if(ue(N)){var S=m.getMouseInfo(g);N(S,g)}}),oe(m,"handleTouchMove",function(g){g.changedTouches!=null&&g.changedTouches.length>0&&m.throttleTriggeredAfterMouseMove(g.changedTouches[0])}),oe(m,"handleTouchStart",function(g){g.changedTouches!=null&&g.changedTouches.length>0&&m.handleMouseDown(g.changedTouches[0])}),oe(m,"handleTouchEnd",function(g){g.changedTouches!=null&&g.changedTouches.length>0&&m.handleMouseUp(g.changedTouches[0])}),oe(m,"handleDoubleClick",function(g){var N=m.props.onDoubleClick;if(ue(N)){var S=m.getMouseInfo(g);N(S,g)}}),oe(m,"handleContextMenu",function(g){var N=m.props.onContextMenu;if(ue(N)){var S=m.getMouseInfo(g);N(S,g)}}),oe(m,"triggerSyncEvent",function(g){m.props.syncId!==void 0&&Om.emit(Pm,m.props.syncId,g,m.eventEmitterSymbol)}),oe(m,"applySyncEvent",function(g){var N=m.props,S=N.layout,A=N.syncMethod,P=m.state.updateId,E=g.dataStartIndex,k=g.dataEndIndex;if(g.dataStartIndex!==void 0||g.dataEndIndex!==void 0)m.setState(B({dataStartIndex:E,dataEndIndex:k},p({props:m.props,dataStartIndex:E,dataEndIndex:k,updateId:P},m.state)));else if(g.activeTooltipIndex!==void 0){var I=g.chartX,$=g.chartY,R=g.activeTooltipIndex,C=m.state,U=C.offset,D=C.tooltipTicks;if(!U)return;if(typeof A=="function")R=A(D,g);else if(A==="value"){R=-1;for(var L=0;L<D.length;L++)if(D[L].value===g.activeLabel){R=L;break}}var q=B(B({},U),{},{x:U.left,y:U.top}),Q=Math.min(I,q.x+q.width),H=Math.min($,q.y+q.height),ee=D[R]&&D[R].value,K=ux(m.state,m.props.data,R),he=D[R]?{x:S==="horizontal"?D[R].coordinate:Q,y:S==="horizontal"?H:D[R].coordinate}:EE;m.setState(B(B({},g),{},{activeLabel:ee,activeCoordinate:he,activePayload:K,activeTooltipIndex:R}))}else m.setState(g)}),oe(m,"renderCursor",function(g){var N,S=m.state,A=S.isTooltipActive,P=S.activeCoordinate,E=S.activePayload,k=S.offset,I=S.activeTooltipIndex,$=S.tooltipAxisBandSize,R=m.getTooltipEventType(),C=(N=g.props.active)!==null&&N!==void 0?N:A,U=m.props.layout,D=g.key||"_recharts-cursor";return T.createElement(Kse,{key:D,activeCoordinate:P,activePayload:E,activeTooltipIndex:I,chartName:r,element:g,isActive:C,layout:U,offset:k,tooltipAxisBandSize:$,tooltipEventType:R})}),oe(m,"renderPolarAxis",function(g,N,S){var A=Ar(g,"type.axisType"),P=Ar(m.state,"".concat(A,"Map")),E=g.type.defaultProps,k=E!==void 0?B(B({},E),g.props):g.props,I=P&&P[k["".concat(A,"Id")]];return O.cloneElement(g,B(B({},I),{},{className:ge(A,I.className),key:g.key||"".concat(N,"-").concat(S),ticks:Wn(I,!0)}))}),oe(m,"renderPolarGrid",function(g){var N=g.props,S=N.radialLines,A=N.polarAngles,P=N.polarRadius,E=m.state,k=E.radiusAxisMap,I=E.angleAxisMap,$=js(k),R=js(I),C=R.cx,U=R.cy,D=R.innerRadius,L=R.outerRadius;return O.cloneElement(g,{polarAngles:Array.isArray(A)?A:Wn(R,!0).map(function(q){return q.coordinate}),polarRadius:Array.isArray(P)?P:Wn($,!0).map(function(q){return q.coordinate}),cx:C,cy:U,innerRadius:D,outerRadius:L,key:g.key||"polar-grid",radialLines:S})}),oe(m,"renderLegend",function(){var g=m.state.formattedGraphicalItems,N=m.props,S=N.children,A=N.width,P=N.height,E=m.props.margin||{},k=A-(E.left||0)-(E.right||0),I=iP({children:S,formattedGraphicalItems:g,legendWidth:k,legendContent:u});if(!I)return null;var $=I.item,R=yS(I,Vse);return O.cloneElement($,B(B({},R),{},{chartWidth:A,chartHeight:P,margin:E,onBBoxUpdate:m.handleLegendBBoxUpdate}))}),oe(m,"renderTooltip",function(){var g,N=m.props,S=N.children,A=N.accessibilityLayer,P=br(S,We);if(!P)return null;var E=m.state,k=E.isTooltipActive,I=E.activeCoordinate,$=E.activePayload,R=E.activeLabel,C=E.offset,U=(g=P.props.active)!==null&&g!==void 0?g:k;return O.cloneElement(P,{viewBox:B(B({},C),{},{x:C.left,y:C.top}),active:U,label:R,payload:U?$:[],coordinate:I,accessibilityLayer:A})}),oe(m,"renderBrush",function(g){var N=m.props,S=N.margin,A=N.data,P=m.state,E=P.offset,k=P.dataStartIndex,I=P.dataEndIndex,$=P.updateId;return O.cloneElement(g,{key:g.key||"_recharts-brush",onChange:Wu(m.handleBrushChange,g.props.onChange),data:A,x:Y(g.props.x)?g.props.x:E.left,y:Y(g.props.y)?g.props.y:E.top+E.height+E.brushBottom-(S.bottom||0),width:Y(g.props.width)?g.props.width:E.width,startIndex:k,endIndex:I,updateId:"brush-".concat($)})}),oe(m,"renderReferenceElement",function(g,N,S){if(!g)return null;var A=m,P=A.clipPathId,E=m.state,k=E.xAxisMap,I=E.yAxisMap,$=E.offset,R=g.type.defaultProps||{},C=g.props,U=C.xAxisId,D=U===void 0?R.xAxisId:U,L=C.yAxisId,q=L===void 0?R.yAxisId:L;return O.cloneElement(g,{key:g.key||"".concat(N,"-").concat(S),xAxis:k[D],yAxis:I[q],viewBox:{x:$.left,y:$.top,width:$.width,height:$.height},clipPathId:P})}),oe(m,"renderActivePoints",function(g){var N=g.item,S=g.activePoint,A=g.basePoint,P=g.childIndex,E=g.isRange,k=[],I=N.props.key,$=N.item.type.defaultProps!==void 0?B(B({},N.item.type.defaultProps),N.item.props):N.item.props,R=$.activeDot,C=$.dataKey,U=B(B({index:P,dataKey:C,cx:S.x,cy:S.y,r:4,fill:yy(N.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},ie(R,!1)),Hd(R));return k.push(j.renderActiveDot(R,U,"".concat(I,"-activePoint-").concat(P))),A?k.push(j.renderActiveDot(R,B(B({},U),{},{cx:A.x,cy:A.y}),"".concat(I,"-basePoint-").concat(P))):E&&k.push(null),k}),oe(m,"renderGraphicChild",function(g,N,S){var A=m.filterFormatItem(g,N,S);if(!A)return null;var P=m.getTooltipEventType(),E=m.state,k=E.isTooltipActive,I=E.tooltipAxis,$=E.activeTooltipIndex,R=E.activeLabel,C=m.props.children,U=br(C,We),D=A.props,L=D.points,q=D.isRange,Q=D.baseLine,H=A.item.type.defaultProps!==void 0?B(B({},A.item.type.defaultProps),A.item.props):A.item.props,ee=H.activeDot,K=H.hide,he=H.activeBar,Ge=H.activeShape,$t=!!(!K&&k&&U&&(ee||he||Ge)),mt={};P!=="axis"&&U&&U.props.trigger==="click"?mt={onClick:Wu(m.handleItemMouseEnter,g.props.onClick)}:P!=="axis"&&(mt={onMouseLeave:Wu(m.handleItemMouseLeave,g.props.onMouseLeave),onMouseEnter:Wu(m.handleItemMouseEnter,g.props.onMouseEnter)});var J=O.cloneElement(g,B(B({},A.props),mt));function de(se){return typeof I.dataKey=="function"?I.dataKey(se.payload):null}if($t)if($>=0){var pe,W;if(I.dataKey&&!I.allowDuplicatedCategory){var Le=typeof I.dataKey=="function"?de:"payload.".concat(I.dataKey.toString());pe=Wd(L,Le,R),W=q&&Q&&Wd(Q,Le,R)}else pe=L==null?void 0:L[$],W=q&&Q&&Q[$];if(Ge||he){var ve=g.props.activeIndex!==void 0?g.props.activeIndex:$;return[O.cloneElement(g,B(B(B({},A.props),mt),{},{activeIndex:ve})),null,null]}if(!fe(pe))return[J].concat(jo(m.renderActivePoints({item:A,activePoint:pe,basePoint:W,childIndex:$,isRange:q})))}else{var Ue,ke=(Ue=m.getItemByXY(m.state.activeCoordinate))!==null&&Ue!==void 0?Ue:{graphicalItem:J},St=ke.graphicalItem,Xt=St.item,Zt=Xt===void 0?g:Xt,et=St.childIndex,X=B(B(B({},A.props),mt),{},{activeIndex:et});return[O.cloneElement(Zt,X),null,null]}return q?[J,null,null]:[J,null]}),oe(m,"renderCustomized",function(g,N,S){return O.cloneElement(g,B(B({key:"recharts-customized-".concat(S)},m.props),m.state))}),oe(m,"renderMap",{CartesianGrid:{handler:Qu,once:!0},ReferenceArea:{handler:m.renderReferenceElement},ReferenceLine:{handler:Qu},ReferenceDot:{handler:m.renderReferenceElement},XAxis:{handler:Qu},YAxis:{handler:Qu},Brush:{handler:m.renderBrush,once:!0},Bar:{handler:m.renderGraphicChild},Line:{handler:m.renderGraphicChild},Area:{handler:m.renderGraphicChild},Radar:{handler:m.renderGraphicChild},RadialBar:{handler:m.renderGraphicChild},Scatter:{handler:m.renderGraphicChild},Pie:{handler:m.renderGraphicChild},Funnel:{handler:m.renderGraphicChild},Tooltip:{handler:m.renderCursor,once:!0},PolarGrid:{handler:m.renderPolarGrid,once:!0},PolarAngleAxis:{handler:m.renderPolarAxis},PolarRadiusAxis:{handler:m.renderPolarAxis},Customized:{handler:m.renderCustomized}}),m.clipPathId="".concat((x=y.id)!==null&&x!==void 0?x:Lo("recharts"),"-clip"),m.throttleTriggeredAfterMouseMove=aO(m.triggeredAfterMouseMove,(_=y.throttleDelay)!==null&&_!==void 0?_:1e3/60),m.state={},m}return aae(j,v),tae(j,[{key:"componentDidMount",value:function(){var x,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(x=this.props.margin.left)!==null&&x!==void 0?x:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var x=this.props,_=x.children,m=x.data,g=x.height,N=x.layout,S=br(_,We);if(S){var A=S.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,E=ux(this.state,m,A,P),k=this.state.tooltipTicks[A].coordinate,I=(this.state.offset.top+g)/2,$=N==="horizontal",R=$?{x:k,y:I}:{y:k,x:I},C=this.state.formattedGraphicalItems.find(function(D){var L=D.item;return L.type.name==="Scatter"});C&&(R=B(B({},R),C.props.points[A].tooltipPosition),E=C.props.points[A].tooltipPayload);var U={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:P,activePayload:E,activeCoordinate:R};this.setState(U),this.renderCursor(S),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(x,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==x.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==x.margin){var m,g;this.accessibilityManager.setDetails({offset:{left:(m=this.props.margin.left)!==null&&m!==void 0?m:0,top:(g=this.props.margin.top)!==null&&g!==void 0?g:0}})}return null}},{key:"componentDidUpdate",value:function(x){Ug([br(x.children,We)],[br(this.props.children,We)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var x=br(this.props.children,We);if(x&&typeof x.props.shared=="boolean"){var _=x.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(x){if(!this.container)return null;var _=this.container,m=_.getBoundingClientRect(),g=lH(m),N={chartX:Math.round(x.pageX-g.left),chartY:Math.round(x.pageY-g.top)},S=m.width/_.offsetWidth||1,A=this.inRange(N.chartX,N.chartY,S);if(!A)return null;var P=this.state,E=P.xAxisMap,k=P.yAxisMap,I=this.getTooltipEventType(),$=wS(this.state,this.props.data,this.props.layout,A);if(I!=="axis"&&E&&k){var R=js(E).scale,C=js(k).scale,U=R&&R.invert?R.invert(N.chartX):null,D=C&&C.invert?C.invert(N.chartY):null;return B(B({},N),{},{xValue:U,yValue:D},$)}return $?B(B({},N),$):null}},{key:"inRange",value:function(x,_){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,g=this.props.layout,N=x/m,S=_/m;if(g==="horizontal"||g==="vertical"){var A=this.state.offset,P=N>=A.left&&N<=A.left+A.width&&S>=A.top&&S<=A.top+A.height;return P?{x:N,y:S}:null}var E=this.state,k=E.angleAxisMap,I=E.radiusAxisMap;if(k&&I){var $=js(k);return Kj({x:N,y:S},$)}return null}},{key:"parseEventsOfWrapper",value:function(){var x=this.props.children,_=this.getTooltipEventType(),m=br(x,We),g={};m&&_==="axis"&&(m.props.trigger==="click"?g={onClick:this.handleClick}:g={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=Hd(this.props,this.handleOuterEvent);return B(B({},N),g)}},{key:"addListener",value:function(){Om.on(Pm,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Om.removeListener(Pm,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(x,_,m){for(var g=this.state.formattedGraphicalItems,N=0,S=g.length;N<S;N++){var A=g[N];if(A.item===x||A.props.key===x.key||_===Kn(A.item.type)&&m===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var x=this.clipPathId,_=this.state.offset,m=_.left,g=_.top,N=_.height,S=_.width;return T.createElement("defs",null,T.createElement("clipPath",{id:x},T.createElement("rect",{x:m,y:g,height:N,width:S})))}},{key:"getXScales",value:function(){var x=this.state.xAxisMap;return x?Object.entries(x).reduce(function(_,m){var g=vS(m,2),N=g[0],S=g[1];return B(B({},_),{},oe({},N,S.scale))},{}):null}},{key:"getYScales",value:function(){var x=this.state.yAxisMap;return x?Object.entries(x).reduce(function(_,m){var g=vS(m,2),N=g[0],S=g[1];return B(B({},_),{},oe({},N,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(x){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(x){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[x])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(x){var _=this.state,m=_.formattedGraphicalItems,g=_.activeItem;if(m&&m.length)for(var N=0,S=m.length;N<S;N++){var A=m[N],P=A.props,E=A.item,k=E.type.defaultProps!==void 0?B(B({},E.type.defaultProps),E.props):E.props,I=Kn(E.type);if(I==="Bar"){var $=(P.data||[]).find(function(D){return WZ(x,D)});if($)return{graphicalItem:A,payload:$}}else if(I==="RadialBar"){var R=(P.data||[]).find(function(D){return Kj(x,D)});if(R)return{graphicalItem:A,payload:R}}else if(ap(A,g)||ip(A,g)||Lc(A,g)){var C=Tee({graphicalItem:A,activeTooltipItem:g,itemData:k.data}),U=k.activeIndex===void 0?C:k.activeIndex;return{graphicalItem:B(B({},A),{},{childIndex:U}),payload:Lc(A,g)?k.data[C]:A.props.data[C]}}}return null}},{key:"render",value:function(){var x=this;if(!Mw(this))return null;var _=this.props,m=_.children,g=_.className,N=_.width,S=_.height,A=_.style,P=_.compact,E=_.title,k=_.desc,I=yS(_,Gse),$=ie(I,!1);if(P)return T.createElement(eS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement(Bg,Ei({},$,{width:N,height:S,title:E,desc:k}),this.renderClipPath(),Lw(m,this.renderMap)));if(this.props.accessibilityLayer){var R,C;$.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,$.role=(C=this.props.role)!==null&&C!==void 0?C:"application",$.onKeyDown=function(D){x.accessibilityManager.keyboardEvent(D)},$.onFocus=function(){x.accessibilityManager.focus()}}var U=this.parseEventsOfWrapper();return T.createElement(eS,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},T.createElement("div",Ei({className:ge("recharts-wrapper",g),style:B({position:"relative",cursor:"default",width:N,height:S},A)},U,{ref:function(L){x.container=L}}),T.createElement(Bg,Ei({},$,{width:N,height:S,title:E,desc:k,style:dae}),this.renderClipPath(),Lw(m,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);oe(b,"displayName",r),oe(b,"defaultProps",B({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),oe(b,"getDerivedStateFromProps",function(v,j){var y=v.dataKey,x=v.data,_=v.children,m=v.width,g=v.height,N=v.layout,S=v.stackOffset,A=v.margin,P=j.dataStartIndex,E=j.dataEndIndex;if(j.updateId===void 0){var k=jS(v);return B(B(B({},k),{},{updateId:0},p(B(B({props:v},k),{},{updateId:0}),j)),{},{prevDataKey:y,prevData:x,prevWidth:m,prevHeight:g,prevLayout:N,prevStackOffset:S,prevMargin:A,prevChildren:_})}if(y!==j.prevDataKey||x!==j.prevData||m!==j.prevWidth||g!==j.prevHeight||N!==j.prevLayout||S!==j.prevStackOffset||!Li(A,j.prevMargin)){var I=jS(v),$={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},R=B(B({},wS(j,x,N)),{},{updateId:j.updateId+1}),C=B(B(B({},I),$),R);return B(B(B({},C),p(B({props:v},C),j)),{},{prevDataKey:y,prevData:x,prevWidth:m,prevHeight:g,prevLayout:N,prevStackOffset:S,prevMargin:A,prevChildren:_})}if(!Ug(_,j.prevChildren)){var U,D,L,q,Q=br(_,fo),H=Q&&(U=(D=Q.props)===null||D===void 0?void 0:D.startIndex)!==null&&U!==void 0?U:P,ee=Q&&(L=(q=Q.props)===null||q===void 0?void 0:q.endIndex)!==null&&L!==void 0?L:E,K=H!==P||ee!==E,he=!fe(x),Ge=he&&!K?j.updateId:j.updateId+1;return B(B({updateId:Ge},p(B(B({props:v},j),{},{updateId:Ge,dataStartIndex:H,dataEndIndex:ee}),j)),{},{prevChildren:_,dataStartIndex:H,dataEndIndex:ee})}return null}),oe(b,"renderActiveDot",function(v,j,y){var x;return O.isValidElement(v)?x=O.cloneElement(v,j):ue(v)?x=v(j):x=T.createElement(ep,j),T.createElement(Ne,{className:"recharts-active-dot",key:y},x)});var w=O.forwardRef(function(j,y){return T.createElement(b,Ei({},j,{ref:y}))});return w.displayName=b.displayName,w},uu=ky({chartName:"LineChart",GraphicalChild:ar,axisComponents:[{axisType:"xAxis",AxisComp:Qt},{axisType:"yAxis",AxisComp:Yt}],formatAxisMap:QP}),Za=ky({chartName:"BarChart",GraphicalChild:Ct,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Qt},{axisType:"yAxis",AxisComp:Yt}],formatAxisMap:QP}),du=ky({chartName:"PieChart",GraphicalChild:$r,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:sp},{axisType:"radiusAxis",AxisComp:rp}],formatAxisMap:sY,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function SS({title:e,data:t}){return a.jsxs(F,{children:[a.jsx("div",{className:"mb-4",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e})}),a.jsx("div",{className:"h-64",children:a.jsx(Rt,{width:"100%",height:"100%",children:a.jsxs(Za,{data:t,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(kr,{strokeDasharray:"3 3"}),a.jsx(Qt,{dataKey:"name"}),a.jsx(Yt,{}),a.jsx(We,{formatter:(r,n)=>[`${r}%`,n==="percentage"?"Pass Rate":"Count"]}),a.jsx(Ct,{dataKey:"percentage",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]})}function wae(){const[e,t]=O.useState(null),[r,n]=O.useState(!0);return O.useEffect(()=>{(async()=>{try{const i=await b3.getDashboardData();i.success&&i.data&&t(i.data)}catch(i){console.error("Failed to fetch dashboard data:",i)}finally{n(!1)}})()},[]),r?a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(s=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},s))})})})}):e?a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Overview of your Examination platform performance"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(Iu,{title:"Total Users",value:e.totalUsers,icon:a.jsx(qr,{className:"w-6 h-6"}),color:"blue",change:{value:12,type:"increase"}}),a.jsx(Iu,{title:"Active Surveys",value:e.totalSurveys,icon:a.jsx(Gt,{className:"w-6 h-6"}),color:"green",change:{value:8,type:"increase"}}),a.jsx(Iu,{title:"Test Attempts",value:e.totalAttempts,icon:a.jsx(Kr,{className:"w-6 h-6"}),color:"yellow",change:{value:15,type:"increase"}}),a.jsx(Iu,{title:"Pass Rate",value:`${e.passRate.toFixed(1)}%`,icon:a.jsx(Oe,{className:"w-6 h-6"}),color:"red",change:{value:3,type:"decrease"}})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsx(SS,{title:"Performance by Role",data:e.performanceByRole}),a.jsx(z5,{activities:e.recentActivity})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsx(SS,{title:"Performance by Question Area",data:e.performanceBySurvey})})]})}):a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function jae(){const[e,t]=O.useState(null),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState("30");O.useEffect(()=>{f()},[c]);const f=async()=>{try{i(!0);const p=await w3.getDashboardData(c);p.success&&p.data&&t(p.data)}catch(p){console.error("Failed to fetch ZO dashboard data:",p)}finally{i(!1)}},d=p=>{n(p),l(!0)},h=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return s?a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(p=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},p))})})})}):e?a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Zonal Office Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive overview of all zones and regional performance"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:c,onChange:p=>u(p.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Zones"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.totalZones})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Jc,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Regions"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.totalRegions})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Ta,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.totalUsers})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(qr,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overall Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[e.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Kr,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[e.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Oe,{className:"w-6 h-6 text-red-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Zone Performance Comparison"}),a.jsx("div",{className:"h-64",children:a.jsx(Rt,{width:"100%",height:"100%",children:a.jsxs(Za,{data:e.zonePerformance,children:[a.jsx(kr,{strokeDasharray:"3 3"}),a.jsx(Qt,{dataKey:"zoneName"}),a.jsx(Yt,{}),a.jsx(We,{formatter:(p,b)=>[b==="passRate"?`${p}%`:p,b==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Ct,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Ct,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Regional Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx(Rt,{width:"100%",height:"100%",children:a.jsxs(du,{children:[a.jsx($r,{data:e.regionalBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({regionName:p,percentage:b})=>`${p}: ${b}%`,outerRadius:80,fill:"#8884d8",dataKey:"totalEnumerators",children:e.regionalBreakdown.map((p,b)=>a.jsx(Ys,{fill:h[b%h.length]},`cell-${b}`))}),a.jsx(We,{})]})})})]})]}),a.jsxs(F,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Zone Performance Details"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx($a,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Zones"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.zonePerformance.map(p=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>d(p),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:p.zoneName}),a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${p.passRate>=80?"bg-green-100 text-green-800":p.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[p.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:p.totalEnumerators}),a.jsx("p",{className:"text-xs text-gray-600",children:"Enumerators"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:p.completedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[p.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${p.averageScore}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:[p.regions.length," Regions"]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Ke,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]},p.zoneId))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performing Regions"}),a.jsx(Po,{className:"w-5 h-5 text-green-600"})]}),a.jsx("div",{className:"space-y-3",children:e.topPerformingRegions.map((p,b)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:b+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:p.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[p.total," enumerators"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:[p.percentage.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},p.name))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Regions Needing Attention"}),a.jsx(mv,{className:"w-5 h-5 text-red-600"})]}),a.jsx("div",{className:"space-y-3",children:e.lowPerformingRegions.map((p,b)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:b+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:p.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[p.total," enumerators"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-red-600",children:[p.percentage.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},p.name))})]})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(Rt,{width:"100%",height:"100%",children:a.jsxs(uu,{data:e.monthlyTrends,children:[a.jsx(kr,{strokeDasharray:"3 3"}),a.jsx(Qt,{dataKey:"month"}),a.jsx(Yt,{}),a.jsx(We,{}),a.jsx(ar,{type:"monotone",dataKey:"attempts",stroke:"#3B82F6",name:"Attempts"}),a.jsx(ar,{type:"monotone",dataKey:"passed",stroke:"#10B981",name:"Passed"}),a.jsx(ar,{type:"monotone",dataKey:"passRate",stroke:"#F59E0B",name:"Pass Rate %"})]})})})]}),a.jsx(_e,{isOpen:o,onClose:()=>l(!1),title:`Zone Details: ${r==null?void 0:r.zoneName}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalEnumerators}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Enumerators"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Regional Breakdown"}),a.jsx("div",{className:"space-y-3",children:r.regions.map(p=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:p.regionName}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.passRate>=80?"bg-green-100 text-green-800":p.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[p.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Enumerators"}),a.jsx("p",{className:"font-medium",children:p.totalEnumerators})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Completed"}),a.jsx("p",{className:"font-medium",children:p.completedTests})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Avg Score"}),a.jsxs("p",{className:"font-medium",children:[p.averageScore.toFixed(1),"%"]})]})]})]},p.regionId))})]})]})})]})}):a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function _ae(){const[e,t]=O.useState(null),[r,n]=O.useState(null),[s,i]=O.useState(null),[o,l]=O.useState(!0),[c,u]=O.useState(!1),[f,d]=O.useState(!1),[h,p]=O.useState("30");O.useEffect(()=>{b()},[h]);const b=async()=>{try{l(!0);const y=await j3.getDashboardData(h);y.success&&y.data&&t(y.data)}catch(y){console.error("Failed to fetch RO dashboard data:",y)}finally{l(!1)}},w=y=>{n(y),u(!0)},v=y=>{i(y),d(!0)},j=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return o?a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(y=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},y))})})})}):e?a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Regional Office Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive overview of districts and supervisor performance"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:h,onChange:y=>p(y.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Districts"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.totalDistricts})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Jc,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Supervisors"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.totalSupervisors})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Ra,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Enumerators"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.totalUsers})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(qr,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overall Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[e.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Kr,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[e.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Oe,{className:"w-6 h-6 text-red-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"District Performance Comparison"}),a.jsx("div",{className:"h-64",children:a.jsx(Rt,{width:"100%",height:"100%",children:a.jsxs(Za,{data:e.districtPerformance,children:[a.jsx(kr,{strokeDasharray:"3 3"}),a.jsx(Qt,{dataKey:"districtName"}),a.jsx(Yt,{}),a.jsx(We,{formatter:(y,x)=>[x==="passRate"?`${y}%`:y,x==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Ct,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Ct,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Enumerator Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx(Rt,{width:"100%",height:"100%",children:a.jsxs(du,{children:[a.jsx($r,{data:e.enumeratorDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({category:y,percentage:x})=>`${y}: ${x}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:e.enumeratorDistribution.map((y,x)=>a.jsx(Ys,{fill:j[x%j.length]},`cell-${x}`))}),a.jsx(We,{})]})})})]})]}),a.jsxs(F,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"District Performance Details"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx($a,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Districts"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.districtPerformance.map(y=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>w(y),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:y.districtName}),a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${y.passRate>=80?"bg-green-100 text-green-800":y.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[y.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:y.totalEnumerators}),a.jsx("p",{className:"text-xs text-gray-600",children:"Enumerators"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:y.completedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[y.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${y.averageScore}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:["District ID: ",y.districtId]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Ke,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]},y.districtId))})]}),a.jsxs(F,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Supervisor Performance"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx($a,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Supervisors"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Supervisor"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Enumerators"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Completed Tests"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Pass Rate"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Avg Score"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:e.supervisorPerformance.map(y=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:y.supervisorName}),a.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",y.supervisorId]})]})}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:y.totalEnumerators}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:y.completedTests}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y.passRate>=80?"bg-green-100 text-green-800":y.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[y.passRate.toFixed(1),"%"]})}),a.jsxs("td",{className:"py-3 px-4 text-gray-900",children:[y.averageScore.toFixed(1),"%"]}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("button",{onClick:()=>v(y),className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(Ke,{className:"w-4 h-4"})})})]},y.supervisorId))})]})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(Rt,{width:"100%",height:"100%",children:a.jsxs(uu,{data:e.monthlyTrends,children:[a.jsx(kr,{strokeDasharray:"3 3"}),a.jsx(Qt,{dataKey:"month"}),a.jsx(Yt,{}),a.jsx(We,{}),a.jsx(ar,{type:"monotone",dataKey:"attempts",stroke:"#3B82F6",name:"Attempts"}),a.jsx(ar,{type:"monotone",dataKey:"passed",stroke:"#10B981",name:"Passed"}),a.jsx(ar,{type:"monotone",dataKey:"passRate",stroke:"#F59E0B",name:"Pass Rate %"})]})})})]}),a.jsx(_e,{isOpen:c,onClose:()=>u(!1),title:`District Details: ${r==null?void 0:r.districtName}`,size:"lg",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalEnumerators}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Enumerators"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"District Information"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"District ID"}),a.jsx("p",{className:"font-medium",children:r.districtId})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"District Name"}),a.jsx("p",{className:"font-medium",children:r.districtName})]})]})})]})]})}),a.jsx(_e,{isOpen:f,onClose:()=>d(!1),title:`Supervisor Details: ${s==null?void 0:s.supervisorName}`,size:"xl",children:s&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.totalEnumerators}),a.jsx("p",{className:"text-sm text-gray-600",children:"Team Size"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[s.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Team Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[s.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Team Avg Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Team Members"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:s.enumerators.map(y=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:y.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:y.user.email})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[y.overallProgress,"% Complete"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[y.totalCertificates," certificates"]})]})]})},y.id))})]})]})})]})}):a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function Sae(){const[e,t]=O.useState(null),[r,n]=O.useState(null),[s,i]=O.useState(null),[o,l]=O.useState(!0),[c,u]=O.useState(!1),[f,d]=O.useState(!1),[h,p]=O.useState("30");O.useEffect(()=>{b()},[h]);const b=async()=>{try{l(!0);const x=await dv.getDashboardData(h);x.success&&x.data&&t(x.data)}catch(x){console.error("Failed to fetch supervisor dashboard data:",x)}finally{l(!1)}},w=x=>{n(x),u(!0)},v=x=>{i(x),d(!0)},j=x=>{switch(x){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"expired":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},y=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return o?a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(x=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},x))})})})}):e?a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Supervisor Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Monitor your team's performance and progress"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:h,onChange:x=>p(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Enumerators"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.totalEnumerators})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(qr,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Attempts"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.totalAttempts})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Gt,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Team Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[e.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Kr,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[e.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Oe,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.upcomingDeadlines.length>0&&a.jsxs(F,{className:"mb-8 border-l-4 border-orange-500 bg-orange-50",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(Kt,{className:"w-6 h-6 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Upcoming Deadlines"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.upcomingDeadlines.map(x=>a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:x.surveyTitle}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[a.jsx(bn,{className:"w-4 h-4 inline mr-1"}),"Due: ",Te(x.targetDate)]}),a.jsxs("p",{className:"text-orange-600 font-medium",children:[x.daysLeft," days left"]}),a.jsxs("p",{className:"text-gray-600",children:[x.pendingEnumerators,"/",x.totalEnumerators," pending"]})]})]},x.surveyId))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Performance"}),a.jsx("div",{className:"h-64",children:a.jsx(Rt,{width:"100%",height:"100%",children:a.jsxs(Za,{data:e.teamPerformance,children:[a.jsx(kr,{strokeDasharray:"3 3"}),a.jsx(Qt,{dataKey:"teamName"}),a.jsx(Yt,{}),a.jsx(We,{formatter:(x,_)=>[_==="passRate"?`${x}%`:x,_==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Ct,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Ct,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Enumerator Status Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx(Rt,{width:"100%",height:"100%",children:a.jsxs(du,{children:[a.jsx($r,{data:[{name:"Completed",value:e.enumeratorStatus.filter(x=>x.overallProgress===100).length},{name:"In Progress",value:e.enumeratorStatus.filter(x=>x.overallProgress>0&&x.overallProgress<100).length},{name:"Not Started",value:e.enumeratorStatus.filter(x=>x.overallProgress===0).length}],cx:"50%",cy:"50%",labelLine:!1,label:({name:x,value:_})=>`${x}: ${_}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[0,1,2].map(x=>a.jsx(Ys,{fill:y[x%y.length]},`cell-${x}`))}),a.jsx(We,{})]})})})]})]}),a.jsxs(F,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Team Details"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx($a,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Teams"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.teamPerformance.map(x=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>w(x),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:x.teamName}),a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${x.passRate>=80?"bg-green-100 text-green-800":x.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[x.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:x.totalMembers}),a.jsx("p",{className:"text-xs text-gray-600",children:"Members"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:x.completedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[x.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x.averageScore}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:["Team ID: ",x.teamId]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Ke,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]},x.teamId))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Enumerator Status"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(te,{placeholder:"Search enumerators...",className:"w-64"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx($a,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter"})]})]})]}),a.jsx("div",{className:"space-y-4",children:e.enumeratorStatus.map(x=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(qs,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:x.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:x.user.email}),a.jsx("p",{className:"text-sm text-gray-500",children:x.user.jurisdiction||"No jurisdiction"})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[x.overallProgress,"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:x.surveys.filter(_=>_.status==="completed").length}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:x.totalCertificates}),a.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"})]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>v(x),className:"flex items-center space-x-2",children:[a.jsx(Ke,{className:"w-4 h-4"}),a.jsx("span",{children:"View"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[x.overallProgress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x.overallProgress}%`}})})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[x.surveys.slice(0,3).map(_=>a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(_.status)}`,children:[_.surveyTitle,": ",_.status.replace("_"," ")]},_.surveyId)),x.surveys.length>3&&a.jsxs("span",{className:"text-sm text-gray-500",children:["+",x.surveys.length-3," more"]})]})]},x.id))})]}),a.jsx(_e,{isOpen:c,onClose:()=>u(!1),title:`Team Details: ${r==null?void 0:r.teamName}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalMembers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Team Members"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:r.members.map(x=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:x.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:x.user.email})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[x.overallProgress,"% Complete"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[x.totalCertificates," certificates"]})]})]})},x.id))})]})]})}),a.jsx(_e,{isOpen:f,onClose:()=>d(!1),title:`Enumerator Details: ${s==null?void 0:s.user.name}`,size:"xl",children:s&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",s.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",s.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",s.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",s.user.jurisdiction||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Last Activity:"})," ",Er(s.lastActivity)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Performance Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[s.overallProgress,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Overall Progress"})]}),a.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-purple-600",children:s.totalCertificates}),a.jsx("p",{className:"text-xs text-gray-600",children:"Certificates"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Survey Status"}),a.jsx("div",{className:"space-y-3",children:s.surveys.map(x=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:x.surveyTitle}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(x.status)}`,children:x.status.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Attempts"}),a.jsxs("p",{className:"font-medium",children:[x.attempts,"/",x.maxAttempts]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:x.bestScore?`${x.bestScore}%`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Target Date"}),a.jsx("p",{className:"font-medium",children:Te(x.targetDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Last Attempt"}),a.jsx("p",{className:"font-medium",children:x.lastAttempt?Te(x.lastAttempt):"Never"})]})]}),x.certificateId&&a.jsxs("div",{className:"mt-3 flex items-center space-x-2 text-green-600",children:[a.jsx(Oe,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]})]},x.surveyId))})]})]})})]})}):a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function Nae(){const e=To(),[t,r]=O.useState(null),[n,s]=O.useState(null);O.useState(null);const[i,o]=O.useState(!0),[l,c]=O.useState(!1),[u,f]=O.useState(!1),[d,h]=O.useState("overview"),[p,b]=O.useState(""),[w,v]=O.useState("all");O.useEffect(()=>{j()},[]);const j=async()=>{try{o(!0);const N=await Zc.getDashboardData();N.success&&N.data&&r(N.data)}catch(N){console.error("Failed to fetch enumerator dashboard data:",N)}finally{o(!1)}},y=async N=>{try{f(!0);const S=t==null?void 0:t.availableTests.find(E=>E.surveyId===N);if(!S||!S.isEligible||S.attemptsLeft===0){alert("You are not eligible to take this test or have no attempts remaining.");return}const A=await tn.createTestSession(N);if(!A.success||!A.data)throw new Error(A.message||"Failed to create test session");const P=A.data.id;e(`/test/${P}`,{state:{surveyId:N,startTime:A.data.startTime,sessionData:A.data}})}catch(S){console.error("Failed to start test:",S),alert(`Failed to start test: ${S instanceof Error?S.message:"Please try again."}`)}finally{f(!1),c(!1)}},x=N=>{s(N),c(!0)},_=N=>N.isEligible?N.attemptsLeft===0?"bg-red-100 text-red-800":Math.ceil((new Date(N.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24))<=3?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",m=N=>{if(!N.isEligible)return"Not Eligible";if(N.attemptsLeft===0)return"No Attempts Left";const S=Math.ceil((new Date(N.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));return S<=0?"Overdue":S<=3?`${S} days left`:"Available"},g=(t==null?void 0:t.availableTests.filter(N=>{const S=N.title.toLowerCase().includes(p.toLowerCase())||N.description.toLowerCase().includes(p.toLowerCase());if(w==="all")return S;const A=Math.ceil((new Date(N.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));switch(w){case"urgent":return S&&A<=3&&A>0;case"available":return S&&N.isEligible&&N.attemptsLeft>0;case"overdue":return S&&A<=0;default:return S}}))||[];return i?a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(N=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},N))})})})}):t?a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Track your test progress and achievements"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"w-4 h-4"}),a.jsx("span",{children:"Download Progress Report"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(sc,{className:"w-4 h-4"}),a.jsx("span",{children:"Study Materials"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available Tests"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.availableTests.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Gt,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed Tests"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.completedTests.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ct,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[t.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Kr,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:t.certificates.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Oe,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Overall Progress"}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsxs("div",{className:"relative inline-flex items-center justify-center w-32 h-32",children:[a.jsxs("svg",{className:"w-32 h-32 transform -rotate-90",viewBox:"0 0 100 100",children:[a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-200"}),a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:`${2*Math.PI*40}`,strokeDashoffset:`${2*Math.PI*40*(1-t.overallProgress/100)}`,className:"text-blue-600 transition-all duration-300"})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[t.overallProgress,"%"]})})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Overall Completion"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:t.passedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Passed Tests"})]}),a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:t.totalAttempts}),a.jsx("p",{className:"text-xs text-gray-600",children:"Total Attempts"})]})]})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Test Performance Trend"}),a.jsx("div",{className:"h-64",children:a.jsx(Rt,{width:"100%",height:"100%",children:a.jsxs(uu,{data:t.completedTests.map((N,S)=>({attempt:S+1,score:N.score,name:N.surveyTitle.substring(0,10)+"..."})),children:[a.jsx(kr,{strokeDasharray:"3 3"}),a.jsx(Qt,{dataKey:"attempt"}),a.jsx(Yt,{domain:[0,100]}),a.jsx(We,{formatter:N=>[`${N}%`,"Score"]}),a.jsx(ar,{type:"monotone",dataKey:"score",stroke:"#3B82F6",strokeWidth:2})]})})})]})]}),t.upcomingTests.filter(N=>N.daysLeft<=7).length>0&&a.jsxs(F,{className:"mb-8 border-l-4 border-orange-500 bg-orange-50",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(Kt,{className:"w-6 h-6 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Urgent: Tests Due Soon"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.upcomingTests.filter(N=>N.daysLeft<=7).map(N=>a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:N.title}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[a.jsx(bn,{className:"w-4 h-4 inline mr-1"}),"Due: ",Te(N.targetDate)]}),a.jsx("p",{className:`font-medium ${N.isOverdue?"text-red-600":"text-orange-600"}`,children:N.isOverdue?"OVERDUE":`${N.daysLeft} days left`})]})]},N.surveyId))})]}),a.jsxs(F,{children:[a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>h("overview"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Ke,{className:"w-4 h-4 inline mr-2"}),"Overview"]}),a.jsxs("button",{onClick:()=>h("available"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="available"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(sc,{className:"w-4 h-4 inline mr-2"}),"Available Tests (",t.availableTests.length,")"]}),a.jsxs("button",{onClick:()=>h("results"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="results"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Po,{className:"w-4 h-4 inline mr-2"}),"My Results (",t.completedTests.length,")"]}),a.jsxs("button",{onClick:()=>h("certificates"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="certificates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Ma,{className:"w-4 h-4 inline mr-2"}),"My Certificates (",t.certificates.length,")"]})]})}),d==="overview"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Quick Stats"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tests Available"}),a.jsx("span",{className:"text-lg font-bold text-blue-600",children:t.availableTests.length})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tests Passed"}),a.jsx("span",{className:"text-lg font-bold text-green-600",children:t.passedTests})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-lg font-bold text-yellow-600",children:[t.averageScore.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Certificates Earned"}),a.jsx("span",{className:"text-lg font-bold text-purple-600",children:t.certificates.length})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Recent Activity"}),a.jsx("div",{className:"space-y-3",children:t.completedTests.slice(0,3).map(N=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${N.isPassed?"bg-green-500":"bg-red-500"}`}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.surveyTitle}),a.jsx("p",{className:"text-xs text-gray-500",children:Te(N.completedAt)})]}),a.jsxs("span",{className:`text-sm font-bold ${N.isPassed?"text-green-600":"text-red-600"}`,children:[N.score,"%"]})]},N.resultId))})]})]})}),d==="available"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(te,{placeholder:"Search tests...",value:p,onChange:N=>b(N.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:w,onChange:N=>v(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Tests"}),a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"urgent",children:"Urgent (Due Soon)"}),a.jsx("option",{value:"overdue",children:"Overdue"})]})]})}),a.jsx("div",{className:"space-y-4",children:g.map(N=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:N.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:N.description}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(bn,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Due: ",Te(N.targetDate)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(sr,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Duration: ",Ls(N.duration)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Gt,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:[N.totalQuestions," Questions"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Kr,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Pass: ",N.passingScore,"%"]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${_(N)}`,children:m(N)}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[N.attemptsLeft,"/",N.maxAttempts," attempts left"]})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(z,{onClick:()=>x(N),variant:"secondary",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(Ke,{className:"w-4 h-4"}),a.jsx("span",{children:"Details"})]}),a.jsxs(z,{onClick:()=>y(N.surveyId),disabled:!N.isEligible||N.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===N.surveyId,size:"sm",className:"flex items-center space-x-2",children:[a.jsx(Sa,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})]})},N.surveyId))})]}),d==="results"&&a.jsx("div",{className:"space-y-4",children:t.completedTests.map(N=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:N.surveyTitle}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Score:"}),a.jsxs("span",{className:`ml-2 font-bold ${N.score>=70?"text-green-600":"text-red-600"}`,children:[N.score,"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 ${N.isPassed?"text-green-600":"text-red-600"}`,children:N.isPassed?"Passed":"Failed"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Attempt:"}),a.jsx("span",{className:"ml-2",children:N.attemptNumber})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"}),a.jsx("span",{className:"ml-2",children:Te(N.completedAt)})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[N.certificateId&&a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx(Oe,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]}),a.jsxs(z,{variant:"secondary",size:"sm",children:[a.jsx(Ke,{className:"w-4 h-4 mr-2"}),"View Details"]})]})]})},N.resultId))}),d==="certificates"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.certificates.map(N=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(Oe,{className:"w-8 h-8 text-yellow-600"})}),a.jsx("h4",{className:"font-semibold text-gray-900",children:N.survey.title}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Certificate #",N.certificateNumber]})]}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Te(N.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${N.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:N.status.charAt(0).toUpperCase()+N.status.slice(1)})]})]}),a.jsxs(z,{className:"w-full flex items-center justify-center space-x-2",children:[a.jsx(Et,{className:"w-4 h-4"}),a.jsx("span",{children:"Download Certificate"})]})]},N.id))})]}),a.jsx(_e,{isOpen:l,onClose:()=>c(!1),title:`Test Details: ${n==null?void 0:n.title}`,size:"lg",children:n&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),a.jsx("p",{className:"text-gray-600",children:n.description})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Duration:"})," ",Ls(n.duration)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Questions:"})," ",n.totalQuestions]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Passing Score:"})," ",n.passingScore,"%"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Target Date:"})," ",Te(n.targetDate)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Attempt Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempts Left:"})," ",n.attemptsLeft,"/",n.maxAttempts]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Eligibility:"}),a.jsx("span",{className:`ml-2 ${n.isEligible?"text-green-600":"text-red-600"}`,children:n.isEligible?"Eligible":"Not Eligible"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>c(!1),children:"Close"}),a.jsxs(z,{onClick:()=>{y(n.surveyId)},disabled:!n.isEligible||n.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===n.surveyId,className:"flex items-center space-x-2",children:[a.jsx(Sa,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})})]})}):a.jsx(Ee,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function Aae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState("30"),[h,p]=O.useState("all");O.useEffect(()=>{b()},[f]);const b=async()=>{try{i(!0);const m=await dv.getDashboardData(f);m.success&&m.data&&t(m.data.teamPerformance)}catch(m){console.error("Failed to fetch team results:",m)}finally{i(!1)}},w=m=>{n(m),l(!0)},v=m=>m>=90?"excellent":m>=80?"good":m>=60?"average":"poor",j=m=>{switch(m){case"excellent":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"average":return"bg-yellow-100 text-yellow-800";case"poor":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=e.filter(m=>{const g=m.teamName.toLowerCase().includes(c.toLowerCase()),N=v(m.passRate);return g&&(h==="all"||N===h)}),x=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],_={totalTeams:e.length,totalMembers:e.reduce((m,g)=>m+g.totalMembers,0),averagePassRate:e.reduce((m,g)=>m+g.passRate,0)/e.length||0,averageScore:e.reduce((m,g)=>m+g.averageScore,0)/e.length||0,topPerformingTeam:e.reduce((m,g)=>m.passRate>g.passRate?m:g,e[0]),lowPerformingTeam:e.reduce((m,g)=>m.passRate<g.passRate?m:g,e[0])};return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Team Results"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive analysis of team performance and progress"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:f,onChange:m=>d(m.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Teams"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:_.totalTeams})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(qr,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:_.totalMembers})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(qr,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[_.averagePassRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Kr,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[_.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Oe,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Performance Comparison"}),a.jsx("div",{className:"h-64",children:a.jsx(Rt,{width:"100%",height:"100%",children:a.jsxs(Za,{data:e,children:[a.jsx(kr,{strokeDasharray:"3 3"}),a.jsx(Qt,{dataKey:"teamName"}),a.jsx(Yt,{}),a.jsx(We,{formatter:(m,g)=>[g==="passRate"?`${m}%`:m,g==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Ct,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Ct,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx(Rt,{width:"100%",height:"100%",children:a.jsxs(du,{children:[a.jsx($r,{data:[{name:"Excellent (90%+)",value:e.filter(m=>m.passRate>=90).length},{name:"Good (80-89%)",value:e.filter(m=>m.passRate>=80&&m.passRate<90).length},{name:"Average (60-79%)",value:e.filter(m=>m.passRate>=60&&m.passRate<80).length},{name:"Poor (<60%)",value:e.filter(m=>m.passRate<60).length}],cx:"50%",cy:"50%",labelLine:!1,label:({name:m,value:g})=>`${m}: ${g}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[0,1,2,3].map(m=>a.jsx(Ys,{fill:x[m%x.length]},`cell-${m}`))}),a.jsx(We,{})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performing Teams"}),a.jsx(Po,{className:"w-5 h-5 text-green-600"})]}),a.jsx("div",{className:"space-y-3",children:e.sort((m,g)=>g.passRate-m.passRate).slice(0,3).map((m,g)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:g+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:m.teamName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[m.totalMembers," members"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:[m.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},m.teamId))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Teams Needing Support"}),a.jsx(mv,{className:"w-5 h-5 text-red-600"})]}),a.jsx("div",{className:"space-y-3",children:e.sort((m,g)=>m.passRate-g.passRate).slice(0,3).map((m,g)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:g+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:m.teamName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[m.totalMembers," members"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-red-600",children:[m.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},m.teamId))})]})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative",children:a.jsx(te,{placeholder:"Search teams...",value:c,onChange:m=>u(m.target.value),className:"w-64"})}),a.jsxs("select",{value:h,onChange:m=>p(m.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Performance Levels"}),a.jsx("option",{value:"excellent",children:"Excellent (90%+)"}),a.jsx("option",{value:"good",children:"Good (80-89%)"}),a.jsx("option",{value:"average",children:"Average (60-79%)"}),a.jsx("option",{value:"poor",children:"Poor (0-60%)"})]})]})})}),a.jsxs(F,{children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Detailed Team Results"})}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading team results..."})]}):a.jsx("div",{className:"space-y-4",children:y.map(m=>{const g=v(m.passRate);return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(qr,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:m.teamName}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Team ID: ",m.teamId]})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:m.totalMembers}),a.jsx("p",{className:"text-sm text-gray-500",children:"Members"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.completedTests}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:`text-2xl font-bold ${As(m.passRate)}`,children:[m.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:`text-2xl font-bold ${As(m.averageScore)}`,children:[m.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Avg Score"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${j(g)}`,children:g.charAt(0).toUpperCase()+g.slice(1)})}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>w(m),className:"flex items-center space-x-2",children:[a.jsx(Ke,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Team Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[(m.completedTests/m.totalMembers*100).toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${m.completedTests/m.totalMembers*100}%`}})})]})]},m.teamId)})})]}),a.jsx(_e,{isOpen:o,onClose:()=>l(!1),title:`Team Details: ${r==null?void 0:r.teamName}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalMembers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Team Members Performance"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:r.members.map(m=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:m.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:m.user.email})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[m.overallProgress,"% Complete"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[m.totalCertificates," certificates"]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Surveys"}),a.jsx("p",{className:"font-medium",children:m.surveys.length})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Completed"}),a.jsx("p",{className:"font-medium",children:m.surveys.filter(g=>g.status==="completed").length})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:m.surveys.length>0?Math.max(...m.surveys.map(g=>g.bestScore||0)).toFixed(1)+"%":"N/A"})]})]})]},m.id))})]})]})})]})})}function Oae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState("all"),[h,p]=O.useState("all");O.useEffect(()=>{b()},[]);const b=async()=>{try{i(!0);const m=await dv.getDashboardData("30");m.success&&m.data&&t(m.data.enumeratorStatus)}catch(m){console.error("Failed to fetch enumerators:",m)}finally{i(!1)}},w=m=>{n(m),l(!0)},v=m=>{switch(m){case"completed":return a.jsx(ct,{className:"w-4 h-4 text-green-600"});case"in_progress":return a.jsx(sr,{className:"w-4 h-4 text-yellow-600"});case"failed":return a.jsx(Ld,{className:"w-4 h-4 text-red-600"});case"expired":return a.jsx(Kt,{className:"w-4 h-4 text-orange-600"});default:return a.jsx(sr,{className:"w-4 h-4 text-gray-600"})}},j=m=>{switch(m){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"expired":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},y=m=>{const g=m.surveys.length,N=m.surveys.filter(P=>P.status==="completed").length,S=m.surveys.filter(P=>P.status==="failed").length,A=m.surveys.filter(P=>P.status==="expired").length;return N===g?"excellent":S>0||A>0?"needs_attention":N>g/2?"good":"poor"},x=e.filter(m=>{const g=m.user.name.toLowerCase().includes(c.toLowerCase())||m.user.email.toLowerCase().includes(c.toLowerCase()),N=y(m),S=f==="all"||N===f;let A=!0;if(h!=="all")switch(h){case"completed":A=m.overallProgress===100;break;case"in_progress":A=m.overallProgress>0&&m.overallProgress<100;break;case"not_started":A=m.overallProgress===0;break}return g&&S&&A}),_={totalEnumerators:e.length,completedAll:e.filter(m=>m.overallProgress===100).length,inProgress:e.filter(m=>m.overallProgress>0&&m.overallProgress<100).length,notStarted:e.filter(m=>m.overallProgress===0).length,averageProgress:e.reduce((m,g)=>m+g.overallProgress,0)/e.length||0,totalCertificates:e.reduce((m,g)=>m+g.totalCertificates,0)};return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Enumerators"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and monitor your team members' progress"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx($a,{className:"w-4 h-4"}),a.jsx("span",{children:"Advanced Filters"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:_.totalEnumerators})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(qs,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:_.completedAll})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ct,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:_.inProgress})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(sr,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Not Started"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:_.notStarted})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Kt,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Progress"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[_.averageProgress.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Kr,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:_.totalCertificates})]}),a.jsx("div",{className:"p-3 rounded-full bg-indigo-100",children:a.jsx(Oe,{className:"w-6 h-6 text-indigo-600"})})]})})]}),a.jsxs(F,{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Progress Overview"}),a.jsx("div",{className:"h-64",children:a.jsx(Rt,{width:"100%",height:"100%",children:a.jsxs(Za,{data:e.map(m=>({name:m.user.name.split(" ")[0],progress:m.overallProgress,certificates:m.totalCertificates})),children:[a.jsx(kr,{strokeDasharray:"3 3"}),a.jsx(Qt,{dataKey:"name"}),a.jsx(Yt,{}),a.jsx(We,{formatter:(m,g)=>[g==="progress"?`${m}%`:m,g==="progress"?"Progress":"Certificates"]}),a.jsx(Ct,{dataKey:"progress",fill:"#3B82F6",name:"progress"}),a.jsx(Ct,{dataKey:"certificates",fill:"#10B981",name:"certificates"})]})})})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(te,{placeholder:"Search enumerators...",value:c,onChange:m=>u(m.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:f,onChange:m=>d(m.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"good",children:"Good"}),a.jsx("option",{value:"needs_attention",children:"Needs Attention"}),a.jsx("option",{value:"poor",children:"Poor"})]}),a.jsxs("select",{value:h,onChange:m=>p(m.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Progress"}),a.jsx("option",{value:"completed",children:"Completed (100%)"}),a.jsx("option",{value:"in_progress",children:"In Progress"}),a.jsx("option",{value:"not_started",children:"Not Started"})]})]})})}),a.jsx(F,{children:s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading enumerators..."})]}):a.jsx("div",{className:"space-y-4",children:x.map(m=>{const g=y(m),N=m.surveys.filter(A=>A.status==="completed").length,S=m.surveys.length;return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:a.jsx(qs,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:m.user.name}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(D3,{className:"w-4 h-4"}),a.jsx("span",{children:m.user.email})]}),m.user.phoneNumber&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(R3,{className:"w-4 h-4"}),a.jsx("span",{children:m.user.phoneNumber})]}),m.user.jurisdiction&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Jc,{className:"w-4 h-4"}),a.jsx("span",{children:m.user.jurisdiction})]})]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Employee ID: ",m.user.employeeId||"N/A"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[m.overallProgress,"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[N,"/",S]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:m.totalCertificates}),a.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${g==="excellent"?"bg-green-100 text-green-800":g==="good"?"bg-blue-100 text-blue-800":g==="needs_attention"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:g==="excellent"?"Excellent":g==="good"?"Good":g==="needs_attention"?"Needs Attention":"Poor"})}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>w(m),className:"flex items-center space-x-2",children:[a.jsx(Ke,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[m.overallProgress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${m.overallProgress}%`}})})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[m.surveys.slice(0,4).map(A=>a.jsxs("div",{className:"flex items-center space-x-2",children:[v(A.status),a.jsx("span",{className:"text-sm text-gray-600",children:A.surveyTitle})]},A.surveyId)),m.surveys.length>4&&a.jsxs("span",{className:"text-sm text-gray-500",children:["+",m.surveys.length-4," more"]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:["Last Activity: ",Er(m.lastActivity)]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{children:["Surveys: ",m.surveys.length]}),a.jsxs("span",{children:["Avg Score: ",m.surveys.length>0?(m.surveys.reduce((A,P)=>A+(P.bestScore||0),0)/m.surveys.length).toFixed(1)+"%":"N/A"]})]})]})]},m.id)})})}),a.jsx(_e,{isOpen:o,onClose:()=>l(!1),title:`Enumerator Details: ${r==null?void 0:r.user.name}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",r.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",r.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Phone:"})," ",r.user.phoneNumber||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Employee ID:"})," ",r.user.employeeId||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",r.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",r.user.jurisdiction||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Last Activity:"})," ",Er(r.lastActivity)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Performance Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[r.overallProgress,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Overall Progress"})]}),a.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-purple-600",children:r.totalCertificates}),a.jsx("p",{className:"text-xs text-gray-600",children:"Certificates"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:r.surveys.filter(m=>m.status==="completed").length}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]}),a.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-yellow-600",children:r.surveys.length>0?(r.surveys.reduce((m,g)=>m+(g.bestScore||0),0)/r.surveys.length).toFixed(1)+"%":"N/A"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Avg Score"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Survey Status"}),a.jsx("div",{className:"space-y-3",children:r.surveys.map(m=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[v(m.status),a.jsx("h5",{className:"font-medium text-gray-900",children:m.surveyTitle})]}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(m.status)}`,children:m.status.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Attempts"}),a.jsxs("p",{className:"font-medium",children:[m.attempts,"/",m.maxAttempts]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:m.bestScore?`${m.bestScore}%`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Target Date"}),a.jsx("p",{className:"font-medium",children:Te(m.targetDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Last Attempt"}),a.jsx("p",{className:"font-medium",children:m.lastAttempt?Te(m.lastAttempt):"Never"})]})]}),m.certificateId&&a.jsxs("div",{className:"mt-3 flex items-center space-x-2 text-green-600",children:[a.jsx(Oe,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]})]},m.surveyId))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>l(!1),children:"Close"}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Individual Report"})]})]})]})})]})})}function Pae(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(!1),[f,d]=O.useState(""),[h,p]=O.useState(!1),[b,w]=O.useState(!1),[v,j]=O.useState(null),[y,x]=O.useState(""),[_,m]=O.useState({name:"",email:"",roleId:"",password:""}),[g,N]=O.useState({name:"",email:"",password:"",roleId:"",jurisdiction:"",zone:"",region:"",district:"",employeeId:"",phoneNumber:""});O.useEffect(()=>{S(),A()},[]);const S=async()=>{try{i(!0),console.log("Users page: Fetching users...");const C=await $u.getUsers();console.log("Users page: API response:",C),t(C.data||[]),(!C.data||C.data.length===0)&&(console.log("Users page: No users found"),C.success||x(C.message))}catch(C){console.error("Failed to fetch users:",C),x("Failed to load users. Please try again."),t([])}finally{i(!1)}},A=async()=>{try{const C=await ws.getRoles();n(C.data||[])}catch(C){console.error("Failed to fetch roles:",C),n([])}},P=async()=>{if(x(""),!g.name.trim()){x("Name is required");return}if(!g.email.trim()){x("Email is required");return}if(!g.roleId){x("Role is required");return}if(!g.password.trim()){x("Password is required");return}if(g.password.length<6){x("Password must be at least 6 characters long");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email)){x("Please enter a valid email address");return}try{l(!0);const U=await $u.createUser(g);U.success&&U.data?(t([...e,U.data]),p(!1),$(),alert(U.message)):x(U.message)}catch(U){console.error("Failed to create user:",U),x("Failed to create user. Please try again.")}finally{l(!1)}},E=async()=>{if(x(""),!g.name.trim()){x("Name is required");return}if(!g.email.trim()){x("Email is required");return}if(!g.roleId){x("Role is required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(g.email)){x("Please enter a valid email address");return}if(v)try{u(!0);const U=await $u.updateUser(v.id,g);U.success&&U.data?(t(e.map(D=>D.id===v.id?U.data:D)),w(!1),$(),alert("User updated successfully!")):x(U.message)}catch(U){console.error("Failed to update user:",U),x("Failed to update user. Please try again.")}finally{u(!1)}},k=async C=>{if(window.confirm("Are you sure you want to delete this user?"))try{(await $u.deleteUser(C)).success&&t(e.filter(D=>D.id!==C))}catch(U){console.error("Failed to delete user:",U)}},I=C=>{j(C),N({name:C.name,email:C.email,password:"",roleId:C.roleId,jurisdiction:C.jurisdiction||"",zone:C.zone||"",region:C.region||"",district:C.district||"",employeeId:C.employeeId||"",phoneNumber:C.phoneNumber||""}),w(!0)},$=()=>{N({name:"",email:"",password:"",roleId:"",jurisdiction:"",zone:"",region:"",district:"",employeeId:"",phoneNumber:""}),j(null)},R=e.filter(C=>C.name.toLowerCase().includes(f.toLowerCase())||C.email.toLowerCase().includes(f.toLowerCase())||C.role.name.toLowerCase().includes(f.toLowerCase()));return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage system users and their roles"})]}),a.jsxs(z,{onClick:()=>p(!0),className:"flex items-center space-x-2",children:[a.jsx(cn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add User"})]})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"mb-6",children:[y&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-red-700 text-sm",children:y})}),a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(te,{placeholder:"Search users...",value:f,onChange:C=>d(C.target.value),className:"pl-10"})]})]}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading users..."})]}):R.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(cn,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Users Found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:e.length===0?"No users exist in the system yet. Get started by creating your first user or initializing the database.":"No users match your search criteria."}),e.length===0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{onClick:()=>p(!0),className:"flex items-center space-x-2",children:[a.jsx(cn,{className:"w-4 h-4"}),a.jsx("span",{children:"Create First User"})]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Or go to the ",a.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-700",children:"login page"})," to initialize the database"]})]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Role"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Jurisdiction"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Created"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:R.map(C=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:C.name}),a.jsx("p",{className:"text-sm text-gray-500",children:C.email})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:C.role.name})}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:C.jurisdiction||"N/A"}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("span",{className:`inline-flex items-center space-x-1 ${C.isActive?"text-green-600":"text-red-600"}`,children:[C.isActive?a.jsx(Ra,{className:"w-4 h-4"}):a.jsx(B3,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:C.isActive?"Active":"Inactive"})]})}),a.jsx("td",{className:"py-3 px-4 text-gray-500 text-sm",children:Er(C.createdAt)}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>I(C),className:"p-1 text-blue-600 hover:text-blue-700",title:"Edit User",children:a.jsx(Ia,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>k(C.id),className:"p-1 text-red-600 hover:text-red-700",children:a.jsx(Mi,{className:"w-4 h-4"})})]})})]},C.id))})]})})]}),a.jsx(_e,{isOpen:h,onClose:()=>{p(!1),$()},title:"Create New User",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Full Name *",value:g.name,onChange:C=>{N({...g,name:C.target.value}),_.name&&m({..._,name:""})},placeholder:"Enter full name",error:_.name}),a.jsx(te,{label:"Email Address *",type:"email",value:g.email,onChange:C=>{N({...g,email:C.target.value}),_.email&&m({..._,email:""})},placeholder:"Enter email address",error:_.email})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Password *",type:"password",value:g.password,onChange:C=>{N({...g,password:C.target.value}),_.password&&m({..._,password:""})},placeholder:"Enter password (min 6 characters)",error:_.password}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password Strength"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[g.password.length===0&&a.jsx("span",{className:"text-gray-400",children:"Enter a password"}),g.password.length>0&&g.password.length<6&&a.jsx("span",{className:"text-red-600",children:"Too short"}),g.password.length>=6&&g.password.length<8&&a.jsx("span",{className:"text-yellow-600",children:"Weak"}),g.password.length>=8&&!/[A-Z]/.test(g.password)&&a.jsx("span",{className:"text-yellow-600",children:"Add uppercase"}),g.password.length>=8&&/[A-Z]/.test(g.password)&&!/\d/.test(g.password)&&a.jsx("span",{className:"text-blue-600",children:"Add number"}),g.password.length>=8&&/[A-Z]/.test(g.password)&&/\d/.test(g.password)&&a.jsx("span",{className:"text-green-600",children:"Strong"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),a.jsxs("select",{value:g.roleId,onChange:C=>{N({...g,roleId:C.target.value}),_.roleId&&m({..._,roleId:""})},className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${_.roleId?"border-red-300":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select role"}),r.map(C=>a.jsxs("option",{value:C.id,children:[C.name," (Level ",C.level,")"]},C.id))]}),_.roleId&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:_.roleId})]}),a.jsx(te,{label:"Employee ID",value:g.employeeId,onChange:C=>N({...g,employeeId:C.target.value}),placeholder:"Enter employee ID"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Phone Number",value:g.phoneNumber,onChange:C=>N({...g,phoneNumber:C.target.value}),placeholder:"Enter phone number"}),a.jsx(te,{label:"Jurisdiction",value:g.jurisdiction,onChange:C=>N({...g,jurisdiction:C.target.value}),placeholder:"Enter jurisdiction"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(te,{label:"Zone",value:g.zone,onChange:C=>N({...g,zone:C.target.value}),placeholder:"e.g., North Zone, South Zone"}),a.jsx(te,{label:"Region",value:g.region,onChange:C=>N({...g,region:C.target.value}),placeholder:"e.g., Delhi Region, Mumbai Region"}),a.jsx(te,{label:"District",value:g.district,onChange:C=>N({...g,district:C.target.value}),placeholder:"Enter district"})]}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:"Survey Assignment"}),a.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"To ensure the user can access tests, make sure their Zone and Region match the survey assignments:"}),a.jsxs("div",{className:"text-xs text-yellow-700 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Available Zones:"})," North Zone, South Zone, East Zone"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Available Regions:"})," Delhi Region, Mumbai Region, Kolkata Region"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Note:"})," Users without zone/region assignments can access all surveys"]})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Login Credentials"}),a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Password:"})," ",g.password||"Enter password above"," (user should change on first login)"]}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"The user will receive their login credentials and should change the password immediately."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{p(!1),$()},disabled:o,children:"Cancel"}),a.jsx(z,{onClick:P,loading:o,disabled:o,children:o?"Creating User...":"Create User"})]})]})}),a.jsx(_e,{isOpen:b,onClose:()=>{w(!1),$()},title:"Edit User",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Full Name *",value:g.name,onChange:C=>{N({...g,name:C.target.value}),_.name&&m({..._,name:""})},placeholder:"Enter full name",error:_.name}),a.jsx(te,{label:"Email Address *",type:"email",value:g.email,onChange:C=>{N({...g,email:C.target.value}),_.email&&m({..._,email:""})},placeholder:"Enter email address",error:_.email})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(te,{label:"New Password (leave empty to keep current)",type:"password",value:g.password,onChange:C=>{N({...g,password:C.target.value}),_.password&&m({..._,password:""})},placeholder:"Enter new password (optional)",error:_.password}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password Strength"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[g.password.length===0&&a.jsx("span",{className:"text-gray-400",children:"Password unchanged"}),g.password.length>0&&g.password.length<6&&a.jsx("span",{className:"text-red-600",children:"Too short"}),g.password.length>=6&&g.password.length<8&&a.jsx("span",{className:"text-yellow-600",children:"Weak"}),g.password.length>=8&&!/[A-Z]/.test(g.password)&&a.jsx("span",{className:"text-yellow-600",children:"Add uppercase"}),g.password.length>=8&&/[A-Z]/.test(g.password)&&!/\d/.test(g.password)&&a.jsx("span",{className:"text-blue-600",children:"Add number"}),g.password.length>=8&&/[A-Z]/.test(g.password)&&/\d/.test(g.password)&&a.jsx("span",{className:"text-green-600",children:"Strong"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),a.jsxs("select",{value:g.roleId,onChange:C=>{N({...g,roleId:C.target.value}),_.roleId&&m({..._,roleId:""})},className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${_.roleId?"border-red-300":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select role"}),r.map(C=>a.jsxs("option",{value:C.id,children:[C.name," (Level ",C.level,")"]},C.id))]}),_.roleId&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:_.roleId})]}),a.jsx(te,{label:"Employee ID",value:g.employeeId,onChange:C=>N({...g,employeeId:C.target.value}),placeholder:"Enter employee ID"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Phone Number",value:g.phoneNumber,onChange:C=>N({...g,phoneNumber:C.target.value}),placeholder:"Enter phone number"}),a.jsx(te,{label:"Jurisdiction",value:g.jurisdiction,onChange:C=>N({...g,jurisdiction:C.target.value}),placeholder:"Enter jurisdiction"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(te,{label:"Zone",value:g.zone,onChange:C=>N({...g,zone:C.target.value}),placeholder:"e.g., North Zone, South Zone"}),a.jsx(te,{label:"Region",value:g.region,onChange:C=>N({...g,region:C.target.value}),placeholder:"e.g., Delhi Region, Mumbai Region"}),a.jsx(te,{label:"District",value:g.district,onChange:C=>N({...g,district:C.target.value}),placeholder:"Enter district"})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Edit User Information"}),a.jsx("p",{className:"text-sm text-blue-800",children:"Update user details as needed. Leave password field empty to keep the current password unchanged."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{w(!1),$()},disabled:c,children:"Cancel"}),a.jsx(z,{onClick:E,loading:c,disabled:c,children:c?"Updating User...":"Update User"})]})]})})]})})}function Eae(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,i]=O.useState(!0),[o,l]=O.useState(""),[c,u]=O.useState(!1),[f,d]=O.useState(!1),[h,p]=O.useState(null),[b,w]=O.useState({name:"",description:""});O.useEffect(()=>{v(),j()},[]);const v=async()=>{try{i(!0);const S=await ws.getRoles();t(S.data||[])}catch(S){console.error("Failed to fetch roles:",S),t([])}finally{i(!1)}},j=async()=>{try{const S=await ws.getPermissions();n(S.data)}catch(S){console.error("Failed to fetch permissions:",S)}},y=async()=>{try{const S=await ws.createRole(b);S.success&&S.data&&(t([...e,S.data]),u(!1),g())}catch(S){console.error("Failed to create role:",S)}},x=async()=>{if(h)try{const S=await ws.updateRole(h.id,b);S.success&&S.data&&(t(e.map(A=>A.id===h.id?S.data:A)),d(!1),g())}catch(S){console.error("Failed to update role:",S)}},_=async S=>{if(window.confirm("Are you sure you want to delete this role? This action cannot be undone."))try{(await ws.deleteRole(S)).success&&t(e.filter(P=>P.id!==S))}catch(A){console.error("Failed to delete role:",A)}},m=S=>{p(S),w({name:S.name,description:S.description}),d(!0)},g=()=>{w({name:"",description:""}),p(null)},N=e.filter(S=>S.name.toLowerCase().includes(o.toLowerCase())||S.description.toLowerCase().includes(o.toLowerCase()));return r.reduce((S,A)=>(S[A.module]||(S[A.module]=[]),S[A.module].push(A),S),{}),a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Role Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage system roles and permissions"})]}),a.jsxs(z,{onClick:()=>u(!0),className:"flex items-center space-x-2",children:[a.jsx(cn,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Role"})]})]}),a.jsxs(F,{children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(te,{placeholder:"Search roles...",value:o,onChange:S=>l(S.target.value),className:"pl-10"})]})}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading roles..."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(S=>a.jsxs(F,{className:"hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Da,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.name}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:S.isActive?"Active":"Inactive"})]})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Role Level: ",S.level," | Users: ",S.userCount||0]})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:S.description}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(qr,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:[S.userCount||0," users assigned"]})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(eu,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:["Level ",S.level]})]})]}),a.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Created: ",Er(S.createdAt)]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["Created: ",Er(S.createdAt).split(",")[0]]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>m(S),className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(Ia,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>_(S.id),className:"p-1 text-red-600 hover:text-red-700",children:a.jsx(Mi,{className:"w-4 h-4"})})]})]})]},S.id))})]}),a.jsx(_e,{isOpen:c,onClose:()=>{u(!1),g()},title:"Create New Role",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Role Name",value:b.name,onChange:S=>w({...b,name:S.target.value}),placeholder:"Enter role name"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:b.description,onChange:S=>w({...b,description:S.target.value}),placeholder:"Enter role description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{u(!1),g()},children:"Cancel"}),a.jsx(z,{onClick:y,children:"Create Role"})]})]})}),a.jsx(_e,{isOpen:f,onClose:()=>{d(!1),g()},title:"Edit Role",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(te,{label:"Role Name",value:b.name,onChange:S=>w({...b,name:S.target.value}),placeholder:"Enter role name"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:b.description,onChange:S=>w({...b,description:S.target.value}),placeholder:"Enter role description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{d(!1),g()},children:"Cancel"}),a.jsx(z,{onClick:x,children:"Update Role"})]})]})})]})})}function kae(){const{user:e}=Gs(),[t,r]=O.useState([]),[n,s]=O.useState(!0),[i,o]=O.useState(""),[l,c]=O.useState(!1),[u,f]=O.useState(!1),[d,h]=O.useState(null),[p,b]=O.useState({title:"",description:"",targetDate:"",duration:35,totalQuestions:30,passingScore:70,maxAttempts:3});O.useEffect(()=>{w()},[]);const w=async()=>{try{s(!0);const S=await vn.getSurveys();r(S.data||[])}catch(S){console.error("Failed to fetch surveys:",S),r([])}finally{s(!1)}},v=async()=>{if(!p.title||!p.description||!p.targetDate){alert("Please fill in all required fields");return}try{const S=await vn.createSurvey({...p,targetDate:new Date(p.targetDate),createdBy:(e==null?void 0:e.id)||"550e8400-e29b-41d4-a716-446655440010"});S.success&&S.data?(r([...t,S.data]),c(!1),g(),alert("Survey created successfully!")):alert(`Failed to create survey: ${S.message}`)}catch(S){console.error("Failed to create survey:",S),alert("Failed to create survey. Please try again.")}},j=async()=>{if(d){if(!p.title||!p.description||!p.targetDate){alert("Please fill in all required fields");return}try{const S=await vn.updateSurvey(d.id,{...p,targetDate:new Date(p.targetDate)});S.success&&S.data?(r(t.map(A=>A.id===d.id?S.data:A)),f(!1),g(),alert("Survey updated successfully!")):alert(`Failed to update survey: ${S.message}`)}catch(S){console.error("Failed to update survey:",S),alert("Failed to update survey. Please try again.")}}},y=async(S,A)=>{if(A.stopPropagation(),window.confirm("Are you sure you want to delete this survey? This will also delete all associated questions and results. This action cannot be undone."))try{const P=await vn.deleteSurvey(S);P.success?(r(t.filter(E=>E.id!==S)),alert("Survey deleted successfully!")):alert(`Failed to delete survey: ${P.message}`)}catch(P){console.error("Failed to delete survey:",P),alert("Failed to delete survey. Please try again.")}},x=async(S,A)=>{A.stopPropagation();const P=t.find(E=>E.id===S);if(P)try{const E=await vn.updateSurvey(S,{...P,isActive:!P.isActive});E.success&&E.data?(r(t.map(k=>k.id===S?{...k,isActive:!k.isActive}:k)),alert(`Survey ${P.isActive?"deactivated":"activated"} successfully!`)):alert(`Failed to update survey status: ${E.message}`)}catch(E){console.error("Failed to toggle survey status:",E),alert("Failed to update survey status. Please try again.")}},_=async(S,A)=>{A.stopPropagation();try{const P={title:`${S.title} (Copy)`,description:S.description,targetDate:S.targetDate,duration:S.duration,totalQuestions:S.totalQuestions,passingScore:S.passingScore,maxAttempts:S.maxAttempts,createdBy:(e==null?void 0:e.id)||"550e8400-e29b-41d4-a716-446655440010"},E=await vn.createSurvey(P);E.success&&E.data?(r([...t,E.data]),alert("Survey duplicated successfully!")):alert(`Failed to duplicate survey: ${E.message}`)}catch(P){console.error("Failed to duplicate survey:",P),alert("Failed to duplicate survey. Please try again.")}},m=(S,A)=>{A.stopPropagation();const P=new Date(S.targetDate),E=isNaN(P.getTime())?"":P.toISOString().split("T")[0];h(S),b({title:S.title,description:S.description,targetDate:E,duration:S.duration,totalQuestions:S.totalQuestions,passingScore:S.passingScore,maxAttempts:S.maxAttempts}),f(!0)},g=()=>{b({title:"",description:"",targetDate:"",duration:35,totalQuestions:30,passingScore:70,maxAttempts:3}),h(null)},N=t.filter(S=>S.title.toLowerCase().includes(i.toLowerCase())||S.description.toLowerCase().includes(i.toLowerCase()));return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Question Area"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Create and manage your surveys and assessments"})]}),a.jsxs(z,{onClick:()=>c(!0),className:"flex items-center space-x-2",children:[a.jsx(cn,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Survey"})]})]}),a.jsxs(F,{children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(te,{placeholder:"Search surveys...",value:i,onChange:S=>o(S.target.value),className:"pl-10"})]})}),n?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading surveys..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Area"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Questions"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Duration"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Target Date"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Pass Score"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:N.map(S=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:S.title}),a.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:S.description})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${S.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:S.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:S.totalQuestions}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:Ls(S.duration)}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:Te(S.targetDate)}),a.jsxs("td",{className:"py-3 px-4 text-gray-900",children:[S.passingScore,"%"]}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:A=>m(S,A),className:"p-1.5 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Survey",children:a.jsx(Ia,{className:"w-4 h-4"})}),a.jsx("button",{onClick:A=>_(S,A),className:"p-1.5 text-green-600 hover:text-green-700 hover:bg-green-50 rounded-md transition-colors",title:"Duplicate Survey",children:a.jsx(P3,{className:"w-4 h-4"})}),a.jsx("button",{onClick:A=>x(S.id,A),className:`p-1.5 hover:bg-gray-50 rounded-md transition-colors ${S.isActive?"text-orange-600 hover:text-orange-700":"text-green-600 hover:text-green-700"}`,title:S.isActive?"Deactivate Survey":"Activate Survey",children:S.isActive?a.jsx(F3,{className:"w-4 h-4"}):a.jsx(U3,{className:"w-4 h-4"})}),a.jsx("button",{onClick:A=>{A.stopPropagation(),console.log("View details for survey:",S.id)},className:"p-1.5 text-gray-600 hover:text-gray-700 hover:bg-gray-50 rounded-md transition-colors",title:"View Details",children:a.jsx(Ke,{className:"w-4 h-4"})}),a.jsx("button",{onClick:A=>y(S.id,A),className:"p-1.5 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md transition-colors",title:"Delete Survey",children:a.jsx(Mi,{className:"w-4 h-4"})})]})})]},S.id))})]})}),N.length===0&&!n&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Gt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Surveys Found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:i?"No surveys match your search criteria.":"Get started by creating your first survey."}),!i&&a.jsxs(z,{onClick:()=>c(!0),className:"flex items-center space-x-2",children:[a.jsx(cn,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Survey"})]})]})]}),a.jsx(_e,{isOpen:l,onClose:()=>{c(!1),g()},title:"Create New Survey",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{label:"Survey Title",value:p.title,onChange:S=>b({...p,title:S.target.value}),placeholder:"Enter survey title"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:p.description,onChange:S=>b({...p,description:S.target.value}),placeholder:"Enter survey description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(te,{label:"Target Date",type:"date",value:p.targetDate,onChange:S=>b({...p,targetDate:S.target.value})}),a.jsx(te,{label:"Duration (minutes)",type:"number",value:p.duration,onChange:S=>b({...p,duration:parseInt(S.target.value)}),min:"1"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(te,{label:"Total Questions",type:"number",value:p.totalQuestions,onChange:S=>b({...p,totalQuestions:parseInt(S.target.value)}),min:"1"}),a.jsx(te,{label:"Passing Score (%)",type:"number",value:p.passingScore,onChange:S=>b({...p,passingScore:parseInt(S.target.value)}),min:"1",max:"100"}),a.jsx(te,{label:"Max Attempts",type:"number",value:p.maxAttempts,onChange:S=>b({...p,maxAttempts:parseInt(S.target.value)}),min:"1"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{c(!1),g()},children:"Cancel"}),a.jsx(z,{onClick:v,children:"Create Survey"})]})]})}),a.jsx(_e,{isOpen:u,onClose:()=>{f(!1),g()},title:"Edit Survey",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{label:"Survey Title",value:p.title,onChange:S=>b({...p,title:S.target.value}),placeholder:"Enter survey title"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:p.description,onChange:S=>b({...p,description:S.target.value}),placeholder:"Enter survey description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(te,{label:"Target Date",type:"date",value:p.targetDate,onChange:S=>b({...p,targetDate:S.target.value})}),a.jsx(te,{label:"Duration (minutes)",type:"number",value:p.duration,onChange:S=>b({...p,duration:parseInt(S.target.value)}),min:"1"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(te,{label:"Total Questions",type:"number",value:p.totalQuestions,onChange:S=>b({...p,totalQuestions:parseInt(S.target.value)}),min:"1"}),a.jsx(te,{label:"Passing Score (%)",type:"number",value:p.passingScore,onChange:S=>b({...p,passingScore:parseInt(S.target.value)}),min:"1",max:"100"}),a.jsx(te,{label:"Max Attempts",type:"number",value:p.maxAttempts,onChange:S=>b({...p,maxAttempts:parseInt(S.target.value)}),min:"1"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{f(!1),g()},children:"Cancel"}),a.jsx(z,{onClick:j,children:"Update Survey"})]})]})})]})})}function Cae(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,i]=O.useState([]),[o,l]=O.useState(null),[c,u]=O.useState(null),[f,d]=O.useState(null),[h,p]=O.useState(!0),[b,w]=O.useState(!1),[v,j]=O.useState(!1),[y,x]=O.useState(""),[_,m]=O.useState(!1),[g,N]=O.useState(!1),[S,A]=O.useState(!1),[P,E]=O.useState(!1),[k,I]=O.useState(!1),[$,R]=O.useState(!1),[C,U]=O.useState(null),[D,L]=O.useState(null),[q,Q]=O.useState(!1),[H,ee]=O.useState({title:"",description:"",questionsCount:10,order:1}),[K,he]=O.useState({text:"",type:"single_choice",complexity:"medium",points:1,explanation:"",options:["","","",""],correctAnswers:[]});O.useEffect(()=>{Ge()},[]),O.useEffect(()=>{o?$t(o.id):(n([]),u(null),i([]))},[o]),O.useEffect(()=>{c?mt(o.id,c.id):i([])},[c]);const Ge=async()=>{try{p(!0);const M=await vn.getSurveys();t(M.data)}catch(M){console.error("Failed to fetch surveys:",M)}finally{p(!1)}},$t=async M=>{try{w(!0);const Z=await vn.getSurveySections(M);n(Z.data)}catch(Z){console.error("Failed to fetch sections:",Z)}finally{w(!1)}},mt=async(M,Z)=>{try{j(!0);const ye=await Du.getQuestions(M,Z);i(ye.data)}catch(ye){console.error("Failed to fetch questions:",ye)}finally{j(!1)}},J=M=>{l(M),u(null),i([])},de=M=>{u(M)},pe=async()=>{try{const M=await Du.downloadTemplate(),Z=URL.createObjectURL(M),ye=document.createElement("a");ye.href=Z,ye.download="question_template_with_survey_sections.csv",document.body.appendChild(ye),ye.click(),document.body.removeChild(ye),URL.revokeObjectURL(Z)}catch(M){console.error("Failed to download template:",M)}},W=async()=>{if(D)try{Q(!0);const M=await Du.uploadQuestions(o.id,D);if(M.success){const Z=M.data;let ye=`Upload completed!

`;ye+=` Questions added: ${Z.questionsAdded}
`,Z.questionsSkipped>0&&(ye+=` Questions skipped: ${Z.questionsSkipped}
`),Z.errors.length>0&&(ye+=`
Errors encountered:
${Z.errors.slice(0,5).join(`
`)}`,Z.errors.length>5&&(ye+=`
... and ${Z.errors.length-5} more errors`)),alert(ye),m(!1),L(null),o&&$t(o.id),c&&mt(o.id,c.id)}}catch(M){console.error("Failed to upload questions:",M)}finally{Q(!1)}},Le=async()=>{if(C)try{const M=await vn.deleteSection(C.id);M.success?(n(r.filter(Z=>Z.id!==C.id)),R(!1),U(null),(c==null?void 0:c.id)===C.id&&(u(null),i([])),alert("Section deleted successfully!")):alert(`Failed to delete section: ${M.message}`)}catch(M){console.error("Failed to delete section:",M),alert("Failed to delete section. Please try again.")}},ve=(M,Z)=>{Z.stopPropagation(),U(M),R(!0)},Ue=()=>{ee({title:"",description:"",questionsCount:10,order:r.length+1})},ke=()=>{he({text:"",type:"single_choice",complexity:"medium",points:1,explanation:"",options:["","","",""],correctAnswers:[]}),d(null)},St=async()=>{if(o)try{const M=await vn.createSection(o.id,H);M.success&&M.data&&(n([...r,M.data]),N(!1),Ue())}catch(M){console.error("Failed to create section:",M)}},Xt=()=>{ke(),A(!0)},Zt=M=>{d(M),he({text:M.text,type:M.type,complexity:M.complexity,points:M.points,explanation:M.explanation||"",options:M.options.map(Z=>Z.text),correctAnswers:M.options.map((Z,ye)=>Z.isCorrect?ye:-1).filter(Z=>Z!==-1)}),E(!0)},et=M=>{d(M),I(!0)},X=async()=>{if(c){console.log("Adding question to section:",c.id),console.log("Question form data:",K);try{const M={sectionId:c.id,text:K.text,type:K.type,complexity:K.complexity,points:K.points,explanation:K.explanation,options:K.options.map((ye,le)=>({text:ye,isCorrect:K.correctAnswers.includes(le)})),order:s.length+1};console.log("Calling API to create question:",M);const Z=await Du.createQuestion(M);console.log("API response:",Z),Z.success&&Z.data?(i([...s,Z.data]),A(!1),ke(),alert(`Question added successfully! ${Z.message}`)):(console.error("Failed to create question:",Z.message),alert(`Failed to create question: ${Z.message}`))}catch(M){console.error("Failed to create question:",M),alert(`Failed to create question: ${M instanceof Error?M.message:"Unknown error"}. Please try again.`)}}},se=async()=>{if(f)try{const M={text:K.text,type:K.type,complexity:K.complexity,points:K.points,explanation:K.explanation,options:K.options.map((ye,le)=>({text:ye,isCorrect:K.correctAnswers.includes(le),order:le+1}))},Z={...f,...M,options:M.options.map((ye,le)=>{var Cy;return{id:((Cy=f.options[le])==null?void 0:Cy.id)||`opt_${le}`,text:ye.text,isCorrect:ye.isCorrect}})};i(s.map(ye=>ye.id===f.id?Z:ye)),E(!1),ke()}catch(M){console.error("Failed to update question:",M)}},je=async M=>{if(window.confirm("Are you sure you want to delete this question?"))try{i(s.filter(Z=>Z.id!==M))}catch(Z){console.error("Failed to delete question:",Z)}},Ce=M=>{if(K.type==="single_choice")he({...K,correctAnswers:[M]});else{const Z=K.correctAnswers.includes(M)?K.correctAnswers.filter(ye=>ye!==M):[...K.correctAnswers,M];he({...K,correctAnswers:Z})}},gt=(e||[]).filter(M=>M.title.toLowerCase().includes(y.toLowerCase())),ea=M=>{switch(M){case"easy":return"bg-green-100 text-green-800";case"medium":return"bg-yellow-100 text-yellow-800";case"hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},Ko=M=>{switch(M){case"single_choice":return"bg-blue-100 text-blue-800";case"multiple_choice":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Question Bank"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage questions for your surveys and assessments"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(z,{variant:"secondary",onClick:pe,className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"w-4 h-4"}),a.jsx("span",{children:"Download Template"})]}),a.jsxs(z,{onClick:()=>m(!0),disabled:!o,className:"flex items-center space-x-2",children:[a.jsx(hA,{className:"w-4 h-4"}),a.jsx("span",{children:"Upload Questions"})]})]})]}),a.jsx(F,{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(te,{placeholder:"Search surveys...",value:y,onChange:M=>x(M.target.value),className:"pl-10"})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Surveys"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[e.length," surveys"]})]}),a.jsx("div",{className:"h-[500px] overflow-y-auto space-y-2",children:h?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Loading surveys..."})]}):gt.map(M=>a.jsxs("div",{onClick:()=>J(M),className:`p-4 rounded-lg border cursor-pointer transition-colors ${(o==null?void 0:o.id)===M.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:M.title}),a.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:M.description}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:[M.totalQuestions," questions"]}),a.jsx("span",{children:Te(M.targetDate)})]})]},M.id))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:o?`Sections - ${o.title}`:"Sections"}),o&&a.jsxs(z,{size:"sm",onClick:()=>{Ue(),N(!0)},className:"flex items-center space-x-2",children:[a.jsx(cn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Section"})]})]}),a.jsx("div",{className:"h-[calc(100%-80px)] overflow-y-auto space-y-2",children:o?b?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2 text-sm",children:"Loading sections..."})]}):r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(fv,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500 mb-3",children:"No sections found"}),a.jsxs(z,{size:"sm",onClick:()=>{ee({title:"",description:"",questionsCount:10,order:1}),N(!0)},className:"flex items-center space-x-2",children:[a.jsx(cn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add First Section"})]})]}):r.map(M=>a.jsxs("div",{onClick:()=>de(M),className:`group p-4 rounded-lg border cursor-pointer transition-colors ${(c==null?void 0:c.id)===M.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:M.title}),a.jsx("button",{onClick:Z=>ve(M,Z),className:"p-1 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md transition-colors opacity-0 group-hover:opacity-100",title:"Delete Section",children:a.jsx(Mi,{className:"w-4 h-4"})})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:M.description}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:[M.questionsCount," questions"]}),a.jsxs("span",{children:["Order: ",M.order]})]})]},M.id)):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Gt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),a.jsx("p",{className:"text-gray-500",children:"Select a survey to view sections"})]})})]})]}),c&&a.jsxs(F,{className:"mt-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Questions - ",c.title]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[s.length," questions in this section"]})]}),a.jsxs(z,{onClick:Xt,className:"flex items-center space-x-2",children:[a.jsx(cn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Question"})]})]}),v?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading questions..."})]}):s.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Kr,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Questions Yet"}),a.jsx("p",{className:"text-gray-500 mb-4",children:"Start building your assessment by adding questions to this section."}),a.jsxs(z,{onClick:Xt,className:"flex items-center space-x-2",children:[a.jsx(cn,{className:"w-4 h-4"}),a.jsx("span",{children:"Add First Question"})]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsx("div",{className:"max-h-96 overflow-y-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"sticky top-0 bg-gray-50",children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Question"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Type"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Complexity"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Points"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Options"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Order"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:s.map(M=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"max-w-xs",children:[a.jsx("p",{className:"font-medium text-gray-900 line-clamp-2",children:M.text}),M.explanation&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:["Explanation: ",M.explanation]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ko(M.type)}`,children:M.type==="single_choice"?"Single":"Multiple"})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ea(M.complexity)}`,children:M.complexity.charAt(0).toUpperCase()+M.complexity.slice(1)})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"font-medium text-gray-900",children:M.points})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"max-w-xs",children:[M.options.slice(0,2).map((Z,ye)=>a.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[a.jsxs("span",{className:"font-medium text-gray-600",children:[String.fromCharCode(65+ye),":"]}),a.jsx("span",{className:`${Z.isCorrect?"text-green-600 font-medium":"text-gray-700"}`,children:Z.text.length>30?`${Z.text.substring(0,30)}...`:Z.text}),Z.isCorrect&&a.jsx(ct,{className:"w-3 h-3 text-green-600"})]},ye)),M.options.length>2&&a.jsxs("span",{className:"text-xs text-gray-500",children:["+",M.options.length-2," more"]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-gray-900",children:M.order})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>et(M),className:"p-1.5 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md transition-colors",title:"View Details",children:a.jsx(Ke,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>Zt(M),className:"p-1.5 text-green-600 hover:text-green-700 hover:bg-green-50 rounded-md transition-colors",title:"Edit Question",children:a.jsx(Ia,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>je(M.id),className:"p-1.5 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md transition-colors",title:"Delete Question",children:a.jsx(Mi,{className:"w-4 h-4"})})]})})]},M.id))})]})})})]}),a.jsx(_e,{isOpen:_,onClose:()=>{m(!1),L(null)},title:"Upload Questions",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Upload Instructions"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:" Download the template first to see the required format"}),a.jsx("li",{children:" Include Survey ID, Survey Title, Section ID, Section Title for proper mapping"}),a.jsx("li",{children:" Questions will be automatically assigned to the correct surveys and sections"}),a.jsx("li",{children:" Supported file format: CSV only"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select CSV File"}),a.jsx("input",{type:"file",accept:".csv",onChange:M=>{var Z;return L(((Z=M.target.files)==null?void 0:Z[0])||null)},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),D&&a.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[a.jsxs("p",{className:"text-sm text-gray-700",children:[a.jsx("span",{className:"font-medium",children:"Selected file:"})," ",D.name]}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Size: ",(D.size/1024).toFixed(2)," KB"]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{m(!1),L(null)},children:"Cancel"}),a.jsx(z,{onClick:W,disabled:!D||q,loading:q,children:"Upload Questions"})]})]})}),a.jsx(_e,{isOpen:g,onClose:()=>{N(!1),Ue()},title:"Add New Section",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(te,{label:"Section Title",value:H.title,onChange:M=>ee({...H,title:M.target.value}),placeholder:"Enter section title"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:H.description,onChange:M=>ee({...H,description:M.target.value}),placeholder:"Enter section description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(te,{label:"Questions Count",type:"number",value:H.questionsCount,onChange:M=>ee({...H,questionsCount:parseInt(M.target.value)}),min:"1"}),a.jsx(te,{label:"Section Order",type:"number",value:H.order,onChange:M=>ee({...H,order:parseInt(M.target.value)}),min:"1"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{N(!1),Ue()},children:"Cancel"}),a.jsx(z,{onClick:St,children:"Add Section"})]})]})}),a.jsx(_e,{isOpen:S,onClose:()=>{A(!1),ke()},title:`Add Question to ${c==null?void 0:c.title}`,size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Text"}),a.jsx("textarea",{value:K.text,onChange:M=>he({...K,text:M.target.value}),placeholder:"Enter your question here...",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Type"}),a.jsxs("select",{value:K.type,onChange:M=>he({...K,type:M.target.value,correctAnswers:[]}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"single_choice",children:"Single Choice"}),a.jsx("option",{value:"multiple_choice",children:"Multiple Choice"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complexity"}),a.jsxs("select",{value:K.complexity,onChange:M=>he({...K,complexity:M.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]}),a.jsx(te,{label:"Points",type:"number",value:K.points,onChange:M=>he({...K,points:parseInt(M.target.value)}),min:"1"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Answer Options ",K.type==="single_choice"?"(Select one correct answer)":"(Select multiple correct answers)"]}),a.jsx("div",{className:"space-y-3",children:K.options.map((M,Z)=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex items-center",children:K.type==="single_choice"?a.jsx("input",{type:"radio",name:"correctAnswer",checked:K.correctAnswers.includes(Z),onChange:()=>Ce(Z),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}):a.jsx("input",{type:"checkbox",checked:K.correctAnswers.includes(Z),onChange:()=>Ce(Z),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),a.jsxs("span",{className:"text-sm font-medium text-gray-700 w-8",children:[String.fromCharCode(65+Z),":"]}),a.jsx(te,{value:M,onChange:ye=>{const le=[...K.options];le[Z]=ye.target.value,he({...K,options:le})},placeholder:`Option ${String.fromCharCode(65+Z)}`,className:"flex-1"})]},Z))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Explanation (Optional)"}),a.jsx("textarea",{value:K.explanation,onChange:M=>he({...K,explanation:M.target.value}),placeholder:"Provide an explanation for the correct answer...",rows:2,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{A(!1),ke()},children:"Cancel"}),a.jsx(z,{onClick:X,disabled:!K.text.trim()||K.correctAnswers.length===0,children:"Add Question"})]})]})}),a.jsx(_e,{isOpen:P,onClose:()=>{E(!1),ke()},title:"Edit Question",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Text"}),a.jsx("textarea",{value:K.text,onChange:M=>he({...K,text:M.target.value}),placeholder:"Enter your question here...",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Type"}),a.jsxs("select",{value:K.type,onChange:M=>he({...K,type:M.target.value,correctAnswers:[]}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"single_choice",children:"Single Choice"}),a.jsx("option",{value:"multiple_choice",children:"Multiple Choice"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complexity"}),a.jsxs("select",{value:K.complexity,onChange:M=>he({...K,complexity:M.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]}),a.jsx(te,{label:"Points",type:"number",value:K.points,onChange:M=>he({...K,points:parseInt(M.target.value)}),min:"1"})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["Answer Options ",K.type==="single_choice"?"(Select one correct answer)":"(Select multiple correct answers)"]}),a.jsx("div",{className:"space-y-3",children:K.options.map((M,Z)=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"flex items-center",children:K.type==="single_choice"?a.jsx("input",{type:"radio",name:"correctAnswer",checked:K.correctAnswers.includes(Z),onChange:()=>Ce(Z),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}):a.jsx("input",{type:"checkbox",checked:K.correctAnswers.includes(Z),onChange:()=>Ce(Z),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}),a.jsxs("span",{className:"text-sm font-medium text-gray-700 w-8",children:[String.fromCharCode(65+Z),":"]}),a.jsx(te,{value:M,onChange:ye=>{const le=[...K.options];le[Z]=ye.target.value,he({...K,options:le})},placeholder:`Option ${String.fromCharCode(65+Z)}`,className:"flex-1"})]},Z))})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Explanation (Optional)"}),a.jsx("textarea",{value:K.explanation,onChange:M=>he({...K,explanation:M.target.value}),placeholder:"Provide an explanation for the correct answer...",rows:2,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{E(!1),ke()},children:"Cancel"}),a.jsx(z,{onClick:se,disabled:!K.text.trim()||K.correctAnswers.length===0,children:"Update Question"})]})]})}),a.jsx(_e,{isOpen:k,onClose:()=>{I(!1),d(null)},title:"Question Details",size:"lg",children:f&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Question"}),a.jsx("p",{className:"text-gray-700",children:f.text})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Type"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${Ko(f.type)}`,children:f.type==="single_choice"?"Single Choice":"Multiple Choice"})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Complexity"}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${ea(f.complexity)}`,children:f.complexity.charAt(0).toUpperCase()+f.complexity.slice(1)})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-1",children:"Points"}),a.jsx("span",{className:"text-lg font-semibold text-blue-600",children:f.points})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-3",children:"Answer Options"}),a.jsx("div",{className:"space-y-2",children:f.options.map((M,Z)=>a.jsxs("div",{className:`flex items-center space-x-3 p-3 rounded-lg ${M.isCorrect?"bg-green-50 border border-green-200":"bg-gray-50"}`,children:[a.jsxs("span",{className:"font-medium text-gray-700 w-8",children:[String.fromCharCode(65+Z),":"]}),a.jsx("span",{className:`flex-1 ${M.isCorrect?"text-green-800 font-medium":"text-gray-700"}`,children:M.text}),M.isCorrect&&a.jsx(ct,{className:"w-5 h-5 text-green-600"})]},Z))})]}),f.explanation&&a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Explanation"}),a.jsx("p",{className:"text-gray-700 bg-blue-50 p-3 rounded-lg",children:f.explanation})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{I(!1),d(null)},children:"Close"}),a.jsxs(z,{onClick:()=>{I(!1),Zt(f)},className:"flex items-center space-x-2",children:[a.jsx(Ia,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit Question"})]})]})]})}),a.jsx(_e,{isOpen:$,onClose:()=>{R(!1),U(null)},title:"Delete Section",children:C&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(Kt,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Delete Section?"}),a.jsxs("p",{className:"text-gray-600 mb-4",children:['Are you sure you want to delete the section "',C.title,'"? This will also delete all questions in this section. This action cannot be undone.']})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-red-900 mb-2",children:"This will delete:"}),a.jsxs("ul",{className:"text-sm text-red-800 space-y-1",children:[a.jsxs("li",{children:[' The section "',C.title,'"']}),a.jsxs("li",{children:[" All ",C.questionsCount," questions in this section"]}),a.jsx("li",{children:" All answer options for these questions"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{R(!1),U(null)},children:"Cancel"}),a.jsxs(z,{variant:"danger",onClick:Le,className:"flex items-center space-x-2",children:[a.jsx(Mi,{className:"w-4 h-4"}),a.jsx("span",{children:"Delete Section"})]})]})]})})]})})}function Tae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(""),[c,u]=O.useState(null),[f,d]=O.useState(!1),[h,p]=O.useState(!1),[b,w]=O.useState({dateRange:{start:new Date(Date.now()-30*24*60*60*1e3),end:new Date}});O.useEffect(()=>{v(),j()},[b]);const v=async()=>{try{i(!0);const g=await Yp.getResults(b);t(g.data)}catch(g){console.error("Failed to fetch results:",g)}finally{i(!1)}},j=async()=>{try{const g=await Yp.getAnalytics(b);n(g.data)}catch(g){console.error("Failed to fetch analytics:",g)}},y=async()=>{try{const g=await Yp.exportResults(b),N=new Blob([g.data],{type:"text/csv"}),S=URL.createObjectURL(N),A=document.createElement("a");A.href=S,A.download=`results_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(A),A.click(),document.body.removeChild(A),URL.revokeObjectURL(S)}catch(g){console.error("Failed to export results:",g)}},x=g=>{u(g),d(!0)},_=e.filter(g=>g.user.name.toLowerCase().includes(o.toLowerCase())||g.survey.title.toLowerCase().includes(o.toLowerCase())||g.user.email.toLowerCase().includes(o.toLowerCase())),m=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Results & Analytics"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive test results and performance analytics"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(z,{variant:"secondary",onClick:()=>p(!0),className:"flex items-center space-x-2",children:[a.jsx($a,{className:"w-4 h-4"}),a.jsx("span",{children:"Filters"})]}),a.jsxs(z,{onClick:y,className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"w-4 h-4"}),a.jsx("span",{children:"Download"})]})]})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Attempts"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.overview.totalAttempts})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(qr,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[r.overview.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Kr,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[r.overview.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Oe,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg. Time"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:Ls(r.overview.averageTime)})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(sr,{className:"w-6 h-6 text-purple-600"})})]})})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance by Role"}),a.jsx("div",{className:"h-64",children:a.jsx(Rt,{width:"100%",height:"100%",children:a.jsxs(Za,{data:r.performanceByRole,children:[a.jsx(kr,{strokeDasharray:"3 3"}),a.jsx(Qt,{dataKey:"name"}),a.jsx(Yt,{}),a.jsx(We,{formatter:g=>[`${g}%`,"Pass Rate"]}),a.jsx(Ct,{dataKey:"percentage",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]}),a.jsxs(F,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance by Question Area"}),a.jsx("div",{className:"h-64",children:a.jsx(Rt,{width:"100%",height:"100%",children:a.jsxs(du,{children:[a.jsx($r,{data:r.performanceBySurvey,cx:"50%",cy:"50%",labelLine:!1,label:({name:g,percentage:N})=>`${g}: ${N}%`,outerRadius:80,fill:"#8884d8",dataKey:"percentage",children:r.performanceBySurvey.map((g,N)=>a.jsx(Ys,{fill:m[N%m.length]},`cell-${N}`))}),a.jsx(We,{})]})})})]})]}),r&&r.timeSeriesData.length>0&&a.jsxs(F,{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(Rt,{width:"100%",height:"100%",children:a.jsxs(uu,{data:r.timeSeriesData,children:[a.jsx(kr,{strokeDasharray:"3 3"}),a.jsx(Qt,{dataKey:"date"}),a.jsx(Yt,{}),a.jsx(We,{}),a.jsx(ar,{type:"monotone",dataKey:"attempts",stroke:"#3B82F6",name:"Attempts"}),a.jsx(ar,{type:"monotone",dataKey:"passed",stroke:"#10B981",name:"Passed"}),a.jsx(ar,{type:"monotone",dataKey:"averageScore",stroke:"#F59E0B",name:"Avg Score"})]})})})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performers"}),a.jsx(Po,{className:"w-5 h-5 text-green-600"})]}),a.jsx("div",{className:"space-y-3",children:r.topPerformers.map((g,N)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:N+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.userName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[g.totalAttempts," attempts"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:[g.averageScore.toFixed(1),"%"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[g.passRate.toFixed(1),"% pass rate"]})]})]},g.userId))})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Needs Improvement"}),a.jsx(mv,{className:"w-5 h-5 text-red-600"})]}),a.jsx("div",{className:"space-y-3",children:r.lowPerformers.map((g,N)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:N+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.userName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[g.totalAttempts," attempts"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-red-600",children:[g.averageScore.toFixed(1),"%"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[g.passRate.toFixed(1),"% pass rate"]})]})]},g.userId))})]})]}),a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Test Results"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(te,{placeholder:"Search results...",value:o,onChange:g=>l(g.target.value),className:"pl-10 w-64"})]})]}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading results..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Question Area"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Score"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Attempt"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Time Spent"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Completed"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:_.map(g=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:g.user.email})]})}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.survey.title}),a.jsx("p",{className:"text-sm text-gray-500",children:g.user.role.name})]}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:`text-lg font-bold ${As(g.score)}`,children:[g.score,"%"]}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",g.correctAnswers,"/",g.totalQuestions,")"]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${g.isPassed?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:g.isPassed?"Passed":"Failed"})}),a.jsxs("td",{className:"py-3 px-4 text-gray-900",children:[g.attemptNumber,"/",g.survey.maxAttempts]}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:Ls(Math.floor(g.timeSpent/60))}),a.jsx("td",{className:"py-3 px-4 text-gray-500 text-sm",children:Er(g.completedAt)}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>x(g),className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(Ke,{className:"w-4 h-4"})}),g.certificateId&&a.jsx("button",{className:"p-1 text-green-600 hover:text-green-700",children:a.jsx(Oe,{className:"w-4 h-4"})})]})})]},g.id))})]})})]}),a.jsx(_e,{isOpen:f,onClose:()=>d(!1),title:"Test Result Details",size:"xl",children:c&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"User Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",c.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",c.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",c.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",c.user.jurisdiction||"N/A"]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Survey:"})," ",c.survey.title]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempt:"})," ",c.attemptNumber,"/",c.survey.maxAttempts]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Time Spent:"})," ",Ls(Math.floor(c.timeSpent/60))]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"})," ",Er(c.completedAt)]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Overall Performance"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[c.score,"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Overall Score"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.correctAnswers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Correct Answers"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:c.totalQuestions-c.correctAnswers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Incorrect Answers"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:c.grade||"N/A"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Grade"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Section-wise Performance"}),a.jsx("div",{className:"space-y-3",children:c.sectionScores.map(g=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:g.sectionTitle}),a.jsxs("span",{className:`font-bold ${As(g.score)}`,children:[g.score,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:[g.correctAnswers,"/",g.totalQuestions," correct"]}),a.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${g.score}%`}})})]})]},g.sectionId))})]})]})}),a.jsx(_e,{isOpen:h,onClose:()=>p(!1),title:"Filter Results",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(te,{label:"Start Date",type:"date",value:b.dateRange.start.toISOString().split("T")[0],onChange:g=>w({...b,dateRange:{...b.dateRange,start:new Date(g.target.value)}})}),a.jsx(te,{label:"End Date",type:"date",value:b.dateRange.end.toISOString().split("T")[0],onChange:g=>w({...b,dateRange:{...b.dateRange,end:new Date(g.target.value)}})})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>p(!1),children:"Cancel"}),a.jsx(z,{onClick:()=>{p(!1),v(),j()},children:"Apply Filters"})]})]})})]})})}function $ae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(""),[o,l]=O.useState(null),[c,u]=O.useState(!1),[f,d]=O.useState("all");O.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const y=await _3.getEnumeratorStatus();t(y.data)}catch(y){console.error("Failed to fetch enumerator status:",y)}finally{n(!1)}},p=y=>{switch(y){case"completed":return a.jsx(ct,{className:"w-4 h-4 text-green-600"});case"in_progress":return a.jsx(sr,{className:"w-4 h-4 text-yellow-600"});case"failed":return a.jsx(Ld,{className:"w-4 h-4 text-red-600"});case"expired":return a.jsx(Kt,{className:"w-4 h-4 text-orange-600"});default:return a.jsx(sr,{className:"w-4 h-4 text-gray-600"})}},b=y=>{switch(y){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"expired":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},w=y=>{const x=y.surveys.length,_=y.surveys.filter(N=>N.status==="completed").length,m=y.surveys.filter(N=>N.status==="failed").length,g=y.surveys.filter(N=>N.status==="expired").length;return _===x?"excellent":m>0||g>0?"needs_attention":_>x/2?"good":"poor"},v=y=>{l(y),u(!0)},j=e.filter(y=>{const x=y.user.name.toLowerCase().includes(s.toLowerCase())||y.user.email.toLowerCase().includes(s.toLowerCase());if(f==="all")return x;const _=w(y);return x&&_===f});return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Candidate Status"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Track examination progress and performance of all candidates"})]})}),a.jsx(F,{className:"mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Candidates"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(te,{placeholder:"Search enumerators...",value:s,onChange:y=>i(y.target.value),className:"pl-10 w-64"})]})]}),a.jsx("div",{children:a.jsxs("select",{value:f,onChange:y=>d(y.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"good",children:"Good"}),a.jsx("option",{value:"needs_attention",children:"Needs Attention"}),a.jsx("option",{value:"poor",children:"Poor"})]})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Candidates"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(qs,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed All"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.filter(y=>w(y)==="excellent").length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ct,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Need Attention"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:e.filter(y=>w(y)==="needs_attention").length})]}),a.jsx("div",{className:"p-3 rounded-full bg-orange-100",children:a.jsx(Kt,{className:"w-6 h-6 text-orange-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.reduce((y,x)=>y+x.totalCertificates,0)})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Oe,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsx(F,{children:r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading enumerator status..."})]}):a.jsx("div",{className:"space-y-4",children:j.map(y=>{const x=w(y),_=y.surveys.filter(g=>g.status==="completed").length,m=y.surveys.length;return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(qs,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:y.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:y.user.email}),a.jsx("p",{className:"text-sm text-gray-500",children:y.user.jurisdiction||"No jurisdiction"})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[y.overallProgress,"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[_,"/",m]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:y.totalCertificates}),a.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${x==="excellent"?"bg-green-100 text-green-800":x==="good"?"bg-blue-100 text-blue-800":x==="needs_attention"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:x==="excellent"?"Excellent":x==="good"?"Good":x==="needs_attention"?"Needs Attention":"Poor"})}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>v(y),className:"flex items-center space-x-2",children:[a.jsx(Ke,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[y.overallProgress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${y.overallProgress}%`}})})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[y.surveys.slice(0,3).map(g=>a.jsxs("div",{className:"flex items-center space-x-2",children:[p(g.status),a.jsx("span",{className:"text-sm text-gray-600",children:g.surveyTitle})]},g.surveyId)),y.surveys.length>3&&a.jsxs("span",{className:"text-sm text-gray-500",children:["+",y.surveys.length-3," more"]})]})]},y.id)})})}),a.jsx(_e,{isOpen:c,onClose:()=>u(!1),title:"Enumerator Details",size:"xl",children:o&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",o.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",o.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",o.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",o.user.jurisdiction||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Last Activity:"})," ",Er(o.lastActivity)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Performance Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[o.overallProgress,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Overall Progress"})]}),a.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-purple-600",children:o.totalCertificates}),a.jsx("p",{className:"text-xs text-gray-600",children:"Certificates"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Survey Status"}),a.jsx("div",{className:"space-y-3",children:o.surveys.map(y=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[p(y.status),a.jsx("h5",{className:"font-medium text-gray-900",children:y.surveyTitle})]}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${b(y.status)}`,children:y.status.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Attempts"}),a.jsxs("p",{className:"font-medium",children:[y.attempts,"/",y.maxAttempts]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:y.bestScore?`${y.bestScore}%`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Target Date"}),a.jsx("p",{className:"font-medium",children:Te(y.targetDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Last Attempt"}),a.jsx("p",{className:"font-medium",children:y.lastAttempt?Te(y.lastAttempt):"Never"})]})]}),y.certificateId&&a.jsxs("div",{className:"mt-3 flex items-center space-x-2 text-green-600",children:[a.jsx(Oe,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]})]},y.surveyId))})]})]})})]})})}function Dae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(""),[o,l]=O.useState(null),[c,u]=O.useState(!1),[f,d]=O.useState("all"),[h,p]=O.useState("all");O.useEffect(()=>{b()},[]);const b=async()=>{try{n(!0);const S=await ld.getCertificates();t(S.data)}catch(S){console.error("Failed to fetch certificates:",S)}finally{n(!1)}},w=async S=>{try{const A=await ld.downloadCertificate(S),P=new Blob([A.data],{type:"application/pdf"}),E=URL.createObjectURL(P),k=document.createElement("a");k.href=E,k.download=`certificate_${S}.pdf`,document.body.appendChild(k),k.click(),document.body.removeChild(k),URL.revokeObjectURL(E),t(e.map(I=>I.id===S?{...I,downloadCount:I.downloadCount+1}:I))}catch(A){console.error("Failed to download certificate:",A)}},v=async S=>{if(window.confirm("Are you sure you want to revoke this certificate? This action cannot be undone."))try{(await ld.revokeCertificate(S)).success&&t(e.map(P=>P.id===S?{...P,status:"revoked"}:P))}catch(A){console.error("Failed to revoke certificate:",A)}},j=S=>{l(S),u(!0)},y=S=>{switch(S){case"active":return"bg-green-100 text-green-800";case"revoked":return"bg-red-100 text-red-800";case"expired":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},x=e.filter(S=>{const A=S.user.name.toLowerCase().includes(s.toLowerCase())||S.survey.title.toLowerCase().includes(s.toLowerCase())||S.certificateNumber.toLowerCase().includes(s.toLowerCase()),P=f==="all"||S.status===f;let E=!0;if(h!=="all"){const k=new Date,I=new Date(S.issuedAt);switch(h){case"today":E=I.toDateString()===k.toDateString();break;case"week":const $=new Date(k.getTime()-7*24*60*60*1e3);E=I>=$;break;case"month":const R=new Date(k.getTime()-30*24*60*60*1e3);E=I>=R;break}}return A&&P&&E}),_=e.length,m=e.filter(S=>S.status==="active").length,g=e.filter(S=>S.status==="revoked").length,N=e.reduce((S,A)=>S+A.downloadCount,0);return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Certificate Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and track all issued certificates"})]}),a.jsxs(z,{onClick:b,className:"flex items-center space-x-2",children:[a.jsx(cd,{className:"w-4 h-4"}),a.jsx("span",{children:"Refresh"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:_})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Oe,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:m})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Gt,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Revoked"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:g})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(cd,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Downloads"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:N})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Et,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(te,{placeholder:"Search certificates...",value:s,onChange:S=>i(S.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:f,onChange:S=>d(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"revoked",children:"Revoked"}),a.jsx("option",{value:"expired",children:"Expired"})]}),a.jsxs("select",{value:h,onChange:S=>p(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"})]})]})})}),a.jsx(F,{children:r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading certificates..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Certificate"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Survey"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Issued"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Downloads"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:x.map(S=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx(Oe,{className:"w-5 h-5 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:S.certificateNumber}),a.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",S.id]})]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:S.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:S.user.email})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:S.survey.title}),a.jsx("p",{className:"text-sm text-gray-500",children:S.user.role.name})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${y(S.status)}`,children:S.status.charAt(0).toUpperCase()+S.status.slice(1)})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-900",children:Te(S.issuedAt)}),a.jsx("p",{className:"text-xs text-gray-500",children:Er(S.issuedAt)})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-sm font-medium text-gray-900",children:S.downloadCount})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>j(S),className:"p-1 text-blue-600 hover:text-blue-700",title:"Preview Certificate",children:a.jsx(Ke,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>w(S.id),className:"p-1 text-green-600 hover:text-green-700",title:"Download Certificate",disabled:S.status==="revoked",children:a.jsx(Et,{className:"w-4 h-4"})}),S.status==="active"&&a.jsx("button",{onClick:()=>v(S.id),className:"p-1 text-red-600 hover:text-red-700",title:"Revoke Certificate",children:a.jsx(cd,{className:"w-4 h-4"})})]})})]},S.id))})]})})}),a.jsx(_e,{isOpen:c,onClose:()=>u(!1),title:"Certificate Preview",size:"xl",children:o&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 p-8 rounded-lg border-2 border-blue-200",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Oe,{className:"w-8 h-8 text-white"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Certificate of Completion"}),a.jsx("p",{className:"text-lg text-gray-600",children:"eSigma Survey Platform"})]}),a.jsxs("div",{className:"py-6",children:[a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"This is to certify that"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-600 mb-2",children:o.user.name}),a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"has successfully completed"}),a.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:o.survey.title})]}),a.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-blue-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Certificate Number"}),a.jsx("p",{className:"font-mono text-sm font-medium",children:o.certificateNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Date Issued"}),a.jsx("p",{className:"text-sm font-medium",children:Te(o.issuedAt)})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Certificate Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Number:"})," ",o.certificateNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${y(o.status)}`,children:o.status.charAt(0).toUpperCase()+o.status.slice(1)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Er(o.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Downloads:"})," ",o.downloadCount]}),o.validUntil&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Valid Until:"})," ",Te(o.validUntil)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Recipient Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",o.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",o.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",o.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",o.user.jurisdiction||"N/A"]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>u(!1),children:"Close"}),a.jsxs(z,{onClick:()=>w(o.id),disabled:o.status==="revoked",className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"w-4 h-4"}),a.jsx("span",{children:"Download PDF"})]})]})]})})]})})}function Iae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(null),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState(!1);O.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const x=await ow.getSettings();x.success&&x.data&&t(x.data)}catch(x){console.error("Failed to fetch settings:",x)}finally{n(!1)}},p=async()=>{if(s)try{(await ow.updateSetting(s.id,c)).success&&(t(e.map(_=>_.id===s.id?{..._,value:c,updatedAt:new Date}:_)),l(!1),i(null),u(""),d(!0))}catch(x){console.error("Failed to update setting:",x)}},b=x=>{i(x),u(x.value),l(!0)},w=x=>{switch(x.toLowerCase()){case"general":return a.jsx(k3,{className:"w-5 h-5 text-purple-600"});case"test":return a.jsx(sr,{className:"w-5 h-5 text-yellow-600"});case"security":return a.jsx(Da,{className:"w-5 h-5 text-red-600"});default:return a.jsx(eu,{className:"w-5 h-5 text-gray-600"})}},v=e.reduce((x,_)=>(x[_.category]||(x[_.category]=[]),x[_.category].push(_),x),{}),j=x=>{switch(x.type){case"boolean":return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x.value==="true"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:x.value==="true"?"Enabled":"Disabled"});case"number":return a.jsx("span",{className:"font-mono text-sm font-medium text-blue-600",children:x.value});case"color":return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:x.value}}),a.jsx("span",{className:"font-mono text-sm",children:x.value})]});case"json":return a.jsx("span",{className:"font-mono text-xs text-gray-600 truncate",children:x.value});default:return a.jsx("span",{className:"text-sm font-medium",children:x.value})}},y=()=>{if(!s)return null;switch(s.type){case"boolean":return a.jsxs("select",{value:c,onChange:_=>u(_.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]});case"number":return a.jsx(te,{type:"number",value:c,onChange:_=>u(_.target.value),placeholder:"Enter number value"});case"color":return a.jsxs("div",{className:"space-y-2",children:[a.jsx(te,{type:"color",value:c,onChange:_=>u(_.target.value),className:"h-12"}),a.jsx(te,{type:"text",value:c,onChange:_=>u(_.target.value),placeholder:"Enter hex color code"})]});case"email":return a.jsx(te,{type:"email",value:c,onChange:_=>u(_.target.value),placeholder:"Enter email address"});case"url":return a.jsx(te,{type:"url",value:c,onChange:_=>u(_.target.value),placeholder:"Enter URL"});case"select":const x=s.options||[];return a.jsx("select",{value:c,onChange:_=>u(_.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:x.map(_=>a.jsx("option",{value:_,children:_},_))});case"json":return a.jsx("textarea",{value:c,onChange:_=>u(_.target.value),placeholder:"Enter JSON value",rows:6,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"});default:return a.jsx(te,{value:c,onChange:_=>u(_.target.value),placeholder:"Enter value"})}};return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Settings"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Configure system-wide settings and preferences"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[f&&a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx(Rd,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Changes saved"})]}),a.jsxs(z,{variant:"secondary",onClick:h,className:"flex items-center space-x-2",children:[a.jsx(cd,{className:"w-4 h-4"}),a.jsx("span",{children:"Refresh"})]})]})]}),r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading settings..."})]}):a.jsx("div",{className:"space-y-8",children:Object.entries(v).map(([x,_])=>a.jsxs(F,{children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[w(x),a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 capitalize",children:[x," Settings"]})]}),a.jsx("div",{className:"space-y-4",children:_.map(m=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:m.key}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${m.type==="boolean"?"bg-green-100 text-green-700":m.type==="number"?"bg-blue-100 text-blue-700":m.type==="color"?"bg-purple-100 text-purple-700":m.type==="email"?"bg-teal-100 text-teal-700":m.type==="url"?"bg-indigo-100 text-indigo-700":m.type==="json"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:m.type}),!m.isEditable&&a.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-xs rounded-full font-medium",children:"Read Only"})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:m.description}),a.jsx("div",{className:"mt-2",children:j(m)}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Last updated: ",Er(m.updatedAt),m.updatedBy&&` by ${m.updatedBy}`]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:m.isEditable?a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>b(m),className:"flex items-center space-x-2",children:[a.jsx(Ia,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit"})]}):a.jsx("span",{className:"text-xs text-gray-500 px-3 py-1 bg-gray-100 rounded-full",children:"Read Only"})})]},m.id))})]},x))}),a.jsx(_e,{isOpen:o,onClose:()=>{l(!1),i(null),u("")},title:"Edit Setting",children:s&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s.key}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description}),a.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:s.type}),a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-600 text-xs rounded-full",children:s.category})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Value"}),a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:j(s)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Value"}),y()]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{l(!1),i(null),u("")},children:"Cancel"}),a.jsx(z,{onClick:p,disabled:c===s.value,children:"Update Setting"})]})]})})]})})}function Mae(){const e=To(),[t,r]=O.useState([]),[n,s]=O.useState(null),[i,o]=O.useState(!0),[l,c]=O.useState(!1),[u,f]=O.useState(!1),[d,h]=O.useState(""),[p,b]=O.useState("all");O.useEffect(()=>{w()},[]);const w=async()=>{try{o(!0);const g=await Zc.getDashboardData();g.success&&g.data&&r(g.data.availableTests)}catch(g){console.error("Failed to fetch available tests:",g)}finally{o(!1)}},v=async g=>{try{f(!0);const N=t.find(P=>P.surveyId===g);if(!N||!N.isEligible||N.attemptsLeft===0){alert(`You are not eligible to take this test or have no attempts remaining. Attempts left: ${(N==null?void 0:N.attemptsLeft)||0}`);return}const S=await tn.createTestSession(g);if(!S.success||!S.data){alert(`Failed to start test: ${S.message}`);return}const A=S.data.id;e(`/test/${A}`)}catch(N){console.error("Failed to start test:",N),alert(`Failed to start test: ${N instanceof Error?N.message:"Please try again."}`)}finally{f(!1),c(!1)}},j=g=>{s(g),c(!0)},y=g=>g.isEligible?g.attemptsLeft===0?"bg-red-100 text-red-800":Math.ceil((new Date(g.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24))<=3?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",x=g=>{if(!g.isEligible)return"Not Eligible";if(g.attemptsLeft===0)return"No Attempts Left";const N=Math.ceil((new Date(g.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));return N<=0?"Overdue":N<=3?`${N} days left`:"Available"},_=t.filter(g=>{const N=g.title.toLowerCase().includes(d.toLowerCase())||g.description.toLowerCase().includes(d.toLowerCase());if(p==="all")return N;const S=Math.ceil((new Date(g.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));switch(p){case"urgent":return N&&S<=3&&S>0;case"available":return N&&g.isEligible&&g.attemptsLeft>0;case"overdue":return N&&S<=0;default:return N}}),m=t.filter(g=>{const N=Math.ceil((new Date(g.targetDate).getTime()-new Date().getTime())/864e5);return N<=3&&N>0});return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Available Tests"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View and start your assigned tests"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(sc,{className:"w-4 h-4"}),a.jsx("span",{children:"Study Materials"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tests"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Gt,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.filter(g=>g.isEligible&&g.attemptsLeft>0).length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ct,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Urgent"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:m.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-orange-100",children:a.jsx(Kt,{className:"w-6 h-6 text-orange-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:t.filter(g=>Math.ceil((new Date(g.targetDate).getTime()-new Date().getTime())/864e5)<=0).length})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(sr,{className:"w-6 h-6 text-red-600"})})]})})]}),m.length>0&&a.jsxs(F,{className:"mb-8 border-l-4 border-orange-500 bg-orange-50",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(Kt,{className:"w-6 h-6 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Urgent: Tests Due Soon"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:m.map(g=>a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:g.title}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[a.jsx(bn,{className:"w-4 h-4 inline mr-1"}),"Due: ",Te(g.targetDate)]}),a.jsxs("p",{className:"font-medium text-orange-600",children:[Math.ceil((new Date(g.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24))," days left"]})]}),a.jsxs(z,{onClick:()=>v(g.surveyId),disabled:!g.isEligible||g.attemptsLeft===0,size:"sm",className:"w-full mt-3",children:[a.jsx(Sa,{className:"w-4 h-4 mr-2"}),"Start Test"]})]},g.surveyId))})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(te,{placeholder:"Search tests...",value:d,onChange:g=>h(g.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:p,onChange:g=>b(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Tests"}),a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"urgent",children:"Urgent (Due Soon)"}),a.jsx("option",{value:"overdue",children:"Overdue"})]})]})})}),a.jsx(F,{children:i?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading tests..."})]}):a.jsx("div",{className:"space-y-4",children:_.map(g=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:g.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:g.description}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(bn,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Due: ",Te(g.targetDate)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(sr,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Duration: ",Ls(g.duration)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Gt,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:[g.totalQuestions," Questions"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Kr,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Pass: ",g.passingScore,"%"]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${y(g)}`,children:x(g)}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[g.attemptsLeft,"/",g.maxAttempts," attempts left"]})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(z,{onClick:()=>j(g),variant:"secondary",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(Ke,{className:"w-4 h-4"}),a.jsx("span",{children:"Details"})]}),a.jsxs(z,{onClick:()=>v(g.surveyId),disabled:!g.isEligible||g.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===g.surveyId,size:"sm",className:"flex items-center space-x-2",children:[a.jsx(Sa,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})]})},g.surveyId))})}),a.jsx(_e,{isOpen:l,onClose:()=>c(!1),title:`Test Details: ${n==null?void 0:n.title}`,size:"lg",children:n&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),a.jsx("p",{className:"text-gray-600",children:n.description})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Duration:"})," ",Ls(n.duration)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Questions:"})," ",n.totalQuestions]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Passing Score:"})," ",n.passingScore,"%"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Target Date:"})," ",Te(n.targetDate)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Attempt Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempts Left:"})," ",n.attemptsLeft,"/",n.maxAttempts]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Eligibility:"}),a.jsx("span",{className:`ml-2 ${n.isEligible?"text-green-600":"text-red-600"}`,children:n.isEligible?"Eligible":"Not Eligible"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>c(!1),children:"Close"}),a.jsxs(z,{onClick:()=>{v(n.surveyId)},disabled:!n.isEligible||n.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===n.surveyId,className:"flex items-center space-x-2",children:[a.jsx(Sa,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})})]})})}function Rae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState("all"),[h,p]=O.useState(!1),[b,w]=O.useState(""),[v,j]=O.useState(!1);O.useEffect(()=>{var P;y();const A=((P=window.history.state)==null?void 0:P.usr)||window.history.state;A!=null&&A.message&&(w(A.message),p(!0),A.showCertificate&&j(!0),window.history.replaceState({},document.title),setTimeout(()=>{p(!1),j(!1)},5e3))},[]);const y=async()=>{try{i(!0);const A=await Zc.getDashboardData();A.success&&A.data&&t(A.data.completedTests)}catch(A){console.error("Failed to fetch results:",A)}finally{i(!1)}},x=A=>{n(A),l(!0)},_=e.filter(A=>{const P=A.surveyTitle.toLowerCase().includes(c.toLowerCase());return f==="all"?P:f==="passed"?P&&A.isPassed:f==="failed"?P&&!A.isPassed:P}),m=e.filter(A=>A.isPassed).length;e.filter(A=>!A.isPassed).length;const g=e.length>0?e.reduce((A,P)=>A+P.score,0)/e.length:0,N=e.filter(A=>A.certificateId).length,S=e.map((A,P)=>({attempt:P+1,score:A.score,name:A.surveyTitle.substring(0,15)+"...",isPassed:A.isPassed}));return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Results"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View your test performance and progress"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Results"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tests"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Ns,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Passed"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:m})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ct,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[g.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Kr,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:N})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Ma,{className:"w-6 h-6 text-purple-600"})})]})})]}),h&&a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[a.jsx(ct,{className:"w-5 h-5"}),a.jsx("span",{children:b})]})}),v&&a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-lg flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ma,{className:"w-5 h-5"}),a.jsx("span",{children:"Congratulations! You've earned a certificate for passing this test."})]}),a.jsxs(z,{size:"sm",onClick:()=>window.location.href="/my-certificates",className:"flex items-center space-x-2",children:[a.jsx(Oe,{className:"w-4 h-4"}),a.jsx("span",{children:"View Certificate"})]})]})}),e.length>0&&a.jsxs(F,{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trend"}),a.jsx("div",{className:"h-64",children:a.jsx(Rt,{width:"100%",height:"100%",children:a.jsxs(uu,{data:S,children:[a.jsx(kr,{strokeDasharray:"3 3"}),a.jsx(Qt,{dataKey:"attempt"}),a.jsx(Yt,{domain:[0,100]}),a.jsx(We,{formatter:(A,P)=>[`${A}%`,"Score"]}),a.jsx(ar,{type:"monotone",dataKey:"score",stroke:"#3B82F6",strokeWidth:2,dot:{fill:"#3B82F6",strokeWidth:2,r:4}})]})})})]}),a.jsx(F,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(te,{placeholder:"Search results...",value:c,onChange:A=>u(A.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:f,onChange:A=>d(A.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Results"}),a.jsx("option",{value:"passed",children:"Passed"}),a.jsx("option",{value:"failed",children:"Failed"})]})]})})}),a.jsx(F,{children:s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading results..."})]}):_.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Ns,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No test results found"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Complete some tests to see your results here"})]}):a.jsx("div",{className:"space-y-4",children:_.map(A=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:A.surveyTitle}),A.isPassed?a.jsx(ct,{className:"w-5 h-5 text-green-600"}):a.jsx(Ld,{className:"w-5 h-5 text-red-600"}),A.certificateId&&a.jsx(Oe,{className:"w-5 h-5 text-yellow-600"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Score:"}),a.jsxs("span",{className:`ml-2 font-bold ${As(A.score)}`,children:[A.score,"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 font-medium ${A.isPassed?"text-green-600":"text-red-600"}`,children:A.isPassed?"Passed":"Failed"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Attempt:"}),a.jsx("span",{className:"ml-2",children:A.attemptNumber})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"}),a.jsx("span",{className:"ml-2",children:Te(A.completedAt)})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-3xl font-bold ${As(A.score)}`,children:[A.score,"%"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Score"})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(z,{onClick:()=>x(A),variant:"secondary",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(Ke,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]}),A.certificateId&&a.jsxs(z,{size:"sm",className:"flex items-center space-x-2",children:[a.jsx(Oe,{className:"w-4 h-4"}),a.jsx("span",{children:"Certificate"})]})]})]})]})},A.resultId))})}),a.jsx(_e,{isOpen:o,onClose:()=>l(!1),title:"Test Result Details",size:"lg",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-6xl font-bold ${As(r.score)} mb-2`,children:[r.score,"%"]}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:r.surveyTitle}),a.jsx("div",{className:"flex items-center justify-center space-x-2",children:r.isPassed?a.jsxs(a.Fragment,{children:[a.jsx(ct,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"text-green-600 font-medium",children:"Passed"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Ld,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"text-red-600 font-medium",children:"Failed"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempt Number:"})," ",r.attemptNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"})," ",Te(r.completedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Score:"}),a.jsxs("span",{className:`ml-2 font-bold ${As(r.score)}`,children:[r.score,"%"]})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 font-medium ${r.isPassed?"text-green-600":"text-red-600"}`,children:r.isPassed?"Passed":"Failed"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Achievement"}),a.jsx("div",{className:"space-y-2 text-sm",children:r.certificateId?a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx(Oe,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Certificate Earned"})]}):a.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[a.jsx(Oe,{className:"w-5 h-5"}),a.jsx("span",{children:"No certificate earned"})]})})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>l(!1),children:"Close"}),r.certificateId&&a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(Oe,{className:"w-4 h-4"}),a.jsx("span",{children:"View Certificate"})]})]})]})})]})})}function Lae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState("");O.useEffect(()=>{var j;f();const v=((j=window.history.state)==null?void 0:j.usr)||window.history.state;v!=null&&v.newCertificate&&(setTimeout(()=>{f()},1e3),window.history.replaceState({},document.title))},[]);const f=async()=>{try{i(!0);const v=await Zc.getDashboardData();v.success&&v.data&&t(v.data.certificates)}catch(v){console.error("Failed to fetch certificates:",v)}finally{i(!1)}},d=async v=>{try{const y=(await ld.downloadCertificate(v)).data,x=URL.createObjectURL(y),_=document.createElement("a");_.href=x;const m=e.find(N=>N.id===v),g=m?`${m.certificateNumber}_${m.survey.title.replace(/[^a-zA-Z0-9]/g,"_")}.pdf`:`certificate_${v}.pdf`;_.download=g,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(x),t(e.map(N=>N.id===v?{...N,downloadCount:N.downloadCount+1}:N))}catch(j){console.error("Failed to download certificate:",j),alert("Failed to download certificate. Please try again.")}},h=v=>{n(v),l(!0)},p=e.filter(v=>v.survey.title.toLowerCase().includes(c.toLowerCase())||v.certificateNumber.toLowerCase().includes(c.toLowerCase())),b=e.filter(v=>v.status==="active").length,w=e.reduce((v,j)=>v+j.downloadCount,0);return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Certificates"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View and download your earned certificates"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"w-4 h-4"}),a.jsx("span",{children:"Download All"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Ma,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:b})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ct,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Downloads"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:w})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Et,{className:"w-6 h-6 text-blue-600"})})]})})]}),a.jsx(F,{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(te,{placeholder:"Search certificates...",value:c,onChange:v=>u(v.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s?Array.from({length:6}).map((v,j)=>a.jsx(F,{className:"animate-pulse",children:a.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"})},j)):p.length===0?a.jsxs("div",{className:"col-span-full text-center py-12",children:[a.jsx(Ma,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Certificates Yet"}),a.jsx("p",{className:"text-gray-500",children:"Complete tests to earn certificates"})]}):p.map(v=>a.jsxs(F,{className:"hover:shadow-lg transition-shadow overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-100 p-6 text-center border-b",children:[a.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Oe,{className:"w-8 h-8 text-yellow-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Certificate of Completion"}),a.jsx("p",{className:"text-sm text-gray-600",children:"eSigma Survey Platform"})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:v.survey.title}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Certificate #:"})," ",v.certificateNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Te(v.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${v.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:v.status.charAt(0).toUpperCase()+v.status.slice(1)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Downloads:"})," ",v.downloadCount]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(z,{onClick:()=>h(v),variant:"secondary",size:"sm",className:"flex-1 flex items-center justify-center space-x-2",children:[a.jsx(Ke,{className:"w-4 h-4"}),a.jsx("span",{children:"Preview"})]}),a.jsxs(z,{onClick:()=>d(v.id),size:"sm",className:"flex-1 flex items-center justify-center space-x-2",disabled:v.status!=="active",children:[a.jsx(Et,{className:"w-4 h-4"}),a.jsx("span",{children:"Download"})]})]})]})]},v.id))}),a.jsx(_e,{isOpen:o,onClose:()=>l(!1),title:"Certificate Preview",size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 p-8 rounded-lg border-2 border-blue-200",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Oe,{className:"w-10 h-10 text-white"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Certificate of Completion"}),a.jsx("p",{className:"text-lg text-gray-600",children:"eSigma Survey Platform"})]}),a.jsxs("div",{className:"py-6",children:[a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"This is to certify that"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-600 mb-2",children:r.user.name}),a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"has successfully completed"}),a.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:r.survey.title}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-600",children:[a.jsx(cw,{className:"w-5 h-5 fill-current"}),a.jsx("span",{className:"font-medium",children:"With Excellence"}),a.jsx(cw,{className:"w-5 h-5 fill-current"})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-blue-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Certificate Number"}),a.jsx("p",{className:"font-mono text-sm font-medium",children:r.certificateNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Date Issued"}),a.jsx("p",{className:"text-sm font-medium",children:Te(r.issuedAt)})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Certificate Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Number:"})," ",r.certificateNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Survey:"})," ",r.survey.title]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Te(r.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${r.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Downloads:"})," ",r.downloadCount]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Verification"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Recipient:"})," ",r.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",r.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",r.user.role.name]}),a.jsxs("div",{className:"flex items-center space-x-2 text-green-600 mt-3",children:[a.jsx(ct,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Verified Certificate"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>l(!1),children:"Close"}),a.jsxs(z,{onClick:()=>d(r.id),disabled:r.status!=="active",className:"flex items-center space-x-2",children:[a.jsx(Et,{className:"w-4 h-4"}),a.jsx("span",{children:"Download PDF"})]})]})]})})]})})}function Uae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0);O.useEffect(()=>{s()},[]);const s=async()=>{try{n(!0);const d=await Zc.getDashboardData();d.success&&d.data&&t(d.data.upcomingTests)}catch(d){console.error("Failed to fetch test schedule:",d)}finally{n(!1)}},i=d=>d.isOverdue?"bg-red-100 text-red-800":d.daysLeft<=3?"bg-orange-100 text-orange-800":d.daysLeft<=7?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",o=d=>d.isOverdue?a.jsx(Kt,{className:"w-4 h-4"}):d.daysLeft<=3?a.jsx(sr,{className:"w-4 h-4"}):a.jsx(ct,{className:"w-4 h-4"}),l=d=>d.isOverdue?"Overdue":d.daysLeft===0?"Due Today":d.daysLeft===1?"Due Tomorrow":`${d.daysLeft} days left`,c=e.filter(d=>d.daysLeft<=3||d.isOverdue),u=e.filter(d=>d.daysLeft<=7&&d.daysLeft>3),f=e.filter(d=>d.daysLeft>7);return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Test Schedule"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View your upcoming test deadlines and plan accordingly"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(bn,{className:"w-4 h-4"}),a.jsx("span",{children:"Calendar View"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Upcoming"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(pv,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Urgent"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:c.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Kt,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Week"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:u.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(sr,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(F,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Later"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:f.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(ct,{className:"w-6 h-6 text-green-600"})})]})})]}),r?a.jsx(F,{children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading test schedule..."})]})}):e.length===0?a.jsx(F,{children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(bn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Upcoming Tests"}),a.jsx("p",{className:"text-gray-500",children:"You have no scheduled tests at the moment"})]})}):a.jsxs("div",{className:"space-y-8",children:[c.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-red-900 mb-4 flex items-center space-x-2",children:[a.jsx(Kt,{className:"w-5 h-5"}),a.jsx("span",{children:"Urgent - Immediate Action Required"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(d=>a.jsxs(F,{className:"border-l-4 border-red-500 bg-red-50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:d.title}),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(d)}`,children:[o(d),a.jsx("span",{className:"ml-1",children:l(d)})]})]}),a.jsx("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:a.jsxs("p",{className:"flex items-center space-x-2",children:[a.jsx(bn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Due: ",Te(d.targetDate)]})]})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(z,{size:"sm",className:"flex-1",children:[a.jsx(Sa,{className:"w-4 h-4 mr-1"}),"Start Now"]}),a.jsx(z,{variant:"secondary",size:"sm",children:a.jsx(Ke,{className:"w-4 h-4"})})]})]},d.surveyId))})]}),u.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-yellow-900 mb-4 flex items-center space-x-2",children:[a.jsx(sr,{className:"w-5 h-5"}),a.jsx("span",{children:"This Week"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(d=>a.jsxs(F,{className:"border-l-4 border-yellow-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:d.title}),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(d)}`,children:[o(d),a.jsx("span",{className:"ml-1",children:l(d)})]})]}),a.jsx("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:a.jsxs("p",{className:"flex items-center space-x-2",children:[a.jsx(bn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Due: ",Te(d.targetDate)]})]})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(z,{variant:"secondary",size:"sm",className:"flex-1",children:[a.jsx(Sa,{className:"w-4 h-4 mr-1"}),"Start Test"]}),a.jsx(z,{variant:"secondary",size:"sm",children:a.jsx(Ke,{className:"w-4 h-4"})})]})]},d.surveyId))})]}),f.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-green-900 mb-4 flex items-center space-x-2",children:[a.jsx(ct,{className:"w-5 h-5"}),a.jsx("span",{children:"Coming Up"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(d=>a.jsxs(F,{className:"border-l-4 border-green-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:d.title}),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(d)}`,children:[o(d),a.jsx("span",{className:"ml-1",children:l(d)})]})]}),a.jsx("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:a.jsxs("p",{className:"flex items-center space-x-2",children:[a.jsx(bn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Due: ",Te(d.targetDate)]})]})}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs(z,{variant:"secondary",size:"sm",className:"flex-1",children:[a.jsx(Ke,{className:"w-4 h-4 mr-1"}),"View Details"]})})]},d.surveyId))})]})]})]})})}function Fae(){const{sessionId:e}=X$(),t=To();Va();const[r,n]=O.useState(null),[s,i]=O.useState([]),[o,l]=O.useState(0),[c,u]=O.useState({}),[f,d]=O.useState(0),[h,p]=O.useState(!0),[b,w]=O.useState(!1),[v,j]=O.useState(!1),[y,x]=O.useState(!1),[_,m]=O.useState(!1),[g,N]=O.useState(new Set),[S,A]=O.useState(navigator.onLine),[P,E]=O.useState(null),[k,I]=O.useState(null),[$,R]=O.useState(!1),[C,U]=O.useState(null);O.useState({});const[D,L]=O.useState([]),[q,Q]=O.useState(!1),H=3e4;O.useEffect(()=>{const X=le=>{if((le.ctrlKey||le.metaKey)&&["c","v","x","a","s","p"].includes(le.key.toLowerCase()))return le.preventDefault(),ee(`Attempted keyboard shortcut: Ctrl+${le.key.toUpperCase()}`),!1;if(le.key==="F12")return le.preventDefault(),ee("Attempted to open Developer Tools (F12)"),!1;if(le.ctrlKey&&le.shiftKey&&le.key==="I")return le.preventDefault(),ee("Attempted to open Developer Tools (Ctrl+Shift+I)"),!1;if(le.ctrlKey&&le.key==="u")return le.preventDefault(),ee("Attempted to view page source (Ctrl+U)"),!1;if(le.key==="PrintScreen")return le.preventDefault(),ee("Attempted to take screenshot (Print Screen)"),!1},se=le=>(le.preventDefault(),ee("Attempted to open context menu (right-click)"),!1),je=le=>(le.preventDefault(),ee("Attempted to copy content"),!1),Ce=le=>(le.preventDefault(),ee("Attempted to paste content"),!1),gt=le=>(le.preventDefault(),ee("Attempted to cut content"),!1),ea=le=>(le.preventDefault(),!1),Ko=le=>(le.preventDefault(),!1),M=le=>(le.preventDefault(),le.returnValue="Are you sure you want to leave? Your test progress will be saved but the test will be paused.",le.returnValue),Z=le=>(le.preventDefault(),ee("Attempted to navigate away from test"),!1),ye=window.open;return window.open=function(...le){return ee("Attempted to open new window/tab"),null},document.addEventListener("keydown",X),document.addEventListener("contextmenu",se),document.addEventListener("copy",je),document.addEventListener("paste",Ce),document.addEventListener("cut",gt),document.addEventListener("selectstart",ea),document.addEventListener("dragstart",Ko),window.addEventListener("beforeunload",M),window.addEventListener("popstate",Z),document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",document.body.style.mozUserSelect="none",document.body.style.msUserSelect="none",()=>{document.removeEventListener("keydown",X),document.removeEventListener("contextmenu",se),document.removeEventListener("copy",je),document.removeEventListener("paste",Ce),document.removeEventListener("cut",gt),document.removeEventListener("selectstart",ea),document.removeEventListener("dragstart",Ko),window.removeEventListener("beforeunload",M),window.removeEventListener("popstate",Z),window.open=ye,document.body.style.userSelect="",document.body.style.webkitUserSelect="",document.body.style.mozUserSelect="",document.body.style.msUserSelect=""}},[]);const ee=X=>{console.warn("Security violation detected:",X),L(se=>[...se,X]),Q(!0),setTimeout(()=>{Q(!1)},3e3),r&&tn.logSecurityViolation(r.id,X).catch(console.error)};O.useEffect(()=>{const X=()=>{A(!0),tn.syncOfflineData()},se=()=>{A(!1),r&&!$&&f>0&&(R(!0),U(f),console.log("Test auto-paused due to network loss. Time remaining:",f))};return window.addEventListener("online",X),window.addEventListener("offline",se),()=>{window.removeEventListener("online",X),window.removeEventListener("offline",se)}},[r,$,f,C]);const K=O.useCallback(async()=>{if(!(!r||$))try{I("saving"),await tn.updateSession(r.id,{currentQuestionIndex:o,timeRemaining:f,answers:Object.keys(c).map(X=>({questionId:X,selectedOptions:c[X],isCorrect:!1,timeSpent:0,answered:!0}))}),E(new Date),I("saved"),setTimeout(()=>I(null),2e3)}catch(X){console.error("Auto-save failed:",X),I("error"),setTimeout(()=>I(null),3e3)}},[r,o,f,c,$]);O.useEffect(()=>{if(!r||$)return;const X=setInterval(K,H);return()=>clearInterval(X)},[K,r,$]),O.useEffect(()=>{if(r&&Object.keys(c).length>0&&!$){const X=setTimeout(K,2e3);return()=>clearTimeout(X)}},[c,K,r,$]),O.useEffect(()=>{e&&(console.log("Loading test session with ID:",e),Ge())},[e]),O.useEffect(()=>{if(f>0&&!$&&S){const X=setInterval(()=>{d(se=>{const je=se-1;return je<=0?(Le(),0):(je===300&&!y&&x(!0),je)})},1e3);return()=>clearInterval(X)}},[f,y,$,S]);const he=async X=>{try{p(!0);const se=await tn.getQuestionsForSurvey(X);if(!se.success||!se.data)throw new Error("Failed to load questions for this survey");i(se.data),p(!1)}catch(se){throw console.error("Error loading questions:",se),p(!1),se}},Ge=async()=>{try{if(p(!0),console.log("Loading test session with ID:",e),!e)throw new Error("Session ID not provided");const X=await tn.getSession(e);if(!X.success||!X.data)throw new Error("Session not found or invalid");const se=X.data;if(console.log("Session loaded:",se),n(se),await he(se.surveyId),d(se.timeRemaining||35*60),l(se.currentQuestionIndex||0),se.answers&&se.answers.length>0){const je={};se.answers.forEach(Ce=>{je[Ce.questionId]=Ce.selectedOptions||[]}),u(je),Object.keys(je).length>0&&m(!0)}}catch(X){console.error("Error loading test session:",X),p(!1)}},$t=async(X,se,je)=>{if($)return;const Ce={...c};if(je){const gt=Ce[X]||[];Ce[X]=gt.includes(se)?gt.filter(ea=>ea!==se):[...gt,se]}else Ce[X]=[se];u(Ce);try{await tn.saveAnswer(r.id,X,Ce[X])}catch(gt){console.error("Failed to save answer:",gt)}},mt=()=>{$||o<s.length-1&&l(X=>X+1)},J=()=>{$||o>0&&l(X=>X-1)},de=X=>{$||l(X)},pe=X=>{$||N(se=>{const je=new Set(se);return je.has(X)?je.delete(X):je.add(X),je})},W=async()=>{var X,se;try{w(!0);const je=await tn.submitTest(e);je.success&&t("/my-results",{state:{message:"Test submitted successfully!",result:je.data,showCertificate:((X=je.data)==null?void 0:X.isPassed)&&((se=je.data)==null?void 0:se.certificateId)}})}catch(je){console.error("Failed to submit test:",je),alert("Failed to submit test. Please try again.")}finally{w(!1),j(!1)}},Le=async()=>{try{await tn.submitTest(e),t("/my-results",{state:{message:"Test auto-submitted due to time expiry.",autoSubmitted:!0,showCertificate:!1}})}catch(X){console.error("Failed to auto-submit test:",X)}},ve=()=>{m(!1),R(!1)},Ue=()=>{l(0),u({}),N(new Set),d(35*60),m(!1),R(!1)},ke=X=>{const se=s[X];if(!se)return"unanswered";const je=c[se.id]&&c[se.id].length>0,Ce=g.has(X);return Ce&&je?"flagged-answered":Ce?"flagged":je?"answered":"unanswered"},St=X=>{switch(X){case"answered":return"bg-green-500 text-white";case"flagged":return"bg-yellow-500 text-white";case"flagged-answered":return"bg-orange-500 text-white";default:return"bg-gray-200 text-gray-700"}},Xt=s.filter(X=>c[X.id]&&c[X.id].length>0).length,Zt=s.length-Xt;if(h)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading test session and questions..."}),r&&a.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Session ID: ",r.id]})]})});if(!r||s.length===0)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs(F,{className:"max-w-md w-full text-center",children:[a.jsx(Kt,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Test Not Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"The test session could not be loaded."}),a.jsx(z,{onClick:()=>t("/available-tests"),children:"Back to Available Tests"})]})});const et=s[o];return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Digital Literacy Assessment"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Attempt ",r.attemptNumber]})]})}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsx("div",{className:"flex items-center",children:S?a.jsxs("div",{className:"flex items-center text-green-600",children:[a.jsx(z3,{className:"w-4 h-4 mr-1"}),a.jsx("span",{className:"text-xs",children:"Online"})]}):a.jsxs("div",{className:"flex items-center text-red-600",children:[a.jsx(Xp,{className:"w-4 h-4 mr-1"}),a.jsx("span",{className:"text-xs",children:"Offline"})]})}),a.jsxs("div",{className:"flex items-center",children:[k==="saving"&&a.jsxs("div",{className:"flex items-center text-blue-600",children:[a.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600 mr-1"}),a.jsx("span",{className:"text-xs",children:"Saving..."})]}),k==="saved"&&a.jsxs("div",{className:"flex items-center text-green-600",children:[a.jsx(Rd,{className:"w-3 h-3 mr-1"}),a.jsx("span",{className:"text-xs",children:"Saved"})]}),k==="error"&&a.jsxs("div",{className:"flex items-center text-red-600",children:[a.jsx(Kt,{className:"w-3 h-3 mr-1"}),a.jsx("span",{className:"text-xs",children:"Save failed"})]}),P&&!k&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Last saved: ",P.toLocaleTimeString()]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-2xl font-bold ${f<=300?"text-red-600":"text-gray-900"}`,children:[j$(f),$&&a.jsx("span",{className:"text-sm text-orange-600 block",children:"PAUSED"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Time Remaining"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[o+1," / ",s.length]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Question"})]})]})]})}),a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Question Navigator"}),a.jsxs("div",{className:"mb-4 text-sm",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{children:"Answered:"}),a.jsx("span",{className:"font-medium text-green-600",children:Xt})]}),a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{children:"Unanswered:"}),a.jsx("span",{className:"font-medium text-red-600",children:Zt})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flagged:"}),a.jsx("span",{className:"font-medium text-yellow-600",children:g.size})]})]}),a.jsx("div",{className:"space-y-4",children:Object.entries(s.reduce((X,se,je)=>{const gt=`Section ${Math.floor((se.order||0)/1e3)}`;return X[gt]||(X[gt]=[]),X[gt].push({question:se,index:je}),X},{})).sort(([X],[se])=>X.localeCompare(se)).map(([X,se])=>a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:X}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:se.map(({question:je,index:Ce})=>{const gt=ke(Ce);return a.jsx("button",{onClick:()=>de(Ce),disabled:$,className:`w-10 h-10 rounded text-sm font-medium transition-colors ${Ce===o?"ring-2 ring-blue-500 ring-offset-2":""} ${St(gt)} ${$?"opacity-50 cursor-not-allowed":""}`,children:Ce+1},Ce)})})]},X))}),a.jsxs("div",{className:"mt-6 space-y-2 text-xs",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),a.jsx("span",{children:"Answered"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),a.jsx("span",{children:"Flagged"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),a.jsx("span",{children:"Flagged & Answered"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),a.jsx("span",{children:"Unanswered"})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs(z,{variant:"secondary",size:"sm",className:"w-full flex items-center justify-center space-x-2",onClick:K,disabled:$,children:[a.jsx(Rd,{className:"w-4 h-4"}),a.jsx("span",{children:"Save Progress"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Progress is auto-saved every 30 seconds"})]}),$&&a.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("p",{className:"text-sm font-medium text-yellow-800 text-center",children:"Test is paused due to network connectivity"}),a.jsx("p",{className:"text-xs text-yellow-700 text-center mt-1",children:"Test will resume automatically when connection is restored"})]})]}),a.jsx("div",{className:"flex-1 p-6",children:a.jsx(F,{className:"max-w-4xl mx-auto",children:$?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(M3,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Test Automatically Paused"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your test has been paused due to network connectivity issues. The timer has been stopped and will resume automatically when your connection is restored."}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-orange-600",children:[a.jsx(Xp,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Waiting for network connection..."})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:["Section ",Math.floor((et.order||0)/1e3)]}),a.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full",children:["Question ",o+1]}),a.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${et.complexity==="easy"?"bg-green-100 text-green-800":et.complexity==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:et.complexity.charAt(0).toUpperCase()+et.complexity.slice(1)}),a.jsxs("span",{className:"text-sm text-gray-500",children:[et.points," point",et.points!==1?"s":""]})]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>pe(o),className:`flex items-center space-x-2 ${g.has(o)?"bg-yellow-100 text-yellow-800":""}`,children:[a.jsx(E3,{className:"w-4 h-4"}),a.jsx("span",{children:g.has(o)?"Unflag":"Flag"})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:et.text}),a.jsx("div",{className:"space-y-3",children:et.options.map(X=>{var se;return a.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:[a.jsx("input",{type:et.type==="multiple_choice"?"checkbox":"radio",name:`question-${et.id}`,value:X.id,checked:((se=c[et.id])==null?void 0:se.includes(X.id))||!1,onChange:()=>$t(et.id,X.id,et.type==="multiple_choice"),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:$}),a.jsx("span",{className:"text-gray-900",children:X.text})]},X.id)})}),et.type==="multiple_choice"&&a.jsxs("p",{className:"text-sm text-gray-500 mt-3",children:[a.jsx("strong",{children:"Note:"})," This is a multiple choice question. You can select more than one answer."]}),et.explanation&&a.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Hint:"})," ",et.explanation]})})]}),a.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[a.jsxs(z,{variant:"secondary",onClick:J,disabled:o===0||$,className:"flex items-center space-x-2",children:[a.jsx(fA,{className:"w-4 h-4"}),a.jsx("span",{children:"Previous"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(z,{variant:"secondary",onClick:()=>j(!0),disabled:$,className:"flex items-center space-x-2",children:[a.jsx(ct,{className:"w-4 h-4"}),a.jsx("span",{children:"Submit Test"})]}),o<s.length-1?a.jsxs(z,{onClick:mt,disabled:$,className:"flex items-center space-x-2",children:[a.jsx("span",{children:"Next"}),a.jsx(A3,{className:"w-4 h-4"})]}):a.jsxs(z,{onClick:()=>j(!0),disabled:$,className:"flex items-center space-x-2",children:[a.jsx(ct,{className:"w-4 h-4"}),a.jsx("span",{children:"Finish Test"})]})]})]})]})})})]}),q&&a.jsxs("div",{className:"fixed top-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-lg z-50 flex items-center space-x-2",children:[a.jsx(Kt,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold",children:"Security Alert"}),a.jsx("p",{className:"text-sm",children:"Unauthorized action detected. This has been logged."})]})]}),!S&&a.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-lg flex items-center space-x-2",children:[a.jsx(Xp,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold",children:"You are offline"}),a.jsx("p",{className:"text-sm",children:"Test is paused. Progress saved locally and will sync when you're back online."})]})]}),a.jsx(_e,{isOpen:_,onClose:ve,title:"Resume Test Session",children:a.jsxs("div",{className:"text-center",children:[a.jsx(L3,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Resume Previous Session?"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"We found a saved test session. Would you like to resume from where you left off?"}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsx(z,{variant:"secondary",onClick:Ue,children:"Start Fresh"}),a.jsx(z,{onClick:ve,children:"Resume Session"})]})]})}),a.jsx(_e,{isOpen:y,onClose:()=>x(!1),title:"Time Warning",children:a.jsxs("div",{className:"text-center",children:[a.jsx(sr,{className:"w-12 h-12 text-orange-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"5 Minutes Remaining!"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"You have only 5 minutes left to complete the test. Please review your answers and submit soon."}),a.jsx(z,{onClick:()=>x(!1),children:"Continue Test"})]})}),a.jsx(_e,{isOpen:v,onClose:()=>j(!1),title:"Submit Test",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(Kt,{className:"w-12 h-12 text-yellow-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Submit Test?"}),a.jsx("p",{className:"text-gray-600",children:"Are you sure you want to submit your test? This action cannot be undone."})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Test Summary:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Total Questions:"}),a.jsx("span",{className:"ml-2 font-medium",children:s.length})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Answered:"}),a.jsx("span",{className:"ml-2 font-medium text-green-600",children:Xt})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Unanswered:"}),a.jsx("span",{className:"ml-2 font-medium text-red-600",children:Zt})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Flagged:"}),a.jsx("span",{className:"ml-2 font-medium text-yellow-600",children:g.size})]})]})]}),Zt>0&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:a.jsxs("p",{className:"text-yellow-800 text-sm",children:[a.jsx("strong",{children:"Warning:"})," You have ",Zt," unanswered question",Zt!==1?"s":"",". These will be marked as incorrect."]})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>j(!1),children:"Continue Test"}),a.jsxs(z,{onClick:W,loading:b,className:"flex items-center space-x-2",children:[a.jsx(ct,{className:"w-4 h-4"}),a.jsx("span",{children:"Submit Test"})]})]})]})})]})}const ml=[{path:"/dashboard",label:"Admin Dashboard",category:"Dashboard",level:1},{path:"/users",label:"User Management",category:"Administration",level:1},{path:"/roles",label:"Role Management",category:"Administration",level:1},{path:"/surveys",label:"Survey Management",category:"Content",level:1},{path:"/questions",label:"Question Bank",category:"Content",level:1},{path:"/settings",label:"System Settings",category:"Administration",level:1},{path:"/zo-dashboard",label:"ZO Dashboard",category:"Dashboard",level:2},{path:"/zone-performance",label:"Zone Performance",category:"Analytics",level:2},{path:"/regional-overview",label:"Regional Overview",category:"Analytics",level:2},{path:"/ro-dashboard",label:"RO Dashboard",category:"Dashboard",level:3},{path:"/district-performance",label:"District Performance",category:"Analytics",level:3},{path:"/supervisor-teams",label:"Supervisor Teams",category:"Management",level:3},{path:"/supervisor-dashboard",label:"Supervisor Dashboard",category:"Dashboard",level:4},{path:"/team-results",label:"Team Results",category:"Analytics",level:4},{path:"/my-enumerators",label:"My Enumerators",category:"Management",level:4},{path:"/assigned-surveys",label:"Assigned Surveys",category:"Content",level:4},{path:"/enumerator-dashboard",label:"My Dashboard",category:"Dashboard",level:5},{path:"/available-tests",label:"Available Tests",category:"Testing",level:5},{path:"/my-results",label:"My Results",category:"Testing",level:5},{path:"/my-certificates",label:"My Certificates",category:"Testing",level:5},{path:"/test-schedule",label:"Test Schedule",category:"Testing",level:5},{path:"/results",label:"Results & Analytics",category:"Analytics",level:1},{path:"/enumerator-status",label:"Enumerator Status",category:"Monitoring",level:1},{path:"/certificates",label:"Certificates",category:"Certificates",level:1}];function Bae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(!1),[f,d]=O.useState([]),[h,p]=O.useState(""),[b,w]=O.useState("all");O.useEffect(()=>{v()},[]);const v=async()=>{try{i(!0);const S=await ws.getRoles();t(S.data)}catch(S){console.error("Failed to fetch roles:",S)}finally{i(!1)}},j=S=>{n(S),d(S.menuAccess||[]),l(!0)},y=async()=>{if(r)try{u(!0),(await ws.updateRoleMenuAccess(r.id,f)).success&&(t(e.map(A=>A.id===r.id?{...A,menuAccess:f}:A)),l(!1),n(null),d([]))}catch(S){console.error("Failed to update menu access:",S)}finally{u(!1)}},x=S=>{d(A=>A.includes(S)?A.filter(P=>P!==S):[...A,S])},_=S=>{const A=ml.filter(P=>P.level>=S).map(P=>P.path);d(P=>{const E=[...P];return A.forEach(k=>{E.includes(k)||E.push(k)}),E})},g=ml.filter(S=>{const A=S.label.toLowerCase().includes(h.toLowerCase())||S.path.toLowerCase().includes(h.toLowerCase()),P=b==="all"||S.category===b;return A&&P}).reduce((S,A)=>(S[A.category]||(S[A.category]=[]),S[A.category].push(A),S),{}),N=[...new Set(ml.map(S=>S.category))];return a.jsx(Ee,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Role-Based Menu Access Control"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Configure menu access permissions for each role"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("div",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"RBAC Enabled"})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:s?Array.from({length:5}).map((S,A)=>a.jsx(F,{className:"animate-pulse",children:a.jsx("div",{className:"h-32 bg-gray-200 rounded"})},A)):e.map(S=>{var A,P,E;return a.jsxs(F,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${S.level===1?"bg-red-100":S.level===2?"bg-purple-100":S.level===3?"bg-indigo-100":S.level===4?"bg-green-100":"bg-blue-100"}`,children:a.jsx(Da,{className:`w-5 h-5 ${S.level===1?"text-red-600":S.level===2?"text-purple-600":S.level===3?"text-indigo-600":S.level===4?"text-green-600":"text-blue-600"}`})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.name}),a.jsxs("span",{className:"text-xs text-gray-500",children:["Level ",S.level]})]})]}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:S.isActive?"Active":"Inactive"})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:S.description}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Menu Items:"}),a.jsx("span",{className:"font-medium",children:((A=S.menuAccess)==null?void 0:A.length)||0})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Users:"}),a.jsx("span",{className:"font-medium",children:S.userCount||0})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(S.menuAccess||[]).slice(0,2).map(k=>{const I=ml.find($=>$.path===k);return a.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:(I==null?void 0:I.label)||k},k)}),(((P=S.menuAccess)==null?void 0:P.length)||0)>2&&a.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",(((E=S.menuAccess)==null?void 0:E.length)||0)-2," more"]})]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>j(S),className:"flex items-center space-x-2",children:[a.jsx(Ia,{className:"w-4 h-4"}),a.jsx("span",{children:"Configure"})]})]})]},S.id)})}),a.jsx(_e,{isOpen:o,onClose:()=>{l(!1),n(null),d([])},title:`Configure Menu Access: ${r==null?void 0:r.name}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx(Da,{className:"w-5 h-5 text-blue-600"}),a.jsx("h3",{className:"font-semibold text-gray-900",children:r.name}),a.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:["Level ",r.level]})]}),a.jsx("p",{className:"text-sm text-gray-600",children:r.description}),a.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm",children:[a.jsxs("span",{className:"text-gray-500",children:["Users: ",r.userCount||0]}),a.jsxs("span",{className:"text-gray-500",children:["Selected Menus: ",f.length]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>_(r.level),className:"flex items-center space-x-2",children:[a.jsx(cn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Add Level ",r.level,"+ Menus"]})]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>d([]),className:"flex items-center space-x-2",children:[a.jsx(I3,{className:"w-4 h-4"}),a.jsx("span",{children:"Clear All"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative",children:a.jsx(te,{placeholder:"Search menus...",value:h,onChange:S=>p(S.target.value),className:"w-48"})}),a.jsxs("select",{value:b,onChange:S=>w(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Categories"}),N.map(S=>a.jsx("option",{value:S,children:S},S))]})]})]}),a.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:Object.entries(g).map(([S,A])=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:S}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(z,{variant:"secondary",size:"sm",onClick:()=>{const P=A.map(E=>E.path);d(E=>[...new Set([...E,...P])])},className:"text-xs",children:"Select All"}),a.jsx(z,{variant:"secondary",size:"sm",onClick:()=>{const P=A.map(E=>E.path);d(E=>E.filter(k=>!P.includes(k)))},className:"text-xs",children:"Deselect All"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:A.map(P=>{const E=f.includes(P.path),k=P.level>=r.level;return a.jsxs("label",{className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${E?"bg-blue-50 border border-blue-200":"hover:bg-gray-50 border border-transparent"}`,children:[a.jsx("input",{type:"checkbox",checked:E,onChange:()=>x(P.path),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:P.label}),a.jsxs("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-600 text-xs rounded",children:["L",P.level]}),k&&a.jsx("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-600 text-xs rounded",children:"Recommended"})]}),a.jsx("div",{className:"text-xs text-gray-500 font-mono",children:P.path})]}),E&&a.jsx(ct,{className:"w-4 h-4 text-blue-600"})]},P.path)})})]},S))}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Access Summary"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:N.map(S=>{const A=ml.filter(E=>E.category===S),P=f.filter(E=>A.some(k=>k.path===E)).length;return a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"font-medium text-blue-900",children:[P,"/",A.length]}),a.jsx("p",{className:"text-blue-700",children:S})]},S)})})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{l(!1),n(null),d([])},children:"Cancel"}),a.jsxs(z,{onClick:y,loading:c,className:"flex items-center space-x-2",children:[a.jsx(Rd,{className:"w-4 h-4"}),a.jsx("span",{children:"Save Menu Access"})]})]})]})})]})})}function zae(){const e=To(),{user:t}=Gs(),r=()=>{e(-1)},n=()=>{if(!t){e("/login");return}switch(t.role.name.toLowerCase()){case"admin":e("/dashboard");break;case"zo user":e("/zo-dashboard");break;case"ro user":e("/ro-dashboard");break;case"supervisor":e("/supervisor-dashboard");break;case"enumerator":e("/enumerator-dashboard");break;default:e("/dashboard")}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:a.jsx(F,{className:"max-w-md w-full text-center",children:a.jsxs("div",{className:"p-8",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(Da,{className:"w-8 h-8 text-red-600"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:["You don't have permission to access this page. Your current role (",t==null?void 0:t.role.name,") doesn't include access to this resource."]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(z,{onClick:n,className:"w-full flex items-center justify-center space-x-2",children:[a.jsx(T3,{className:"w-4 h-4"}),a.jsx("span",{children:"Go to Dashboard"})]}),a.jsxs(z,{variant:"secondary",onClick:r,className:"w-full flex items-center justify-center space-x-2",children:[a.jsx(fA,{className:"w-4 h-4"}),a.jsx("span",{children:"Go Back"})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Need access?"})," Contact your administrator to request additional permissions for your role."]})})]})})})}function ut({children:e,requiredRoles:t=[],requiredLevel:r,redirectTo:n="/unauthorized"}){const{user:s,isAuthenticated:i}=Gs();if(!i||!s)return a.jsx(oc,{to:"/login",replace:!0});const o=s.role.name==="Administrator"?"Admin":s.role.name,l=s.role.level,c=t.length===0||t.includes(o),u=!r||l<=r;return c&&u?a.jsx(a.Fragment,{children:e}):a.jsx(oc,{to:n,replace:!0})}function qae(){const{user:e}=Gs(),t=()=>{if(!e)return"/dashboard";switch(console.log("Getting dashboard route for user role:",e.role.name),e.role.name.toLowerCase()){case"administrator":case"admin":return"/dashboard";case"zo user":return"/zo-dashboard";case"ro user":return"/ro-dashboard";case"supervisor":return"/supervisor-dashboard";case"enumerator":return"/enumerator-dashboard";default:return console.log("Unknown role, defaulting to dashboard"),"/dashboard"}};return a.jsx(oc,{to:t(),replace:!0})}function Wae(){return a.jsxs(kA,{children:[a.jsx(Be,{path:"/dashboard",element:a.jsx(ut,{requiredRoles:["Admin"],children:a.jsx(wae,{})})}),a.jsx(Be,{path:"/users",element:a.jsx(ut,{requiredRoles:["Admin"],children:a.jsx(Pae,{})})}),a.jsx(Be,{path:"/roles",element:a.jsx(ut,{requiredRoles:["Admin"],children:a.jsx(Eae,{})})}),a.jsx(Be,{path:"/role-menu-management",element:a.jsx(ut,{requiredRoles:["Admin"],children:a.jsx(Bae,{})})}),a.jsx(Be,{path:"/surveys",element:a.jsx(ut,{requiredRoles:["Admin"],children:a.jsx(kae,{})})}),a.jsx(Be,{path:"/questions",element:a.jsx(ut,{requiredRoles:["Admin"],children:a.jsx(Cae,{})})}),a.jsx(Be,{path:"/settings",element:a.jsx(ut,{requiredRoles:["Admin"],children:a.jsx(Iae,{})})}),a.jsx(Be,{path:"/zo-dashboard",element:a.jsx(ut,{requiredRoles:["ZO User"],children:a.jsx(jae,{})})}),a.jsx(Be,{path:"/ro-dashboard",element:a.jsx(ut,{requiredRoles:["RO User"],children:a.jsx(_ae,{})})}),a.jsx(Be,{path:"/supervisor-dashboard",element:a.jsx(ut,{requiredRoles:["Supervisor"],children:a.jsx(Sae,{})})}),a.jsx(Be,{path:"/team-results",element:a.jsx(ut,{requiredRoles:["Supervisor"],children:a.jsx(Aae,{})})}),a.jsx(Be,{path:"/my-enumerators",element:a.jsx(ut,{requiredRoles:["Supervisor"],children:a.jsx(Oae,{})})}),a.jsx(Be,{path:"/enumerator-dashboard",element:a.jsx(ut,{requiredRoles:["Enumerator"],children:a.jsx(Nae,{})})}),a.jsx(Be,{path:"/available-tests",element:a.jsx(ut,{requiredRoles:["Enumerator"],children:a.jsx(Mae,{})})}),a.jsx(Be,{path:"/my-results",element:a.jsx(ut,{requiredRoles:["Enumerator"],children:a.jsx(Rae,{})})}),a.jsx(Be,{path:"/my-certificates",element:a.jsx(ut,{requiredRoles:["Enumerator"],children:a.jsx(Lae,{})})}),a.jsx(Be,{path:"/test-schedule",element:a.jsx(ut,{requiredRoles:["Enumerator"],children:a.jsx(Uae,{})})}),a.jsx(Be,{path:"/test/:sessionId",element:a.jsx(ut,{requiredRoles:["Enumerator"],children:a.jsx(Fae,{})})}),a.jsx(Be,{path:"/results",element:a.jsx(ut,{requiredRoles:["Admin","ZO User","RO User","Supervisor"],children:a.jsx(Tae,{})})}),a.jsx(Be,{path:"/enumerator-status",element:a.jsx(ut,{requiredRoles:["Admin","ZO User","RO User","Supervisor"],children:a.jsx($ae,{})})}),a.jsx(Be,{path:"/certificates",element:a.jsx(ut,{requiredRoles:["Admin","ZO User","RO User","Supervisor","Enumerator"],children:a.jsx(Dae,{})})}),a.jsx(Be,{path:"/unauthorized",element:a.jsx(zae,{})}),a.jsx(Be,{path:"/",element:a.jsx(qae,{})})]})}function Hae(){return a.jsx(y5,{children:a.jsx(P5,{children:a.jsxs(kA,{children:[a.jsx(Be,{path:"/login",element:a.jsx(R5,{})}),a.jsx(Be,{path:"/*",element:a.jsx(L5,{children:a.jsx(Wae,{})})})]})})})}R2(document.getElementById("root")).render(a.jsx(O.StrictMode,{children:a.jsx(_$,{children:a.jsx(Hae,{})})}));
