function gP(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(e,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Wt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function xP(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var mN={exports:{}},Kf={},gN={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc=Symbol.for("react.element"),vP=Symbol.for("react.portal"),yP=Symbol.for("react.fragment"),bP=Symbol.for("react.strict_mode"),wP=Symbol.for("react.profiler"),jP=Symbol.for("react.provider"),_P=Symbol.for("react.context"),NP=Symbol.for("react.forward_ref"),SP=Symbol.for("react.suspense"),OP=Symbol.for("react.memo"),AP=Symbol.for("react.lazy"),_y=Symbol.iterator;function EP(e){return e===null||typeof e!="object"?null:(e=_y&&e[_y]||e["@@iterator"],typeof e=="function"?e:null)}var xN={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vN=Object.assign,yN={};function jo(e,t,r){this.props=e,this.context=t,this.refs=yN,this.updater=r||xN}jo.prototype.isReactComponent={};jo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};jo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function bN(){}bN.prototype=jo.prototype;function ox(e,t,r){this.props=e,this.context=t,this.refs=yN,this.updater=r||xN}var lx=ox.prototype=new bN;lx.constructor=ox;vN(lx,jo.prototype);lx.isPureReactComponent=!0;var Ny=Array.isArray,wN=Object.prototype.hasOwnProperty,cx={current:null},jN={key:!0,ref:!0,__self:!0,__source:!0};function _N(e,t,r){var n,s={},i=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(i=""+t.key),t)wN.call(t,n)&&!jN.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:qc,type:e,key:i,ref:o,props:s,_owner:cx.current}}function PP(e,t){return{$$typeof:qc,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ux(e){return typeof e=="object"&&e!==null&&e.$$typeof===qc}function CP(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Sy=/\/+/g;function fp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?CP(""+e.key):t.toString(36)}function Gu(e,t,r,n,s){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case qc:case vP:o=!0}}if(o)return o=e,s=s(o),e=n===""?"."+fp(o,0):n,Ny(s)?(r="",e!=null&&(r=e.replace(Sy,"$&/")+"/"),Gu(s,t,r,"",function(u){return u})):s!=null&&(ux(s)&&(s=PP(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Sy,"$&/")+"/")+e)),t.push(s)),1;if(o=0,n=n===""?".":n+":",Ny(e))for(var l=0;l<e.length;l++){i=e[l];var c=n+fp(i,l);o+=Gu(i,t,r,c,s)}else if(c=EP(e),typeof c=="function")for(e=c.call(e),l=0;!(i=e.next()).done;)i=i.value,c=n+fp(i,l++),o+=Gu(i,t,r,c,s);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function fu(e,t,r){if(e==null)return e;var n=[],s=0;return Gu(e,n,"","",function(i){return t.call(r,i,s++)}),n}function kP(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nr={current:null},Yu={transition:null},TP={ReactCurrentDispatcher:nr,ReactCurrentBatchConfig:Yu,ReactCurrentOwner:cx};function NN(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:fu,forEach:function(e,t,r){fu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return fu(e,function(){t++}),t},toArray:function(e){return fu(e,function(t){return t})||[]},only:function(e){if(!ux(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=jo;be.Fragment=yP;be.Profiler=wP;be.PureComponent=ox;be.StrictMode=bP;be.Suspense=SP;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TP;be.act=NN;be.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=vN({},e.props),s=e.key,i=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,o=cx.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)wN.call(t,c)&&!jN.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:qc,type:e.type,key:s,ref:i,props:n,_owner:o}};be.createContext=function(e){return e={$$typeof:_P,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:jP,_context:e},e.Consumer=e};be.createElement=_N;be.createFactory=function(e){var t=_N.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:NP,render:e}};be.isValidElement=ux;be.lazy=function(e){return{$$typeof:AP,_payload:{_status:-1,_result:e},_init:kP}};be.memo=function(e,t){return{$$typeof:OP,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=Yu.transition;Yu.transition={};try{e()}finally{Yu.transition=t}};be.unstable_act=NN;be.useCallback=function(e,t){return nr.current.useCallback(e,t)};be.useContext=function(e){return nr.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return nr.current.useDeferredValue(e)};be.useEffect=function(e,t){return nr.current.useEffect(e,t)};be.useId=function(){return nr.current.useId()};be.useImperativeHandle=function(e,t,r){return nr.current.useImperativeHandle(e,t,r)};be.useInsertionEffect=function(e,t){return nr.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return nr.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return nr.current.useMemo(e,t)};be.useReducer=function(e,t,r){return nr.current.useReducer(e,t,r)};be.useRef=function(e){return nr.current.useRef(e)};be.useState=function(e){return nr.current.useState(e)};be.useSyncExternalStore=function(e,t,r){return nr.current.useSyncExternalStore(e,t,r)};be.useTransition=function(){return nr.current.useTransition()};be.version="18.3.1";gN.exports=be;var O=gN.exports;const I=$e(O),$P=gP({__proto__:null,default:I},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IP=O,RP=Symbol.for("react.element"),MP=Symbol.for("react.fragment"),DP=Object.prototype.hasOwnProperty,LP=IP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FP={key:!0,ref:!0,__self:!0,__source:!0};function SN(e,t,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)DP.call(t,n)&&!FP.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:RP,type:e,key:i,ref:o,props:s,_owner:LP.current}}Kf.Fragment=MP;Kf.jsx=SN;Kf.jsxs=SN;mN.exports=Kf;var a=mN.exports,ON={exports:{}},Pr={},AN={exports:{}},EN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,F){var W=D.length;D.push(F);e:for(;0<W;){var G=W-1>>>1,K=D[G];if(0<s(K,F))D[G]=F,D[W]=K,W=G;else break e}}function r(D){return D.length===0?null:D[0]}function n(D){if(D.length===0)return null;var F=D[0],W=D.pop();if(W!==F){D[0]=W;e:for(var G=0,K=D.length,Z=K>>>1;G<Z;){var de=2*(G+1)-1,ke=D[de],Le=de+1,lt=D[Le];if(0>s(ke,W))Le<K&&0>s(lt,ke)?(D[G]=lt,D[Le]=W,G=Le):(D[G]=ke,D[de]=W,G=de);else if(Le<K&&0>s(lt,W))D[G]=lt,D[Le]=W,G=Le;else break e}}return F}function s(D,F){var W=D.sortIndex-F.sortIndex;return W!==0?W:D.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,d=null,h=3,p=!1,v=!1,b=!1,w=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(D){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=D)n(u),F.sortIndex=F.expirationTime,t(c,F);else break;F=r(u)}}function _(D){if(b=!1,m(D),!v)if(r(c)!==null)v=!0,$(g);else{var F=r(u);F!==null&&L(_,F.startTime-D)}}function g(D,F){v=!1,b&&(b=!1,j(S),S=-1),p=!0;var W=h;try{for(m(F),d=r(c);d!==null&&(!(d.expirationTime>F)||D&&!T());){var G=d.callback;if(typeof G=="function"){d.callback=null,h=d.priorityLevel;var K=G(d.expirationTime<=F);F=e.unstable_now(),typeof K=="function"?d.callback=K:d===r(c)&&n(c),m(F)}else n(c);d=r(c)}if(d!==null)var Z=!0;else{var de=r(u);de!==null&&L(_,de.startTime-F),Z=!1}return Z}finally{d=null,h=W,p=!1}}var y=!1,N=null,S=-1,A=5,P=-1;function T(){return!(e.unstable_now()-P<A)}function E(){if(N!==null){var D=e.unstable_now();P=D;var F=!0;try{F=N(!0,D)}finally{F?C():(y=!1,N=null)}}else y=!1}var C;if(typeof x=="function")C=function(){x(E)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,R=k.port2;k.port1.onmessage=E,C=function(){R.postMessage(null)}}else C=function(){w(E,0)};function $(D){N=D,y||(y=!0,C())}function L(D,F){S=w(function(){D(e.unstable_now())},F)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,$(g))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(D){switch(h){case 1:case 2:case 3:var F=3;break;default:F=h}var W=h;h=F;try{return D()}finally{h=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,F){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var W=h;h=D;try{return F()}finally{h=W}},e.unstable_scheduleCallback=function(D,F,W){var G=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?G+W:G):W=G,D){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=W+K,D={id:f++,callback:F,priorityLevel:D,startTime:W,expirationTime:K,sortIndex:-1},W>G?(D.sortIndex=W,t(u,D),r(c)===null&&D===r(u)&&(b?(j(S),S=-1):b=!0,L(_,W-G))):(D.sortIndex=K,t(c,D),v||p||(v=!0,$(g))),D},e.unstable_shouldYield=T,e.unstable_wrapCallback=function(D){var F=h;return function(){var W=h;h=F;try{return D.apply(this,arguments)}finally{h=W}}}})(EN);AN.exports=EN;var UP=AN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BP=O,Or=UP;function H(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var PN=new Set,Ll={};function Ba(e,t){Fi(e,t),Fi(e+"Capture",t)}function Fi(e,t){for(Ll[e]=t,e=0;e<t.length;e++)PN.add(t[e])}var Qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sm=Object.prototype.hasOwnProperty,zP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Oy={},Ay={};function qP(e){return Sm.call(Ay,e)?!0:Sm.call(Oy,e)?!1:zP.test(e)?Ay[e]=!0:(Oy[e]=!0,!1)}function WP(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function HP(e,t,r,n){if(t===null||typeof t>"u"||WP(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function sr(e,t,r,n,s,i,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}var Dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Dt[e]=new sr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Dt[t]=new sr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Dt[e]=new sr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Dt[e]=new sr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Dt[e]=new sr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Dt[e]=new sr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Dt[e]=new sr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Dt[e]=new sr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Dt[e]=new sr(e,5,!1,e.toLowerCase(),null,!1,!1)});var dx=/[\-:]([a-z])/g;function fx(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(dx,fx);Dt[t]=new sr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(dx,fx);Dt[t]=new sr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(dx,fx);Dt[t]=new sr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Dt[e]=new sr(e,1,!1,e.toLowerCase(),null,!1,!1)});Dt.xlinkHref=new sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Dt[e]=new sr(e,1,!1,e.toLowerCase(),null,!0,!0)});function hx(e,t,r,n){var s=Dt.hasOwnProperty(t)?Dt[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(HP(t,r,s,n)&&(r=null),n||s===null?qP(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var ns=BP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hu=Symbol.for("react.element"),ui=Symbol.for("react.portal"),di=Symbol.for("react.fragment"),px=Symbol.for("react.strict_mode"),Om=Symbol.for("react.profiler"),CN=Symbol.for("react.provider"),kN=Symbol.for("react.context"),mx=Symbol.for("react.forward_ref"),Am=Symbol.for("react.suspense"),Em=Symbol.for("react.suspense_list"),gx=Symbol.for("react.memo"),ms=Symbol.for("react.lazy"),TN=Symbol.for("react.offscreen"),Ey=Symbol.iterator;function Ho(e){return e===null||typeof e!="object"?null:(e=Ey&&e[Ey]||e["@@iterator"],typeof e=="function"?e:null)}var ot=Object.assign,hp;function hl(e){if(hp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);hp=t&&t[1]||""}return`
`+hp+e}var pp=!1;function mp(e,t){if(!e||pp)return"";pp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=l);break}}}finally{pp=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?hl(e):""}function KP(e){switch(e.tag){case 5:return hl(e.type);case 16:return hl("Lazy");case 13:return hl("Suspense");case 19:return hl("SuspenseList");case 0:case 2:case 15:return e=mp(e.type,!1),e;case 11:return e=mp(e.type.render,!1),e;case 1:return e=mp(e.type,!0),e;default:return""}}function Pm(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case di:return"Fragment";case ui:return"Portal";case Om:return"Profiler";case px:return"StrictMode";case Am:return"Suspense";case Em:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kN:return(e.displayName||"Context")+".Consumer";case CN:return(e._context.displayName||"Context")+".Provider";case mx:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case gx:return t=e.displayName||null,t!==null?t:Pm(e.type)||"Memo";case ms:t=e._payload,e=e._init;try{return Pm(e(t))}catch{}}return null}function VP(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Pm(t);case 8:return t===px?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Bs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $N(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function GP(e){var t=$N(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function pu(e){e._valueTracker||(e._valueTracker=GP(e))}function IN(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$N(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function cd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cm(e,t){var r=t.checked;return ot({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Py(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Bs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function RN(e,t){t=t.checked,t!=null&&hx(e,"checked",t,!1)}function km(e,t){RN(e,t);var r=Bs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Tm(e,t.type,r):t.hasOwnProperty("defaultValue")&&Tm(e,t.type,Bs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Cy(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Tm(e,t,r){(t!=="number"||cd(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var pl=Array.isArray;function Ai(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Bs(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function $m(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(H(91));return ot({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ky(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(H(92));if(pl(r)){if(1<r.length)throw Error(H(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Bs(r)}}function MN(e,t){var r=Bs(t.value),n=Bs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Ty(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function DN(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Im(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?DN(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var mu,LN=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(mu=mu||document.createElement("div"),mu.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=mu.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var bl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YP=["Webkit","ms","Moz","O"];Object.keys(bl).forEach(function(e){YP.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bl[t]=bl[e]})});function FN(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||bl.hasOwnProperty(e)&&bl[e]?(""+t).trim():t+"px"}function UN(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=FN(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var QP=ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Rm(e,t){if(t){if(QP[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(H(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(H(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(H(61))}if(t.style!=null&&typeof t.style!="object")throw Error(H(62))}}function Mm(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dm=null;function xx(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Lm=null,Ei=null,Pi=null;function $y(e){if(e=Kc(e)){if(typeof Lm!="function")throw Error(H(280));var t=e.stateNode;t&&(t=Xf(t),Lm(e.stateNode,e.type,t))}}function BN(e){Ei?Pi?Pi.push(e):Pi=[e]:Ei=e}function zN(){if(Ei){var e=Ei,t=Pi;if(Pi=Ei=null,$y(e),t)for(e=0;e<t.length;e++)$y(t[e])}}function qN(e,t){return e(t)}function WN(){}var gp=!1;function HN(e,t,r){if(gp)return e(t,r);gp=!0;try{return qN(e,t,r)}finally{gp=!1,(Ei!==null||Pi!==null)&&(WN(),zN())}}function Ul(e,t){var r=e.stateNode;if(r===null)return null;var n=Xf(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(H(231,t,typeof r));return r}var Fm=!1;if(Qn)try{var Ko={};Object.defineProperty(Ko,"passive",{get:function(){Fm=!0}}),window.addEventListener("test",Ko,Ko),window.removeEventListener("test",Ko,Ko)}catch{Fm=!1}function XP(e,t,r,n,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(f){this.onError(f)}}var wl=!1,ud=null,dd=!1,Um=null,ZP={onError:function(e){wl=!0,ud=e}};function JP(e,t,r,n,s,i,o,l,c){wl=!1,ud=null,XP.apply(ZP,arguments)}function eC(e,t,r,n,s,i,o,l,c){if(JP.apply(this,arguments),wl){if(wl){var u=ud;wl=!1,ud=null}else throw Error(H(198));dd||(dd=!0,Um=u)}}function za(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function KN(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Iy(e){if(za(e)!==e)throw Error(H(188))}function tC(e){var t=e.alternate;if(!t){if(t=za(e),t===null)throw Error(H(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Iy(s),e;if(i===n)return Iy(s),t;i=i.sibling}throw Error(H(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o)throw Error(H(189))}}if(r.alternate!==n)throw Error(H(190))}if(r.tag!==3)throw Error(H(188));return r.stateNode.current===r?e:t}function VN(e){return e=tC(e),e!==null?GN(e):null}function GN(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=GN(e);if(t!==null)return t;e=e.sibling}return null}var YN=Or.unstable_scheduleCallback,Ry=Or.unstable_cancelCallback,rC=Or.unstable_shouldYield,nC=Or.unstable_requestPaint,ft=Or.unstable_now,sC=Or.unstable_getCurrentPriorityLevel,vx=Or.unstable_ImmediatePriority,QN=Or.unstable_UserBlockingPriority,fd=Or.unstable_NormalPriority,aC=Or.unstable_LowPriority,XN=Or.unstable_IdlePriority,Vf=null,_n=null;function iC(e){if(_n&&typeof _n.onCommitFiberRoot=="function")try{_n.onCommitFiberRoot(Vf,e,void 0,(e.current.flags&128)===128)}catch{}}var un=Math.clz32?Math.clz32:cC,oC=Math.log,lC=Math.LN2;function cC(e){return e>>>=0,e===0?32:31-(oC(e)/lC|0)|0}var gu=64,xu=4194304;function ml(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hd(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes,o=r&268435455;if(o!==0){var l=o&~s;l!==0?n=ml(l):(i&=o,i!==0&&(n=ml(i)))}else o=r&~s,o!==0?n=ml(o):i!==0&&(n=ml(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,i=t&-t,s>=i||s===16&&(i&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-un(t),s=1<<r,n|=e[r],t&=~s;return n}function uC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dC(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes;0<i;){var o=31-un(i),l=1<<o,c=s[o];c===-1?(!(l&r)||l&n)&&(s[o]=uC(l,t)):c<=t&&(e.expiredLanes|=l),i&=~l}}function Bm(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ZN(){var e=gu;return gu<<=1,!(gu&4194240)&&(gu=64),e}function xp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Wc(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-un(t),e[t]=r}function fC(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-un(r),i=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~i}}function yx(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-un(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var Te=0;function JN(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var eS,bx,tS,rS,nS,zm=!1,vu=[],Cs=null,ks=null,Ts=null,Bl=new Map,zl=new Map,ys=[],hC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function My(e,t){switch(e){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":ks=null;break;case"mouseover":case"mouseout":Ts=null;break;case"pointerover":case"pointerout":Bl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(t.pointerId)}}function Vo(e,t,r,n,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},t!==null&&(t=Kc(t),t!==null&&bx(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function pC(e,t,r,n,s){switch(t){case"focusin":return Cs=Vo(Cs,e,t,r,n,s),!0;case"dragenter":return ks=Vo(ks,e,t,r,n,s),!0;case"mouseover":return Ts=Vo(Ts,e,t,r,n,s),!0;case"pointerover":var i=s.pointerId;return Bl.set(i,Vo(Bl.get(i)||null,e,t,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,zl.set(i,Vo(zl.get(i)||null,e,t,r,n,s)),!0}return!1}function sS(e){var t=ha(e.target);if(t!==null){var r=za(t);if(r!==null){if(t=r.tag,t===13){if(t=KN(r),t!==null){e.blockedOn=t,nS(e.priority,function(){tS(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Qu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=qm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Dm=n,r.target.dispatchEvent(n),Dm=null}else return t=Kc(r),t!==null&&bx(t),e.blockedOn=r,!1;t.shift()}return!0}function Dy(e,t,r){Qu(e)&&r.delete(t)}function mC(){zm=!1,Cs!==null&&Qu(Cs)&&(Cs=null),ks!==null&&Qu(ks)&&(ks=null),Ts!==null&&Qu(Ts)&&(Ts=null),Bl.forEach(Dy),zl.forEach(Dy)}function Go(e,t){e.blockedOn===t&&(e.blockedOn=null,zm||(zm=!0,Or.unstable_scheduleCallback(Or.unstable_NormalPriority,mC)))}function ql(e){function t(s){return Go(s,e)}if(0<vu.length){Go(vu[0],e);for(var r=1;r<vu.length;r++){var n=vu[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Cs!==null&&Go(Cs,e),ks!==null&&Go(ks,e),Ts!==null&&Go(Ts,e),Bl.forEach(t),zl.forEach(t),r=0;r<ys.length;r++)n=ys[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ys.length&&(r=ys[0],r.blockedOn===null);)sS(r),r.blockedOn===null&&ys.shift()}var Ci=ns.ReactCurrentBatchConfig,pd=!0;function gC(e,t,r,n){var s=Te,i=Ci.transition;Ci.transition=null;try{Te=1,wx(e,t,r,n)}finally{Te=s,Ci.transition=i}}function xC(e,t,r,n){var s=Te,i=Ci.transition;Ci.transition=null;try{Te=4,wx(e,t,r,n)}finally{Te=s,Ci.transition=i}}function wx(e,t,r,n){if(pd){var s=qm(e,t,r,n);if(s===null)Ap(e,t,n,md,r),My(e,n);else if(pC(s,e,t,r,n))n.stopPropagation();else if(My(e,n),t&4&&-1<hC.indexOf(e)){for(;s!==null;){var i=Kc(s);if(i!==null&&eS(i),i=qm(e,t,r,n),i===null&&Ap(e,t,n,md,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Ap(e,t,n,null,r)}}var md=null;function qm(e,t,r,n){if(md=null,e=xx(n),e=ha(e),e!==null)if(t=za(e),t===null)e=null;else if(r=t.tag,r===13){if(e=KN(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return md=e,null}function aS(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sC()){case vx:return 1;case QN:return 4;case fd:case aC:return 16;case XN:return 536870912;default:return 16}default:return 16}}var Ns=null,jx=null,Xu=null;function iS(){if(Xu)return Xu;var e,t=jx,r=t.length,n,s="value"in Ns?Ns.value:Ns.textContent,i=s.length;for(e=0;e<r&&t[e]===s[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===s[i-n];n++);return Xu=s.slice(e,1<n?1-n:void 0)}function Zu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function yu(){return!0}function Ly(){return!1}function Cr(e){function t(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?yu:Ly,this.isPropagationStopped=Ly,this}return ot(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=yu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=yu)},persist:function(){},isPersistent:yu}),t}var _o={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_x=Cr(_o),Hc=ot({},_o,{view:0,detail:0}),vC=Cr(Hc),vp,yp,Yo,Gf=ot({},Hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nx,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yo&&(Yo&&e.type==="mousemove"?(vp=e.screenX-Yo.screenX,yp=e.screenY-Yo.screenY):yp=vp=0,Yo=e),vp)},movementY:function(e){return"movementY"in e?e.movementY:yp}}),Fy=Cr(Gf),yC=ot({},Gf,{dataTransfer:0}),bC=Cr(yC),wC=ot({},Hc,{relatedTarget:0}),bp=Cr(wC),jC=ot({},_o,{animationName:0,elapsedTime:0,pseudoElement:0}),_C=Cr(jC),NC=ot({},_o,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),SC=Cr(NC),OC=ot({},_o,{data:0}),Uy=Cr(OC),AC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function CC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=PC[e])?!!t[e]:!1}function Nx(){return CC}var kC=ot({},Hc,{key:function(e){if(e.key){var t=AC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?EC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nx,charCode:function(e){return e.type==="keypress"?Zu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),TC=Cr(kC),$C=ot({},Gf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),By=Cr($C),IC=ot({},Hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nx}),RC=Cr(IC),MC=ot({},_o,{propertyName:0,elapsedTime:0,pseudoElement:0}),DC=Cr(MC),LC=ot({},Gf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),FC=Cr(LC),UC=[9,13,27,32],Sx=Qn&&"CompositionEvent"in window,jl=null;Qn&&"documentMode"in document&&(jl=document.documentMode);var BC=Qn&&"TextEvent"in window&&!jl,oS=Qn&&(!Sx||jl&&8<jl&&11>=jl),zy=" ",qy=!1;function lS(e,t){switch(e){case"keyup":return UC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function cS(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fi=!1;function zC(e,t){switch(e){case"compositionend":return cS(t);case"keypress":return t.which!==32?null:(qy=!0,zy);case"textInput":return e=t.data,e===zy&&qy?null:e;default:return null}}function qC(e,t){if(fi)return e==="compositionend"||!Sx&&lS(e,t)?(e=iS(),Xu=jx=Ns=null,fi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return oS&&t.locale!=="ko"?null:t.data;default:return null}}var WC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wy(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!WC[e.type]:t==="textarea"}function uS(e,t,r,n){BN(n),t=gd(t,"onChange"),0<t.length&&(r=new _x("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var _l=null,Wl=null;function HC(e){wS(e,0)}function Yf(e){var t=mi(e);if(IN(t))return e}function KC(e,t){if(e==="change")return t}var dS=!1;if(Qn){var wp;if(Qn){var jp="oninput"in document;if(!jp){var Hy=document.createElement("div");Hy.setAttribute("oninput","return;"),jp=typeof Hy.oninput=="function"}wp=jp}else wp=!1;dS=wp&&(!document.documentMode||9<document.documentMode)}function Ky(){_l&&(_l.detachEvent("onpropertychange",fS),Wl=_l=null)}function fS(e){if(e.propertyName==="value"&&Yf(Wl)){var t=[];uS(t,Wl,e,xx(e)),HN(HC,t)}}function VC(e,t,r){e==="focusin"?(Ky(),_l=t,Wl=r,_l.attachEvent("onpropertychange",fS)):e==="focusout"&&Ky()}function GC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Yf(Wl)}function YC(e,t){if(e==="click")return Yf(t)}function QC(e,t){if(e==="input"||e==="change")return Yf(t)}function XC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pn=typeof Object.is=="function"?Object.is:XC;function Hl(e,t){if(pn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Sm.call(t,s)||!pn(e[s],t[s]))return!1}return!0}function Vy(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gy(e,t){var r=Vy(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vy(r)}}function hS(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hS(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pS(){for(var e=window,t=cd();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=cd(e.document)}return t}function Ox(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ZC(e){var t=pS(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&hS(r.ownerDocument.documentElement,r)){if(n!==null&&Ox(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!e.extend&&i>n&&(s=n,n=i,i=s),s=Gy(r,i);var o=Gy(r,n);s&&o&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),i>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var JC=Qn&&"documentMode"in document&&11>=document.documentMode,hi=null,Wm=null,Nl=null,Hm=!1;function Yy(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Hm||hi==null||hi!==cd(n)||(n=hi,"selectionStart"in n&&Ox(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Nl&&Hl(Nl,n)||(Nl=n,n=gd(Wm,"onSelect"),0<n.length&&(t=new _x("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=hi)))}function bu(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var pi={animationend:bu("Animation","AnimationEnd"),animationiteration:bu("Animation","AnimationIteration"),animationstart:bu("Animation","AnimationStart"),transitionend:bu("Transition","TransitionEnd")},_p={},mS={};Qn&&(mS=document.createElement("div").style,"AnimationEvent"in window||(delete pi.animationend.animation,delete pi.animationiteration.animation,delete pi.animationstart.animation),"TransitionEvent"in window||delete pi.transitionend.transition);function Qf(e){if(_p[e])return _p[e];if(!pi[e])return e;var t=pi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in mS)return _p[e]=t[r];return e}var gS=Qf("animationend"),xS=Qf("animationiteration"),vS=Qf("animationstart"),yS=Qf("transitionend"),bS=new Map,Qy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ws(e,t){bS.set(e,t),Ba(t,[e])}for(var Np=0;Np<Qy.length;Np++){var Sp=Qy[Np],e6=Sp.toLowerCase(),t6=Sp[0].toUpperCase()+Sp.slice(1);Ws(e6,"on"+t6)}Ws(gS,"onAnimationEnd");Ws(xS,"onAnimationIteration");Ws(vS,"onAnimationStart");Ws("dblclick","onDoubleClick");Ws("focusin","onFocus");Ws("focusout","onBlur");Ws(yS,"onTransitionEnd");Fi("onMouseEnter",["mouseout","mouseover"]);Fi("onMouseLeave",["mouseout","mouseover"]);Fi("onPointerEnter",["pointerout","pointerover"]);Fi("onPointerLeave",["pointerout","pointerover"]);Ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ba("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r6=new Set("cancel close invalid load scroll toggle".split(" ").concat(gl));function Xy(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,eC(n,t,void 0,e),e.currentTarget=null}function wS(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Xy(s,l,u),i=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Xy(s,l,u),i=c}}}if(dd)throw e=Um,dd=!1,Um=null,e}function Ye(e,t){var r=t[Qm];r===void 0&&(r=t[Qm]=new Set);var n=e+"__bubble";r.has(n)||(jS(t,e,2,!1),r.add(n))}function Op(e,t,r){var n=0;t&&(n|=4),jS(r,e,n,t)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Kl(e){if(!e[wu]){e[wu]=!0,PN.forEach(function(r){r!=="selectionchange"&&(r6.has(r)||Op(r,!1,e),Op(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[wu]||(t[wu]=!0,Op("selectionchange",!1,t))}}function jS(e,t,r,n){switch(aS(t)){case 1:var s=gC;break;case 4:s=xC;break;default:s=wx}r=s.bind(null,t,r,e),s=void 0,!Fm||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Ap(e,t,r,n,s){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=ha(l),o===null)return;if(c=o.tag,c===5||c===6){n=i=o;continue e}l=l.parentNode}}n=n.return}HN(function(){var u=i,f=xx(r),d=[];e:{var h=bS.get(e);if(h!==void 0){var p=_x,v=e;switch(e){case"keypress":if(Zu(r)===0)break e;case"keydown":case"keyup":p=TC;break;case"focusin":v="focus",p=bp;break;case"focusout":v="blur",p=bp;break;case"beforeblur":case"afterblur":p=bp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Fy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=bC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=RC;break;case gS:case xS:case vS:p=_C;break;case yS:p=DC;break;case"scroll":p=vC;break;case"wheel":p=FC;break;case"copy":case"cut":case"paste":p=SC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=By}var b=(t&4)!==0,w=!b&&e==="scroll",j=b?h!==null?h+"Capture":null:h;b=[];for(var x=u,m;x!==null;){m=x;var _=m.stateNode;if(m.tag===5&&_!==null&&(m=_,j!==null&&(_=Ul(x,j),_!=null&&b.push(Vl(x,_,m)))),w)break;x=x.return}0<b.length&&(h=new p(h,v,null,r,f),d.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==Dm&&(v=r.relatedTarget||r.fromElement)&&(ha(v)||v[Xn]))break e;if((p||h)&&(h=f.window===f?f:(h=f.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?ha(v):null,v!==null&&(w=za(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(b=Fy,_="onMouseLeave",j="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(b=By,_="onPointerLeave",j="onPointerEnter",x="pointer"),w=p==null?h:mi(p),m=v==null?h:mi(v),h=new b(_,x+"leave",p,r,f),h.target=w,h.relatedTarget=m,_=null,ha(f)===u&&(b=new b(j,x+"enter",v,r,f),b.target=m,b.relatedTarget=w,_=b),w=_,p&&v)t:{for(b=p,j=v,x=0,m=b;m;m=Qa(m))x++;for(m=0,_=j;_;_=Qa(_))m++;for(;0<x-m;)b=Qa(b),x--;for(;0<m-x;)j=Qa(j),m--;for(;x--;){if(b===j||j!==null&&b===j.alternate)break t;b=Qa(b),j=Qa(j)}b=null}else b=null;p!==null&&Zy(d,h,p,b,!1),v!==null&&w!==null&&Zy(d,w,v,b,!0)}}e:{if(h=u?mi(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var g=KC;else if(Wy(h))if(dS)g=QC;else{g=GC;var y=VC}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(g=YC);if(g&&(g=g(e,u))){uS(d,g,r,f);break e}y&&y(e,h,u),e==="focusout"&&(y=h._wrapperState)&&y.controlled&&h.type==="number"&&Tm(h,"number",h.value)}switch(y=u?mi(u):window,e){case"focusin":(Wy(y)||y.contentEditable==="true")&&(hi=y,Wm=u,Nl=null);break;case"focusout":Nl=Wm=hi=null;break;case"mousedown":Hm=!0;break;case"contextmenu":case"mouseup":case"dragend":Hm=!1,Yy(d,r,f);break;case"selectionchange":if(JC)break;case"keydown":case"keyup":Yy(d,r,f)}var N;if(Sx)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else fi?lS(e,r)&&(S="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(oS&&r.locale!=="ko"&&(fi||S!=="onCompositionStart"?S==="onCompositionEnd"&&fi&&(N=iS()):(Ns=f,jx="value"in Ns?Ns.value:Ns.textContent,fi=!0)),y=gd(u,S),0<y.length&&(S=new Uy(S,e,null,r,f),d.push({event:S,listeners:y}),N?S.data=N:(N=cS(r),N!==null&&(S.data=N)))),(N=BC?zC(e,r):qC(e,r))&&(u=gd(u,"onBeforeInput"),0<u.length&&(f=new Uy("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:u}),f.data=N))}wS(d,t)})}function Vl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function gd(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ul(e,r),i!=null&&n.unshift(Vl(e,i,s)),i=Ul(e,t),i!=null&&n.push(Vl(e,i,s))),e=e.return}return n}function Qa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zy(e,t,r,n,s){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Ul(r,i),c!=null&&o.unshift(Vl(r,c,l))):s||(c=Ul(r,i),c!=null&&o.push(Vl(r,c,l)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var n6=/\r\n?/g,s6=/\u0000|\uFFFD/g;function Jy(e){return(typeof e=="string"?e:""+e).replace(n6,`
`).replace(s6,"")}function ju(e,t,r){if(t=Jy(t),Jy(e)!==t&&r)throw Error(H(425))}function xd(){}var Km=null,Vm=null;function Gm(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ym=typeof setTimeout=="function"?setTimeout:void 0,a6=typeof clearTimeout=="function"?clearTimeout:void 0,eb=typeof Promise=="function"?Promise:void 0,i6=typeof queueMicrotask=="function"?queueMicrotask:typeof eb<"u"?function(e){return eb.resolve(null).then(e).catch(o6)}:Ym;function o6(e){setTimeout(function(){throw e})}function Ep(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),ql(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);ql(t)}function $s(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function tb(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var No=Math.random().toString(36).slice(2),bn="__reactFiber$"+No,Gl="__reactProps$"+No,Xn="__reactContainer$"+No,Qm="__reactEvents$"+No,l6="__reactListeners$"+No,c6="__reactHandles$"+No;function ha(e){var t=e[bn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Xn]||r[bn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=tb(e);e!==null;){if(r=e[bn])return r;e=tb(e)}return t}e=r,r=e.parentNode}return null}function Kc(e){return e=e[bn]||e[Xn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function mi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(H(33))}function Xf(e){return e[Gl]||null}var Xm=[],gi=-1;function Hs(e){return{current:e}}function Ze(e){0>gi||(e.current=Xm[gi],Xm[gi]=null,gi--)}function He(e,t){gi++,Xm[gi]=e.current,e.current=t}var zs={},Kt=Hs(zs),fr=Hs(!1),Sa=zs;function Ui(e,t){var r=e.type.contextTypes;if(!r)return zs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=t[i];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function hr(e){return e=e.childContextTypes,e!=null}function vd(){Ze(fr),Ze(Kt)}function rb(e,t,r){if(Kt.current!==zs)throw Error(H(168));He(Kt,t),He(fr,r)}function _S(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(H(108,VP(e)||"Unknown",s));return ot({},r,n)}function yd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||zs,Sa=Kt.current,He(Kt,e),He(fr,fr.current),!0}function nb(e,t,r){var n=e.stateNode;if(!n)throw Error(H(169));r?(e=_S(e,t,Sa),n.__reactInternalMemoizedMergedChildContext=e,Ze(fr),Ze(Kt),He(Kt,e)):Ze(fr),He(fr,r)}var Ln=null,Zf=!1,Pp=!1;function NS(e){Ln===null?Ln=[e]:Ln.push(e)}function u6(e){Zf=!0,NS(e)}function Ks(){if(!Pp&&Ln!==null){Pp=!0;var e=0,t=Te;try{var r=Ln;for(Te=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ln=null,Zf=!1}catch(s){throw Ln!==null&&(Ln=Ln.slice(e+1)),YN(vx,Ks),s}finally{Te=t,Pp=!1}}return null}var xi=[],vi=0,bd=null,wd=0,Rr=[],Mr=0,Oa=null,Fn=1,Un="";function aa(e,t){xi[vi++]=wd,xi[vi++]=bd,bd=e,wd=t}function SS(e,t,r){Rr[Mr++]=Fn,Rr[Mr++]=Un,Rr[Mr++]=Oa,Oa=e;var n=Fn;e=Un;var s=32-un(n)-1;n&=~(1<<s),r+=1;var i=32-un(t)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Fn=1<<32-un(t)+s|r<<s|n,Un=i+e}else Fn=1<<i|r<<s|n,Un=e}function Ax(e){e.return!==null&&(aa(e,1),SS(e,1,0))}function Ex(e){for(;e===bd;)bd=xi[--vi],xi[vi]=null,wd=xi[--vi],xi[vi]=null;for(;e===Oa;)Oa=Rr[--Mr],Rr[Mr]=null,Un=Rr[--Mr],Rr[Mr]=null,Fn=Rr[--Mr],Rr[Mr]=null}var _r=null,jr=null,tt=!1,an=null;function OS(e,t){var r=Br(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function sb(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,_r=e,jr=$s(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,_r=e,jr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Oa!==null?{id:Fn,overflow:Un}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Br(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,_r=e,jr=null,!0):!1;default:return!1}}function Zm(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Jm(e){if(tt){var t=jr;if(t){var r=t;if(!sb(e,t)){if(Zm(e))throw Error(H(418));t=$s(r.nextSibling);var n=_r;t&&sb(e,t)?OS(n,r):(e.flags=e.flags&-4097|2,tt=!1,_r=e)}}else{if(Zm(e))throw Error(H(418));e.flags=e.flags&-4097|2,tt=!1,_r=e}}}function ab(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_r=e}function _u(e){if(e!==_r)return!1;if(!tt)return ab(e),tt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Gm(e.type,e.memoizedProps)),t&&(t=jr)){if(Zm(e))throw AS(),Error(H(418));for(;t;)OS(e,t),t=$s(t.nextSibling)}if(ab(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(H(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){jr=$s(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}jr=null}}else jr=_r?$s(e.stateNode.nextSibling):null;return!0}function AS(){for(var e=jr;e;)e=$s(e.nextSibling)}function Bi(){jr=_r=null,tt=!1}function Px(e){an===null?an=[e]:an.push(e)}var d6=ns.ReactCurrentBatchConfig;function Qo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(H(309));var n=r.stateNode}if(!n)throw Error(H(147,e));var s=n,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},t._stringRef=i,t)}if(typeof e!="string")throw Error(H(284));if(!r._owner)throw Error(H(290,e))}return e}function Nu(e,t){throw e=Object.prototype.toString.call(t),Error(H(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ib(e){var t=e._init;return t(e._payload)}function ES(e){function t(j,x){if(e){var m=j.deletions;m===null?(j.deletions=[x],j.flags|=16):m.push(x)}}function r(j,x){if(!e)return null;for(;x!==null;)t(j,x),x=x.sibling;return null}function n(j,x){for(j=new Map;x!==null;)x.key!==null?j.set(x.key,x):j.set(x.index,x),x=x.sibling;return j}function s(j,x){return j=Ds(j,x),j.index=0,j.sibling=null,j}function i(j,x,m){return j.index=m,e?(m=j.alternate,m!==null?(m=m.index,m<x?(j.flags|=2,x):m):(j.flags|=2,x)):(j.flags|=1048576,x)}function o(j){return e&&j.alternate===null&&(j.flags|=2),j}function l(j,x,m,_){return x===null||x.tag!==6?(x=Mp(m,j.mode,_),x.return=j,x):(x=s(x,m),x.return=j,x)}function c(j,x,m,_){var g=m.type;return g===di?f(j,x,m.props.children,_,m.key):x!==null&&(x.elementType===g||typeof g=="object"&&g!==null&&g.$$typeof===ms&&ib(g)===x.type)?(_=s(x,m.props),_.ref=Qo(j,x,m),_.return=j,_):(_=ad(m.type,m.key,m.props,null,j.mode,_),_.ref=Qo(j,x,m),_.return=j,_)}function u(j,x,m,_){return x===null||x.tag!==4||x.stateNode.containerInfo!==m.containerInfo||x.stateNode.implementation!==m.implementation?(x=Dp(m,j.mode,_),x.return=j,x):(x=s(x,m.children||[]),x.return=j,x)}function f(j,x,m,_,g){return x===null||x.tag!==7?(x=wa(m,j.mode,_,g),x.return=j,x):(x=s(x,m),x.return=j,x)}function d(j,x,m){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Mp(""+x,j.mode,m),x.return=j,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case hu:return m=ad(x.type,x.key,x.props,null,j.mode,m),m.ref=Qo(j,null,x),m.return=j,m;case ui:return x=Dp(x,j.mode,m),x.return=j,x;case ms:var _=x._init;return d(j,_(x._payload),m)}if(pl(x)||Ho(x))return x=wa(x,j.mode,m,null),x.return=j,x;Nu(j,x)}return null}function h(j,x,m,_){var g=x!==null?x.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return g!==null?null:l(j,x,""+m,_);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case hu:return m.key===g?c(j,x,m,_):null;case ui:return m.key===g?u(j,x,m,_):null;case ms:return g=m._init,h(j,x,g(m._payload),_)}if(pl(m)||Ho(m))return g!==null?null:f(j,x,m,_,null);Nu(j,m)}return null}function p(j,x,m,_,g){if(typeof _=="string"&&_!==""||typeof _=="number")return j=j.get(m)||null,l(x,j,""+_,g);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case hu:return j=j.get(_.key===null?m:_.key)||null,c(x,j,_,g);case ui:return j=j.get(_.key===null?m:_.key)||null,u(x,j,_,g);case ms:var y=_._init;return p(j,x,m,y(_._payload),g)}if(pl(_)||Ho(_))return j=j.get(m)||null,f(x,j,_,g,null);Nu(x,_)}return null}function v(j,x,m,_){for(var g=null,y=null,N=x,S=x=0,A=null;N!==null&&S<m.length;S++){N.index>S?(A=N,N=null):A=N.sibling;var P=h(j,N,m[S],_);if(P===null){N===null&&(N=A);break}e&&N&&P.alternate===null&&t(j,N),x=i(P,x,S),y===null?g=P:y.sibling=P,y=P,N=A}if(S===m.length)return r(j,N),tt&&aa(j,S),g;if(N===null){for(;S<m.length;S++)N=d(j,m[S],_),N!==null&&(x=i(N,x,S),y===null?g=N:y.sibling=N,y=N);return tt&&aa(j,S),g}for(N=n(j,N);S<m.length;S++)A=p(N,j,S,m[S],_),A!==null&&(e&&A.alternate!==null&&N.delete(A.key===null?S:A.key),x=i(A,x,S),y===null?g=A:y.sibling=A,y=A);return e&&N.forEach(function(T){return t(j,T)}),tt&&aa(j,S),g}function b(j,x,m,_){var g=Ho(m);if(typeof g!="function")throw Error(H(150));if(m=g.call(m),m==null)throw Error(H(151));for(var y=g=null,N=x,S=x=0,A=null,P=m.next();N!==null&&!P.done;S++,P=m.next()){N.index>S?(A=N,N=null):A=N.sibling;var T=h(j,N,P.value,_);if(T===null){N===null&&(N=A);break}e&&N&&T.alternate===null&&t(j,N),x=i(T,x,S),y===null?g=T:y.sibling=T,y=T,N=A}if(P.done)return r(j,N),tt&&aa(j,S),g;if(N===null){for(;!P.done;S++,P=m.next())P=d(j,P.value,_),P!==null&&(x=i(P,x,S),y===null?g=P:y.sibling=P,y=P);return tt&&aa(j,S),g}for(N=n(j,N);!P.done;S++,P=m.next())P=p(N,j,S,P.value,_),P!==null&&(e&&P.alternate!==null&&N.delete(P.key===null?S:P.key),x=i(P,x,S),y===null?g=P:y.sibling=P,y=P);return e&&N.forEach(function(E){return t(j,E)}),tt&&aa(j,S),g}function w(j,x,m,_){if(typeof m=="object"&&m!==null&&m.type===di&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case hu:e:{for(var g=m.key,y=x;y!==null;){if(y.key===g){if(g=m.type,g===di){if(y.tag===7){r(j,y.sibling),x=s(y,m.props.children),x.return=j,j=x;break e}}else if(y.elementType===g||typeof g=="object"&&g!==null&&g.$$typeof===ms&&ib(g)===y.type){r(j,y.sibling),x=s(y,m.props),x.ref=Qo(j,y,m),x.return=j,j=x;break e}r(j,y);break}else t(j,y);y=y.sibling}m.type===di?(x=wa(m.props.children,j.mode,_,m.key),x.return=j,j=x):(_=ad(m.type,m.key,m.props,null,j.mode,_),_.ref=Qo(j,x,m),_.return=j,j=_)}return o(j);case ui:e:{for(y=m.key;x!==null;){if(x.key===y)if(x.tag===4&&x.stateNode.containerInfo===m.containerInfo&&x.stateNode.implementation===m.implementation){r(j,x.sibling),x=s(x,m.children||[]),x.return=j,j=x;break e}else{r(j,x);break}else t(j,x);x=x.sibling}x=Dp(m,j.mode,_),x.return=j,j=x}return o(j);case ms:return y=m._init,w(j,x,y(m._payload),_)}if(pl(m))return v(j,x,m,_);if(Ho(m))return b(j,x,m,_);Nu(j,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,x!==null&&x.tag===6?(r(j,x.sibling),x=s(x,m),x.return=j,j=x):(r(j,x),x=Mp(m,j.mode,_),x.return=j,j=x),o(j)):r(j,x)}return w}var zi=ES(!0),PS=ES(!1),jd=Hs(null),_d=null,yi=null,Cx=null;function kx(){Cx=yi=_d=null}function Tx(e){var t=jd.current;Ze(jd),e._currentValue=t}function e0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ki(e,t){_d=e,Cx=yi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ur=!0),e.firstContext=null)}function Wr(e){var t=e._currentValue;if(Cx!==e)if(e={context:e,memoizedValue:t,next:null},yi===null){if(_d===null)throw Error(H(308));yi=e,_d.dependencies={lanes:0,firstContext:e}}else yi=yi.next=e;return t}var pa=null;function $x(e){pa===null?pa=[e]:pa.push(e)}function CS(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,$x(t)):(r.next=s.next,s.next=r),t.interleaved=r,Zn(e,n)}function Zn(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var gs=!1;function Ix(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Kn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Is(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,_e&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,Zn(e,r)}return s=n.interleaved,s===null?(t.next=t,$x(n)):(t.next=s.next,s.next=t),n.interleaved=t,Zn(e,r)}function Ju(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yx(e,r)}}function ob(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=t:i=i.next=t}else s=i=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Nd(e,t,r,n){var s=e.updateQueue;gs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=u:l.next=u,f.lastBaseUpdate=c))}if(i!==null){var d=s.baseState;o=0,f=u=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((n&h)===h){f!==null&&(f=f.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,b=l;switch(h=t,p=r,b.tag){case 1:if(v=b.payload,typeof v=="function"){d=v.call(p,d,h);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,h=typeof v=="function"?v.call(p,d,h):v,h==null)break e;d=ot({},d,h);break e;case 2:gs=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(u=f=p,c=d):f=f.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(f===null&&(c=d),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do o|=s.lane,s=s.next;while(s!==t)}else i===null&&(s.shared.lanes=0);Ea|=o,e.lanes=o,e.memoizedState=d}}function lb(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(H(191,s));s.call(n)}}}var Vc={},Nn=Hs(Vc),Yl=Hs(Vc),Ql=Hs(Vc);function ma(e){if(e===Vc)throw Error(H(174));return e}function Rx(e,t){switch(He(Ql,t),He(Yl,e),He(Nn,Vc),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Im(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Im(t,e)}Ze(Nn),He(Nn,t)}function qi(){Ze(Nn),Ze(Yl),Ze(Ql)}function TS(e){ma(Ql.current);var t=ma(Nn.current),r=Im(t,e.type);t!==r&&(He(Yl,e),He(Nn,r))}function Mx(e){Yl.current===e&&(Ze(Nn),Ze(Yl))}var st=Hs(0);function Sd(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cp=[];function Dx(){for(var e=0;e<Cp.length;e++)Cp[e]._workInProgressVersionPrimary=null;Cp.length=0}var ed=ns.ReactCurrentDispatcher,kp=ns.ReactCurrentBatchConfig,Aa=0,at=null,yt=null,At=null,Od=!1,Sl=!1,Xl=0,f6=0;function Lt(){throw Error(H(321))}function Lx(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pn(e[r],t[r]))return!1;return!0}function Fx(e,t,r,n,s,i){if(Aa=i,at=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ed.current=e===null||e.memoizedState===null?g6:x6,e=r(n,s),Sl){i=0;do{if(Sl=!1,Xl=0,25<=i)throw Error(H(301));i+=1,At=yt=null,t.updateQueue=null,ed.current=v6,e=r(n,s)}while(Sl)}if(ed.current=Ad,t=yt!==null&&yt.next!==null,Aa=0,At=yt=at=null,Od=!1,t)throw Error(H(300));return e}function Ux(){var e=Xl!==0;return Xl=0,e}function vn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?at.memoizedState=At=e:At=At.next=e,At}function Hr(){if(yt===null){var e=at.alternate;e=e!==null?e.memoizedState:null}else e=yt.next;var t=At===null?at.memoizedState:At.next;if(t!==null)At=t,yt=e;else{if(e===null)throw Error(H(310));yt=e,e={memoizedState:yt.memoizedState,baseState:yt.baseState,baseQueue:yt.baseQueue,queue:yt.queue,next:null},At===null?at.memoizedState=At=e:At=At.next=e}return At}function Zl(e,t){return typeof t=="function"?t(e):t}function Tp(e){var t=Hr(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var n=yt,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var l=o=null,c=null,u=i;do{var f=u.lane;if((Aa&f)===f)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:f,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=d,o=n):c=c.next=d,at.lanes|=f,Ea|=f}u=u.next}while(u!==null&&u!==i);c===null?o=n:c.next=l,pn(n,t.memoizedState)||(ur=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do i=s.lane,at.lanes|=i,Ea|=i,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function $p(e){var t=Hr(),r=t.queue;if(r===null)throw Error(H(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,i=t.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=e(i,o.action),o=o.next;while(o!==s);pn(i,t.memoizedState)||(ur=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function $S(){}function IS(e,t){var r=at,n=Hr(),s=t(),i=!pn(n.memoizedState,s);if(i&&(n.memoizedState=s,ur=!0),n=n.queue,Bx(DS.bind(null,r,n,e),[e]),n.getSnapshot!==t||i||At!==null&&At.memoizedState.tag&1){if(r.flags|=2048,Jl(9,MS.bind(null,r,n,s,t),void 0,null),Pt===null)throw Error(H(349));Aa&30||RS(r,t,s)}return s}function RS(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function MS(e,t,r,n){t.value=r,t.getSnapshot=n,LS(t)&&FS(e)}function DS(e,t,r){return r(function(){LS(t)&&FS(e)})}function LS(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pn(e,r)}catch{return!0}}function FS(e){var t=Zn(e,1);t!==null&&dn(t,e,1,-1)}function cb(e){var t=vn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zl,lastRenderedState:e},t.queue=e,e=e.dispatch=m6.bind(null,at,e),[t.memoizedState,e]}function Jl(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=at.updateQueue,t===null?(t={lastEffect:null,stores:null},at.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function US(){return Hr().memoizedState}function td(e,t,r,n){var s=vn();at.flags|=e,s.memoizedState=Jl(1|t,r,void 0,n===void 0?null:n)}function Jf(e,t,r,n){var s=Hr();n=n===void 0?null:n;var i=void 0;if(yt!==null){var o=yt.memoizedState;if(i=o.destroy,n!==null&&Lx(n,o.deps)){s.memoizedState=Jl(t,r,i,n);return}}at.flags|=e,s.memoizedState=Jl(1|t,r,i,n)}function ub(e,t){return td(8390656,8,e,t)}function Bx(e,t){return Jf(2048,8,e,t)}function BS(e,t){return Jf(4,2,e,t)}function zS(e,t){return Jf(4,4,e,t)}function qS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function WS(e,t,r){return r=r!=null?r.concat([e]):null,Jf(4,4,qS.bind(null,t,e),r)}function zx(){}function HS(e,t){var r=Hr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Lx(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function KS(e,t){var r=Hr();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Lx(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function VS(e,t,r){return Aa&21?(pn(r,t)||(r=ZN(),at.lanes|=r,Ea|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ur=!0),e.memoizedState=r)}function h6(e,t){var r=Te;Te=r!==0&&4>r?r:4,e(!0);var n=kp.transition;kp.transition={};try{e(!1),t()}finally{Te=r,kp.transition=n}}function GS(){return Hr().memoizedState}function p6(e,t,r){var n=Ms(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},YS(e))QS(t,r);else if(r=CS(e,t,r,n),r!==null){var s=tr();dn(r,e,n,s),XS(r,t,n)}}function m6(e,t,r){var n=Ms(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(YS(e))QS(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(s.hasEagerState=!0,s.eagerState=l,pn(l,o)){var c=t.interleaved;c===null?(s.next=s,$x(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=CS(e,t,s,n),r!==null&&(s=tr(),dn(r,e,n,s),XS(r,t,n))}}function YS(e){var t=e.alternate;return e===at||t!==null&&t===at}function QS(e,t){Sl=Od=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function XS(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,yx(e,r)}}var Ad={readContext:Wr,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},g6={readContext:Wr,useCallback:function(e,t){return vn().memoizedState=[e,t===void 0?null:t],e},useContext:Wr,useEffect:ub,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,td(4194308,4,qS.bind(null,t,e),r)},useLayoutEffect:function(e,t){return td(4194308,4,e,t)},useInsertionEffect:function(e,t){return td(4,2,e,t)},useMemo:function(e,t){var r=vn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=vn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=p6.bind(null,at,e),[n.memoizedState,e]},useRef:function(e){var t=vn();return e={current:e},t.memoizedState=e},useState:cb,useDebugValue:zx,useDeferredValue:function(e){return vn().memoizedState=e},useTransition:function(){var e=cb(!1),t=e[0];return e=h6.bind(null,e[1]),vn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=at,s=vn();if(tt){if(r===void 0)throw Error(H(407));r=r()}else{if(r=t(),Pt===null)throw Error(H(349));Aa&30||RS(n,t,r)}s.memoizedState=r;var i={value:r,getSnapshot:t};return s.queue=i,ub(DS.bind(null,n,i,e),[e]),n.flags|=2048,Jl(9,MS.bind(null,n,i,r,t),void 0,null),r},useId:function(){var e=vn(),t=Pt.identifierPrefix;if(tt){var r=Un,n=Fn;r=(n&~(1<<32-un(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Xl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=f6++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},x6={readContext:Wr,useCallback:HS,useContext:Wr,useEffect:Bx,useImperativeHandle:WS,useInsertionEffect:BS,useLayoutEffect:zS,useMemo:KS,useReducer:Tp,useRef:US,useState:function(){return Tp(Zl)},useDebugValue:zx,useDeferredValue:function(e){var t=Hr();return VS(t,yt.memoizedState,e)},useTransition:function(){var e=Tp(Zl)[0],t=Hr().memoizedState;return[e,t]},useMutableSource:$S,useSyncExternalStore:IS,useId:GS,unstable_isNewReconciler:!1},v6={readContext:Wr,useCallback:HS,useContext:Wr,useEffect:Bx,useImperativeHandle:WS,useInsertionEffect:BS,useLayoutEffect:zS,useMemo:KS,useReducer:$p,useRef:US,useState:function(){return $p(Zl)},useDebugValue:zx,useDeferredValue:function(e){var t=Hr();return yt===null?t.memoizedState=e:VS(t,yt.memoizedState,e)},useTransition:function(){var e=$p(Zl)[0],t=Hr().memoizedState;return[e,t]},useMutableSource:$S,useSyncExternalStore:IS,useId:GS,unstable_isNewReconciler:!1};function en(e,t){if(e&&e.defaultProps){t=ot({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function t0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ot({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var eh={isMounted:function(e){return(e=e._reactInternals)?za(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=tr(),s=Ms(e),i=Kn(n,s);i.payload=t,r!=null&&(i.callback=r),t=Is(e,i,s),t!==null&&(dn(t,e,s,n),Ju(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=tr(),s=Ms(e),i=Kn(n,s);i.tag=1,i.payload=t,r!=null&&(i.callback=r),t=Is(e,i,s),t!==null&&(dn(t,e,s,n),Ju(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=tr(),n=Ms(e),s=Kn(r,n);s.tag=2,t!=null&&(s.callback=t),t=Is(e,s,n),t!==null&&(dn(t,e,n,r),Ju(t,e,n))}};function db(e,t,r,n,s,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!Hl(r,n)||!Hl(s,i):!0}function ZS(e,t,r){var n=!1,s=zs,i=t.contextType;return typeof i=="object"&&i!==null?i=Wr(i):(s=hr(t)?Sa:Kt.current,n=t.contextTypes,i=(n=n!=null)?Ui(e,s):zs),t=new t(r,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=eh,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=i),t}function fb(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&eh.enqueueReplaceState(t,t.state,null)}function r0(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Ix(e);var i=t.contextType;typeof i=="object"&&i!==null?s.context=Wr(i):(i=hr(t)?Sa:Kt.current,s.context=Ui(e,i)),s.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(t0(e,t,i,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&eh.enqueueReplaceState(s,s.state,null),Nd(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Wi(e,t){try{var r="",n=t;do r+=KP(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:s,digest:null}}function Ip(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function n0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var y6=typeof WeakMap=="function"?WeakMap:Map;function JS(e,t,r){r=Kn(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Pd||(Pd=!0,h0=n),n0(e,t)},r}function e2(e,t,r){r=Kn(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){n0(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){n0(e,t),typeof n!="function"&&(Rs===null?Rs=new Set([this]):Rs.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function hb(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new y6;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=$6.bind(null,e,t,r),t.then(e,e))}function pb(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function mb(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Kn(-1,1),t.tag=2,Is(r,t,1))),r.lanes|=1),e)}var b6=ns.ReactCurrentOwner,ur=!1;function Qt(e,t,r,n){t.child=e===null?PS(t,null,r,n):zi(t,e.child,r,n)}function gb(e,t,r,n,s){r=r.render;var i=t.ref;return ki(t,s),n=Fx(e,t,r,n,i,s),r=Ux(),e!==null&&!ur?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jn(e,t,s)):(tt&&r&&Ax(t),t.flags|=1,Qt(e,t,n,s),t.child)}function xb(e,t,r,n,s){if(e===null){var i=r.type;return typeof i=="function"&&!Qx(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=i,t2(e,t,i,n,s)):(e=ad(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:Hl,r(o,n)&&e.ref===t.ref)return Jn(e,t,s)}return t.flags|=1,e=Ds(i,n),e.ref=t.ref,e.return=t,t.child=e}function t2(e,t,r,n,s){if(e!==null){var i=e.memoizedProps;if(Hl(i,n)&&e.ref===t.ref)if(ur=!1,t.pendingProps=n=i,(e.lanes&s)!==0)e.flags&131072&&(ur=!0);else return t.lanes=e.lanes,Jn(e,t,s)}return s0(e,t,r,n,s)}function r2(e,t,r){var n=t.pendingProps,s=n.children,i=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(wi,vr),vr|=r;else{if(!(r&1073741824))return e=i!==null?i.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,He(wi,vr),vr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,He(wi,vr),vr|=n}else i!==null?(n=i.baseLanes|r,t.memoizedState=null):n=r,He(wi,vr),vr|=n;return Qt(e,t,s,r),t.child}function n2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function s0(e,t,r,n,s){var i=hr(r)?Sa:Kt.current;return i=Ui(t,i),ki(t,s),r=Fx(e,t,r,n,i,s),n=Ux(),e!==null&&!ur?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Jn(e,t,s)):(tt&&n&&Ax(t),t.flags|=1,Qt(e,t,r,s),t.child)}function vb(e,t,r,n,s){if(hr(r)){var i=!0;yd(t)}else i=!1;if(ki(t,s),t.stateNode===null)rd(e,t),ZS(t,r,n),r0(t,r,n,s),n=!0;else if(e===null){var o=t.stateNode,l=t.memoizedProps;o.props=l;var c=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Wr(u):(u=hr(r)?Sa:Kt.current,u=Ui(t,u));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==u)&&fb(t,o,n,u),gs=!1;var h=t.memoizedState;o.state=h,Nd(t,n,o,s),c=t.memoizedState,l!==n||h!==c||fr.current||gs?(typeof f=="function"&&(t0(t,r,f,n),c=t.memoizedState),(l=gs||db(t,r,l,n,h,c,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=u,n=l):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,kS(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:en(t.type,l),o.props=u,d=t.pendingProps,h=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=Wr(c):(c=hr(r)?Sa:Kt.current,c=Ui(t,c));var p=r.getDerivedStateFromProps;(f=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==d||h!==c)&&fb(t,o,n,c),gs=!1,h=t.memoizedState,o.state=h,Nd(t,n,o,s);var v=t.memoizedState;l!==d||h!==v||fr.current||gs?(typeof p=="function"&&(t0(t,r,p,n),v=t.memoizedState),(u=gs||db(t,r,u,n,h,v,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),o.props=n,o.state=v,o.context=c,n=u):(typeof o.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return a0(e,t,r,n,i,s)}function a0(e,t,r,n,s,i){n2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return s&&nb(t,r,!1),Jn(e,t,i);n=t.stateNode,b6.current=t;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=zi(t,e.child,null,i),t.child=zi(t,null,l,i)):Qt(e,t,l,i),t.memoizedState=n.state,s&&nb(t,r,!0),t.child}function s2(e){var t=e.stateNode;t.pendingContext?rb(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rb(e,t.context,!1),Rx(e,t.containerInfo)}function yb(e,t,r,n,s){return Bi(),Px(s),t.flags|=256,Qt(e,t,r,n),t.child}var i0={dehydrated:null,treeContext:null,retryLane:0};function o0(e){return{baseLanes:e,cachePool:null,transitions:null}}function a2(e,t,r){var n=t.pendingProps,s=st.current,i=!1,o=(t.flags&128)!==0,l;if((l=o)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),He(st,s&1),e===null)return Jm(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=n.children,e=n.fallback,i?(n=t.mode,i=t.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=nh(o,n,0,null),e=wa(e,n,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=o0(r),t.memoizedState=i0,e):qx(t,o));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return w6(e,t,o,n,l,s,r);if(i){i=n.fallback,o=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Ds(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Ds(l,i):(i=wa(i,o,r,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,o=e.child.memoizedState,o=o===null?o0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=e.childLanes&~r,t.memoizedState=i0,n}return i=e.child,e=i.sibling,n=Ds(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function qx(e,t){return t=nh({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Su(e,t,r,n){return n!==null&&Px(n),zi(t,e.child,null,r),e=qx(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function w6(e,t,r,n,s,i,o){if(r)return t.flags&256?(t.flags&=-257,n=Ip(Error(H(422))),Su(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=n.fallback,s=t.mode,n=nh({mode:"visible",children:n.children},s,0,null),i=wa(i,s,o,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&zi(t,e.child,null,o),t.child.memoizedState=o0(o),t.memoizedState=i0,i);if(!(t.mode&1))return Su(e,t,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,i=Error(H(419)),n=Ip(i,n,void 0),Su(e,t,o,n)}if(l=(o&e.childLanes)!==0,ur||l){if(n=Pt,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Zn(e,s),dn(n,e,s,-1))}return Yx(),n=Ip(Error(H(421))),Su(e,t,o,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=I6.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,jr=$s(s.nextSibling),_r=t,tt=!0,an=null,e!==null&&(Rr[Mr++]=Fn,Rr[Mr++]=Un,Rr[Mr++]=Oa,Fn=e.id,Un=e.overflow,Oa=t),t=qx(t,n.children),t.flags|=4096,t)}function bb(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),e0(e.return,t,r)}function Rp(e,t,r,n,s){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function i2(e,t,r){var n=t.pendingProps,s=n.revealOrder,i=n.tail;if(Qt(e,t,n.children,r),n=st.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bb(e,r,t);else if(e.tag===19)bb(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(He(st,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Sd(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),Rp(t,!1,s,r,i);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Sd(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}Rp(t,!0,r,null,i);break;case"together":Rp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Jn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ea|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(H(153));if(t.child!==null){for(e=t.child,r=Ds(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Ds(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function j6(e,t,r){switch(t.tag){case 3:s2(t),Bi();break;case 5:TS(t);break;case 1:hr(t.type)&&yd(t);break;case 4:Rx(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;He(jd,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(He(st,st.current&1),t.flags|=128,null):r&t.child.childLanes?a2(e,t,r):(He(st,st.current&1),e=Jn(e,t,r),e!==null?e.sibling:null);He(st,st.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return i2(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),He(st,st.current),n)break;return null;case 22:case 23:return t.lanes=0,r2(e,t,r)}return Jn(e,t,r)}var o2,l0,l2,c2;o2=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};l0=function(){};l2=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,ma(Nn.current);var i=null;switch(r){case"input":s=Cm(e,s),n=Cm(e,n),i=[];break;case"select":s=ot({},s,{value:void 0}),n=ot({},n,{value:void 0}),i=[];break;case"textarea":s=$m(e,s),n=$m(e,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=xd)}Rm(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ll.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(i||(i=[]),i.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ll.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&Ye("scroll",e),i||l===c||(i=[])):(i=i||[]).push(u,c))}r&&(i=i||[]).push("style",r);var u=i;(t.updateQueue=u)&&(t.flags|=4)}};c2=function(e,t,r,n){r!==n&&(t.flags|=4)};function Xo(e,t){if(!tt)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ft(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function _6(e,t,r){var n=t.pendingProps;switch(Ex(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(t),null;case 1:return hr(t.type)&&vd(),Ft(t),null;case 3:return n=t.stateNode,qi(),Ze(fr),Ze(Kt),Dx(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(_u(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,an!==null&&(g0(an),an=null))),l0(e,t),Ft(t),null;case 5:Mx(t);var s=ma(Ql.current);if(r=t.type,e!==null&&t.stateNode!=null)l2(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(H(166));return Ft(t),null}if(e=ma(Nn.current),_u(t)){n=t.stateNode,r=t.type;var i=t.memoizedProps;switch(n[bn]=t,n[Gl]=i,e=(t.mode&1)!==0,r){case"dialog":Ye("cancel",n),Ye("close",n);break;case"iframe":case"object":case"embed":Ye("load",n);break;case"video":case"audio":for(s=0;s<gl.length;s++)Ye(gl[s],n);break;case"source":Ye("error",n);break;case"img":case"image":case"link":Ye("error",n),Ye("load",n);break;case"details":Ye("toggle",n);break;case"input":Py(n,i),Ye("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Ye("invalid",n);break;case"textarea":ky(n,i),Ye("invalid",n)}Rm(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?n.textContent!==l&&(i.suppressHydrationWarning!==!0&&ju(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&ju(n.textContent,l,e),s=["children",""+l]):Ll.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Ye("scroll",n)}switch(r){case"input":pu(n),Cy(n,i,!0);break;case"textarea":pu(n),Ty(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=xd)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=DN(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[bn]=t,e[Gl]=n,o2(e,t,!1,!1),t.stateNode=e;e:{switch(o=Mm(r,n),r){case"dialog":Ye("cancel",e),Ye("close",e),s=n;break;case"iframe":case"object":case"embed":Ye("load",e),s=n;break;case"video":case"audio":for(s=0;s<gl.length;s++)Ye(gl[s],e);s=n;break;case"source":Ye("error",e),s=n;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),s=n;break;case"details":Ye("toggle",e),s=n;break;case"input":Py(e,n),s=Cm(e,n),Ye("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=ot({},n,{value:void 0}),Ye("invalid",e);break;case"textarea":ky(e,n),s=$m(e,n),Ye("invalid",e);break;default:s=n}Rm(r,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?UN(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&LN(e,c)):i==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Fl(e,c):typeof c=="number"&&Fl(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ll.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ye("scroll",e):c!=null&&hx(e,i,c,o))}switch(r){case"input":pu(e),Cy(e,n,!1);break;case"textarea":pu(e),Ty(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Bs(n.value));break;case"select":e.multiple=!!n.multiple,i=n.value,i!=null?Ai(e,!!n.multiple,i,!1):n.defaultValue!=null&&Ai(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=xd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ft(t),null;case 6:if(e&&t.stateNode!=null)c2(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(H(166));if(r=ma(Ql.current),ma(Nn.current),_u(t)){if(n=t.stateNode,r=t.memoizedProps,n[bn]=t,(i=n.nodeValue!==r)&&(e=_r,e!==null))switch(e.tag){case 3:ju(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ju(n.nodeValue,r,(e.mode&1)!==0)}i&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[bn]=t,t.stateNode=n}return Ft(t),null;case 13:if(Ze(st),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(tt&&jr!==null&&t.mode&1&&!(t.flags&128))AS(),Bi(),t.flags|=98560,i=!1;else if(i=_u(t),n!==null&&n.dehydrated!==null){if(e===null){if(!i)throw Error(H(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(H(317));i[bn]=t}else Bi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ft(t),i=!1}else an!==null&&(g0(an),an=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||st.current&1?wt===0&&(wt=3):Yx())),t.updateQueue!==null&&(t.flags|=4),Ft(t),null);case 4:return qi(),l0(e,t),e===null&&Kl(t.stateNode.containerInfo),Ft(t),null;case 10:return Tx(t.type._context),Ft(t),null;case 17:return hr(t.type)&&vd(),Ft(t),null;case 19:if(Ze(st),i=t.memoizedState,i===null)return Ft(t),null;if(n=(t.flags&128)!==0,o=i.rendering,o===null)if(n)Xo(i,!1);else{if(wt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Sd(e),o!==null){for(t.flags|=128,Xo(i,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)i=r,e=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return He(st,st.current&1|2),t.child}e=e.sibling}i.tail!==null&&ft()>Hi&&(t.flags|=128,n=!0,Xo(i,!1),t.lanes=4194304)}else{if(!n)if(e=Sd(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Xo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!tt)return Ft(t),null}else 2*ft()-i.renderingStartTime>Hi&&r!==1073741824&&(t.flags|=128,n=!0,Xo(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(r=i.last,r!==null?r.sibling=o:t.child=o,i.last=o)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ft(),t.sibling=null,r=st.current,He(st,n?r&1|2:r&1),t):(Ft(t),null);case 22:case 23:return Gx(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?vr&1073741824&&(Ft(t),t.subtreeFlags&6&&(t.flags|=8192)):Ft(t),null;case 24:return null;case 25:return null}throw Error(H(156,t.tag))}function N6(e,t){switch(Ex(t),t.tag){case 1:return hr(t.type)&&vd(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return qi(),Ze(fr),Ze(Kt),Dx(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Mx(t),null;case 13:if(Ze(st),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(H(340));Bi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ze(st),null;case 4:return qi(),null;case 10:return Tx(t.type._context),null;case 22:case 23:return Gx(),null;case 24:return null;default:return null}}var Ou=!1,zt=!1,S6=typeof WeakSet=="function"?WeakSet:Set,ee=null;function bi(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ct(e,t,n)}else r.current=null}function c0(e,t,r){try{r()}catch(n){ct(e,t,n)}}var wb=!1;function O6(e,t){if(Km=pd,e=pS(),Ox(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,u=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==r||s!==0&&d.nodeType!==3||(l=o+s),d!==i||n!==0&&d.nodeType!==3||(c=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++u===s&&(l=o),h===i&&++f===n&&(c=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Vm={focusedElem:e,selectionRange:r},pd=!1,ee=t;ee!==null;)if(t=ee,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ee=e;else for(;ee!==null;){t=ee;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,w=v.memoizedState,j=t.stateNode,x=j.getSnapshotBeforeUpdate(t.elementType===t.type?b:en(t.type,b),w);j.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var m=t.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(_){ct(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,ee=e;break}ee=t.return}return v=wb,wb=!1,v}function Ol(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var i=s.destroy;s.destroy=void 0,i!==void 0&&c0(t,r,i)}s=s.next}while(s!==n)}}function th(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function u0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function u2(e){var t=e.alternate;t!==null&&(e.alternate=null,u2(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[bn],delete t[Gl],delete t[Qm],delete t[l6],delete t[c6])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function d2(e){return e.tag===5||e.tag===3||e.tag===4}function jb(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||d2(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function d0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=xd));else if(n!==4&&(e=e.child,e!==null))for(d0(e,t,r),e=e.sibling;e!==null;)d0(e,t,r),e=e.sibling}function f0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(f0(e,t,r),e=e.sibling;e!==null;)f0(e,t,r),e=e.sibling}var $t=null,tn=!1;function cs(e,t,r){for(r=r.child;r!==null;)f2(e,t,r),r=r.sibling}function f2(e,t,r){if(_n&&typeof _n.onCommitFiberUnmount=="function")try{_n.onCommitFiberUnmount(Vf,r)}catch{}switch(r.tag){case 5:zt||bi(r,t);case 6:var n=$t,s=tn;$t=null,cs(e,t,r),$t=n,tn=s,$t!==null&&(tn?(e=$t,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):$t.removeChild(r.stateNode));break;case 18:$t!==null&&(tn?(e=$t,r=r.stateNode,e.nodeType===8?Ep(e.parentNode,r):e.nodeType===1&&Ep(e,r),ql(e)):Ep($t,r.stateNode));break;case 4:n=$t,s=tn,$t=r.stateNode.containerInfo,tn=!0,cs(e,t,r),$t=n,tn=s;break;case 0:case 11:case 14:case 15:if(!zt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&c0(r,t,o),s=s.next}while(s!==n)}cs(e,t,r);break;case 1:if(!zt&&(bi(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ct(r,t,l)}cs(e,t,r);break;case 21:cs(e,t,r);break;case 22:r.mode&1?(zt=(n=zt)||r.memoizedState!==null,cs(e,t,r),zt=n):cs(e,t,r);break;default:cs(e,t,r)}}function _b(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new S6),t.forEach(function(n){var s=R6.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Xr(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 5:$t=l.stateNode,tn=!1;break e;case 3:$t=l.stateNode.containerInfo,tn=!0;break e;case 4:$t=l.stateNode.containerInfo,tn=!0;break e}l=l.return}if($t===null)throw Error(H(160));f2(i,o,s),$t=null,tn=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){ct(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)h2(t,e),t=t.sibling}function h2(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Xr(t,e),xn(e),n&4){try{Ol(3,e,e.return),th(3,e)}catch(b){ct(e,e.return,b)}try{Ol(5,e,e.return)}catch(b){ct(e,e.return,b)}}break;case 1:Xr(t,e),xn(e),n&512&&r!==null&&bi(r,r.return);break;case 5:if(Xr(t,e),xn(e),n&512&&r!==null&&bi(r,r.return),e.flags&32){var s=e.stateNode;try{Fl(s,"")}catch(b){ct(e,e.return,b)}}if(n&4&&(s=e.stateNode,s!=null)){var i=e.memoizedProps,o=r!==null?r.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&RN(s,i),Mm(l,o);var u=Mm(l,i);for(o=0;o<c.length;o+=2){var f=c[o],d=c[o+1];f==="style"?UN(s,d):f==="dangerouslySetInnerHTML"?LN(s,d):f==="children"?Fl(s,d):hx(s,f,d,u)}switch(l){case"input":km(s,i);break;case"textarea":MN(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ai(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ai(s,!!i.multiple,i.defaultValue,!0):Ai(s,!!i.multiple,i.multiple?[]:"",!1))}s[Gl]=i}catch(b){ct(e,e.return,b)}}break;case 6:if(Xr(t,e),xn(e),n&4){if(e.stateNode===null)throw Error(H(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(b){ct(e,e.return,b)}}break;case 3:if(Xr(t,e),xn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{ql(t.containerInfo)}catch(b){ct(e,e.return,b)}break;case 4:Xr(t,e),xn(e);break;case 13:Xr(t,e),xn(e),s=e.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Kx=ft())),n&4&&_b(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(zt=(u=zt)||f,Xr(t,e),zt=u):Xr(t,e),xn(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!f&&e.mode&1)for(ee=e,f=e.child;f!==null;){for(d=ee=f;ee!==null;){switch(h=ee,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ol(4,h,h.return);break;case 1:bi(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(b){ct(n,r,b)}}break;case 5:bi(h,h.return);break;case 22:if(h.memoizedState!==null){Sb(d);continue}}p!==null?(p.return=h,ee=p):Sb(d)}f=f.sibling}e:for(f=null,d=e;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=FN("display",o))}catch(b){ct(e,e.return,b)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(b){ct(e,e.return,b)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Xr(t,e),xn(e),n&4&&_b(e);break;case 21:break;default:Xr(t,e),xn(e)}}function xn(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(d2(r)){var n=r;break e}r=r.return}throw Error(H(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Fl(s,""),n.flags&=-33);var i=jb(e);f0(e,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,l=jb(e);d0(e,l,o);break;default:throw Error(H(161))}}catch(c){ct(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function A6(e,t,r){ee=e,p2(e)}function p2(e,t,r){for(var n=(e.mode&1)!==0;ee!==null;){var s=ee,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ou;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||zt;l=Ou;var u=zt;if(Ou=o,(zt=c)&&!u)for(ee=s;ee!==null;)o=ee,c=o.child,o.tag===22&&o.memoizedState!==null?Ob(s):c!==null?(c.return=o,ee=c):Ob(s);for(;i!==null;)ee=i,p2(i),i=i.sibling;ee=s,Ou=l,zt=u}Nb(e)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ee=i):Nb(e)}}function Nb(e){for(;ee!==null;){var t=ee;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:zt||th(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!zt)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:en(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&lb(t,i,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}lb(t,o,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var f=u.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&ql(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}zt||t.flags&512&&u0(t)}catch(h){ct(t,t.return,h)}}if(t===e){ee=null;break}if(r=t.sibling,r!==null){r.return=t.return,ee=r;break}ee=t.return}}function Sb(e){for(;ee!==null;){var t=ee;if(t===e){ee=null;break}var r=t.sibling;if(r!==null){r.return=t.return,ee=r;break}ee=t.return}}function Ob(e){for(;ee!==null;){var t=ee;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{th(4,t)}catch(c){ct(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){ct(t,s,c)}}var i=t.return;try{u0(t)}catch(c){ct(t,i,c)}break;case 5:var o=t.return;try{u0(t)}catch(c){ct(t,o,c)}}}catch(c){ct(t,t.return,c)}if(t===e){ee=null;break}var l=t.sibling;if(l!==null){l.return=t.return,ee=l;break}ee=t.return}}var E6=Math.ceil,Ed=ns.ReactCurrentDispatcher,Wx=ns.ReactCurrentOwner,qr=ns.ReactCurrentBatchConfig,_e=0,Pt=null,pt=null,Rt=0,vr=0,wi=Hs(0),wt=0,ec=null,Ea=0,rh=0,Hx=0,Al=null,lr=null,Kx=0,Hi=1/0,Rn=null,Pd=!1,h0=null,Rs=null,Au=!1,Ss=null,Cd=0,El=0,p0=null,nd=-1,sd=0;function tr(){return _e&6?ft():nd!==-1?nd:nd=ft()}function Ms(e){return e.mode&1?_e&2&&Rt!==0?Rt&-Rt:d6.transition!==null?(sd===0&&(sd=ZN()),sd):(e=Te,e!==0||(e=window.event,e=e===void 0?16:aS(e.type)),e):1}function dn(e,t,r,n){if(50<El)throw El=0,p0=null,Error(H(185));Wc(e,r,n),(!(_e&2)||e!==Pt)&&(e===Pt&&(!(_e&2)&&(rh|=r),wt===4&&bs(e,Rt)),pr(e,n),r===1&&_e===0&&!(t.mode&1)&&(Hi=ft()+500,Zf&&Ks()))}function pr(e,t){var r=e.callbackNode;dC(e,t);var n=hd(e,e===Pt?Rt:0);if(n===0)r!==null&&Ry(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Ry(r),t===1)e.tag===0?u6(Ab.bind(null,e)):NS(Ab.bind(null,e)),i6(function(){!(_e&6)&&Ks()}),r=null;else{switch(JN(n)){case 1:r=vx;break;case 4:r=QN;break;case 16:r=fd;break;case 536870912:r=XN;break;default:r=fd}r=j2(r,m2.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function m2(e,t){if(nd=-1,sd=0,_e&6)throw Error(H(327));var r=e.callbackNode;if(Ti()&&e.callbackNode!==r)return null;var n=hd(e,e===Pt?Rt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=kd(e,n);else{t=n;var s=_e;_e|=2;var i=x2();(Pt!==e||Rt!==t)&&(Rn=null,Hi=ft()+500,ba(e,t));do try{k6();break}catch(l){g2(e,l)}while(!0);kx(),Ed.current=i,_e=s,pt!==null?t=0:(Pt=null,Rt=0,t=wt)}if(t!==0){if(t===2&&(s=Bm(e),s!==0&&(n=s,t=m0(e,s))),t===1)throw r=ec,ba(e,0),bs(e,n),pr(e,ft()),r;if(t===6)bs(e,n);else{if(s=e.current.alternate,!(n&30)&&!P6(s)&&(t=kd(e,n),t===2&&(i=Bm(e),i!==0&&(n=i,t=m0(e,i))),t===1))throw r=ec,ba(e,0),bs(e,n),pr(e,ft()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(H(345));case 2:ia(e,lr,Rn);break;case 3:if(bs(e,n),(n&130023424)===n&&(t=Kx+500-ft(),10<t)){if(hd(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){tr(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Ym(ia.bind(null,e,lr,Rn),t);break}ia(e,lr,Rn);break;case 4:if(bs(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var o=31-un(n);i=1<<o,o=t[o],o>s&&(s=o),n&=~i}if(n=s,n=ft()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*E6(n/1960))-n,10<n){e.timeoutHandle=Ym(ia.bind(null,e,lr,Rn),n);break}ia(e,lr,Rn);break;case 5:ia(e,lr,Rn);break;default:throw Error(H(329))}}}return pr(e,ft()),e.callbackNode===r?m2.bind(null,e):null}function m0(e,t){var r=Al;return e.current.memoizedState.isDehydrated&&(ba(e,t).flags|=256),e=kd(e,t),e!==2&&(t=lr,lr=r,t!==null&&g0(t)),e}function g0(e){lr===null?lr=e:lr.push.apply(lr,e)}function P6(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!pn(i(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bs(e,t){for(t&=~Hx,t&=~rh,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-un(t),n=1<<r;e[r]=-1,t&=~n}}function Ab(e){if(_e&6)throw Error(H(327));Ti();var t=hd(e,0);if(!(t&1))return pr(e,ft()),null;var r=kd(e,t);if(e.tag!==0&&r===2){var n=Bm(e);n!==0&&(t=n,r=m0(e,n))}if(r===1)throw r=ec,ba(e,0),bs(e,t),pr(e,ft()),r;if(r===6)throw Error(H(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ia(e,lr,Rn),pr(e,ft()),null}function Vx(e,t){var r=_e;_e|=1;try{return e(t)}finally{_e=r,_e===0&&(Hi=ft()+500,Zf&&Ks())}}function Pa(e){Ss!==null&&Ss.tag===0&&!(_e&6)&&Ti();var t=_e;_e|=1;var r=qr.transition,n=Te;try{if(qr.transition=null,Te=1,e)return e()}finally{Te=n,qr.transition=r,_e=t,!(_e&6)&&Ks()}}function Gx(){vr=wi.current,Ze(wi)}function ba(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,a6(r)),pt!==null)for(r=pt.return;r!==null;){var n=r;switch(Ex(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vd();break;case 3:qi(),Ze(fr),Ze(Kt),Dx();break;case 5:Mx(n);break;case 4:qi();break;case 13:Ze(st);break;case 19:Ze(st);break;case 10:Tx(n.type._context);break;case 22:case 23:Gx()}r=r.return}if(Pt=e,pt=e=Ds(e.current,null),Rt=vr=t,wt=0,ec=null,Hx=rh=Ea=0,lr=Al=null,pa!==null){for(t=0;t<pa.length;t++)if(r=pa[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}pa=null}return e}function g2(e,t){do{var r=pt;try{if(kx(),ed.current=Ad,Od){for(var n=at.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Od=!1}if(Aa=0,At=yt=at=null,Sl=!1,Xl=0,Wx.current=null,r===null||r.return===null){wt=1,ec=t,pt=null;break}e:{var i=e,o=r.return,l=r,c=t;if(t=Rt,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,f=l,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=pb(o);if(p!==null){p.flags&=-257,mb(p,o,l,i,t),p.mode&1&&hb(i,u,t),t=p,c=u;var v=t.updateQueue;if(v===null){var b=new Set;b.add(c),t.updateQueue=b}else v.add(c);break e}else{if(!(t&1)){hb(i,u,t),Yx();break e}c=Error(H(426))}}else if(tt&&l.mode&1){var w=pb(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),mb(w,o,l,i,t),Px(Wi(c,l));break e}}i=c=Wi(c,l),wt!==4&&(wt=2),Al===null?Al=[i]:Al.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var j=JS(i,c,t);ob(i,j);break e;case 1:l=c;var x=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Rs===null||!Rs.has(m)))){i.flags|=65536,t&=-t,i.lanes|=t;var _=e2(i,l,t);ob(i,_);break e}}i=i.return}while(i!==null)}y2(r)}catch(g){t=g,pt===r&&r!==null&&(pt=r=r.return);continue}break}while(!0)}function x2(){var e=Ed.current;return Ed.current=Ad,e===null?Ad:e}function Yx(){(wt===0||wt===3||wt===2)&&(wt=4),Pt===null||!(Ea&268435455)&&!(rh&268435455)||bs(Pt,Rt)}function kd(e,t){var r=_e;_e|=2;var n=x2();(Pt!==e||Rt!==t)&&(Rn=null,ba(e,t));do try{C6();break}catch(s){g2(e,s)}while(!0);if(kx(),_e=r,Ed.current=n,pt!==null)throw Error(H(261));return Pt=null,Rt=0,wt}function C6(){for(;pt!==null;)v2(pt)}function k6(){for(;pt!==null&&!rC();)v2(pt)}function v2(e){var t=w2(e.alternate,e,vr);e.memoizedProps=e.pendingProps,t===null?y2(e):pt=t,Wx.current=null}function y2(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=N6(r,t),r!==null){r.flags&=32767,pt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{wt=6,pt=null;return}}else if(r=_6(r,t,vr),r!==null){pt=r;return}if(t=t.sibling,t!==null){pt=t;return}pt=t=e}while(t!==null);wt===0&&(wt=5)}function ia(e,t,r){var n=Te,s=qr.transition;try{qr.transition=null,Te=1,T6(e,t,r,n)}finally{qr.transition=s,Te=n}return null}function T6(e,t,r,n){do Ti();while(Ss!==null);if(_e&6)throw Error(H(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(H(177));e.callbackNode=null,e.callbackPriority=0;var i=r.lanes|r.childLanes;if(fC(e,i),e===Pt&&(pt=Pt=null,Rt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Au||(Au=!0,j2(fd,function(){return Ti(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=qr.transition,qr.transition=null;var o=Te;Te=1;var l=_e;_e|=4,Wx.current=null,O6(e,r),h2(r,e),ZC(Vm),pd=!!Km,Vm=Km=null,e.current=r,A6(r),nC(),_e=l,Te=o,qr.transition=i}else e.current=r;if(Au&&(Au=!1,Ss=e,Cd=s),i=e.pendingLanes,i===0&&(Rs=null),iC(r.stateNode),pr(e,ft()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Pd)throw Pd=!1,e=h0,h0=null,e;return Cd&1&&e.tag!==0&&Ti(),i=e.pendingLanes,i&1?e===p0?El++:(El=0,p0=e):El=0,Ks(),null}function Ti(){if(Ss!==null){var e=JN(Cd),t=qr.transition,r=Te;try{if(qr.transition=null,Te=16>e?16:e,Ss===null)var n=!1;else{if(e=Ss,Ss=null,Cd=0,_e&6)throw Error(H(331));var s=_e;for(_e|=4,ee=e.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(ee=u;ee!==null;){var f=ee;switch(f.tag){case 0:case 11:case 15:Ol(8,f,i)}var d=f.child;if(d!==null)d.return=f,ee=d;else for(;ee!==null;){f=ee;var h=f.sibling,p=f.return;if(u2(f),f===u){ee=null;break}if(h!==null){h.return=p,ee=h;break}ee=p}}}var v=i.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var w=b.sibling;b.sibling=null,b=w}while(b!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ol(9,i,i.return)}var j=i.sibling;if(j!==null){j.return=i.return,ee=j;break e}ee=i.return}}var x=e.current;for(ee=x;ee!==null;){o=ee;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,ee=m;else e:for(o=x;ee!==null;){if(l=ee,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:th(9,l)}}catch(g){ct(l,l.return,g)}if(l===o){ee=null;break e}var _=l.sibling;if(_!==null){_.return=l.return,ee=_;break e}ee=l.return}}if(_e=s,Ks(),_n&&typeof _n.onPostCommitFiberRoot=="function")try{_n.onPostCommitFiberRoot(Vf,e)}catch{}n=!0}return n}finally{Te=r,qr.transition=t}}return!1}function Eb(e,t,r){t=Wi(r,t),t=JS(e,t,1),e=Is(e,t,1),t=tr(),e!==null&&(Wc(e,1,t),pr(e,t))}function ct(e,t,r){if(e.tag===3)Eb(e,e,r);else for(;t!==null;){if(t.tag===3){Eb(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Rs===null||!Rs.has(n))){e=Wi(r,e),e=e2(t,e,1),t=Is(t,e,1),e=tr(),t!==null&&(Wc(t,1,e),pr(t,e));break}}t=t.return}}function $6(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=tr(),e.pingedLanes|=e.suspendedLanes&r,Pt===e&&(Rt&r)===r&&(wt===4||wt===3&&(Rt&130023424)===Rt&&500>ft()-Kx?ba(e,0):Hx|=r),pr(e,t)}function b2(e,t){t===0&&(e.mode&1?(t=xu,xu<<=1,!(xu&130023424)&&(xu=4194304)):t=1);var r=tr();e=Zn(e,t),e!==null&&(Wc(e,t,r),pr(e,r))}function I6(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),b2(e,r)}function R6(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(H(314))}n!==null&&n.delete(t),b2(e,r)}var w2;w2=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||fr.current)ur=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return ur=!1,j6(e,t,r);ur=!!(e.flags&131072)}else ur=!1,tt&&t.flags&1048576&&SS(t,wd,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;rd(e,t),e=t.pendingProps;var s=Ui(t,Kt.current);ki(t,r),s=Fx(null,t,n,e,s,r);var i=Ux();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,hr(n)?(i=!0,yd(t)):i=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Ix(t),s.updater=eh,t.stateNode=s,s._reactInternals=t,r0(t,n,e,r),t=a0(null,t,n,!0,i,r)):(t.tag=0,tt&&i&&Ax(t),Qt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(rd(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=D6(n),e=en(n,e),s){case 0:t=s0(null,t,n,e,r);break e;case 1:t=vb(null,t,n,e,r);break e;case 11:t=gb(null,t,n,e,r);break e;case 14:t=xb(null,t,n,en(n.type,e),r);break e}throw Error(H(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:en(n,s),s0(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:en(n,s),vb(e,t,n,s,r);case 3:e:{if(s2(t),e===null)throw Error(H(387));n=t.pendingProps,i=t.memoizedState,s=i.element,kS(e,t),Nd(t,n,null,r);var o=t.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){s=Wi(Error(H(423)),t),t=yb(e,t,n,r,s);break e}else if(n!==s){s=Wi(Error(H(424)),t),t=yb(e,t,n,r,s);break e}else for(jr=$s(t.stateNode.containerInfo.firstChild),_r=t,tt=!0,an=null,r=PS(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Bi(),n===s){t=Jn(e,t,r);break e}Qt(e,t,n,r)}t=t.child}return t;case 5:return TS(t),e===null&&Jm(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,o=s.children,Gm(n,s)?o=null:i!==null&&Gm(n,i)&&(t.flags|=32),n2(e,t),Qt(e,t,o,r),t.child;case 6:return e===null&&Jm(t),null;case 13:return a2(e,t,r);case 4:return Rx(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=zi(t,null,n,r):Qt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:en(n,s),gb(e,t,n,s,r);case 7:return Qt(e,t,t.pendingProps,r),t.child;case 8:return Qt(e,t,t.pendingProps.children,r),t.child;case 12:return Qt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,He(jd,n._currentValue),n._currentValue=o,i!==null)if(pn(i.value,o)){if(i.children===s.children&&!fr.current){t=Jn(e,t,r);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(i.tag===1){c=Kn(-1,r&-r),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var f=u.pending;f===null?c.next=c:(c.next=f.next,f.next=c),u.pending=c}}i.lanes|=r,c=i.alternate,c!==null&&(c.lanes|=r),e0(i.return,r,t),l.lanes|=r;break}c=c.next}}else if(i.tag===10)o=i.type===t.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(H(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),e0(o,r,t),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===t){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Qt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ki(t,r),s=Wr(s),n=n(s),t.flags|=1,Qt(e,t,n,r),t.child;case 14:return n=t.type,s=en(n,t.pendingProps),s=en(n.type,s),xb(e,t,n,s,r);case 15:return t2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:en(n,s),rd(e,t),t.tag=1,hr(n)?(e=!0,yd(t)):e=!1,ki(t,r),ZS(t,n,s),r0(t,n,s,r),a0(null,t,n,!0,e,r);case 19:return i2(e,t,r);case 22:return r2(e,t,r)}throw Error(H(156,t.tag))};function j2(e,t){return YN(e,t)}function M6(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Br(e,t,r,n){return new M6(e,t,r,n)}function Qx(e){return e=e.prototype,!(!e||!e.isReactComponent)}function D6(e){if(typeof e=="function")return Qx(e)?1:0;if(e!=null){if(e=e.$$typeof,e===mx)return 11;if(e===gx)return 14}return 2}function Ds(e,t){var r=e.alternate;return r===null?(r=Br(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ad(e,t,r,n,s,i){var o=2;if(n=e,typeof e=="function")Qx(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case di:return wa(r.children,s,i,t);case px:o=8,s|=8;break;case Om:return e=Br(12,r,t,s|2),e.elementType=Om,e.lanes=i,e;case Am:return e=Br(13,r,t,s),e.elementType=Am,e.lanes=i,e;case Em:return e=Br(19,r,t,s),e.elementType=Em,e.lanes=i,e;case TN:return nh(r,s,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case CN:o=10;break e;case kN:o=9;break e;case mx:o=11;break e;case gx:o=14;break e;case ms:o=16,n=null;break e}throw Error(H(130,e==null?e:typeof e,""))}return t=Br(o,r,t,s),t.elementType=e,t.type=n,t.lanes=i,t}function wa(e,t,r,n){return e=Br(7,e,n,t),e.lanes=r,e}function nh(e,t,r,n){return e=Br(22,e,n,t),e.elementType=TN,e.lanes=r,e.stateNode={isHidden:!1},e}function Mp(e,t,r){return e=Br(6,e,null,t),e.lanes=r,e}function Dp(e,t,r){return t=Br(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function L6(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xp(0),this.expirationTimes=xp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xp(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xx(e,t,r,n,s,i,o,l,c){return e=new L6(e,t,r,l,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Br(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ix(i),e}function F6(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ui,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function _2(e){if(!e)return zs;e=e._reactInternals;e:{if(za(e)!==e||e.tag!==1)throw Error(H(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(hr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(H(171))}if(e.tag===1){var r=e.type;if(hr(r))return _S(e,r,t)}return t}function N2(e,t,r,n,s,i,o,l,c){return e=Xx(r,n,!0,e,s,i,o,l,c),e.context=_2(null),r=e.current,n=tr(),s=Ms(r),i=Kn(n,s),i.callback=t??null,Is(r,i,s),e.current.lanes=s,Wc(e,s,n),pr(e,n),e}function sh(e,t,r,n){var s=t.current,i=tr(),o=Ms(s);return r=_2(r),t.context===null?t.context=r:t.pendingContext=r,t=Kn(i,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Is(s,t,o),e!==null&&(dn(e,s,o,i),Ju(e,s,o)),o}function Td(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Pb(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Zx(e,t){Pb(e,t),(e=e.alternate)&&Pb(e,t)}function U6(){return null}var S2=typeof reportError=="function"?reportError:function(e){console.error(e)};function Jx(e){this._internalRoot=e}ah.prototype.render=Jx.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(H(409));sh(e,t,null,null)};ah.prototype.unmount=Jx.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pa(function(){sh(null,e,null,null)}),t[Xn]=null}};function ah(e){this._internalRoot=e}ah.prototype.unstable_scheduleHydration=function(e){if(e){var t=rS();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ys.length&&t!==0&&t<ys[r].priority;r++);ys.splice(r,0,e),r===0&&sS(e)}};function ev(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ih(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Cb(){}function B6(e,t,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=Td(o);i.call(u)}}var o=N2(t,n,e,0,null,!1,!1,"",Cb);return e._reactRootContainer=o,e[Xn]=o.current,Kl(e.nodeType===8?e.parentNode:e),Pa(),o}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=Td(c);l.call(u)}}var c=Xx(e,0,!1,null,null,!1,!1,"",Cb);return e._reactRootContainer=c,e[Xn]=c.current,Kl(e.nodeType===8?e.parentNode:e),Pa(function(){sh(t,c,r,n)}),c}function oh(e,t,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Td(o);l.call(c)}}sh(t,o,e,s)}else o=B6(r,t,e,s,n);return Td(o)}eS=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ml(t.pendingLanes);r!==0&&(yx(t,r|1),pr(t,ft()),!(_e&6)&&(Hi=ft()+500,Ks()))}break;case 13:Pa(function(){var n=Zn(e,1);if(n!==null){var s=tr();dn(n,e,1,s)}}),Zx(e,1)}};bx=function(e){if(e.tag===13){var t=Zn(e,134217728);if(t!==null){var r=tr();dn(t,e,134217728,r)}Zx(e,134217728)}};tS=function(e){if(e.tag===13){var t=Ms(e),r=Zn(e,t);if(r!==null){var n=tr();dn(r,e,t,n)}Zx(e,t)}};rS=function(){return Te};nS=function(e,t){var r=Te;try{return Te=e,t()}finally{Te=r}};Lm=function(e,t,r){switch(t){case"input":if(km(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=Xf(n);if(!s)throw Error(H(90));IN(n),km(n,s)}}}break;case"textarea":MN(e,r);break;case"select":t=r.value,t!=null&&Ai(e,!!r.multiple,t,!1)}};qN=Vx;WN=Pa;var z6={usingClientEntryPoint:!1,Events:[Kc,mi,Xf,BN,zN,Vx]},Zo={findFiberByHostInstance:ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q6={bundleType:Zo.bundleType,version:Zo.version,rendererPackageName:Zo.rendererPackageName,rendererConfig:Zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ns.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=VN(e),e===null?null:e.stateNode},findFiberByHostInstance:Zo.findFiberByHostInstance||U6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eu.isDisabled&&Eu.supportsFiber)try{Vf=Eu.inject(q6),_n=Eu}catch{}}Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z6;Pr.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ev(t))throw Error(H(200));return F6(e,t,null,r)};Pr.createRoot=function(e,t){if(!ev(e))throw Error(H(299));var r=!1,n="",s=S2;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Xx(e,1,!1,null,null,r,!1,n,s),e[Xn]=t.current,Kl(e.nodeType===8?e.parentNode:e),new Jx(t)};Pr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(H(188)):(e=Object.keys(e).join(","),Error(H(268,e)));return e=VN(t),e=e===null?null:e.stateNode,e};Pr.flushSync=function(e){return Pa(e)};Pr.hydrate=function(e,t,r){if(!ih(t))throw Error(H(200));return oh(null,e,t,!0,r)};Pr.hydrateRoot=function(e,t,r){if(!ev(e))throw Error(H(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=S2;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=N2(t,null,e,1,r??null,s,!1,i,o),e[Xn]=t.current,Kl(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new ah(t)};Pr.render=function(e,t,r){if(!ih(t))throw Error(H(200));return oh(null,e,t,!1,r)};Pr.unmountComponentAtNode=function(e){if(!ih(e))throw Error(H(40));return e._reactRootContainer?(Pa(function(){oh(null,null,e,!1,function(){e._reactRootContainer=null,e[Xn]=null})}),!0):!1};Pr.unstable_batchedUpdates=Vx;Pr.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ih(r))throw Error(H(200));if(e==null||e._reactInternals===void 0)throw Error(H(38));return oh(e,t,r,!1,n)};Pr.version="18.3.1-next-f1338f8080-20240426";function O2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(O2)}catch(e){console.error(e)}}O2(),ON.exports=Pr;var W6=ON.exports,A2,kb=W6;A2=kb.createRoot,kb.hydrateRoot;const H6="modulepreload",K6=function(e){return"/"+e},Tb={},Gc=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=K6(c),c in Tb)return;Tb[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":H6,u||(d.as="script"),d.crossOrigin="",d.href=c,l&&d.setAttribute("nonce",l),document.head.appendChild(d),u)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},V6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Gc(async()=>{const{default:n}=await Promise.resolve().then(()=>So);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class tv extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class G6 extends tv{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class $b extends tv{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Ib extends tv{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var x0;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(x0||(x0={}));var Y6=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Q6{constructor(t,{headers:r={},customFetch:n,region:s=x0.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=V6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Y6(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let f;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(l["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(l["Content-Type"]="application/json",f=JSON.stringify(o)));const d=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:f}).catch(b=>{throw new G6(b)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new $b(d);if(!d.ok)throw new Ib(d);let p=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield d.json():p==="application/octet-stream"?v=yield d.blob():p==="text/event-stream"?v=d:p==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof Ib||s instanceof $b?s.context:void 0}}})}}var cr={},rv={},lh={},Yc={},ch={},uh={},X6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ki=X6();const Z6=Ki.fetch,E2=Ki.fetch.bind(Ki),P2=Ki.Headers,J6=Ki.Request,ek=Ki.Response,So=Object.freeze(Object.defineProperty({__proto__:null,Headers:P2,Request:J6,Response:ek,default:E2,fetch:Z6},Symbol.toStringTag,{value:"Module"})),tk=xP(So);var dh={};Object.defineProperty(dh,"__esModule",{value:!0});let rk=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};dh.default=rk;var C2=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(uh,"__esModule",{value:!0});const nk=C2(tk),sk=C2(dh);let ak=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=nk.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c;let u=null,f=null,d=null,h=i.status,p=i.statusText;if(i.ok){if(this.method!=="HEAD"){const j=await i.text();j===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?f=j:f=JSON.parse(j))}const b=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),w=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");b&&w&&w.length>1&&(d=parseInt(w[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,d=null,h=406,p="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const b=await i.text();try{u=JSON.parse(b),Array.isArray(u)&&i.status===404&&(f=[],u=null,h=200,p="OK")}catch{i.status===404&&b===""?(h=204,p="No Content"):u={message:b}}if(u&&this.isMaybeSingle&&(!((c=u==null?void 0:u.details)===null||c===void 0)&&c.includes("0 rows"))&&(u=null,h=200,p="OK"),u&&this.shouldThrowOnError)throw new sk.default(u)}return{error:u,data:f,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};uh.default=ak;var ik=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ch,"__esModule",{value:!0});const ok=ik(uh);let lk=class extends ok.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.Accept)!==null&&l!==void 0?l:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ch.default=lk;var ck=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Yc,"__esModule",{value:!0});const uk=ck(ch);let dk=class extends uk.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${o}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};Yc.default=dk;var fk=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(lh,"__esModule",{value:!0});const Jo=fk(Yc);let hk=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=r,this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(t??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Jo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Jo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const o="POST",l=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),i||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const c=t.reduce((u,f)=>u.concat(Object.keys(f)),[]);if(c.length>0){const u=[...new Set(c)].map(f=>`"${f}"`);this.url.searchParams.set("columns",u.join(","))}}return new Jo.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),this.headers.Prefer=s.join(","),new Jo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Jo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};lh.default=hk;var fh={},hh={};Object.defineProperty(hh,"__esModule",{value:!0});hh.version=void 0;hh.version="0.0.0-automated";Object.defineProperty(fh,"__esModule",{value:!0});fh.DEFAULT_HEADERS=void 0;const pk=hh;fh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${pk.version}`};var k2=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(rv,"__esModule",{value:!0});const mk=k2(lh),gk=k2(Yc),xk=fh;let vk=class T2{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},xk.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new mk.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new T2(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:i}={}){let o;const l=new URL(`${this.url}/rpc/${t}`);let c;n||s?(o=n?"HEAD":"GET",Object.entries(r).filter(([f,d])=>d!==void 0).map(([f,d])=>[f,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([f,d])=>{l.searchParams.append(f,d)})):(o="POST",c=r);const u=Object.assign({},this.headers);return i&&(u.Prefer=`count=${i}`),new gk.default({method:o,url:l,headers:u,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};rv.default=vk;var Oo=Wt&&Wt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(cr,"__esModule",{value:!0});cr.PostgrestError=cr.PostgrestBuilder=cr.PostgrestTransformBuilder=cr.PostgrestFilterBuilder=cr.PostgrestQueryBuilder=cr.PostgrestClient=void 0;const $2=Oo(rv);cr.PostgrestClient=$2.default;const I2=Oo(lh);cr.PostgrestQueryBuilder=I2.default;const R2=Oo(Yc);cr.PostgrestFilterBuilder=R2.default;const M2=Oo(ch);cr.PostgrestTransformBuilder=M2.default;const D2=Oo(uh);cr.PostgrestBuilder=D2.default;const L2=Oo(dh);cr.PostgrestError=L2.default;var yk=cr.default={PostgrestClient:$2.default,PostgrestQueryBuilder:I2.default,PostgrestFilterBuilder:R2.default,PostgrestTransformBuilder:M2.default,PostgrestBuilder:D2.default,PostgrestError:L2.default};const{PostgrestClient:bk,PostgrestQueryBuilder:sie,PostgrestFilterBuilder:aie,PostgrestTransformBuilder:iie,PostgrestBuilder:oie,PostgrestError:lie}=yk;function wk(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const jk=wk(),_k="2.11.15",Nk=`realtime-js/${_k}`,Sk="1.0.0",F2=1e4,Ok=1e3;var Pl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Pl||(Pl={}));var Ut;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ut||(Ut={}));var rn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(rn||(rn={}));var v0;(function(e){e.websocket="websocket"})(v0||(v0={}));var da;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(da||(da={}));class Ak{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+s));o=o+s;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}let U2=class{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Fe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Fe||(Fe={}));const Rb=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,o)=>(i[o]=Ek(o,e,t,s),i),{})},Ek=(e,t,r,n)=>{const s=t.find(l=>l.name===e),i=s==null?void 0:s.type,o=r[e];return i&&!n.includes(i)?B2(i,o):y0(o)},B2=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return Tk(t,r)}switch(e){case Fe.bool:return Pk(t);case Fe.float4:case Fe.float8:case Fe.int2:case Fe.int4:case Fe.int8:case Fe.numeric:case Fe.oid:return Ck(t);case Fe.json:case Fe.jsonb:return kk(t);case Fe.timestamp:return $k(t);case Fe.abstime:case Fe.date:case Fe.daterange:case Fe.int4range:case Fe.int8range:case Fe.money:case Fe.reltime:case Fe.text:case Fe.time:case Fe.timestamptz:case Fe.timetz:case Fe.tsrange:case Fe.tstzrange:return y0(t);default:return y0(t)}},y0=e=>e,Pk=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ck=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},kk=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Tk=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>B2(t,l))}return e},$k=e=>typeof e=="string"?e.replace(" ","T"):e,z2=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Lp{constructor(t,r,n={},s=F2){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Mb;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Mb||(Mb={}));class Cl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Cl.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Cl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Cl.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const i=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(i,(u,f)=>{o[u]||(c[u]=f)}),this.map(o,(u,f)=>{const d=i[u];if(d){const h=f.map(w=>w.presence_ref),p=d.map(w=>w.presence_ref),v=f.filter(w=>p.indexOf(w.presence_ref)<0),b=d.filter(w=>h.indexOf(w.presence_ref)<0);v.length>0&&(l[u]=v),b.length>0&&(c[u]=b)}else l[u]=f}),this.syncDiff(i,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const d=t[l].map(p=>p.presence_ref),h=f.filter(p=>d.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,f,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(d=>d.presence_ref);u=u.filter(d=>f.indexOf(d.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Db;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Db||(Db={}));var Lb;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Lb||(Lb={}));var Mn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Mn||(Mn={}));class nv{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Lp(this,rn.join,this.params,this.timeout),this.rejoinTimer=new U2(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ut.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rn.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Cl(this),this.broadcastEndpointURL=z2(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ut.closed){const{config:{broadcast:i,presence:o,private:l}}=this.params;this._onError(f=>t==null?void 0:t(Mn.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(Mn.CLOSED));const c={},u={broadcast:i,presence:o,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&s!==void 0?s:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var d;if(this.socket.setAuth(),f===void 0){t==null||t(Mn.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,p=(d=h==null?void 0:h.length)!==null&&d!==void 0?d:0,v=[];for(let b=0;b<p;b++){const w=h[b],{filter:{event:j,schema:x,table:m,filter:_}}=w,g=f&&f[b];if(g&&g.event===j&&g.schema===x&&g.table===m&&g.filter===_)v.push(Object.assign(Object.assign({},w),{id:g.id}));else{this.unsubscribe(),this.state=Ut.errored,t==null||t(Mn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Mn.SUBSCRIBED);return}}).receive("error",f=>{this.state=Ut.errored,t==null||t(Mn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Mn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ut.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Lp(this,rn.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Lp(this,t,r,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,i;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=rn;if(n&&[l,c,u,f].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,b,w;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(b=p.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(p=>p.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,b,w,j,x,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const _=p.id,g=(v=p.filter)===null||v===void 0?void 0:v.event;return _&&((b=r.ids)===null||b===void 0?void 0:b.includes(_))&&(g==="*"||(g==null?void 0:g.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(x=(j=p==null?void 0:p.filter)===null||j===void 0?void 0:j.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return _==="*"||_===((m=r==null?void 0:r.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:b,table:w,commit_timestamp:j,type:x,errors:m}=v;h=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:j,eventType:x,new:{},old:{},errors:m}),this._getPayloadRecords(v))}p.callback(h,n)})}_isClosed(){return this.state===Ut.closed}_isJoined(){return this.state===Ut.joined}_isJoining(){return this.state===Ut.joining}_isLeaving(){return this.state===Ut.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&nv.isEqual(s.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(rn.close,{},t)}_onError(t){this._on(rn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ut.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Rb(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Rb(t.columns,t.old_record)),r}}const Fb=()=>{},Ik=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Rk{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=F2,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fb,this.ref=0,this.logger=Fb,this.conn=null,this.sendBuffer=[],this.serializer=new Ak,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...l)=>Gc(async()=>{const{default:c}=await Promise.resolve().then(()=>So);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${v0.websocket}`,this.httpEndpoint=z2(t),r!=null&&r.transport?this.transport=r.transport:this.transport=null,r!=null&&r.params&&(this.params=r.params),r!=null&&r.timeout&&(this.timeout=r.timeout),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r!=null&&r.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const s=(n=r==null?void 0:r.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=r!=null&&r.reconnectAfterMs?r.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=r!=null&&r.encode?r.encode:(i,o)=>o(JSON.stringify(i)),this.decode=r!=null&&r.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new U2(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r==null?void 0:r.fetch),r!=null&&r.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(r==null?void 0:r.worker)||!1,this.workerUrl=r==null?void 0:r.workerUrl}this.accessToken=(r==null?void 0:r.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=jk),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Sk}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Pl.connecting:return da.Connecting;case Pl.open:return da.Open;case Pl.closing:return da.Closing;default:return da.Closed}}isConnected(){return this.connectionState()===da.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new nv(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:s,ref:i}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:Nk};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(rn.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Ok,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:s,payload:i,ref:o}=r;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(rn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([Ik],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class sv extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function St(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Mk extends sv{constructor(t,r){super(t),this.name="StorageApiError",this.status=r}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class b0 extends sv{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var Dk=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const q2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Gc(async()=>{const{default:n}=await Promise.resolve().then(()=>So);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Lk=()=>Dk(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Gc(()=>Promise.resolve().then(()=>So),void 0)).Response:Response}),w0=e=>{if(Array.isArray(e))return e.map(r=>w0(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[s]=w0(n)}),t};var qa=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Fp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Fk=(e,t,r)=>qa(void 0,void 0,void 0,function*(){const n=yield Lk();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{t(new Mk(Fp(s),e.status||500))}).catch(s=>{t(new b0(Fp(s),s))}):t(new b0(Fp(e),e))}),Uk=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),r))};function Qc(e,t,r,n,s,i){return qa(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,Uk(t,n,s,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Fk(c,l,n))})})}function $d(e,t,r,n){return qa(this,void 0,void 0,function*(){return Qc(e,"GET",t,r,n)})}function xs(e,t,r,n,s){return qa(this,void 0,void 0,function*(){return Qc(e,"POST",t,n,s,r)})}function Bk(e,t,r,n,s){return qa(this,void 0,void 0,function*(){return Qc(e,"PUT",t,n,s,r)})}function zk(e,t,r,n){return qa(this,void 0,void 0,function*(){return Qc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function W2(e,t,r,n,s){return qa(this,void 0,void 0,function*(){return Qc(e,"DELETE",t,n,s,r)})}var or=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const qk={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ub={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Wk{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=q2(s)}uploadOrUpdate(t,r,n,s){return or(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ub),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),d=yield this.fetch(`${this.url}/object/${f}`,Object.assign({method:t,body:i,headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield d.json();return d.ok?{data:{path:u,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(St(i))return{data:null,error:i};throw i}})}upload(t,r,n){return or(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return or(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Ub.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const d=yield this.fetch(l.toString(),{method:"PUT",body:c,headers:f}),h=yield d.json();return d.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(c){if(St(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return or(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield xs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new sv("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(St(n))return{data:null,error:n};throw n}})}update(t,r,n){return or(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return or(this,void 0,void 0,function*(){try{return{data:yield xs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(St(s))return{data:null,error:s};throw s}})}copy(t,r,n){return or(this,void 0,void 0,function*(){try{return{data:{path:(yield xs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(St(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return or(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),i=yield xs(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(St(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return or(this,void 0,void 0,function*(){try{const s=yield xs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(St(s))return{data:null,error:s};throw s}})}download(t,r){return or(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield $d(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(St(l))return{data:null,error:l};throw l}})}info(t){return or(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield $d(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:w0(n),error:null}}catch(n){if(St(n))return{data:null,error:n};throw n}})}exists(t){return or(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield zk(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(St(n)&&n instanceof b0){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return or(this,void 0,void 0,function*(){try{return{data:yield W2(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}})}list(t,r,n){return or(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},qk),r),{prefix:t||""});return{data:yield xs(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(St(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Hk="2.7.1",Kk={"X-Client-Info":`storage-js/${Hk}`};var Xa=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Vk{constructor(t,r={},n){this.url=t,this.headers=Object.assign(Object.assign({},Kk),r),this.fetch=q2(n)}listBuckets(){return Xa(this,void 0,void 0,function*(){try{return{data:yield $d(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(St(t))return{data:null,error:t};throw t}})}getBucket(t){return Xa(this,void 0,void 0,function*(){try{return{data:yield $d(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Xa(this,void 0,void 0,function*(){try{return{data:yield xs(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(St(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Xa(this,void 0,void 0,function*(){try{return{data:yield Bk(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(St(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Xa(this,void 0,void 0,function*(){try{return{data:yield xs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Xa(this,void 0,void 0,function*(){try{return{data:yield W2(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}})}}class Gk extends Vk{constructor(t,r={},n){super(t,r,n)}from(t){return new Wk(this.url,this.headers,t,this.fetch)}}const Yk="2.52.1";let xl="";typeof Deno<"u"?xl="deno":typeof document<"u"?xl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xl="react-native":xl="node";const Qk={"X-Client-Info":`supabase-js-${xl}/${Yk}`},Xk={headers:Qk},Zk={schema:"public"},Jk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eT={};var tT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const rT=e=>{let t;return e?t=e:typeof fetch>"u"?t=E2:t=fetch,(...r)=>t(...r)},nT=()=>typeof Headers>"u"?P2:Headers,sT=(e,t,r)=>{const n=rT(r),s=nT();return(i,o)=>tT(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))})};var aT=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function iT(e){return e.endsWith("/")?e:e+"/"}function oT(e,t){var r,n;const{db:s,auth:i,realtime:o,global:l}=e,{db:c,auth:u,realtime:f,global:d}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},f),o),global:Object.assign(Object.assign(Object.assign({},d),l),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>aT(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const H2="2.71.1",oi=30*1e3,j0=3,Up=j0*oi,lT="http://localhost:9999",cT="supabase.auth.token",uT={"X-Client-Info":`gotrue-js/${H2}`},_0="X-Supabase-Api-Version",K2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},dT=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,fT=10*60*1e3;class av extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function pe(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class hT extends av{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function pT(e){return pe(e)&&e.name==="AuthApiError"}class V2 extends av{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class Vs extends av{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ps extends Vs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function mT(e){return pe(e)&&e.name==="AuthSessionMissingError"}class Pu extends Vs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Cu extends Vs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ku extends Vs{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function gT(e){return pe(e)&&e.name==="AuthImplicitGrantRedirectError"}class Bb extends Vs{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class N0 extends Vs{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Bp(e){return pe(e)&&e.name==="AuthRetryableFetchError"}class zb extends Vs{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class S0 extends Vs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Id="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qb=` 	
\r=`.split(""),xT=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qb.length;t+=1)e[qb[t].charCodeAt(0)]=-2;for(let t=0;t<Id.length;t+=1)e[Id[t].charCodeAt(0)]=t;return e})();function Wb(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Id[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Id[n]),t.queuedBits-=6}}function G2(e,t,r){const n=xT[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Hb(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{bT(o,n,r)};for(let o=0;o<e.length;o+=1)G2(e.charCodeAt(o),s,i);return t.join("")}function vT(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function yT(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}vT(n,t)}}function bT(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function wT(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)G2(e.charCodeAt(s),r,n);return new Uint8Array(t)}function jT(e){const t=[];return yT(e,r=>t.push(r)),new Uint8Array(t)}function _T(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Wb(s,r,n)),Wb(null,r,n),t.join("")}function NT(e){return Math.round(Date.now()/1e3)+e}function ST(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Jr=()=>typeof window<"u"&&typeof document<"u",ea={tested:!1,writable:!1},Y2=()=>{if(!Jr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ea.tested)return ea.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ea.tested=!0,ea.writable=!0}catch{ea.tested=!0,ea.writable=!1}return ea.writable};function OT(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{t[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const Q2=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Gc(async()=>{const{default:n}=await Promise.resolve().then(()=>So);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},AT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",li=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ta=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},us=async(e,t)=>{await e.removeItem(t)};class ph{constructor(){this.promise=new ph.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}ph.promiseConstructor=Promise;function zp(e){const t=e.split(".");if(t.length!==3)throw new S0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!dT.test(t[n]))throw new S0("JWT not in base64url format");return{header:JSON.parse(Hb(t[0])),payload:JSON.parse(Hb(t[1])),signature:wT(t[2]),raw:{header:t[0],payload:t[1]}}}async function ET(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function PT(e,t){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){s(o);return}}})()})}function CT(e){return("0"+e.toString(16)).substr(-2)}function kT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,CT).join("")}async function TT(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function $T(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await TT(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Za(e,t,r=!1){const n=kT();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await li(e,`${t}-code-verifier`,s);const i=await $T(n);return[i,n===i?"plain":"s256"]}const IT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function RT(e){const t=e.headers.get(_0);if(!t||!t.match(IT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function MT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function DT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const LT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ja(e){if(!LT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qp(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Kb(e){return JSON.parse(JSON.stringify(e))}var FT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const oa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UT=[502,503,504];async function Vb(e){var t;if(!AT(e))throw new N0(oa(e),0);if(UT.includes(e.status))throw new N0(oa(e),e.status);let r;try{r=await e.json()}catch(i){throw new V2(oa(i),i)}let n;const s=RT(e);if(s&&s.getTime()>=K2["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new zb(oa(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ps}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new zb(oa(r),e.status,r.weak_password.reasons);throw new hT(oa(r),e.status||500,n)}const BT=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function ye(e,t,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[_0]||(i[_0]=K2["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await zT(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function zT(e,t,r,n,s,i){const o=BT(t,n,s,i);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new N0(oa(c),0)}if(l.ok||await Vb(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Vb(c)}}function In(e){var t;let r=null;KT(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=NT(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Gb(e){const t=In(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ws(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function qT(e){return{data:e,error:null}}function WT(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e,o=FT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function HT(e){return e}function KT(e){return e.access_token&&e.refresh_token&&e.expires_in}const Wp=["global","local","others"];var VT=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class GT{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Q2(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Wp[0]){if(Wp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Wp.join(", ")}`);try{return await ye(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ws})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=VT(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:WT,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(pe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ye(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ws})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:HT});if(f.error)throw f.error;const d=await f.json(),h=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const b=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(pe(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Ja(t);try{return await ye(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ws})}catch(r){if(pe(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Ja(t);try{return await ye(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ws})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Ja(t);try{return await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ws})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ja(t.userId);try{const{data:r,error:n}=await ye(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Ja(t.userId),Ja(t.id);try{return{data:await ye(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}}function Yb(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function YT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ei={debug:!!(globalThis&&Y2()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class X2 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class QT extends X2{}async function XT(e,t,r){ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ei.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ei.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new QT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ei.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}YT();const ZT={url:lT,storageKey:cT,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:uT,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Qb(e,t,r){return await r()}const ti={};class tc{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=tc.nextInstanceID,tc.nextInstanceID+=1,this.instanceID>0&&Jr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},ZT),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new GT({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Q2(s.fetch),this.lock=s.lock||Qb,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Jr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=XT:this.lock=Qb,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Y2()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Yb(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Yb(this.memoryStorage)),Jr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=ti[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ti[this.storageKey]=Object.assign(Object.assign({},ti[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ti[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ti[this.storageKey]=Object.assign(Object.assign({},ti[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${H2}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=OT(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Jr()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),gT(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return pe(r)?{error:r}:{error:new V2("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:In}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(pe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,s;try{let i;if("email"in t){const{email:f,password:d,options:h}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await Za(this.storage,this.storageKey)),i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:f,password:d,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:In})}else if("phone"in t){const{phone:f,password:d,options:h}=t;i=await ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:In})}else throw new Cu("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(pe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Gb})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Gb})}else throw new Cu("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Pu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,i,o,l,c,u,f,d,h,p;let v,b;if("message"in t)v=t.message,b=t.signature;else{const{chain:w,wallet:j,statement:x,options:m}=t;let _;if(Jr())if(typeof j=="object")_=j;else{const y=window;if("solana"in y&&typeof y.solana=="object"&&("signIn"in y.solana&&typeof y.solana.signIn=="function"||"signMessage"in y.solana&&typeof y.solana.signMessage=="function"))_=y.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=j}const g=new URL((r=m==null?void 0:m.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const y=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:g.host,uri:g.href}),x?{statement:x}:null));let N;if(Array.isArray(y)&&y[0]&&typeof y[0]=="object")N=y[0];else if(y&&typeof y=="object"&&"signedMessage"in y&&"signature"in y)N=y;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)v=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),b=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${g.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${g.href}`,`Issued At: ${(s=(n=m==null?void 0:m.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((d=(f=m==null?void 0:m.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...m.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const y=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!y||!(y instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=y}}try{const{data:w,error:j}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:_T(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:In});if(j)throw j;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Pu}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:j})}catch(w){if(pe(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await ta(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:In});if(await us(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Pu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(pe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=t,l=await ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:In}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Pu}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,i,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await Za(this.storage,this.storageKey));const{error:d}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f}}throw new Cu("You must provide either an email or phone number.")}catch(l){if(pe(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,i;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:In});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(pe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Za(this.storage,this.storageKey)),await ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:qT})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ps;const{error:s}=await ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(pe(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:i}=t,{error:o}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:s,options:i}=t,{data:o,error:l}=await ye(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Cu("You must provide either an email or phone number and a type")}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ta(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Up:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ta(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=qp()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ws}):await this._useSession(async r=>{var n,s,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ps}:await ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:ws})})}catch(r){if(pe(r))return mT(r)&&(await this._removeSession(),await us(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new ps;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Za(this.storage,this.storageKey));const{data:u,error:f}=await ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ws});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(pe(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ps;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=zp(t.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(pe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new ps;const{session:s,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(pe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Jr())throw new ku("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ku(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Bb("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ku("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Bb("No code detected.");const{data:x,error:m}=await this._exchangeCodeForSession(t.code);if(m)throw m;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!i||!l||!o||!u)throw new ku("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(l);let h=f+d;c&&(h=parseInt(c));const p=h-f;p*1e3<=oi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${d}s`);const v=h-d;f-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,f):f-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,f);const{data:b,error:w}=await this._getUser(i);if(w)throw w;const j={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:h,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:t.type},error:null}}catch(n){if(pe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ta(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(pT(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await us(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=ST(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Za(this.storage,this.storageKey,!0));try{return await ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(pe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,l,c,u,f;const{data:d,error:h}=i;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ye(this.fetch,"GET",p,{headers:this.headers,jwt:(f=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Jr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(pe(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await ye(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await PT(async s=>(s>0&&await ET(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:In})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Bp(i)&&Date.now()+o-n<oi})}catch(n){if(this._debug(r,"error",n),pe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Jr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ta(this.storage,this.storageKey);if(s&&this.userStorage){let o=await ta(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await li(this.userStorage,this.storageKey+"-user",o)),s.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:qp()}else if(s&&!s.user&&!s.user){const o=await ta(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await us(this.storage,this.storageKey+"-user"),await li(this.storage,this.storageKey,s)):s.user=qp()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Up;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Up}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Bp(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ps;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ph;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new ps;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),pe(i)){const o={session:null,error:i};return Bp(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await li(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Kb(s);await li(this.storage,this.storageKey,i)}else{const s=Kb(r);await li(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await us(this.storage,this.storageKey),await us(this.storage,this.storageKey+"-code-verifier"),await us(this.storage,this.storageKey+"-user"),this.userStorage&&await us(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Jr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),oi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/oi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${oi}ms, refresh threshold is ${j0} ticks`),s<=j0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof X2)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Jr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Za(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ye(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await ye(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(pe(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:l}=await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(pe(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await ye(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(pe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:i}=t;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=zp(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+fT>s)return n;const{data:i,error:o}=await ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};n=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=zp(n);r!=null&&r.allowExpired||MT(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const f=DT(s.alg),d=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,o,jT(`${l}.${c}`)))throw new S0("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}}}tc.nextInstanceID=0;const JT=tc;class e3 extends JT{constructor(t){super(t)}}var t3=function(e,t,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(f){try{u(n.next(f))}catch(d){o(d)}}function c(f){try{u(n.throw(f))}catch(d){o(d)}}function u(f){f.done?i(f.value):s(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class r3{constructor(t,r,n){var s,i,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=iT(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:Zk,realtime:eT,auth:Object.assign(Object.assign({},Jk),{storageKey:u}),global:Xk},d=oT(n??{},f);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=sT(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new bk(new URL("rest/v1",c).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),d.accessToken||this._listenForAuthEvents()}get functions(){return new Q6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Gk(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return t3(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:l,debug:c},u,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new e3({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Rk(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Z2=(e,t,r)=>new r3(e,t,r);function n3(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}n3()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const on="https://dlvpvzfztyzcatcpgwzo.supabase.co",Bn="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRsdnB2emZ6dHl6Y2F0Y3Bnd3pvIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMyODQ5NTcsImV4cCI6MjA2ODg2MDk1N30.9v5Adsd9GYaB_cFSmamFzRdNIcuBIL7E77ppM7efn2Y",zn="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRsdnB2emZ6dHl6Y2F0Y3Bnd3pvIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MzI4NDk1NywiZXhwIjoyMDY4ODYwOTU3fQ.VI-Kv0Qu9bQVKO1fBlRue9xrD6l7Ij8Q173ACeIwnHQ";console.log("Environment variables debug:",{VITE_SUPABASE_URL:on,VITE_SUPABASE_ANON_KEY:`${Bn.substring(0,10)}...`,VITE_SUPABASE_SERVICE_ROLE_KEY:`${zn.substring(0,10)}...`});const mh=on.trim()!==""&&Bn.trim()!==""&&zn.trim()!==""&&on!=="your_supabase_project_url"&&Bn!=="your_supabase_anon_key"&&zn!=="your_supabase_service_role_key"&&on.length>10&&Bn.length>20&&zn.length>20;console.log("Supabase configuration validation:",{hasUrl:!!on,hasAnonKey:!!Bn,hasServiceKey:!!zn,urlLength:(on==null?void 0:on.length)||0,anonKeyLength:(Bn==null?void 0:Bn.length)||0,serviceKeyLength:(zn==null?void 0:zn.length)||0,isNotPlaceholder:on!=="your_supabase_project_url",finalResult:mh});const Q=mh?Z2(on,Bn,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}):null,qe=mh?Z2(on,zn,{auth:{autoRefreshToken:!1,persistSession:!1}}):null,ue=!mh;console.log(`Application mode: ${ue?"DEMO":"PRODUCTION"}`);console.log(`Supabase client: ${Q?"READY":"NOT AVAILABLE"}`);ue&&console.warn("Running in DEMO mode. Please check your .env file and ensure all Supabase environment variables are properly set.");const s3={};var O0=null;function a3(e){try{return crypto.getRandomValues(new Uint8Array(e))}catch{}try{return s3.randomBytes(e)}catch{}if(!O0)throw Error("Neither WebCryptoAPI nor a crypto module is available. Use bcrypt.setRandomFallback to set an alternative");return O0(e)}function i3(e){O0=e}function iv(e,t){if(e=e||ov,typeof e!="number")throw Error("Illegal arguments: "+typeof e+", "+typeof t);e<4?e=4:e>31&&(e=31);var r=[];return r.push("$2b$"),e<10&&r.push("0"),r.push(e.toString()),r.push("$"),r.push(Rd(a3(rc),rc)),r.join("")}function J2(e,t,r){if(typeof t=="function"&&(r=t,t=void 0),typeof e=="function"&&(r=e,e=void 0),typeof e>"u")e=ov;else if(typeof e!="number")throw Error("illegal arguments: "+typeof e);function n(s){cn(function(){try{s(null,iv(e))}catch(i){s(i)}})}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);n(r)}else return new Promise(function(s,i){n(function(o,l){if(o){i(o);return}s(l)})})}function e4(e,t){if(typeof t>"u"&&(t=ov),typeof t=="number"&&(t=iv(t)),typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return A0(e,t)}function t4(e,t,r,n){function s(i){typeof e=="string"&&typeof t=="number"?J2(t,function(o,l){A0(e,l,i,n)}):typeof e=="string"&&typeof t=="string"?A0(e,t,i,n):cn(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)))}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);s(r)}else return new Promise(function(i,o){s(function(l,c){if(l){o(l);return}i(c)})})}function r4(e,t){for(var r=e.length^t.length,n=0;n<e.length;++n)r|=e.charCodeAt(n)^t.charCodeAt(n);return r===0}function o3(e,t){if(typeof e!="string"||typeof t!="string")throw Error("Illegal arguments: "+typeof e+", "+typeof t);return t.length!==60?!1:r4(e4(e,t.substring(0,t.length-31)),t)}function l3(e,t,r,n){function s(i){if(typeof e!="string"||typeof t!="string"){cn(i.bind(this,Error("Illegal arguments: "+typeof e+", "+typeof t)));return}if(t.length!==60){cn(i.bind(this,null,!1));return}t4(e,t.substring(0,29),function(o,l){o?i(o):i(null,r4(l,t))},n)}if(r){if(typeof r!="function")throw Error("Illegal callback: "+typeof r);s(r)}else return new Promise(function(i,o){s(function(l,c){if(l){o(l);return}i(c)})})}function c3(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return parseInt(e.split("$")[2],10)}function u3(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);if(e.length!==60)throw Error("Illegal hash length: "+e.length+" != 60");return e.substring(0,29)}function d3(e){if(typeof e!="string")throw Error("Illegal arguments: "+typeof e);return n4(e)>72}var cn=typeof process<"u"&&process&&typeof process.nextTick=="function"?typeof setImmediate=="function"?setImmediate:process.nextTick:setTimeout;function n4(e){for(var t=0,r=0,n=0;n<e.length;++n)r=e.charCodeAt(n),r<128?t+=1:r<2048?t+=2:(r&64512)===55296&&(e.charCodeAt(n+1)&64512)===56320?(++n,t+=4):t+=3;return t}function f3(e){for(var t=0,r,n,s=new Array(n4(e)),i=0,o=e.length;i<o;++i)r=e.charCodeAt(i),r<128?s[t++]=r:r<2048?(s[t++]=r>>6|192,s[t++]=r&63|128):(r&64512)===55296&&((n=e.charCodeAt(i+1))&64512)===56320?(r=65536+((r&1023)<<10)+(n&1023),++i,s[t++]=r>>18|240,s[t++]=r>>12&63|128,s[t++]=r>>6&63|128,s[t++]=r&63|128):(s[t++]=r>>12|224,s[t++]=r>>6&63|128,s[t++]=r&63|128);return s}var ri="./ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),ds=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,54,55,56,57,58,59,60,61,62,63,-1,-1,-1,-1,-1,-1,-1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,-1,-1,-1,-1,-1,-1,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,-1,-1,-1,-1,-1];function Rd(e,t){var r=0,n=[],s,i;if(t<=0||t>e.length)throw Error("Illegal len: "+t);for(;r<t;){if(s=e[r++]&255,n.push(ri[s>>2&63]),s=(s&3)<<4,r>=t){n.push(ri[s&63]);break}if(i=e[r++]&255,s|=i>>4&15,n.push(ri[s&63]),s=(i&15)<<2,r>=t){n.push(ri[s&63]);break}i=e[r++]&255,s|=i>>6&3,n.push(ri[s&63]),n.push(ri[i&63])}return n.join("")}function s4(e,t){var r=0,n=e.length,s=0,i=[],o,l,c,u,f,d;if(t<=0)throw Error("Illegal len: "+t);for(;r<n-1&&s<t&&(d=e.charCodeAt(r++),o=d<ds.length?ds[d]:-1,d=e.charCodeAt(r++),l=d<ds.length?ds[d]:-1,!(o==-1||l==-1||(f=o<<2>>>0,f|=(l&48)>>4,i.push(String.fromCharCode(f)),++s>=t||r>=n)||(d=e.charCodeAt(r++),c=d<ds.length?ds[d]:-1,c==-1)||(f=(l&15)<<4>>>0,f|=(c&60)>>2,i.push(String.fromCharCode(f)),++s>=t||r>=n)));)d=e.charCodeAt(r++),u=d<ds.length?ds[d]:-1,f=(c&3)<<6>>>0,f|=u,i.push(String.fromCharCode(f)),++s;var h=[];for(r=0;r<s;r++)h.push(i[r].charCodeAt(0));return h}var rc=16,ov=10,h3=16,p3=100,Xb=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Zb=[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946,1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055,3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504,976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462],a4=[1332899944,1700884034,1701343084,1684370003,1668446532,1869963892];function nc(e,t,r,n){var s,i=e[t],o=e[t+1];return i^=r[0],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[1],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[2],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[3],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[4],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[5],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[6],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[7],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[8],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[9],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[10],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[11],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[12],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[13],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[14],s=n[i>>>24],s+=n[256|i>>16&255],s^=n[512|i>>8&255],s+=n[768|i&255],o^=s^r[15],s=n[o>>>24],s+=n[256|o>>16&255],s^=n[512|o>>8&255],s+=n[768|o&255],i^=s^r[16],e[t]=o^r[h3+1],e[t+1]=i,e}function ci(e,t){for(var r=0,n=0;r<4;++r)n=n<<8|e[t]&255,t=(t+1)%e.length;return{key:n,offp:t}}function Jb(e,t,r){for(var n=0,s=[0,0],i=t.length,o=r.length,l,c=0;c<i;c++)l=ci(e,n),n=l.offp,t[c]=t[c]^l.key;for(c=0;c<i;c+=2)s=nc(s,0,t,r),t[c]=s[0],t[c+1]=s[1];for(c=0;c<o;c+=2)s=nc(s,0,t,r),r[c]=s[0],r[c+1]=s[1]}function m3(e,t,r,n){for(var s=0,i=[0,0],o=r.length,l=n.length,c,u=0;u<o;u++)c=ci(t,s),s=c.offp,r[u]=r[u]^c.key;for(s=0,u=0;u<o;u+=2)c=ci(e,s),s=c.offp,i[0]^=c.key,c=ci(e,s),s=c.offp,i[1]^=c.key,i=nc(i,0,r,n),r[u]=i[0],r[u+1]=i[1];for(u=0;u<l;u+=2)c=ci(e,s),s=c.offp,i[0]^=c.key,c=ci(e,s),s=c.offp,i[1]^=c.key,i=nc(i,0,r,n),n[u]=i[0],n[u+1]=i[1]}function ew(e,t,r,n,s){var i=a4.slice(),o=i.length,l;if(r<4||r>31)if(l=Error("Illegal number of rounds (4-31): "+r),n){cn(n.bind(this,l));return}else throw l;if(t.length!==rc)if(l=Error("Illegal salt length: "+t.length+" != "+rc),n){cn(n.bind(this,l));return}else throw l;r=1<<r>>>0;var c,u,f=0,d;typeof Int32Array=="function"?(c=new Int32Array(Xb),u=new Int32Array(Zb)):(c=Xb.slice(),u=Zb.slice()),m3(t,e,c,u);function h(){if(s&&s(f/r),f<r)for(var v=Date.now();f<r&&(f=f+1,Jb(e,c,u),Jb(t,c,u),!(Date.now()-v>p3)););else{for(f=0;f<64;f++)for(d=0;d<o>>1;d++)nc(i,d<<1,c,u);var b=[];for(f=0;f<o;f++)b.push((i[f]>>24&255)>>>0),b.push((i[f]>>16&255)>>>0),b.push((i[f]>>8&255)>>>0),b.push((i[f]&255)>>>0);if(n){n(null,b);return}else return b}n&&cn(h)}if(typeof n<"u")h();else for(var p;;)if(typeof(p=h())<"u")return p||[]}function A0(e,t,r,n){var s;if(typeof e!="string"||typeof t!="string")if(s=Error("Invalid string / salt: Not a string"),r){cn(r.bind(this,s));return}else throw s;var i,o;if(t.charAt(0)!=="$"||t.charAt(1)!=="2")if(s=Error("Invalid salt version: "+t.substring(0,2)),r){cn(r.bind(this,s));return}else throw s;if(t.charAt(2)==="$")i="\0",o=3;else{if(i=t.charAt(2),i!=="a"&&i!=="b"&&i!=="y"||t.charAt(3)!=="$")if(s=Error("Invalid salt revision: "+t.substring(2,4)),r){cn(r.bind(this,s));return}else throw s;o=4}if(t.charAt(o+2)>"$")if(s=Error("Missing salt rounds"),r){cn(r.bind(this,s));return}else throw s;var l=parseInt(t.substring(o,o+1),10)*10,c=parseInt(t.substring(o+1,o+2),10),u=l+c,f=t.substring(o+3,o+25);e+=i>="a"?"\0":"";var d=f3(e),h=s4(f,rc);function p(v){var b=[];return b.push("$2"),i>="a"&&b.push(i),b.push("$"),u<10&&b.push("0"),b.push(u.toString()),b.push("$"),b.push(Rd(h,h.length)),b.push(Rd(v,a4.length*4-1)),b.join("")}if(typeof r>"u")return p(ew(d,h,u));ew(d,h,u,function(v,b){v?r(v,null):r(null,p(b))},n)}function g3(e,t){return Rd(e,t)}function x3(e,t){return s4(e,t)}const E0={setRandomFallback:i3,genSaltSync:iv,genSalt:J2,hashSync:e4,hash:t4,compareSync:o3,compare:l3,getRounds:c3,getSalt:u3,truncates:d3,encodeBase64:g3,decodeBase64:x3};class i4{static async log(t){try{if(!Q){console.log("ActivityLogger: Supabase not configured, skipping log");return}let r=t.user_id;if(!r){const o=localStorage.getItem("userData");o&&(r=JSON.parse(o).id)}const n=navigator.userAgent,s={user_id:r,activity_type:t.activity_type,description:t.description,metadata:t.metadata?JSON.stringify(t.metadata):null,ip_address:t.ip_address||null,user_agent:n},{error:i}=await Q.from("activity_logs").insert(s);i?console.error("ActivityLogger: Failed to log activity:",i):console.log("ActivityLogger: Activity logged successfully:",t.activity_type)}catch(r){console.error("ActivityLogger: Error logging activity:",r)}}static async logLogin(t,r){await this.log({user_id:t,activity_type:"user_login",description:`User logged in: ${r}`,metadata:{email:r,login_time:new Date().toISOString()}})}static async logLogout(t,r){await this.log({user_id:t,activity_type:"user_logout",description:`User logged out: ${r}`,metadata:{email:r,logout_time:new Date().toISOString()}})}static async logTestStart(t,r,n){await this.log({user_id:t,activity_type:"test_started",description:`Started test: ${n}`,metadata:{survey_id:r,survey_title:n,start_time:new Date().toISOString()}})}static async logTestComplete(t,r,n,s,i){await this.log({user_id:t,activity_type:"test_completed",description:`Completed test: ${n} - Score: ${s}% (${i?"Passed":"Failed"})`,metadata:{survey_id:r,survey_title:n,score:s,is_passed:i,completion_time:new Date().toISOString()}})}static async logUserCreated(t,r,n,s){await this.log({user_id:t,activity_type:"user_created",description:`Created new user: ${n} with role ${s}`,metadata:{new_user_id:r,new_user_email:n,role_name:s,creation_time:new Date().toISOString()}})}static async logSurveyCreated(t,r,n){await this.log({user_id:t,activity_type:"survey_created",description:`Created new survey: ${n}`,metadata:{survey_id:r,survey_title:n,creation_time:new Date().toISOString()}})}static async logSurveyUpdated(t,r,n){await this.log({user_id:t,activity_type:"survey_updated",description:`Updated survey: ${n}`,metadata:{survey_id:r,survey_title:n,update_time:new Date().toISOString()}})}static async logSurveyDeleted(t,r,n){await this.log({user_id:t,activity_type:"survey_deleted",description:`Deleted survey: ${n}`,metadata:{survey_id:r,survey_title:n,deletion_time:new Date().toISOString()}})}static async logQuestionUploaded(t,r,n){await this.log({user_id:t,activity_type:"questions_uploaded",description:`Uploaded ${n} questions to survey`,metadata:{survey_id:r,questions_count:n,upload_time:new Date().toISOString()}})}static async logCertificateIssued(t,r,n,s){await this.log({user_id:t,activity_type:"certificate_issued",description:`Certificate issued: ${n} for ${s}`,metadata:{certificate_id:r,certificate_number:n,survey_title:s,issue_time:new Date().toISOString()}})}static async logSettingUpdated(t,r,n,s){await this.log({user_id:t,activity_type:"setting_updated",description:`Updated setting: ${r}`,metadata:{setting_key:r,old_value:n,new_value:s,update_time:new Date().toISOString()}})}}class ar{async handleResponse(t){return t.error?(console.error("API Error:",t.error),{success:!1,message:t.error.message||"An error occurred",data:void 0}):{success:!0,message:"Operation completed successfully",data:t.data}}async handleError(t){return console.error("API Exception:",t),{success:!1,message:t.message||"An unexpected error occurred",data:void 0}}async getSurveySections(t){try{if(!Q)return{success:!1,message:"Database not configured",data:[]};const{data:r,error:n}=await Q.from("survey_sections").select("*").eq("survey_id",t).order("section_order");if(n)throw n;return{success:!0,data:r||[],message:"Sections fetched successfully"}}catch(r){return console.error("Get survey sections error:",r),{success:!1,message:r instanceof Error?r.message:"Failed to fetch sections",data:[]}}}async createSection(t){try{if(!Q)return{success:!1,message:"Database not configured"};const{data:r,error:n}=await Q.from("survey_sections").insert({survey_id:t.surveyId,title:t.title,description:t.description,questions_count:t.questionsCount,section_order:t.sectionOrder}).select().single();if(n)throw n;return{success:!0,data:r,message:"Section created successfully"}}catch(r){return console.error("Create section error:",r),{success:!1,message:r instanceof Error?r.message:"Failed to create section"}}}async updateSection(t,r){try{if(!Q)return{success:!1,message:"Database not configured"};const{data:n,error:s}=await Q.from("survey_sections").update({title:r.title,description:r.description,questions_count:r.questionsCount,section_order:r.sectionOrder,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return{success:!0,data:n,message:"Section updated successfully"}}catch(n){return console.error("Update section error:",n),{success:!1,message:n instanceof Error?n.message:"Failed to update section"}}}async deleteSection(t){try{if(!Q)return{success:!1,message:"Database not configured"};const{error:r}=await Q.from("survey_sections").delete().eq("id",t);if(r)throw r;return{success:!0,message:"Section deleted successfully"}}catch(r){return console.error("Delete section error:",r),{success:!1,message:r instanceof Error?r.message:"Failed to delete section"}}}}class v3 extends ar{async login(t,r){var n;try{if(ue)return{success:!1,message:"Demo mode: Supabase not configured. Please set up your Supabase credentials."};console.log("AuthApi: Attempting login for:",t);const{data:s,error:i}=await Q.auth.signInWithPassword({email:t,password:r});if(i)return console.error("AuthApi: Supabase auth error:",i),{success:!1,message:i.message||"Invalid email or password"};if(!s.user)return{success:!1,message:"Authentication failed"};console.log("AuthApi: Supabase auth successful, fetching user profile...");const{data:o,error:l}=await Q.from("users").select(`
          *,
          role:roles(*)
        `).eq("id",s.user.id).single();return l||!o?(console.error("AuthApi: User profile fetch error:",l),{success:!1,message:"User profile not found"}):(console.log("AuthApi: User profile fetched successfully"),await Q.from("users").update({last_login:new Date().toISOString()}).eq("id",s.user.id),await i4.logLogin(s.user.id,t),{success:!0,message:"Login successful",data:{user:{id:o.id,email:o.email,name:o.name,roleId:o.role_id,role:{id:o.role.id,name:o.role.name,description:o.role.description,level:o.role.level,isActive:o.role.is_active,createdAt:new Date(o.role.created_at),updatedAt:new Date(o.role.updated_at),menuAccess:o.role.menu_access},isActive:o.is_active,jurisdiction:o.jurisdiction,zone:o.zone,region:o.region,district:o.district,employeeId:o.employee_id,phoneNumber:o.phone_number,createdAt:new Date(o.created_at),updatedAt:new Date(o.updated_at),lastLogin:o.last_login?new Date(o.last_login):void 0},token:((n=s.session)==null?void 0:n.access_token)||"",session:s.session}})}catch(s){return this.handleError(s)}}async logout(){try{if(ue)return{success:!0,message:"Logged out (demo mode)"};const{error:t}=await Q.auth.signOut();if(t)throw t;return{success:!0,message:"Logged out successfully"}}catch(t){return this.handleError(t)}}async changePassword(t,r){try{if(ue)return{success:!1,message:"Password change not available in demo mode"};const{error:n}=await Q.auth.updateUser({password:r});if(n)throw n;return{success:!0,message:"Password changed successfully"}}catch(n){return this.handleError(n)}}}class y3 extends ar{async getUsers(){try{if(ue)return{success:!1,message:"User management not available in demo mode"};console.log("UserApi: Fetching users...");const{data:t,error:r}=await qe.from("users").select(`
          *,
          role:roles(*)
        `).order("created_at",{ascending:!1});if(r)throw console.error("UserApi: Error fetching users:",r),r;if(console.log("UserApi: Raw data from Supabase:",t),!t||t.length===0)return console.log("UserApi: No users found in database"),{success:!0,message:"No users found. Initialize the database to create demo users.",data:[]};const n=t.map(s=>({id:s.id,email:s.email,name:s.name,roleId:s.role_id,role:{id:s.role.id,name:s.role.name,description:s.role.description,level:s.role.level,isActive:s.role.is_active,createdAt:new Date(s.role.created_at),updatedAt:new Date(s.role.updated_at)},isActive:s.is_active,jurisdiction:s.jurisdiction,zone:s.zone,region:s.region,district:s.district,employeeId:s.employee_id,phoneNumber:s.phone_number,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at),lastLogin:s.last_login?new Date(s.last_login):void 0}));return console.log("UserApi: Processed users:",n),{success:!0,message:"Users fetched successfully",data:n}}catch(t){return console.error("UserApi: Exception in getUsers:",t),this.handleError(t)}}async createUser(t){try{if(ue)return{success:!1,message:"User creation not available in demo mode"};const{data:r,error:n}=await qe.auth.admin.createUser({email:t.email,password:t.password,email_confirm:!0,user_metadata:{name:t.name}});if(n)throw n;const s=E0.hashSync(t.password,10),{data:i,error:o}=await qe.from("users").insert({id:r.user.id,email:t.email,password_hash:s,name:t.name,role_id:t.roleId,jurisdiction:t.jurisdiction,zone:t.zone,region:t.region,district:t.district,employee_id:t.employeeId,phone_number:t.phoneNumber}).select(`
          *,
          role:roles(*)
        `).single();if(o)throw o;const l={id:i.id,email:i.email,name:i.name,roleId:i.role_id,role:{id:i.role.id,name:i.role.name,description:i.role.description,level:i.role.level,isActive:i.role.is_active,createdAt:new Date(i.role.created_at),updatedAt:new Date(i.role.updated_at)},isActive:i.is_active,jurisdiction:i.jurisdiction,zone:i.zone,region:i.region,district:i.district,employeeId:i.employee_id,phoneNumber:i.phone_number,createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)};return{success:!0,message:`User created successfully! Login credentials:
Email: ${t.email}
Password: ${t.password}

The user should change their password on first login.`,data:l}}catch(r){return this.handleError(r)}}async updateUser(t,r){try{if(ue)return{success:!1,message:"User updates not available in demo mode"};const n={name:r.name,email:r.email,role_id:r.roleId,jurisdiction:r.jurisdiction,zone:r.zone,region:r.region,district:r.district,employee_id:r.employeeId,phone_number:r.phoneNumber,updated_at:new Date().toISOString()};r.password&&r.password.trim()&&(n.password_hash=E0.hashSync(r.password,10),await qe.auth.admin.updateUserById(t,{password:r.password}));const{data:s,error:i}=await qe.from("users").update(n).eq("id",t).select(`
          *,
          role:roles(*)
        `).single();if(i)throw i;return{success:!0,message:"User updated successfully",data:{id:s.id,email:s.email,name:s.name,roleId:s.role_id,role:{id:s.role.id,name:s.role.name,description:s.role.description,level:s.role.level,isActive:s.role.is_active,createdAt:new Date(s.role.created_at),updatedAt:new Date(s.role.updated_at)},isActive:s.is_active,jurisdiction:s.jurisdiction,zone:s.zone,region:s.region,district:s.district,employeeId:s.employee_id,phoneNumber:s.phone_number,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)}}}catch(n){return this.handleError(n)}}async deleteUser(t){try{if(ue)return{success:!1,message:"User deletion not available in demo mode"};const{error:r}=await qe.from("users").delete().eq("id",t);if(r)throw r;const{error:n}=await qe.auth.admin.deleteUser(t);if(n)throw n;return{success:!0,message:"User deleted successfully"}}catch(r){return this.handleError(r)}}}class b3 extends ar{async getRoles(){try{if(ue)return{success:!1,message:"Role management not available in demo mode"};const{data:t,error:r}=await Q.from("roles").select("*").order("level",{ascending:!0});if(r)throw r;return{success:!0,message:"Roles fetched successfully",data:(t||[]).map(s=>({id:s.id,name:s.name,description:s.description,level:s.level,isActive:s.is_active,menuAccess:s.menu_access,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)}))}}catch(t){return this.handleError(t)}}async createRole(t){try{if(ue)return{success:!1,message:"Role creation not available in demo mode"};const{data:r,error:n}=await Q.from("roles").insert({name:t.name,description:t.description,level:t.level||5,is_active:!0}).select().single();if(n)throw n;return{success:!0,message:"Role created successfully",data:{id:r.id,name:r.name,description:r.description,level:r.level,isActive:r.is_active,createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at)}}}catch(r){return this.handleError(r)}}async updateRole(t,r){try{if(ue)return{success:!1,message:"Role updates not available in demo mode"};const{data:n,error:s}=await Q.from("roles").update({name:r.name,description:r.description,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return{success:!0,message:"Role updated successfully",data:{id:n.id,name:n.name,description:n.description,level:n.level,isActive:n.is_active,createdAt:new Date(n.created_at),updatedAt:new Date(n.updated_at)}}}catch(n){return this.handleError(n)}}async deleteRole(t){try{if(ue)return{success:!1,message:"Role deletion not available in demo mode"};const{error:r}=await Q.from("roles").delete().eq("id",t);if(r)throw r;return{success:!0,message:"Role deleted successfully"}}catch(r){return this.handleError(r)}}async getPermissions(){try{return{success:!0,message:"Permissions fetched successfully",data:[{id:"1",name:"Create Users",resource:"users",action:"create",description:"Create new users",module:"User Management"},{id:"2",name:"Edit Users",resource:"users",action:"update",description:"Edit existing users",module:"User Management"},{id:"3",name:"Delete Users",resource:"users",action:"delete",description:"Delete users",module:"User Management"},{id:"4",name:"View Surveys",resource:"surveys",action:"read",description:"View surveys",module:"Survey Management"},{id:"5",name:"Create Surveys",resource:"surveys",action:"create",description:"Create new surveys",module:"Survey Management"}]}}catch(t){return this.handleError(t)}}async updateRoleMenuAccess(t,r){try{if(ue)return{success:!1,message:"Menu access updates not available in demo mode"};const{error:n}=await Q.from("roles").update({menu_access:r,updated_at:new Date().toISOString()}).eq("id",t);if(n)throw n;return{success:!0,message:"Menu access updated successfully"}}catch(n){return this.handleError(n)}}}class w3 extends ar{async getSurveys(){try{if(ue)return{success:!1,message:"Survey management not available in demo mode"};const{data:t,error:r}=await Q.from("surveys").select("*").order("created_at",{ascending:!1});if(r)throw r;return{success:!0,message:"Surveys fetched successfully",data:(t||[]).map(s=>({id:s.id,title:s.title,description:s.description,targetDate:new Date(s.target_date),duration:s.duration,totalQuestions:s.total_questions,passingScore:s.passing_score,maxAttempts:s.max_attempts,isActive:s.is_active,assignedZones:s.assigned_zones,assignedRegions:s.assigned_regions,sections:[],createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at),createdBy:s.created_by}))}}catch(t){return this.handleError(t)}}async createSurvey(t){try{if(ue)return{success:!1,message:"Survey creation not available in demo mode"};const{data:r,error:n}=await Q.from("surveys").insert({title:t.title,description:t.description,target_date:t.targetDate.toISOString().split("T")[0],duration:t.duration,total_questions:t.totalQuestions,passing_score:t.passingScore,max_attempts:t.maxAttempts,assigned_zones:t.assignedZones,assigned_regions:t.assignedRegions,created_by:t.createdBy}).select().single();if(n)throw n;return{success:!0,message:"Survey created successfully",data:{id:r.id,title:r.title,description:r.description,targetDate:new Date(r.target_date),duration:r.duration,totalQuestions:r.total_questions,passingScore:r.passing_score,maxAttempts:r.max_attempts,isActive:r.is_active,assignedZones:r.assigned_zones,assignedRegions:r.assigned_regions,sections:[],createdAt:new Date(r.created_at),updatedAt:new Date(r.updated_at),createdBy:r.created_by}}}catch(r){return this.handleError(r)}}async updateSurvey(t,r){try{if(ue)return{success:!1,message:"Survey updates not available in demo mode"};const n={title:r.title,description:r.description,duration:r.duration,total_questions:r.totalQuestions,passing_score:r.passingScore,max_attempts:r.maxAttempts,updated_at:new Date().toISOString()};r.targetDate&&(n.target_date=r.targetDate instanceof Date?r.targetDate.toISOString().split("T")[0]:r.targetDate),r.assignedZones!==void 0&&(n.assigned_zones=r.assignedZones),r.assignedRegions!==void 0&&(n.assigned_regions=r.assignedRegions),r.isActive!==void 0&&(n.is_active=r.isActive);const{data:s,error:i}=await Q.from("surveys").update(n).eq("id",t).select().single();if(i)throw i;return{success:!0,message:"Survey updated successfully",data:{id:s.id,title:s.title,description:s.description,targetDate:new Date(s.target_date),duration:s.duration,totalQuestions:s.total_questions,passingScore:s.passing_score,maxAttempts:s.max_attempts,isActive:s.is_active,assignedZones:s.assigned_zones,assignedRegions:s.assigned_regions,sections:[],createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at),createdBy:s.created_by}}}catch(n){return this.handleError(n)}}async deleteSurvey(t){try{if(ue)return{success:!1,message:"Survey deletion not available in demo mode"};const{error:r}=await Q.from("surveys").delete().eq("id",t);if(r)throw r;return{success:!0,message:"Survey deleted successfully"}}catch(r){return this.handleError(r)}}async getSurveySections(t){try{if(ue)return{success:!1,message:"Survey sections not available in demo mode"};const{data:r,error:n}=await Q.from("survey_sections").select("*").eq("survey_id",t).order("section_order",{ascending:!0});if(n)throw n;return{success:!0,message:"Survey sections fetched successfully",data:r||[]}}catch(r){return this.handleError(r)}}}class j3 extends ar{async getQuestions(t){try{if(ue)return{success:!1,message:"Questions not available in demo mode"};const{data:r,error:n}=await Q.from("questions").select(`
          *,
          options:question_options(*)
        `).eq("section_id",t).order("question_order",{ascending:!0});if(n)throw n;return{success:!0,message:"Questions fetched successfully",data:(r||[]).map(i=>({id:i.id,sectionId:i.section_id,text:i.text,type:i.question_type,complexity:i.complexity,points:i.points,explanation:i.explanation,order:i.question_order,options:(i.options||[]).map(o=>({id:o.id,text:o.text,isCorrect:o.is_correct})),correctAnswers:(i.options||[]).filter(o=>o.is_correct).map(o=>o.id),createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)}))}}catch(r){return this.handleError(r)}}}class _3 extends ar{async createTestSession(t){try{if(ue)return{success:!1,message:"Test sessions not available in demo mode"};const{data:{user:r}}=await Q.auth.getUser();if(!r)throw new Error("User not authenticated");const{data:n,error:s}=await Q.from("surveys").select("*").eq("id",t).single();if(s||!n)throw new Error("Survey not found");const{data:i,error:o}=await Q.from("test_results").select("attempt_number").eq("user_id",r.id).eq("survey_id",t).order("attempt_number",{ascending:!1}).limit(1);if(o)throw o;const l=i&&i.length>0?i[0].attempt_number+1:1;if(l>n.max_attempts)throw new Error("Maximum attempts exceeded");const{data:c,error:u}=await Q.from("test_sessions").insert({user_id:r.id,survey_id:t,time_remaining:n.duration*60,attempt_number:l,session_status:"in_progress"}).select().single();if(u)throw u;return{success:!0,message:"Test session created successfully",data:{id:c.id,userId:c.user_id,surveyId:c.survey_id,startTime:new Date(c.start_time),timeRemaining:c.time_remaining,currentQuestionIndex:c.current_question_index,answers:[],status:c.session_status,attemptNumber:c.attempt_number}}}catch(r){return this.handleError(r)}}async getSession(t){try{if(ue)return{success:!1,message:"Test sessions not available in demo mode"};const{data:r,error:n}=await Q.from("test_sessions").select(`
          *,
          answers:test_answers(*)
        `).eq("id",t).single();if(n)throw n;return{success:!0,message:"Session fetched successfully",data:{id:r.id,userId:r.user_id,surveyId:r.survey_id,startTime:new Date(r.start_time),endTime:r.end_time?new Date(r.end_time):void 0,timeRemaining:r.time_remaining,currentQuestionIndex:r.current_question_index,answers:(r.answers||[]).map(i=>({questionId:i.question_id,selectedOptions:i.selected_options||[],isCorrect:i.is_correct,timeSpent:i.time_spent,answered:i.answered})),status:r.session_status,attemptNumber:r.attempt_number,score:r.score,isPassed:r.is_passed,completedAt:r.completed_at?new Date(r.completed_at):void 0}}}catch(r){return this.handleError(r)}}async updateSession(t,r){try{if(ue)return{success:!1,message:"Session updates not available in demo mode"};const{error:n}=await Q.from("test_sessions").update({current_question_index:r.currentQuestionIndex,time_remaining:r.timeRemaining,updated_at:new Date().toISOString()}).eq("id",t);if(n)throw n;if(r.answers&&r.answers.length>0)for(const s of r.answers)await this.saveAnswer(t,s.questionId,s.selectedOptions);return{success:!0,message:"Session updated successfully"}}catch(n){return this.handleError(n)}}async saveAnswer(t,r,n){try{if(ue)return{success:!1,message:"Answer saving not available in demo mode"};const{error:s}=await Q.from("test_answers").upsert({session_id:t,question_id:r,selected_options:n,answered:n.length>0,updated_at:new Date().toISOString()},{onConflict:"session_id,question_id"});if(s)throw s;return{success:!0,message:"Answer saved successfully"}}catch(s){return this.handleError(s)}}async submitTest(t){try{if(ue)return{success:!1,message:"Test submission not available in demo mode"};const{data:r,error:n}=await Q.from("test_sessions").select(`
          *,
          survey:surveys(*),
          answers:test_answers(*)
        `).eq("id",t).single();if(n||!r)throw new Error("Session not found");const{data:s,error:i}=await Q.from("survey_sections").select("questions_count").eq("survey_id",r.survey_id);if(i)throw new Error("Failed to fetch survey sections");const o=(s==null?void 0:s.reduce((_,g)=>_+g.questions_count,0))||0,{data:l,error:c}=await Q.from("survey_sections").select(`
          *,
          questions:questions(
            *,
            options:question_options(*)
          )
        `).eq("survey_id",r.survey_id).order("section_order",{ascending:!0});if(c)throw c;const u=l.flatMap(_=>_.questions.map(g=>({...g,sectionId:_.id,sectionTitle:_.title})));let f=0;const d=[],h=u.reduce((_,g)=>(_[g.sectionId]||(_[g.sectionId]={sectionId:g.sectionId,sectionTitle:g.sectionTitle,questions:[]}),_[g.sectionId].questions.push(g),_),{});for(const _ of Object.values(h)){let g=0;const y=_.questions.length;for(const S of _.questions){const A=r.answers.find(T=>T.question_id===S.id),P=S.options.filter(T=>T.is_correct).map(T=>T.id);if(A&&A.selected_options){const T=A.selected_options;S.question_type==="single_choice"?T.length===1&&P.includes(T[0])&&(f++,g++):S.question_type==="multiple_choice"&&P.length===T.length&&P.every(C=>T.includes(C))&&(f++,g++)}}const N=y>0?g/y*100:0;d.push({section_id:_.sectionId,section_title:_.sectionTitle,score:N,total_questions:y,correct_answers:g})}const p=o>0?f/o*100:0,v=p>=r.survey.passing_score,b=r.survey.duration*60-r.time_remaining,{data:w,error:j}=await Q.from("test_results").insert({user_id:r.user_id,survey_id:r.survey_id,session_id:t,score:p,total_questions:o,correct_answers:f,is_passed:v,time_spent:b,attempt_number:r.attempt_number,grade:this.calculateGrade(p)}).select().single();if(j)throw j;for(const _ of d)await Q.from("section_scores").insert({result_id:w.id,..._});await Q.from("test_sessions").update({session_status:"completed",end_time:new Date().toISOString(),score:p,is_passed:v,completed_at:new Date().toISOString()}).eq("id",t);let x=null;if(v){const _=`CERT-${Date.now()}-${Math.random().toString(36).substring(2,8).toUpperCase()}`,{data:g,error:y}=await Q.from("certificates").insert({user_id:r.user_id,survey_id:r.survey_id,result_id:w.id,certificate_number:_,certificate_status:"active"}).select().single();!y&&g&&(x=g.id,await Q.from("test_results").update({certificate_id:x}).eq("id",w.id))}const m={id:w.id,userId:w.user_id,user:{},surveyId:w.survey_id,survey:{},sessionId:w.session_id,score:w.score,totalQuestions:w.total_questions,correctAnswers:w.correct_answers,isPassed:w.is_passed,timeSpent:w.time_spent,attemptNumber:w.attempt_number,sectionScores:d.map(_=>({sectionId:_.section_id,sectionTitle:_.section_title,score:_.score,totalQuestions:_.total_questions,correctAnswers:_.correct_answers})),completedAt:new Date(w.completed_at),certificateId:x,grade:w.grade};return{success:!0,message:`Test submitted successfully! Score: ${p.toFixed(1)}% (${v?"Passed":"Failed"})`,data:m}}catch(r){return this.handleError(r)}}calculateGrade(t){return t>=90?"A+":t>=80?"A":t>=70?"B":t>=60?"C":t>=50?"D":"F"}async syncOfflineData(){try{return{success:!0,message:"Data synced successfully"}}catch(t){return this.handleError(t)}}async logSecurityViolation(t,r){try{return ue?(console.log("Security violation (demo mode):",r),{success:!0,message:"Security violation logged (demo mode)"}):(await i4.log({activity_type:"security_violation",description:`Security violation during test: ${r}`,metadata:{session_id:t,violation:r}}),{success:!0,message:"Security violation logged"})}catch(n){return this.handleError(n)}}}class N3 extends ar{async getDashboardData(){try{if(ue)return{success:!1,message:"Dashboard not available in demo mode"};if(!qe)throw new Error("Supabase admin client not available");const{count:t,error:r}=await qe.from("users").select("*",{count:"exact",head:!0});if(r)throw console.error("Error fetching users count:",r),r;const{count:n,error:s}=await qe.from("surveys").select("*",{count:"exact",head:!0});if(s)throw console.error("Error fetching surveys count:",s),s;const{count:i,error:o}=await qe.from("test_results").select("*",{count:"exact",head:!0});if(o)throw console.error("Error fetching attempts count:",o),o;const{data:l,error:c}=await qe.from("test_results").select("score, is_passed");if(c)throw console.error("Error fetching results data:",c),c;const u=l&&l.length>0?l.reduce((N,S)=>N+S.score,0)/l.length:0,f=l?l.filter(N=>N.is_passed).length:0,d=l&&l.length>0?f/l.length*100:0,{data:h,error:p}=await qe.from("activity_logs").select(`
          id,
          activity_type,
          description,
          user_id,
          created_at,
          users!inner(name)
        `).order("created_at",{ascending:!1}).limit(10),v=h?h.map(N=>{var S;return{id:N.id,type:N.activity_type,description:N.description,userId:N.user_id||"",userName:((S=N.users)==null?void 0:S.name)||"Unknown User",timestamp:new Date(N.created_at)}}):[],{data:b,error:w}=await qe.from("test_results").select(`
          is_passed,
          users!inner(
            role_id,
            roles!inner(name)
          )
        `),j=b?Object.entries(b.reduce((N,S)=>{var P,T;const A=((T=(P=S.users)==null?void 0:P.roles)==null?void 0:T.name)||"Unknown";return N[A]||(N[A]={total:0,passed:0}),N[A].total++,S.is_passed&&N[A].passed++,N},{})).map(([N,S])=>({name:N,value:S.passed,total:S.total,percentage:S.total>0?S.passed/S.total*100:0})):[],{data:x,error:m}=await qe.from("test_results").select(`
          is_passed,
          surveys!inner(title)
        `),_=x?Object.entries(x.reduce((N,S)=>{var P;const A=((P=S.surveys)==null?void 0:P.title)||"Unknown";return N[A]||(N[A]={total:0,passed:0}),N[A].total++,S.is_passed&&N[A].passed++,N},{})).map(([N,S])=>({name:N,value:S.passed,total:S.total,percentage:S.total>0?S.passed/S.total*100:0})):[],g=[{month:"Jan",attempts:i?Math.floor(i*.3):0,passed:f?Math.floor(f*.3):0,failed:0,passRate:d},{month:"Feb",attempts:i?Math.floor(i*.35):0,passed:f?Math.floor(f*.35):0,failed:0,passRate:d},{month:"Mar",attempts:i?Math.floor(i*.35):0,passed:f?Math.floor(f*.35):0,failed:0,passRate:d}];return{success:!0,data:{totalUsers:t||0,totalSurveys:n||0,totalAttempts:i||0,averageScore:u,passRate:d,recentActivity:v,performanceByRole:j,performanceBySurvey:_,monthlyTrends:g},message:"Dashboard data retrieved successfully"}}catch(t){return this.handleError(t)}}}class S3 extends ar{async getDashboardData(){try{if(ue)return{success:!1,message:"Enumerator dashboard not available in demo mode"};const{data:{user:t}}=await Q.auth.getUser();if(!t)throw new Error("User not authenticated");const{data:r,error:n}=await Q.from("users").select("*").eq("id",t.id).single();if(n||!r)throw new Error("User profile not found");const{data:s,error:i}=await Q.from("surveys").select("*").eq("is_active",!0);if(i)throw i;const o=(s||[]).filter(m=>{const _=m.assigned_zones||[],g=m.assigned_regions||[];if(_.length===0&&g.length===0)return!0;const y=_.length===0||_.includes(r.zone),N=g.length===0||g.includes(r.region);return y&&N}),{data:l,error:c}=await Q.from("test_results").select(`
          *,
          survey:surveys(title)
        `).eq("user_id",t.id).order("completed_at",{ascending:!1});if(c)throw c;const{data:u,error:f}=await Q.from("certificates").select(`
          *,
          survey:surveys(title),
          user:users(name, email, role:roles(name))
        `).eq("user_id",t.id).order("issued_at",{ascending:!1});if(f)throw f;const d=o.map(m=>{const g=(l||[]).filter(S=>S.survey_id===m.id).length,y=Math.max(0,m.max_attempts-g),N=y>0&&new Date(m.target_date)>=new Date;return{surveyId:m.id,title:m.title,description:m.description,targetDate:new Date(m.target_date),duration:m.duration,totalQuestions:m.total_questions,passingScore:m.passing_score,attemptsLeft:y,maxAttempts:m.max_attempts,isEligible:N}}),h=(l||[]).map(m=>({resultId:m.id,surveyTitle:m.survey.title,score:m.score,isPassed:m.is_passed,completedAt:new Date(m.completed_at),attemptNumber:m.attempt_number,certificateId:m.certificate_id})),p=d.filter(m=>m.isEligible).map(m=>{const _=Math.ceil((m.targetDate.getTime()-new Date().getTime())/864e5);return{surveyId:m.surveyId,title:m.title,targetDate:m.targetDate,daysLeft:Math.max(0,_),isOverdue:_<0}}).sort((m,_)=>m.daysLeft-_.daysLeft),v=(u||[]).map(m=>({id:m.id,userId:m.user_id,user:{id:m.user_id,name:m.user.name,email:m.user.email,role:m.user.role},surveyId:m.survey_id,survey:{id:m.survey_id,title:m.survey.title},resultId:m.result_id,certificateNumber:m.certificate_number,issuedAt:new Date(m.issued_at),validUntil:m.valid_until?new Date(m.valid_until):void 0,downloadCount:m.download_count,status:m.certificate_status})),b=h.filter(m=>m.isPassed).length,w=h.length>0?h.reduce((m,_)=>m+_.score,0)/h.length:0,j=d.length>0?h.length/d.length*100:0;return{success:!0,message:"Dashboard data fetched successfully",data:{availableTests:d,completedTests:h,upcomingTests:p,certificates:v,overallProgress:j,averageScore:w,totalAttempts:h.length,passedTests:b}}}catch(t){return this.handleError(t)}}}class O3 extends ar{async getDashboardData(t){try{if(ue)return{success:!1,message:"Supervisor dashboard not available in demo mode"};const{count:r}=await qe.from("users").select("*",{count:"exact",head:!0});return{success:!0,message:"Supervisor dashboard data fetched successfully",data:{totalUsers:r||0,totalSurveys:0,totalAttempts:0,averageScore:0,passRate:0,recentActivity:[],performanceByRole:[],performanceBySurvey:[],monthlyTrends:[],totalEnumerators:0,teamPerformance:[],enumeratorStatus:[],upcomingDeadlines:[]}}}catch(r){return this.handleError(r)}}}class A3 extends ar{async getDashboardData(t){try{return ue?{success:!1,message:"RO dashboard not available in demo mode"}:{success:!0,message:"RO dashboard data fetched successfully",data:{totalUsers:0,totalSurveys:0,totalAttempts:0,averageScore:0,passRate:0,recentActivity:[],performanceByRole:[],performanceBySurvey:[],monthlyTrends:[],totalDistricts:0,totalSupervisors:0,districtPerformance:[],supervisorPerformance:[],enumeratorDistribution:[]}}}catch(r){return this.handleError(r)}}}class E3 extends ar{async getDashboardData(t){try{return ue?{success:!1,message:"ZO dashboard not available in demo mode"}:{success:!0,message:"ZO dashboard data fetched successfully",data:{totalUsers:0,totalSurveys:0,totalAttempts:0,averageScore:0,passRate:0,recentActivity:[],performanceByRole:[],performanceBySurvey:[],monthlyTrends:[],totalZones:0,totalRegions:0,zonePerformance:[],regionalBreakdown:[],topPerformingRegions:[],lowPerformingRegions:[]}}}catch(r){return this.handleError(r)}}}class P3 extends ar{async getResults(t){try{if(!Q)return{success:!1,message:"Database not configured",data:[]};const{data:r,error:n}=await Q.from("test_results").select(`
          *,
          user:users(
            id,
            name,
            email,
            role:roles(
              id,
              name,
              level
            )
          ),
          survey:surveys(
            id,
            title,
            max_attempts
          )
        `).order("completed_at",{ascending:!1});if(n)return{success:!1,message:n.message,data:[]};if(!r||r.length===0)return{success:!0,data:[],message:"No test results found"};const s=[...new Set(r.map(p=>p.user_id))],i=[...new Set(r.map(p=>p.survey_id))],{data:o,error:l}=await Q.from("users").select("id, name, email, role_id, roles(name)").in("id",s);l&&console.error("Error fetching users:",l);const{data:c,error:u}=await Q.from("surveys").select("id, title, max_attempts").in("id",i);u&&console.error("Error fetching surveys:",u);const f=new Map((o==null?void 0:o.map(p=>[p.id,p]))||[]),d=new Map((c==null?void 0:c.map(p=>[p.id,p]))||[]);return{success:!0,data:r.map(p=>{var w;const v=f.get(p.user_id),b=d.get(p.survey_id);return{id:p.id,userId:p.user_id,user:v?{id:v.id,name:v.name,email:v.email,role:{name:((w=v.roles)==null?void 0:w.name)||"Unknown Role"}}:{id:p.user_id,name:"Unknown User",email:"unknown@example.com",role:{name:"Unknown Role"}},surveyId:p.survey_id,survey:b?{id:b.id,title:b.title,maxAttempts:b.max_attempts}:{id:p.survey_id,title:"Unknown Survey",maxAttempts:3},sessionId:p.session_id,score:p.score,totalQuestions:p.total_questions,correctAnswers:p.correct_answers,isPassed:p.is_passed,timeSpent:p.time_spent,attemptNumber:p.attempt_number,grade:p.grade,completedAt:new Date(p.completed_at),certificateId:p.certificate_id,sectionScores:[]}}),message:"Results fetched successfully"}}catch(r){return console.error("Error fetching results:",r),{success:!1,message:"Failed to fetch results",data:[]}}}async getAnalytics(t){try{if(!Q)return{success:!1,message:"Database not configured",data:{}};const{data:r,error:n}=await Q.from("test_results").select("*");if(n)return console.error("Error fetching analytics:",n),{success:!1,message:n.message,data:{}};const s=(r==null?void 0:r.length)||0,i=(r==null?void 0:r.filter(g=>g.is_passed).length)||0,o=s>0?i/s*100:0,l=s>0?r.reduce((g,y)=>g+y.score,0)/s:0,c=s>0?r.reduce((g,y)=>g+y.time_spent/60,0)/s:0,{data:u,error:f}=await Q.from("test_results").select(`
          is_passed,
          user:users(
            role:roles(name)
          )
        `),d=u?Object.entries(u.reduce((g,y)=>{var S,A;const N=((A=(S=y.user)==null?void 0:S.role)==null?void 0:A.name)||"Unknown";return g[N]||(g[N]={total:0,passed:0}),g[N].total++,y.is_passed&&g[N].passed++,g},{})).map(([g,y])=>({name:g,value:y.passed,total:y.total,percentage:y.total>0?y.passed/y.total*100:0})):[],{data:h,error:p}=await Q.from("test_results").select(`
          is_passed,
          survey:surveys(title)
        `),v=h?Object.entries(h.reduce((g,y)=>{var S;const N=((S=y.survey)==null?void 0:S.title)||"Unknown Survey";return g[N]||(g[N]={total:0,passed:0}),g[N].total++,y.is_passed&&g[N].passed++,g},{})).map(([g,y])=>({name:g,value:y.passed,total:y.total,percentage:y.total>0?y.passed/y.total*100:0})):[],{data:b,error:w}=await Q.from("test_results").select(`
          score,
          is_passed,
          user:users(id, name)
        `),j=b?Object.entries(b.reduce((g,y)=>{var A,P;const N=(A=y.user)==null?void 0:A.id,S=((P=y.user)==null?void 0:P.name)||"Unknown User";return N&&(g[N]||(g[N]={userName:S,totalAttempts:0,totalScore:0,passed:0}),g[N].totalAttempts++,g[N].totalScore+=y.score,y.is_passed&&g[N].passed++),g},{})).map(([g,y])=>({userId:g,userName:y.userName,averageScore:y.totalAttempts>0?y.totalScore/y.totalAttempts:0,totalAttempts:y.totalAttempts,passRate:y.totalAttempts>0?y.passed/y.totalAttempts*100:0})):[],x=j.sort((g,y)=>y.averageScore-g.averageScore).slice(0,5),m=j.sort((g,y)=>g.averageScore-y.averageScore).slice(0,5);return{success:!0,data:{overview:{totalAttempts:s,passRate:o,averageScore:l,averageTime:c},performanceByRole:d,performanceBySurvey:v,performanceByJurisdiction:[],timeSeriesData:[],topPerformers:x,lowPerformers:m},message:"Analytics fetched successfully"}}catch(r){return console.error("Error fetching analytics:",r),{success:!1,message:"Failed to fetch analytics",data:{}}}}async exportResults(t){try{if(ue)return{success:!1,message:"Export not available in demo mode"};const r=`Name,Email,Survey,Score,Status,Date
`;return{success:!0,message:"Results exported successfully",data:new Blob([r],{type:"text/csv"})}}catch(r){return this.handleError(r)}}}class C3 extends ar{async getCertificates(){try{if(ue)return{success:!1,message:"Certificates not available in demo mode"};const{data:t,error:r}=await Q.from("certificates").select(`
          *,
          user:users(name, email, role:roles(name)),
          survey:surveys(title)
        `).order("issued_at",{ascending:!1});if(r)throw r;return{success:!0,message:"Certificates fetched successfully",data:(t||[]).map(s=>({id:s.id,userId:s.user_id,user:{id:s.user_id,name:s.user.name,email:s.user.email,role:s.user.role},surveyId:s.survey_id,survey:{id:s.survey_id,title:s.survey.title},resultId:s.result_id,certificateNumber:s.certificate_number,issuedAt:new Date(s.issued_at),validUntil:s.valid_until?new Date(s.valid_until):void 0,downloadCount:s.download_count,status:s.certificate_status}))}}catch(t){return this.handleError(t)}}async downloadCertificate(t){try{if(ue)return{success:!1,message:"Certificate download not available in demo mode"};const r=`Certificate ${t}`,n=new Blob([r],{type:"application/pdf"});return await Q.from("certificates").update({download_count:Q.raw("download_count + 1")}).eq("id",t),{success:!0,message:"Certificate downloaded successfully",data:n}}catch(r){return this.handleError(r)}}async revokeCertificate(t){try{if(ue)return{success:!1,message:"Certificate revocation not available in demo mode"};const{error:r}=await Q.from("certificates").update({certificate_status:"revoked"}).eq("id",t);if(r)throw r;return{success:!0,message:"Certificate revoked successfully"}}catch(r){return this.handleError(r)}}}class k3 extends ar{async getSettings(){try{if(ue)return{success:!1,message:"Settings not available in demo mode"};const{data:t,error:r}=await Q.from("system_settings").select("*").order("category",{ascending:!0});if(r)throw r;return{success:!0,message:"Settings fetched successfully",data:(t||[]).map(s=>({id:s.id,category:s.category,key:s.setting_key,value:s.setting_value,description:s.description,type:s.setting_type,isEditable:s.is_editable,options:s.options,updatedAt:new Date(s.updated_at),updatedBy:s.updated_by}))}}catch(t){return this.handleError(t)}}async updateSetting(t,r){try{if(ue)return{success:!1,message:"Setting updates not available in demo mode"};const{error:n}=await Q.from("system_settings").update({setting_value:r,updated_at:new Date().toISOString()}).eq("id",t);if(n)throw n;return{success:!0,message:"Setting updated successfully"}}catch(n){return this.handleError(n)}}}class T3 extends ar{async getEnumeratorStatus(){try{return ue?{success:!1,message:"Enumerator status not available in demo mode"}:{success:!0,message:"Enumerator status fetched successfully",data:[]}}catch(t){return this.handleError(t)}}}const Hp=new v3,Tu=new y3,js=new b3,Dr=new w3,vl=new j3,yn=new _3,$3=new N3,Xc=new S3,lv=new O3,I3=new A3,R3=new E3,Kp=new P3,id=new C3,tw=new k3,M3=new T3;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),se=(e,t)=>{const r=O.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},f)=>O.createElement("svg",{ref:f,...D3,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${L3(e)}`,l].join(" "),...u},[...t.map(([d,h])=>O.createElement(d,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o4=se("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=se("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=se("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=se("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=se("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Os=se("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=se("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=se("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=se("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sc=se("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=se("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mt=se("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ht=se("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=se("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=se("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=se("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=se("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ca=se("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z3=se("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q3=se("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=se("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=se("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=se("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=se("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=se("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=se("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zc=se("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=se("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=se("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=se("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=se("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ja=se("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=se("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=se("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=se("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dd=se("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=se("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=se("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=se("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=se("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=se("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=se("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ld=se("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=se("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=se("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=se("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=se("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=se("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=se("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c4=se("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gi=se("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=se("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=se("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fn=se("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vp=se("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=se("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=se("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=se("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Ne({isOpen:e,onClose:t,title:r,children:n,size:s="md"}){if(!e)return null;const i={sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-4xl"};return a.jsx("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:a.jsxs("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[a.jsx("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:t}),a.jsx("span",{className:"hidden sm:inline-block sm:align-middle sm:h-screen",children:"​"}),a.jsxs("div",{className:`inline-block w-full ${i[s]} p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-lg`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:r}),a.jsx("button",{onClick:t,className:"text-gray-400 hover:text-gray-600 transition-colors",children:a.jsx(r5,{className:"w-5 h-5"})})]}),n]})]})})}function u4(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=u4(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function me(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=u4(e))&&(n&&(n+=" "),n+=t);return n}const dv="-",n5=e=>{const t=a5(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(dv);return l[0]===""&&l.length!==1&&l.shift(),d4(l,t)||s5(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},d4=(e,t)=>{var o;if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),s=n?d4(e.slice(1),n):void 0;if(s)return s;if(t.validators.length===0)return;const i=e.join(dv);return(o=t.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},sw=/^\[(.+)\]$/,s5=e=>{if(sw.test(e)){const t=sw.exec(e)[1],r=t==null?void 0:t.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},a5=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return o5(Object.entries(e.classGroups),r).forEach(([i,o])=>{P0(o,n,i,t)}),n},P0=(e,t,r,n)=>{e.forEach(s=>{if(typeof s=="string"){const i=s===""?t:aw(t,s);i.classGroupId=r;return}if(typeof s=="function"){if(i5(s)){P0(s(n),t,r,n);return}t.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([i,o])=>{P0(o,aw(t,i),r,n)})})},aw=(e,t)=>{let r=e;return t.split(dv).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},i5=e=>e.isThemeGetter,o5=(e,t)=>t?e.map(([r,n])=>{const s=n.map(i=>typeof i=="string"?t+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[t+o,l])):i);return[r,s]}):e,l5=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const s=(i,o)=>{r.set(i,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(i){let o=r.get(i);if(o!==void 0)return o;if((o=n.get(i))!==void 0)return s(i,o),o},set(i,o){r.has(i)?r.set(i,o):s(i,o)}}},f4="!",c5=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,s=t[0],i=t.length,o=l=>{const c=[];let u=0,f=0,d;for(let w=0;w<l.length;w++){let j=l[w];if(u===0){if(j===s&&(n||l.slice(w,w+i)===t)){c.push(l.slice(f,w)),f=w+i;continue}if(j==="/"){d=w;continue}}j==="["?u++:j==="]"&&u--}const h=c.length===0?l:l.substring(f),p=h.startsWith(f4),v=p?h.substring(1):h,b=d&&d>f?d-f:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:b}};return r?l=>r({className:l,parseClassName:o}):o},u5=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},d5=e=>({cache:l5(e.cacheSize),parseClassName:c5(e),...n5(e)}),f5=/\s+/,h5=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=t,i=[],o=e.trim().split(f5);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:d,baseClassName:h,maybePostfixModifierPosition:p}=r(u);let v=!!p,b=n(v?h.substring(0,p):h);if(!b){if(!v){l=u+(l.length>0?" "+l:l);continue}if(b=n(h),!b){l=u+(l.length>0?" "+l:l);continue}v=!1}const w=u5(f).join(":"),j=d?w+f4:w,x=j+b;if(i.includes(x))continue;i.push(x);const m=s(b,v);for(let _=0;_<m.length;++_){const g=m[_];i.push(j+g)}l=u+(l.length>0?" "+l:l)}return l};function p5(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=h4(t))&&(n&&(n+=" "),n+=r);return n}const h4=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=h4(e[n]))&&(r&&(r+=" "),r+=t);return r};function m5(e,...t){let r,n,s,i=o;function o(c){const u=t.reduce((f,d)=>d(f),e());return r=d5(u),n=r.cache.get,s=r.cache.set,i=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=h5(c,r);return s(c,f),f}return function(){return i(p5.apply(null,arguments))}}const Ge=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},p4=/^\[(?:([a-z-]+):)?(.+)\]$/i,g5=/^\d+\/\d+$/,x5=new Set(["px","full","screen"]),v5=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,y5=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,b5=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,w5=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,j5=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Tn=e=>Ii(e)||x5.has(e)||g5.test(e),fs=e=>Ao(e,"length",C5),Ii=e=>!!e&&!Number.isNaN(Number(e)),Gp=e=>Ao(e,"number",Ii),el=e=>!!e&&Number.isInteger(Number(e)),_5=e=>e.endsWith("%")&&Ii(e.slice(0,-1)),xe=e=>p4.test(e),hs=e=>v5.test(e),N5=new Set(["length","size","percentage"]),S5=e=>Ao(e,N5,m4),O5=e=>Ao(e,"position",m4),A5=new Set(["image","url"]),E5=e=>Ao(e,A5,T5),P5=e=>Ao(e,"",k5),tl=()=>!0,Ao=(e,t,r)=>{const n=p4.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},C5=e=>y5.test(e)&&!b5.test(e),m4=()=>!1,k5=e=>w5.test(e),T5=e=>j5.test(e),$5=()=>{const e=Ge("colors"),t=Ge("spacing"),r=Ge("blur"),n=Ge("brightness"),s=Ge("borderColor"),i=Ge("borderRadius"),o=Ge("borderSpacing"),l=Ge("borderWidth"),c=Ge("contrast"),u=Ge("grayscale"),f=Ge("hueRotate"),d=Ge("invert"),h=Ge("gap"),p=Ge("gradientColorStops"),v=Ge("gradientColorStopPositions"),b=Ge("inset"),w=Ge("margin"),j=Ge("opacity"),x=Ge("padding"),m=Ge("saturate"),_=Ge("scale"),g=Ge("sepia"),y=Ge("skew"),N=Ge("space"),S=Ge("translate"),A=()=>["auto","contain","none"],P=()=>["auto","hidden","clip","visible","scroll"],T=()=>["auto",xe,t],E=()=>[xe,t],C=()=>["",Tn,fs],k=()=>["auto",Ii,xe],R=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],D=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",xe],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Ii,xe];return{cacheSize:500,separator:":",theme:{colors:[tl],spacing:[Tn,fs],blur:["none","",hs,xe],brightness:G(),borderColor:[e],borderRadius:["none","","full",hs,xe],borderSpacing:E(),borderWidth:C(),contrast:G(),grayscale:F(),hueRotate:G(),invert:F(),gap:E(),gradientColorStops:[e],gradientColorStopPositions:[_5,fs],inset:T(),margin:T(),opacity:G(),padding:E(),saturate:G(),scale:G(),sepia:F(),skew:G(),space:E(),translate:E()},classGroups:{aspect:[{aspect:["auto","square","video",xe]}],container:["container"],columns:[{columns:[hs]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...R(),xe]}],overflow:[{overflow:P()}],"overflow-x":[{"overflow-x":P()}],"overflow-y":[{"overflow-y":P()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",el,xe]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xe]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",el,xe]}],"grid-cols":[{"grid-cols":[tl]}],"col-start-end":[{col:["auto",{span:["full",el,xe]},xe]}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":[tl]}],"row-start-end":[{row:["auto",{span:[el,xe]},xe]}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xe]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...D()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...D(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...D(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xe,t]}],"min-w":[{"min-w":[xe,t,"min","max","fit"]}],"max-w":[{"max-w":[xe,t,"none","full","min","max","fit","prose",{screen:[hs]},hs]}],h:[{h:[xe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",hs,fs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Gp]}],"font-family":[{font:[tl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xe]}],"line-clamp":[{"line-clamp":["none",Ii,Gp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Tn,xe]}],"list-image":[{"list-image":["none",xe]}],"list-style-type":[{list:["none","disc","decimal",xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Tn,fs]}],"underline-offset":[{"underline-offset":["auto",Tn,xe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:E()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...R(),O5]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",S5]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},E5]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[Tn,xe]}],"outline-w":[{outline:[Tn,fs]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:C()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[Tn,fs]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",hs,P5]}],"shadow-color":[{shadow:[tl]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",hs,xe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[d]}],saturate:[{saturate:[m]}],sepia:[{sepia:[g]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[m]}],"backdrop-sepia":[{"backdrop-sepia":[g]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xe]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",xe]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[el,xe]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[y]}],"skew-y":[{"skew-y":[y]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":E()}],"scroll-mx":[{"scroll-mx":E()}],"scroll-my":[{"scroll-my":E()}],"scroll-ms":[{"scroll-ms":E()}],"scroll-me":[{"scroll-me":E()}],"scroll-mt":[{"scroll-mt":E()}],"scroll-mr":[{"scroll-mr":E()}],"scroll-mb":[{"scroll-mb":E()}],"scroll-ml":[{"scroll-ml":E()}],"scroll-p":[{"scroll-p":E()}],"scroll-px":[{"scroll-px":E()}],"scroll-py":[{"scroll-py":E()}],"scroll-ps":[{"scroll-ps":E()}],"scroll-pe":[{"scroll-pe":E()}],"scroll-pt":[{"scroll-pt":E()}],"scroll-pr":[{"scroll-pr":E()}],"scroll-pb":[{"scroll-pb":E()}],"scroll-pl":[{"scroll-pl":E()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Tn,fs,Gp]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},I5=m5($5);function fv(...e){return I5(me(e))}function Me(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function Ar(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Ls(e){const t=Math.floor(e/60),r=e%60;return t>0?`${t}h ${r}m`:`${r}m`}function R5(e){const t=Math.floor(e/60),r=e%60;return`${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`}function As(e){return e>=80?"text-green-600":e>=60?"text-yellow-600":"text-red-600"}function z({children:e,variant:t="primary",size:r="md",disabled:n=!1,loading:s=!1,onClick:i,type:o="button",className:l}){const c="inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",u={primary:"bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500",secondary:"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500",success:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500",warning:"bg-yellow-600 text-white hover:bg-yellow-700 focus:ring-yellow-500"},f={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"},d=h=>{o!=="submit"&&h.preventDefault(),!n&&!s&&i&&i()};return a.jsxs("button",{type:o,onClick:d,disabled:n||s,className:fv(c,u[t],f[r],l),children:[s&&a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),e]})}const J=O.forwardRef(({label:e,error:t,helperText:r,className:n,...s},i)=>a.jsxs("div",{className:"space-y-1",children:[e&&a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),a.jsx("input",{ref:i,className:fv("block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",t&&"border-red-300 focus:ring-red-500 focus:border-red-500",n),...s}),t&&a.jsx("p",{className:"text-sm text-red-600",children:t}),r&&!t&&a.jsx("p",{className:"text-sm text-gray-500",children:r})]}));J.displayName="Input";const g4=O.createContext(void 0);function Gs(){const e=O.useContext(g4);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e}function M5({children:e}){const[t,r]=O.useState(null),[n,s]=O.useState(!0),[i,o]=O.useState(!1),[l,c]=O.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[u,f]=O.useState(""),[d,h]=O.useState(!1),p=O.useCallback(async()=>{try{if(Q)try{const{data:{session:m},error:_}=await Q.auth.getSession();if(m&&m.user&&!_){const{data:g,error:y}=await Q.from("users").select(`
                *,
                role:roles(*)
              `).eq("id",m.user.id).maybeSingle();if(g&&!y){const N={id:g.id,name:g.name,email:g.email,role:g.role,jurisdiction:g.jurisdiction,isActive:g.is_active,createdAt:new Date(g.created_at),updatedAt:new Date(g.updated_at)};r(N),s(!1);return}}}catch(m){console.info("Session validation failed, clearing auth state:",m);try{await Q.auth.signOut()}catch{}}}catch(m){console.error("Auth initialization error:",m)}r(null),s(!1)},[]);O.useEffect(()=>{p()},[p]),O.useEffect(()=>{if(Q){const{data:{subscription:m}}=Q.auth.onAuthStateChange(async(_,g)=>{(_==="SIGNED_OUT"||!g)&&r(null)});return()=>m.unsubscribe()}},[]);const v=async(m,_)=>{try{console.log("Attempting login with:",m),console.log("Demo mode status:",ue);const g=await Hp.login(m,_);if(console.log("Login response:",g),g.success&&g.data){const{user:y,token:N,session:S}=g.data;console.log("Setting user:",y);const A=!1;return await p(),{success:!0,message:g.message}}return{success:!1,message:g.message}}catch(g){return console.error("Login error:",g),{success:!1,message:"Login failed. Please try again."}}},b=async()=>{if(f(""),!l.currentPassword){f("Current password is required");return}if(!l.newPassword){f("New password is required");return}if(l.newPassword.length<6){f("New password must be at least 6 characters long");return}if(l.newPassword!==l.confirmPassword){f("New passwords do not match");return}if(l.currentPassword===l.newPassword){f("New password must be different from current password");return}try{h(!0);const m=await Hp.changePassword(l.currentPassword,l.newPassword);m.success?(o(!1),c({currentPassword:"",newPassword:"",confirmPassword:""}),alert("Password changed successfully! Please remember your new password.")):f(m.message)}catch(m){console.error("Password change error:",m),f("Failed to change password. Please try again.")}finally{h(!1)}},w=()=>{window.confirm("Are you sure you want to skip changing your password? It is recommended to change your default password for security.")&&(o(!1),c({currentPassword:"",newPassword:"",confirmPassword:""}))},x={user:t,isLoading:n,login:v,logout:async()=>{try{Q&&await Q.auth.signOut();try{await Hp.logout()}catch(m){console.info("API logout failed (session may already be invalid):",m)}}catch(m){console.info("Logout error (may be expected if session already invalid):",m)}finally{r(null)}},isAuthenticated:!!t};return a.jsxs(g4.Provider,{value:x,children:[e,a.jsx(Ne,{isOpen:i,onClose:()=>{},title:"Change Your Password",size:"md",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(rw,{className:"w-8 h-8 text-yellow-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"First Login - Change Password"}),a.jsx("p",{className:"text-gray-600",children:"For security reasons, please change your default password before continuing."})]}),u&&a.jsxs("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[a.jsx(o4,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),a.jsx("p",{className:"text-red-700 text-sm",children:u})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx(J,{label:"Current Password",type:"password",value:l.currentPassword,onChange:m=>c({...l,currentPassword:m.target.value}),placeholder:"Enter your current password"}),a.jsx(J,{label:"New Password",type:"password",value:l.newPassword,onChange:m=>c({...l,newPassword:m.target.value}),placeholder:"Enter your new password (min 6 characters)"}),a.jsx(J,{label:"Confirm New Password",type:"password",value:l.confirmPassword,onChange:m=>c({...l,confirmPassword:m.target.value}),placeholder:"Confirm your new password"}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Password Requirements"}),a.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[a.jsx("li",{children:"• At least 6 characters long"}),a.jsx("li",{children:"• Different from your current password"}),a.jsx("li",{children:"• Use a combination of letters, numbers, and symbols for better security"})]})]})]}),a.jsxs("div",{className:"flex justify-between space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:w,disabled:d,children:"Skip for Now"}),a.jsxs(z,{onClick:b,loading:d,disabled:d,className:"flex items-center space-x-2",children:[a.jsx(rw,{className:"w-4 h-4"}),a.jsx("span",{children:"Change Password"})]})]})]})})]})}/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ac(){return ac=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ac.apply(this,arguments)}var Es;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Es||(Es={}));const iw="popstate";function D5(e){e===void 0&&(e={});function t(n,s){let{pathname:i,search:o,hash:l}=n.location;return C0("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Ud(s)}return F5(t,r,null,e)}function it(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function x4(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function L5(){return Math.random().toString(36).substr(2,8)}function ow(e,t){return{usr:e.state,key:e.key,idx:t}}function C0(e,t,r,n){return r===void 0&&(r=null),ac({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Eo(t):t,{state:r,key:t&&t.key||n||L5()})}function Ud(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Eo(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function F5(e,t,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l=Es.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(ac({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function d(){l=Es.Pop;let w=f(),j=w==null?null:w-u;u=w,c&&c({action:l,location:b.location,delta:j})}function h(w,j){l=Es.Push;let x=C0(b.location,w,j);u=f()+1;let m=ow(x,u),_=b.createHref(x);try{o.pushState(m,"",_)}catch(g){if(g instanceof DOMException&&g.name==="DataCloneError")throw g;s.location.assign(_)}i&&c&&c({action:l,location:b.location,delta:1})}function p(w,j){l=Es.Replace;let x=C0(b.location,w,j);u=f();let m=ow(x,u),_=b.createHref(x);o.replaceState(m,"",_),i&&c&&c({action:l,location:b.location,delta:0})}function v(w){let j=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof w=="string"?w:Ud(w);return x=x.replace(/ $/,"%20"),it(j,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,j)}let b={get action(){return l},get location(){return e(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(iw,d),c=w,()=>{s.removeEventListener(iw,d),c=null}},createHref(w){return t(s,w)},createURL:v,encodeLocation(w){let j=v(w);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:h,replace:p,go(w){return o.go(w)}};return b}var lw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(lw||(lw={}));function U5(e,t,r){return r===void 0&&(r="/"),B5(e,t,r,!1)}function B5(e,t,r,n){let s=typeof t=="string"?Eo(t):t,i=Yi(s.pathname||"/",r);if(i==null)return null;let o=v4(e);z5(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=J5(i);l=X5(o[c],u,n)}return l}function v4(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(it(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Fs([n,c.relativePath]),f=r.concat(c);i.children&&i.children.length>0&&(it(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),v4(i.children,t,f,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:Y5(u,i.index),routesMeta:f})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of y4(i.path))s(i,o,c)}),t}function y4(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=y4(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function z5(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Q5(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const q5=/^:[\w-]+$/,W5=3,H5=2,K5=1,V5=10,G5=-2,cw=e=>e==="*";function Y5(e,t){let r=e.split("/"),n=r.length;return r.some(cw)&&(n+=G5),t&&(n+=H5),r.filter(s=>!cw(s)).reduce((s,i)=>s+(q5.test(i)?W5:i===""?K5:V5),n)}function Q5(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function X5(e,t,r){let{routesMeta:n}=e,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=i==="/"?t:t.slice(i.length)||"/",d=Bd({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),h=c.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=Bd({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Fs([i,d.pathname]),pathnameBase:n$(Fs([i,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(i=Fs([i,d.pathnameBase]))}return o}function Bd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Z5(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((u,f,d)=>{let{paramName:h,isOptional:p}=f;if(h==="*"){let b=l[d]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const v=l[d];return p&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function Z5(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),x4(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function J5(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return x4(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Yi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function e$(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?Eo(e):e;return{pathname:r?r.startsWith("/")?r:t$(r,t):t,search:s$(n),hash:a$(s)}}function t$(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Yp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function r$(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function hv(e,t){let r=r$(e);return t?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function pv(e,t,r,n){n===void 0&&(n=!1);let s;typeof e=="string"?s=Eo(e):(s=ac({},e),it(!s.pathname||!s.pathname.includes("?"),Yp("?","pathname","search",s)),it(!s.pathname||!s.pathname.includes("#"),Yp("#","pathname","hash",s)),it(!s.search||!s.search.includes("#"),Yp("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let d=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;s.pathname=h.join("/")}l=d>=0?t[d]:"/"}let c=e$(s,l),u=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Fs=e=>e.join("/").replace(/\/\/+/g,"/"),n$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),s$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,a$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function i$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const b4=["post","put","patch","delete"];new Set(b4);const o$=["get",...b4];new Set(o$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ic(){return ic=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ic.apply(this,arguments)}const gh=O.createContext(null),w4=O.createContext(null),ss=O.createContext(null),xh=O.createContext(null),as=O.createContext({outlet:null,matches:[],isDataRoute:!1}),j4=O.createContext(null);function l$(e,t){let{relative:r}=t===void 0?{}:t;Po()||it(!1);let{basename:n,navigator:s}=O.useContext(ss),{hash:i,pathname:o,search:l}=vh(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Fs([n,o])),s.createHref({pathname:c,search:l,hash:i})}function Po(){return O.useContext(xh)!=null}function Wa(){return Po()||it(!1),O.useContext(xh).location}function _4(e){O.useContext(ss).static||O.useLayoutEffect(e)}function Co(){let{isDataRoute:e}=O.useContext(as);return e?j$():c$()}function c$(){Po()||it(!1);let e=O.useContext(gh),{basename:t,future:r,navigator:n}=O.useContext(ss),{matches:s}=O.useContext(as),{pathname:i}=Wa(),o=JSON.stringify(hv(s,r.v7_relativeSplatPath)),l=O.useRef(!1);return _4(()=>{l.current=!0}),O.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let d=pv(u,JSON.parse(o),i,f.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Fs([t,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[t,n,o,i,e])}function u$(){let{matches:e}=O.useContext(as),t=e[e.length-1];return t?t.params:{}}function vh(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=O.useContext(ss),{matches:s}=O.useContext(as),{pathname:i}=Wa(),o=JSON.stringify(hv(s,n.v7_relativeSplatPath));return O.useMemo(()=>pv(e,JSON.parse(o),i,r==="path"),[e,o,i,r])}function d$(e,t){return f$(e,t)}function f$(e,t,r,n){Po()||it(!1);let{navigator:s}=O.useContext(ss),{matches:i}=O.useContext(as),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Wa(),f;if(t){var d;let w=typeof t=="string"?Eo(t):t;c==="/"||(d=w.pathname)!=null&&d.startsWith(c)||it(!1),f=w}else f=u;let h=f.pathname||"/",p=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=U5(e,{pathname:p}),b=x$(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:Fs([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:Fs([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return t&&b?O.createElement(xh.Provider,{value:{location:ic({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Es.Pop}},b):b}function h$(){let e=w$(),t=i$(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),r?O.createElement("pre",{style:s},r):null,null)}const p$=O.createElement(h$,null);class m$ extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?O.createElement(as.Provider,{value:this.props.routeContext},O.createElement(j4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function g$(e){let{routeContext:t,match:r,children:n}=e,s=O.useContext(gh);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),O.createElement(as.Provider,{value:t},n)}function x$(e,t,r,n){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(s=r)==null?void 0:s.errors;if(l!=null){let f=o.findIndex(d=>d.route.id&&(l==null?void 0:l[d.route.id])!==void 0);f>=0||it(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=f),d.route.id){let{loaderData:h,errors:p}=r,v=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,d,h)=>{let p,v=!1,b=null,w=null;r&&(p=l&&d.route.id?l[d.route.id]:void 0,b=d.route.errorElement||p$,c&&(u<0&&h===0?(v=!0,w=null):u===h&&(v=!0,w=d.route.hydrateFallbackElement||null)));let j=t.concat(o.slice(0,h+1)),x=()=>{let m;return p?m=b:v?m=w:d.route.Component?m=O.createElement(d.route.Component,null):d.route.element?m=d.route.element:m=f,O.createElement(g$,{match:d,routeContext:{outlet:f,matches:j,isDataRoute:r!=null},children:m})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?O.createElement(m$,{location:r.location,revalidation:r.revalidation,component:b,error:p,children:x(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):x()},null)}var N4=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(N4||{}),zd=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(zd||{});function v$(e){let t=O.useContext(gh);return t||it(!1),t}function y$(e){let t=O.useContext(w4);return t||it(!1),t}function b$(e){let t=O.useContext(as);return t||it(!1),t}function S4(e){let t=b$(),r=t.matches[t.matches.length-1];return r.route.id||it(!1),r.route.id}function w$(){var e;let t=O.useContext(j4),r=y$(zd.UseRouteError),n=S4(zd.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function j$(){let{router:e}=v$(N4.UseNavigateStable),t=S4(zd.UseNavigateStable),r=O.useRef(!1);return _4(()=>{r.current=!0}),O.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ic({fromRouteId:t},i)))},[e,t])}function _$(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function oc(e){let{to:t,replace:r,state:n,relative:s}=e;Po()||it(!1);let{future:i,static:o}=O.useContext(ss),{matches:l}=O.useContext(as),{pathname:c}=Wa(),u=Co(),f=pv(t,hv(l,i.v7_relativeSplatPath),c,s==="path"),d=JSON.stringify(f);return O.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:s}),[u,d,s,r,n]),null}function Ue(e){it(!1)}function N$(e){let{basename:t="/",children:r=null,location:n,navigationType:s=Es.Pop,navigator:i,static:o=!1,future:l}=e;Po()&&it(!1);let c=t.replace(/^\/*/,"/"),u=O.useMemo(()=>({basename:c,navigator:i,static:o,future:ic({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof n=="string"&&(n=Eo(n));let{pathname:f="/",search:d="",hash:h="",state:p=null,key:v="default"}=n,b=O.useMemo(()=>{let w=Yi(f,c);return w==null?null:{location:{pathname:w,search:d,hash:h,state:p,key:v},navigationType:s}},[c,f,d,h,p,v,s]);return b==null?null:O.createElement(ss.Provider,{value:u},O.createElement(xh.Provider,{children:r,value:b}))}function O4(e){let{children:t,location:r}=e;return d$(k0(t),r)}new Promise(()=>{});function k0(e,t){t===void 0&&(t=[]);let r=[];return O.Children.forEach(e,(n,s)=>{if(!O.isValidElement(n))return;let i=[...t,s];if(n.type===O.Fragment){r.push.apply(r,k0(n.props.children,i));return}n.type!==Ue&&it(!1),!n.props.index||!n.props.children||it(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=k0(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qd(){return qd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qd.apply(this,arguments)}function A4(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function S$(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function O$(e,t){return e.button===0&&(!t||t==="_self")&&!S$(e)}const A$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],E$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],P$="6";try{window.__reactRouterVersion=P$}catch{}const C$=O.createContext({isTransitioning:!1}),k$="startTransition",uw=$P[k$];function T$(e){let{basename:t,children:r,future:n,window:s}=e,i=O.useRef();i.current==null&&(i.current=D5({window:s,v5Compat:!0}));let o=i.current,[l,c]=O.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=O.useCallback(d=>{u&&uw?uw(()=>c(d)):c(d)},[c,u]);return O.useLayoutEffect(()=>o.listen(f),[o,f]),O.useEffect(()=>_$(n),[n]),O.createElement(N$,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const $$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",I$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,R$=O.forwardRef(function(t,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:d}=t,h=A4(t,A$),{basename:p}=O.useContext(ss),v,b=!1;if(typeof u=="string"&&I$.test(u)&&(v=u,$$))try{let m=new URL(window.location.href),_=u.startsWith("//")?new URL(m.protocol+u):new URL(u),g=Yi(_.pathname,p);_.origin===m.origin&&g!=null?u=g+_.search+_.hash:b=!0}catch{}let w=l$(u,{relative:s}),j=L$(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:d});function x(m){n&&n(m),m.defaultPrevented||j(m)}return O.createElement("a",qd({},h,{href:v||w,onClick:b||i?n:x,ref:r,target:c}))}),M$=O.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:s=!1,className:i="",end:o=!1,style:l,to:c,viewTransition:u,children:f}=t,d=A4(t,E$),h=vh(c,{relative:d.relative}),p=Wa(),v=O.useContext(w4),{navigator:b,basename:w}=O.useContext(ss),j=v!=null&&F$(h)&&u===!0,x=b.encodeLocation?b.encodeLocation(h).pathname:h.pathname,m=p.pathname,_=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;s||(m=m.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&w&&(_=Yi(_,w)||_);const g=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let y=m===x||!o&&m.startsWith(x)&&m.charAt(g)==="/",N=_!=null&&(_===x||!o&&_.startsWith(x)&&_.charAt(x.length)==="/"),S={isActive:y,isPending:N,isTransitioning:j},A=y?n:void 0,P;typeof i=="function"?P=i(S):P=[i,y?"active":null,N?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let T=typeof l=="function"?l(S):l;return O.createElement(R$,qd({},d,{"aria-current":A,className:P,ref:r,style:T,to:c,viewTransition:u}),typeof f=="function"?f(S):f)});var T0;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(T0||(T0={}));var dw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(dw||(dw={}));function D$(e){let t=O.useContext(gh);return t||it(!1),t}function L$(e,t){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:l}=t===void 0?{}:t,c=Co(),u=Wa(),f=vh(e,{relative:o});return O.useCallback(d=>{if(O$(d,r)){d.preventDefault();let h=n!==void 0?n:Ud(u)===Ud(f);c(e,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,f,n,s,r,e,i,o,l])}function F$(e,t){t===void 0&&(t={});let r=O.useContext(C$);r==null&&it(!1);let{basename:n}=D$(T0.useViewTransitionState),s=vh(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Yi(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Yi(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Bd(s.pathname,o)!=null||Bd(s.pathname,i)!=null}const U$=O.createContext(void 0);function B$({children:e}){const[t,r]=O.useState(navigator.onLine),[n,s]=O.useState(null),[i,o]=O.useState(!1);O.useEffect(()=>{const u=()=>{r(!0),l()},f=()=>{r(!1)},d=()=>{try{const p=localStorage.getItem("pending_saves");o(!!p&&JSON.parse(p).length>0);const v=localStorage.getItem("last_sync");v&&s(new Date(parseInt(v)))}catch(p){console.error("Error checking pending changes:",p)}};window.addEventListener("online",u),window.addEventListener("offline",f),d();const h=setInterval(d,1e4);return()=>{window.removeEventListener("online",u),window.removeEventListener("offline",f),clearInterval(h)}},[]);const l=async()=>{if(t)try{await yn.syncOfflineData(),o(!1),s(new Date)}catch(u){console.error("Failed to sync data:",u)}},c={isOnline:t,lastSynced:n,hasPendingChanges:i,syncData:l};return a.jsx(U$.Provider,{value:c,children:e})}async function z$(){try{const e=["roles","users","surveys","survey_sections","questions","question_options","system_settings"];for(const t of e)await Q.rpc("exec_sql",{sql:`ALTER TABLE ${t} DISABLE ROW LEVEL SECURITY;`}).catch(()=>{})}catch{console.log("Could not disable RLS via RPC, using service role client")}}async function Qp(){try{const e=["roles","users","surveys","survey_sections","questions","question_options","system_settings"];for(const t of e)await Q.rpc("exec_sql",{sql:`ALTER TABLE ${t} ENABLE ROW LEVEL SECURITY;`}).catch(()=>{})}catch{console.log("Could not re-enable RLS via RPC")}}class q${static async initializeDatabase(){try{if(console.log("Starting database initialization..."),ue)return{success:!1,message:`Cannot initialize database in demo mode. Please configure Supabase first:

1. Create a Supabase project at https://supabase.com
2. Get your project URL and API keys from Settings → API
3. Update the .env file with your actual credentials
4. Restart the development server
5. Try initialization again`};await z$(),console.log("Testing admin client...");try{const{data:s,error:i}=await qe.auth.admin.listUsers({page:1,perPage:1});if(i)return console.error("Admin client test failed:",i),{success:!1,message:`Admin client authentication failed: ${i.message}. Please check your VITE_SUPABASE_SERVICE_ROLE_KEY in .env file.`};console.log("Admin client test successful")}catch(s){return console.error("Admin client test error:",s),await Qp(),{success:!1,message:"Failed to authenticate with Supabase admin client. Please verify your service role key."}}console.log("Checking database connection..."),console.log("Cleaning up existing data..."),await this.cleanupExistingData(Q,qe);const{data:t,error:r}=await Q.from("roles").select("id").limit(1);if(r)return console.error("Database connection failed:",r),{success:!1,message:`Failed to connect to database: ${r.message}. Please check your Supabase configuration.`,error:r};console.log("Database is empty, starting initialization..."),console.log("Running comprehensive schema migration...");try{const s=await fetch("/supabase/migrations/create_comprehensive_schema.sql");if(s.ok){const i=await s.text(),{error:o}=await qe.rpc("exec_sql",{sql:i});o?console.error("Migration execution failed:",o):console.log("Schema migration executed successfully")}}catch{console.log("Could not run migration file, proceeding with manual creation...")}await this.createRoles(qe),console.log("Roles created successfully"),await this.createUsers(qe),console.log("Users created successfully");const n=await this.verifyUserCreation(qe);return await this.createSurveys(qe,n),console.log("Surveys created successfully"),await this.createSurveySections(qe),console.log("Survey sections created successfully"),await this.createQuestions(qe),console.log("Questions created successfully"),await this.createSystemSettings(qe),console.log("System settings created successfully"),await this.createRLSPolicies(supabaseAdminClient),console.log("RLS policies created successfully"),await Qp(),console.log("Database initialization completed successfully"),{success:!0,message:"Database initialized successfully with demo users and sample data!"}}catch(t){return console.error("Database initialization failed:",t),await Qp(),{success:!1,message:`Failed to initialize database: ${t instanceof Error?t.message:"Unknown error"}`,error:t}}}static async cleanupExistingData(t,r){try{try{const{error:s}=await r.rpc("exec_sql",{sql:`
            DO $$ 
            DECLARE
                r RECORD;
            BEGIN
                FOR r IN (SELECT schemaname, tablename FROM pg_tables WHERE schemaname = 'public') LOOP
                    EXECUTE 'DROP POLICY IF EXISTS ' || quote_ident('policy_' || r.tablename) || ' ON ' || quote_ident(r.schemaname) || '.' || quote_ident(r.tablename);
                END LOOP;
            END $$;
          `});s||console.log("Existing policies dropped successfully")}catch{console.log("Policy cleanup failed, continuing with data cleanup...")}console.log("Deleting test_answers..."),await r.from("test_answers").delete().gte("created_at","1900-01-01"),console.log("Deleting section_scores..."),await r.from("section_scores").delete().gte("created_at","1900-01-01"),console.log("Deleting certificates..."),await r.from("certificates").delete().gte("created_at","1900-01-01"),console.log("Deleting test_results..."),await r.from("test_results").delete().gte("created_at","1900-01-01"),console.log("Deleting test_sessions..."),await r.from("test_sessions").delete().gte("created_at","1900-01-01"),console.log("Deleting activity_logs..."),await r.from("activity_logs").delete().gte("created_at","1900-01-01"),console.log("Deleting question_options..."),await r.from("question_options").delete().gte("created_at","1900-01-01"),console.log("Deleting questions..."),await r.from("questions").delete().gte("created_at","1900-01-01"),console.log("Deleting survey_sections..."),await r.from("survey_sections").delete().gte("created_at","1900-01-01"),console.log("Deleting surveys..."),await r.from("surveys").delete().gte("created_at","1900-01-01"),console.log("Deleting system_settings..."),await r.from("system_settings").delete().gte("updated_at","1900-01-01"),console.log("Deleting users..."),await r.from("users").delete().gte("created_at","1900-01-01"),console.log("Deleting roles..."),await r.from("roles").delete().gte("created_at","1900-01-01"),console.log("Cleaning up auth users...");const{data:n}=await r.auth.admin.listUsers();if(n&&n.users)for(const s of n.users)s.email&&!s.email.includes("supabase")&&(console.log(`Deleting auth user: ${s.email}`),await r.auth.admin.deleteUser(s.id));console.log("Cleanup completed")}catch(n){console.error("Cleanup error:",n)}}static async verifyUserCreation(t){console.log("Verifying user creation...");const r=["admin@esigma.com","enumerator@esigma.com"];let n=null;for(const s of r)try{const{data:i,error:o}=await Q.auth.signInWithPassword({email:s,password:"password123"});if(o)throw console.error(`Verification failed for ${s}:`,o),new Error(`User ${s} cannot authenticate: ${o.message}`);console.log(`✓ User ${s} can authenticate successfully`),s==="admin@esigma.com"&&(n=i.user.id),await Q.auth.signOut()}catch(i){throw console.error(`Verification error for ${s}:`,i),i}return console.log("All users verified successfully"),n}static async createRoles(t){console.log("Creating roles...");const r=[{id:"550e8400-e29b-41d4-a716-446655440001",name:"Administrator",description:"System Administrator with full access to all features",level:1,is_active:!0,menu_access:["/dashboard","/users","/roles","/role-menu-management","/surveys","/questions","/results","/enumerator-status","/certificates","/settings"]},{id:"550e8400-e29b-41d4-a716-446655440002",name:"CPG User",description:"Central Planning Group User with national oversight",level:2,is_active:!0,menu_access:["/cpg-dashboard","/results","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440003",name:"ZO User",description:"Zonal Office User with zone-level management access",level:3,is_active:!0,menu_access:["/zo-dashboard","/results","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440004",name:"RO User",description:"Regional Office User with regional management access",level:4,is_active:!0,menu_access:["/ro-dashboard","/results","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440005",name:"Supervisor",description:"Field Supervisor with team management capabilities",level:5,is_active:!0,menu_access:["/supervisor-dashboard","/team-results","/my-enumerators","/enumerator-status","/certificates"]},{id:"550e8400-e29b-41d4-a716-446655440006",name:"Enumerator",description:"Field Enumerator with test-taking access (Lowest Level)",level:6,is_active:!0,menu_access:["/enumerator-dashboard","/available-tests","/my-results","/my-certificates","/test-schedule"]}],{error:n}=await t.from("roles").insert(r);if(n)throw n;console.log("Roles created successfully")}static async createUsers(t){console.log("Creating users..."),console.log("Creating users in Supabase Auth and custom user profiles...");const r=[{email:"admin@esigma.com",password:"password123",name:"System Administrator",role_id:"550e8400-e29b-41d4-a716-446655440001",is_active:!0,jurisdiction:"National",zone:null,region:null,district:null,employee_id:"ADM001",phone_number:"+91-9876543210"},{email:"zo@esigma.com",password:"password123",name:"Zonal Officer",role_id:"550e8400-e29b-41d4-a716-446655440003",is_active:!0,jurisdiction:"North Zone",zone:"North Zone",region:null,district:null,employee_id:"ZO001",phone_number:"+91-9876543211"},{email:"ro@esigma.com",password:"password123",name:"Regional Officer",role_id:"550e8400-e29b-41d4-a716-446655440004",is_active:!0,jurisdiction:"Delhi Region",zone:"North Zone",region:"Delhi Region",district:null,employee_id:"RO001",phone_number:"+91-9876543212",parent_id:null},{email:"supervisor@esigma.com",password:"password123",name:"Field Supervisor",role_id:"550e8400-e29b-41d4-a716-446655440005",is_active:!0,jurisdiction:"Central Delhi District",zone:"North Zone",region:"Delhi Region",district:"Central Delhi",employee_id:"SUP001",phone_number:"+91-9876543213",parent_id:null},{email:"enumerator@esigma.com",password:"password123",name:"Field Enumerator",role_id:"550e8400-e29b-41d4-a716-446655440006",is_active:!0,jurisdiction:"Block A, Central Delhi",zone:"North Zone",region:"Delhi Region",district:"Central Delhi",employee_id:"ENU001",phone_number:"+91-9876543214",parent_id:null}];console.log(`Creating ${r.length} users...`);for(const n of r)try{console.log(`Processing user: ${n.email}`),console.log(`Creating new auth user: ${n.email}`);const{data:s,error:i}=await supabaseAdminClient.auth.admin.createUser({email:n.email,password:n.password,email_confirm:!0,user_metadata:{name:n.name},app_metadata:{role:n.role_id}});if(i)throw console.error(`Failed to create auth user ${n.email}:`,i),new Error(`Auth creation failed for ${n.email}: ${i.message}`);if(s.user){const{error:c}=await supabaseAdminClient.auth.admin.updateUserById(s.user.id,{email_confirm:!0});c?console.error(`Failed to confirm email for ${n.email}:`,c):console.log(`Email confirmed for ${n.email}`)}console.log(`Created auth user for ${n.email} with ID: ${s.user.id}`);const o=E0.hashSync(n.password,10);console.log(`Creating profile for ${n.email}`);const{error:l}=await supabaseAdminClient.from("users").insert({id:s.user.id,email:n.email,password_hash:o,name:n.name,role_id:n.role_id,is_active:n.is_active,jurisdiction:n.jurisdiction,zone:n.zone,region:n.region,district:n.district,employee_id:n.employee_id,phone_number:n.phone_number,parent_id:n.parent_id});if(l)throw console.error(`Failed to create user profile ${n.email}:`,l),new Error(`Profile creation failed for ${n.email}: ${l.message}`);console.log(`Successfully created user: ${n.email}`)}catch(s){throw console.error(`Error creating user ${n.email}:`,s),s}console.log("Users created successfully")}static async createSurveys(t,r){console.log("Creating surveys...");const n=[{id:"550e8400-e29b-41d4-a716-446655440020",title:"Digital Literacy Assessment",description:"Comprehensive assessment of digital skills and computer literacy for field staff",target_date:new Date(Date.now()+30*24*60*60*1e3).toISOString().split("T")[0],duration:35,total_questions:30,passing_score:70,max_attempts:3,is_active:!0,assigned_zones:["North Zone","South Zone","East Zone"],assigned_regions:["Delhi Region","Mumbai Region","Kolkata Region"],created_by:r},{id:"550e8400-e29b-41d4-a716-446655440021",title:"Data Collection Procedures",description:"Assessment of field data collection methods and procedures",target_date:new Date(Date.now()+45*24*60*60*1e3).toISOString().split("T")[0],duration:40,total_questions:25,passing_score:75,max_attempts:2,is_active:!0,assigned_zones:["North Zone","South Zone","East Zone"],assigned_regions:["Delhi Region","Mumbai Region","Kolkata Region"],created_by:r},{id:"550e8400-e29b-41d4-a716-446655440022",title:"Survey Methodology Training",description:"Training assessment on survey methodology and best practices",target_date:new Date(Date.now()+60*24*60*60*1e3).toISOString().split("T")[0],duration:30,total_questions:20,passing_score:80,max_attempts:3,is_active:!0,assigned_zones:["North Zone","South Zone","East Zone"],assigned_regions:["Delhi Region","Mumbai Region","Kolkata Region"],created_by:r}],{error:s}=await t.from("surveys").insert(n);if(s)throw s;console.log("Surveys created successfully")}static async createSurveySections(t){console.log("Creating survey sections...");const r=[{id:"550e8400-e29b-41d4-a716-446655440030",survey_id:"550e8400-e29b-41d4-a716-446655440020",title:"Basic Computer Skills",description:"Fundamental computer operations and software usage",questions_count:2,section_order:1},{id:"550e8400-e29b-41d4-a716-446655440031",survey_id:"550e8400-e29b-41d4-a716-446655440020",title:"Internet and Digital Communication",description:"Web browsing, email, and online communication tools",questions_count:1,section_order:2},{id:"550e8400-e29b-41d4-a716-446655440032",survey_id:"550e8400-e29b-41d4-a716-446655440020",title:"Digital Security and Privacy",description:"Online safety, password management, and privacy protection",questions_count:1,section_order:3},{id:"550e8400-e29b-41d4-a716-446655440033",survey_id:"550e8400-e29b-41d4-a716-446655440021",title:"Field Data Collection",description:"Methods and procedures for collecting data in the field",questions_count:2,section_order:1},{id:"550e8400-e29b-41d4-a716-446655440034",survey_id:"550e8400-e29b-41d4-a716-446655440021",title:"Data Quality Assurance",description:"Ensuring accuracy and completeness of collected data",questions_count:1,section_order:2}],{error:n}=await t.from("survey_sections").insert(r);if(n)throw n;console.log("Survey sections created successfully")}static async createQuestions(t){console.log("Creating sample questions...");const r=[{id:"550e8400-e29b-41d4-a716-446655440040",section_id:"550e8400-e29b-41d4-a716-446655440030",text:"What is the primary function of an operating system?",question_type:"single_choice",complexity:"easy",points:1,explanation:"An operating system manages all hardware and software resources of a computer.",question_order:1},{id:"550e8400-e29b-41d4-a716-446655440041",section_id:"550e8400-e29b-41d4-a716-446655440030",text:"Which of the following are input devices? (Select all that apply)",question_type:"multiple_choice",complexity:"medium",points:2,explanation:"Input devices allow users to provide data to the computer. Monitor is an output device.",question_order:2},{id:"550e8400-e29b-41d4-a716-446655440042",section_id:"550e8400-e29b-41d4-a716-446655440031",text:"What does URL stand for?",question_type:"single_choice",complexity:"easy",points:1,explanation:"URL stands for Uniform Resource Locator, which is the address of a web page.",question_order:1},{id:"550e8400-e29b-41d4-a716-446655440043",section_id:"550e8400-e29b-41d4-a716-446655440032",text:"Which of the following are good password practices?",question_type:"multiple_choice",complexity:"medium",points:2,explanation:"Strong passwords should be long, complex, unique, and not shared.",question_order:1},{id:"550e8400-e29b-41d4-a716-446655440044",section_id:"550e8400-e29b-41d4-a716-446655440033",text:"What is the first step in field data collection?",question_type:"single_choice",complexity:"easy",points:1,explanation:"Planning and preparation are essential before starting data collection.",question_order:1},{id:"550e8400-e29b-41d4-a716-446655440045",section_id:"550e8400-e29b-41d4-a716-446655440033",text:"Which tools are commonly used for field data collection?",question_type:"multiple_choice",complexity:"medium",points:2,explanation:"Multiple tools can be used for effective field data collection.",question_order:2},{id:"550e8400-e29b-41d4-a716-446655440046",section_id:"550e8400-e29b-41d4-a716-446655440034",text:"What is the primary goal of data quality assurance?",question_type:"single_choice",complexity:"medium",points:1,explanation:"Data quality assurance ensures data accuracy and reliability.",question_order:1}],{error:n}=await t.from("questions").insert(r);if(n)throw n;const s=[{id:"550e8400-e29b-41d4-a716-446655440050",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To manage hardware and software resources",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440051",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To create documents",is_correct:!1,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440052",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To browse the internet",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440053",question_id:"550e8400-e29b-41d4-a716-446655440040",text:"To play games",is_correct:!1,option_order:4},{id:"550e8400-e29b-41d4-a716-446655440054",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Keyboard",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440055",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Mouse",is_correct:!0,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440056",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Monitor",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440057",question_id:"550e8400-e29b-41d4-a716-446655440041",text:"Microphone",is_correct:!0,option_order:4},{id:"550e8400-e29b-41d4-a716-446655440058",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Uniform Resource Locator",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440059",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Universal Resource Link",is_correct:!1,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440060",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Unified Resource Location",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440061",question_id:"550e8400-e29b-41d4-a716-446655440042",text:"Universal Reference Locator",is_correct:!1,option_order:4},{id:"550e8400-e29b-41d4-a716-446655440062",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Use at least 8 characters",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440063",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Include uppercase and lowercase letters",is_correct:!0,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440064",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Share passwords with colleagues",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440065",question_id:"550e8400-e29b-41d4-a716-446655440043",text:"Use unique passwords for each account",is_correct:!0,option_order:4},{id:"550e8400-e29b-41d4-a716-446655440066",question_id:"550e8400-e29b-41d4-a716-446655440044",text:"Planning and preparation",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440067",question_id:"550e8400-e29b-41d4-a716-446655440044",text:"Start collecting immediately",is_correct:!1,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440068",question_id:"550e8400-e29b-41d4-a716-446655440044",text:"Buy equipment first",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440069",question_id:"550e8400-e29b-41d4-a716-446655440044",text:"Hire staff first",is_correct:!1,option_order:4},{id:"550e8400-e29b-41d4-a716-446655440070",question_id:"550e8400-e29b-41d4-a716-446655440045",text:"Tablets and smartphones",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440071",question_id:"550e8400-e29b-41d4-a716-446655440045",text:"Paper forms",is_correct:!0,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440072",question_id:"550e8400-e29b-41d4-a716-446655440045",text:"GPS devices",is_correct:!0,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440073",question_id:"550e8400-e29b-41d4-a716-446655440045",text:"Gaming consoles",is_correct:!1,option_order:4},{id:"550e8400-e29b-41d4-a716-446655440074",question_id:"550e8400-e29b-41d4-a716-446655440046",text:"Ensure data accuracy and reliability",is_correct:!0,option_order:1},{id:"550e8400-e29b-41d4-a716-446655440075",question_id:"550e8400-e29b-41d4-a716-446655440046",text:"Collect as much data as possible",is_correct:!1,option_order:2},{id:"550e8400-e29b-41d4-a716-446655440076",question_id:"550e8400-e29b-41d4-a716-446655440046",text:"Speed up data collection",is_correct:!1,option_order:3},{id:"550e8400-e29b-41d4-a716-446655440077",question_id:"550e8400-e29b-41d4-a716-446655440046",text:"Reduce data collection costs",is_correct:!1,option_order:4}],{error:i}=await t.from("question_options").insert(s);if(i)throw i;console.log("Questions and options created successfully")}static async createSystemSettings(t){console.log("Creating system settings...");const r=[{category:"security",setting_key:"max_login_attempts",setting_value:"5",description:"Maximum failed login attempts before account lockout",setting_type:"number",is_editable:!0},{category:"security",setting_key:"lockout_duration",setting_value:"30",description:"Account lockout duration in minutes",setting_type:"number",is_editable:!0},{category:"security",setting_key:"session_timeout",setting_value:"120",description:"User session timeout in minutes",setting_type:"number",is_editable:!0},{category:"security",setting_key:"password_min_length",setting_value:"8",description:"Minimum password length requirement",setting_type:"number",is_editable:!0},{category:"security",setting_key:"password_complexity",setting_value:"true",description:"Require complex passwords (uppercase, lowercase, numbers)",setting_type:"boolean",is_editable:!0},{category:"security",setting_key:"force_password_change",setting_value:"90",description:"Force password change every X days",setting_type:"number",is_editable:!0},{category:"test",setting_key:"auto_save_interval",setting_value:"30",description:"Auto-save test progress every X seconds",setting_type:"number",is_editable:!0},{category:"test",setting_key:"enable_auto_save",setting_value:"true",description:"Enable automatic saving of test progress",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"auto_submit_on_timeout",setting_value:"true",description:"Automatically submit test when time expires",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"show_time_warning",setting_value:"true",description:"Show warning when 5 minutes remaining",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"allow_question_navigation",setting_value:"true",description:"Allow users to navigate between questions",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"enable_question_flagging",setting_value:"true",description:"Allow users to flag questions for review",setting_type:"boolean",is_editable:!0},{category:"test",setting_key:"network_pause_enabled",setting_value:"true",description:"Auto-pause test when network is unavailable",setting_type:"boolean",is_editable:!0},{category:"general",setting_key:"site_name",setting_value:"eSigma Survey Platform",description:"Application name displayed to users",setting_type:"string",is_editable:!0},{category:"general",setting_key:"site_description",setting_value:"Online MCQ Test Management System",description:"Application description",setting_type:"string",is_editable:!0},{category:"general",setting_key:"support_email",setting_value:"support@esigma.com",description:"Support contact email address",setting_type:"email",is_editable:!0},{category:"general",setting_key:"maintenance_mode",setting_value:"false",description:"Enable maintenance mode to restrict access",setting_type:"boolean",is_editable:!0},{category:"general",setting_key:"default_timezone",setting_value:"Asia/Kolkata",description:"Default system timezone",setting_type:"select",is_editable:!0,options:["Asia/Kolkata","UTC","America/New_York","Europe/London"]},{category:"general",setting_key:"date_format",setting_value:"DD/MM/YYYY",description:"Date display format",setting_type:"select",is_editable:!0,options:["DD/MM/YYYY","MM/DD/YYYY","YYYY-MM-DD"]}],{error:n}=await t.from("system_settings").insert(r);if(n)throw n;console.log("System settings created successfully")}static async createRLSPolicies(t){console.log("Creating RLS policies...");try{await t.rpc("exec_sql",{sql:`
          ALTER TABLE questions ENABLE ROW LEVEL SECURITY;
          
          DROP POLICY IF EXISTS "questions_select_authenticated" ON questions;
          CREATE POLICY "questions_select_authenticated"
            ON questions
            FOR SELECT
            TO authenticated
            USING (true);
          
          ALTER TABLE question_options ENABLE ROW LEVEL SECURITY;
          
          DROP POLICY IF EXISTS "question_options_select_authenticated" ON question_options;
          CREATE POLICY "question_options_select_authenticated"
            ON question_options
            FOR SELECT
            TO authenticated
            USING (true);
          
          -- Test Results policies
          ALTER TABLE test_results ENABLE ROW LEVEL SECURITY;
          
          DROP POLICY IF EXISTS "test_results_select_own" ON test_results;
          CREATE POLICY "test_results_select_own"
            ON test_results
            FOR SELECT
            TO authenticated
            USING (user_id = auth.uid());
          
          DROP POLICY IF EXISTS "test_results_insert_own" ON test_results;
          CREATE POLICY "test_results_insert_own"
            ON test_results
            FOR INSERT
            TO authenticated
            WITH CHECK (user_id = auth.uid());
          
          DROP POLICY IF EXISTS "test_results_update_own" ON test_results;
          CREATE POLICY "test_results_update_own"
            ON test_results
            FOR UPDATE
            TO authenticated
            USING (user_id = auth.uid())
            WITH CHECK (user_id = auth.uid());
          
          -- Section Scores policies
          ALTER TABLE section_scores ENABLE ROW LEVEL SECURITY;
          
          DROP POLICY IF EXISTS "section_scores_select_own" ON section_scores;
          CREATE POLICY "section_scores_select_own"
            ON section_scores
            FOR SELECT
            TO authenticated
            USING (EXISTS (
              SELECT 1 FROM test_results 
              WHERE test_results.id = section_scores.result_id 
              AND test_results.user_id = auth.uid()
            ));
          
          DROP POLICY IF EXISTS "section_scores_insert_own" ON section_scores;
          CREATE POLICY "section_scores_insert_own"
            ON section_scores
            FOR INSERT
            TO authenticated
            WITH CHECK (EXISTS (
              SELECT 1 FROM test_results 
              WHERE test_results.id = section_scores.result_id 
              AND test_results.user_id = auth.uid()
            ));
          
          -- Test Sessions policies
          ALTER TABLE test_sessions ENABLE ROW LEVEL SECURITY;
          
          DROP POLICY IF EXISTS "test_sessions_select_own" ON test_sessions;
          CREATE POLICY "test_sessions_select_own"
            ON test_sessions
            FOR SELECT
            TO authenticated
            USING (user_id = auth.uid());
          
          DROP POLICY IF EXISTS "test_sessions_insert_own" ON test_sessions;
          CREATE POLICY "test_sessions_insert_own"
            ON test_sessions
            FOR INSERT
            TO authenticated
            WITH CHECK (user_id = auth.uid());
          
          DROP POLICY IF EXISTS "test_sessions_update_own" ON test_sessions;
          CREATE POLICY "test_sessions_update_own"
            ON test_sessions
            FOR UPDATE
            TO authenticated
            USING (user_id = auth.uid())
            WITH CHECK (user_id = auth.uid());
          
          -- Test Answers policies
          ALTER TABLE test_answers ENABLE ROW LEVEL SECURITY;
          
          DROP POLICY IF EXISTS "test_answers_select_own" ON test_answers;
          CREATE POLICY "test_answers_select_own"
            ON test_answers
            FOR SELECT
            TO authenticated
            USING (EXISTS (
              SELECT 1 FROM test_sessions 
              WHERE test_sessions.id = test_answers.session_id 
              AND test_sessions.user_id = auth.uid()
            ));
          
          DROP POLICY IF EXISTS "test_answers_insert_own" ON test_answers;
          CREATE POLICY "test_answers_insert_own"
            ON test_answers
            FOR INSERT
            TO authenticated
            WITH CHECK (EXISTS (
              SELECT 1 FROM test_sessions 
              WHERE test_sessions.id = test_answers.session_id 
              AND test_sessions.user_id = auth.uid()
            ));
          
          DROP POLICY IF EXISTS "test_answers_update_own" ON test_answers;
          CREATE POLICY "test_answers_update_own"
            ON test_answers
            FOR UPDATE
            TO authenticated
            USING (EXISTS (
              SELECT 1 FROM test_sessions 
              WHERE test_sessions.id = test_answers.session_id 
              AND test_sessions.user_id = auth.uid()
            ))
            WITH CHECK (EXISTS (
              SELECT 1 FROM test_sessions 
              WHERE test_sessions.id = test_answers.session_id 
              AND test_sessions.user_id = auth.uid()
            ));
          
          -- Certificates policies
          ALTER TABLE certificates ENABLE ROW LEVEL SECURITY;
          
          DROP POLICY IF EXISTS "certificates_select_own" ON certificates;
          CREATE POLICY "certificates_select_own"
            ON certificates
            FOR SELECT
            TO authenticated
            USING (user_id = auth.uid());
          
          DROP POLICY IF EXISTS "certificates_insert_own" ON certificates;
          CREATE POLICY "certificates_insert_own"
            ON certificates
            FOR INSERT
            TO authenticated
            WITH CHECK (user_id = auth.uid());
        `}),console.log("RLS policies created successfully")}catch(r){console.error("Error creating RLS policies:",r)}}static async checkDatabaseConnection(){try{const{count:t,error:r}=await Q.from("roles").select("*",{count:"exact",head:!0});if(r)throw r;return(t||0)>0}catch(t){return console.error("Database connection failed:",t),{success:!1,message:"Database connection failed",error:t}}}}function W$(){const{login:e,logout:t,isAuthenticated:r}=Gs(),[n,s]=O.useState(""),[i,o]=O.useState(""),[l,c]=O.useState(!1),[u,f]=O.useState(!1),[d,h]=O.useState(""),[p,v]=O.useState(!1),[b,w]=O.useState(!0);O.useEffect(()=>{j()},[]);const j=async()=>{try{if(w(!0),ue){v(!0);return}const{data:_,error:g}=await Q.from("users").select("id").limit(1);g||!_||_.length===0?v(!0):v(!1)}catch(_){console.error("Error checking database status:",_),v(!0)}finally{w(!1)}};if(r)return a.jsx(oc,{to:"/",replace:!0});const x=async()=>{f(!0),h("");try{const _=await q$.initializeDatabase();_.success?(h(""),alert("Database initialized successfully! You can now login with the demo credentials.")):h(_.message)}catch(_){console.error("Database initialization error:",_),h("Failed to initialize database. Please try again.")}f(!1)},m=async _=>{if(_.preventDefault(),!n||!i){h("Please enter both email and password");return}c(!0),h("");try{const g=await e(n,i);g.success?console.log("Login successful"):h(g.message)}catch(g){console.error("Login error:",g),h("Login failed. Please try again.")}c(!1)};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50 flex items-center justify-center px-4",children:a.jsx("div",{className:"max-w-md w-full",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-xl p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"mb-6",children:a.jsx("img",{src:"/Tuteck-Logo_Darkmode-2.svg",alt:"Tuteck Technologies Pvt. Ltd.",className:"h-20 mx-auto object-contain"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Online Examination Platform"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Tuteck Technologies Pvt. Ltd."}),a.jsx("p",{className:"text-gray-500 text-sm mt-1",children:"Sign in to your account"})]}),p&&a.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-semibold text-blue-800 mb-2",children:"First Time Setup"}),a.jsx("p",{className:"text-xs text-blue-700 mb-3",children:ue?"Please configure Supabase to use the system.":"Database appears to be empty. Initialize with demo data to get started."}),!ue&&a.jsx(z,{onClick:x,disabled:u,variant:"outline",size:"sm",className:"w-full text-blue-700 border-blue-300 hover:bg-blue-100",children:u?"Initializing Database...":"Initialize Database"}),ue&&a.jsxs("div",{className:"text-xs text-blue-700",children:[a.jsx("p",{children:"1. Create a Supabase project at supabase.com"}),a.jsx("p",{children:"2. Update .env with your credentials"}),a.jsx("p",{children:"3. Restart the development server"})]})]}),d&&a.jsxs("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2",children:[a.jsx(o4,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),a.jsx("p",{className:"text-red-700 text-sm",children:d})]}),a.jsxs("form",{onSubmit:m,className:"space-y-4",children:[a.jsx(J,{label:"Email Address",type:"text",value:n,onChange:_=>s(_.target.value),placeholder:"Enter your email address",autoComplete:"off",autoFocus:!1,required:!0}),a.jsx(J,{label:"Password",type:"password",value:i,onChange:_=>o(_.target.value),placeholder:"Enter your password",autoComplete:"new-password",required:!0}),a.jsx(z,{type:"submit",disabled:l,className:"w-full",size:"lg",children:l?"Signing In...":"Sign In"})]}),p&&a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 border border-gray-200 rounded-lg",children:[a.jsx("h3",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Demo Credentials"}),a.jsxs("div",{className:"text-xs text-gray-600 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Admin:"})," admin@esigma.com / password123"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Enumerator:"})," enumerator@esigma.com / password123"]})]})]})]})})})}function H$({children:e}){const{isAuthenticated:t,isLoading:r}=Gs();return r?a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):t?a.jsx(a.Fragment,{children:e}):a.jsx(oc,{to:"/login",replace:!0})}function K$(){const{user:e,logout:t}=Gs(),r=async()=>{await t()};return a.jsx("header",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("img",{src:"/Tuteck-Logo_Darkmode-2.svg",alt:"Tuteck Technologies Pvt. Ltd.",className:"h-10 object-contain"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"Tuteck Online Examination Platform"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Tuteck Technologies Pvt. Ltd."})]}),ue&&a.jsx("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full font-medium",children:"Demo Mode"})]})]}),a.jsx("div",{}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("button",{className:"p-2 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:a.jsx(U3,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:e==null?void 0:e.name}),a.jsx("p",{className:"text-xs text-gray-500",children:e==null?void 0:e.role.name})]}),a.jsxs("div",{className:"relative group",children:[a.jsx("button",{className:"flex items-center space-x-2 p-2 rounded-lg hover:bg-gray-100 transition-colors",children:a.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ia,{className:"w-4 h-4 text-white"})})}),a.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50",children:a.jsxs("div",{className:"py-2",children:[a.jsxs("button",{className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100",children:[a.jsx(Jc,{className:"w-4 h-4"}),a.jsx("span",{children:"Settings"})]}),a.jsxs("button",{onClick:r,className:"flex items-center space-x-2 w-full px-4 py-2 text-sm text-red-600 hover:bg-red-50",children:[a.jsx(K3,{className:"w-4 h-4"}),a.jsx("span",{children:"Logout"})]})]})})]})]})]})]})})}const V$=[{to:"/dashboard",icon:Lr,label:"Dashboard",roles:["Admin"],level:1},{to:"/users",icon:fn,label:"User Management",roles:["Admin"],level:1},{to:"/roles",icon:ka,label:"Role Management",roles:["Admin"],level:1},{to:"/role-menu-management",icon:cv,label:"Menu Access Control",roles:["Admin"],level:1},{to:"/surveys",icon:Vt,label:"Question Area",roles:["Admin"],level:1},{to:"/questions",icon:Md,label:"Question Bank",roles:["Admin"],level:1},{to:"/settings",icon:Jc,label:"System Settings",roles:["Admin"],level:1},{to:"/zo-dashboard",icon:Lr,label:"ZO Dashboard",roles:["ZO User"],level:2},{to:"/zone-performance",icon:Zc,label:"Zone Performance",roles:["ZO User"],level:2},{to:"/regional-overview",icon:sc,label:"Regional Overview",roles:["ZO User"],level:2},{to:"/ro-dashboard",icon:Lr,label:"RO Dashboard",roles:["RO User"],level:3},{to:"/district-performance",icon:sc,label:"District Performance",roles:["RO User"],level:3},{to:"/supervisor-teams",icon:Gi,label:"Supervisor Teams",roles:["RO User"],level:3},{to:"/supervisor-dashboard",icon:Lr,label:"Dashboard",roles:["Supervisor"],level:4},{to:"/team-results",icon:Os,label:"Team Results",roles:["Supervisor"],level:4},{to:"/my-enumerators",icon:Gi,label:"My Enumerators",roles:["Supervisor"],level:4},{to:"/assigned-surveys",icon:Vt,label:"Assigned Surveys",roles:["Supervisor"],level:4},{to:"/enumerator-dashboard",icon:Lr,label:"My Dashboard",roles:["Enumerator"],level:5},{to:"/available-tests",icon:Vi,label:"Available Tests",roles:["Enumerator","FresherBScBCA"],level:5},{to:"/my-results",icon:$a,label:"My Results",roles:["Enumerator","FresherBScBCA"],level:5},{to:"/my-certificates",icon:qs,label:"My Certificates",roles:["Enumerator","FresherBScBCA"],level:5},{to:"/test-schedule",icon:Ld,label:"Test Schedule",roles:["Enumerator","FresherBScBCA"],level:5},{to:"/enumerator-dashboard",icon:Lr,label:"My Dashboard",roles:["FresherBScBCA"],level:6},{to:"/results",icon:Os,label:"Results & Analytics",roles:["Admin","ZO User","RO User","Supervisor"],level:1},{to:"/enumerator-status",icon:Je,label:"Candidate Status",roles:["Admin","ZO User","RO User","Supervisor"],level:1},{to:"/certificates",icon:Ae,label:"Certificates",roles:["Admin","ZO User","RO User","Supervisor","Enumerator","FresherBScBCA"],level:1}],fw={admin:[{to:"/dashboard",icon:Lr,label:"Dashboard"},{to:"/users",icon:fn,label:"User Management"},{to:"/roles",icon:ka,label:"Role Management"},{to:"/role-menu-management",icon:cv,label:"Menu Access Control"},{to:"/surveys",icon:Vt,label:"Question Area"},{to:"/questions",icon:Md,label:"Question Bank"},{to:"/results",icon:Os,label:"Results & Analytics"},{to:"/enumerator-status",icon:Je,label:"Candidate Status"},{to:"/certificates",icon:Ae,label:"Certificates"},{to:"/settings",icon:Jc,label:"System Settings"}],"zo user":[{to:"/zo-dashboard",icon:Lr,label:"ZO Dashboard"},{to:"/zone-performance",icon:Zc,label:"Zone Performance"},{to:"/regional-overview",icon:sc,label:"Regional Overview"},{to:"/enumerator-status",icon:Je,label:"Candidate Status"},{to:"/results",icon:Os,label:"Zone Analytics"},{to:"/certificates",icon:Ae,label:"Certificates"}],"ro user":[{to:"/ro-dashboard",icon:Lr,label:"RO Dashboard"},{to:"/district-performance",icon:sc,label:"District Performance"},{to:"/supervisor-teams",icon:Gi,label:"Supervisor Teams"},{to:"/enumerator-status",icon:Je,label:"Candidate Status"},{to:"/results",icon:Os,label:"Regional Analytics"},{to:"/certificates",icon:Ae,label:"Certificates"}],supervisor:[{to:"/supervisor-dashboard",icon:Lr,label:"Dashboard"},{to:"/team-results",icon:Os,label:"Team Results"},{to:"/my-enumerators",icon:Gi,label:"My Enumerators"},{to:"/enumerator-status",icon:Je,label:"Candidate Status"},{to:"/assigned-surveys",icon:Vt,label:"Assigned Surveys"},{to:"/certificates",icon:Ae,label:"Team Certificates"}],enumerator:[{to:"/enumerator-dashboard",icon:Lr,label:"My Dashboard"},{to:"/available-tests",icon:Vi,label:"Available Tests"},{to:"/my-results",icon:$a,label:"My Results"},{to:"/my-certificates",icon:qs,label:"My Certificates"},{to:"/test-schedule",icon:Ld,label:"Test Schedule"}],fresherbscbca:[{to:"/enumerator-dashboard",icon:Lr,label:"My Dashboard"},{to:"/available-tests",icon:Vi,label:"Available Tests"},{to:"/my-results",icon:$a,label:"My Results"},{to:"/my-certificates",icon:qs,label:"My Certificates"},{to:"/test-schedule",icon:Ld,label:"Test Schedule"}]};function G$(){const{user:e}=Gs(),r=(()=>{if(!e)return[];const u=e.role.name==="Administrator"?"Admin":e.role.name,f=e.role.level;return V$.filter(d=>{const h=d.roles.includes(u),p=d.level?f<=d.level:!0;return h&&p})})(),n=e==null?void 0:e.role.name.toLowerCase().replace(" ","_"),s=fw[n]||fw.enumerator,o=r.length>0?r.map(u=>({to:u.to,icon:u.icon,label:u.label})):s,l=u=>{switch(u.toLowerCase()){case"admin":return"bg-red-600";case"zo user":return"bg-purple-600";case"ro user":return"bg-indigo-600";case"supervisor":return"bg-green-600";case"enumerator":return"bg-blue-600";default:return"bg-gray-600"}},c=u=>{switch(u.toLowerCase()){case"admin":return"Full System Access";case"zo user":return"Zone Level Access";case"ro user":return"Regional Access";case"supervisor":return"Team Management";case"enumerator":return"Test Access";default:return"Limited Access"}};return a.jsxs("aside",{className:"w-64 bg-gray-900 text-white flex flex-col",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-10 h-10 ${l((e==null?void 0:e.role.name)||"")} rounded-lg flex items-center justify-center`,children:a.jsx(Vt,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold",children:"Tuteck"}),a.jsx("p",{className:"text-xs text-gray-400",children:"Examination Platform"})]})]}),a.jsxs("div",{className:"mt-4 p-3 bg-gray-800 rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-sm font-medium text-white",children:e==null?void 0:e.name}),a.jsx("span",{className:"px-2 py-1 bg-blue-600 text-xs rounded-full",children:e==null?void 0:e.role.level})]}),a.jsx("p",{className:"text-xs text-gray-400",children:e==null?void 0:e.role.name}),a.jsx("p",{className:"text-xs text-gray-500",children:c((e==null?void 0:e.role.name)||"")}),(e==null?void 0:e.zone)&&a.jsx("p",{className:"text-xs text-gray-400",children:e.zone}),(e==null?void 0:e.region)&&a.jsx("p",{className:"text-xs text-gray-400",children:e.region}),(e==null?void 0:e.district)&&a.jsx("p",{className:"text-xs text-gray-400",children:e.district})]}),a.jsx("div",{className:"mt-3 p-2 bg-green-900 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(cv,{className:"w-4 h-4 text-green-400"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-green-400",children:"RBAC Active"}),a.jsxs("p",{className:"text-xs text-green-300",children:[r.length," menu items"]})]})]})})]}),a.jsx("nav",{className:"flex-1 px-4 pb-4",children:a.jsx("ul",{className:"space-y-2",children:o.map(u=>a.jsx("li",{children:a.jsxs(M$,{to:u.to,className:({isActive:f})=>`flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ${f?"bg-blue-600 text-white":"text-gray-300 hover:bg-gray-800 hover:text-white"}`,children:[a.jsx(u.icon,{className:"w-5 h-5"}),a.jsx("span",{children:u.label})]})},u.to))})}),a.jsx("div",{className:"p-4 border-t border-gray-800",children:a.jsxs("button",{className:"flex items-center space-x-3 px-4 py-2 text-gray-300 hover:text-white hover:bg-gray-800 rounded-lg transition-colors w-full",children:[a.jsx(W3,{className:"w-5 h-5"}),a.jsx("span",{children:"Help & Support"})]})})]})}function Ce({children:e}){return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[a.jsx(G$,{}),a.jsxs("div",{className:"flex-1 flex flex-col",children:[a.jsx(K$,{}),a.jsx("main",{className:"flex-1 overflow-auto",children:e})]})]})}function U({children:e,className:t,padding:r="md",onClick:n}){const s={none:"",sm:"p-4",md:"p-6",lg:"p-8"};return a.jsx("div",{className:fv("bg-white rounded-lg border border-gray-200 shadow-sm",n&&"cursor-pointer hover:shadow-md transition-shadow",s[r],t),onClick:n,children:e})}function $u({title:e,value:t,icon:r,change:n,color:s="blue"}){const i={blue:"bg-blue-500",green:"bg-green-500",yellow:"bg-yellow-500",red:"bg-red-500"};return a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:e}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:t}),n&&a.jsxs("p",{className:`text-sm ${n.type==="increase"?"text-green-600":"text-red-600"}`,children:[n.type==="increase"?"+":"-",Math.abs(n.value),"% from last month"]})]}),a.jsx("div",{className:`p-3 rounded-full ${i[s]}`,children:a.jsx("div",{className:"text-white",children:r})})]})})}function Y$({activities:e}){const t=r=>{switch(r){case"test_completed":return a.jsx(mt,{className:"w-4 h-4 text-green-600"});case"user_created":return a.jsx(Ia,{className:"w-4 h-4 text-blue-600"});case"survey_created":return a.jsx(Vt,{className:"w-4 h-4 text-purple-600"});case"question_uploaded":return a.jsx(c4,{className:"w-4 h-4 text-orange-600"});default:return a.jsx(Ht,{className:"w-4 h-4 text-gray-600"})}};return a.jsxs(U,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Recent Activity"}),a.jsx("button",{className:"text-sm text-blue-600 hover:text-blue-700",children:"View All"})]}),a.jsx("div",{className:"space-y-4",children:e.length===0?a.jsx("p",{className:"text-gray-500 text-sm",children:"No recent activity"}):e.map(r=>a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:t(r.type)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm text-gray-900",children:r.description}),a.jsxs("p",{className:"text-xs text-gray-500",children:["by ",r.userName," • ",Ar(r.timestamp)]})]})]},r.id))})]})}var Q$=Array.isArray,mr=Q$,X$=typeof Wt=="object"&&Wt&&Wt.Object===Object&&Wt,E4=X$,Z$=E4,J$=typeof self=="object"&&self&&self.Object===Object&&self,eI=Z$||J$||Function("return this")(),Cn=eI,tI=Cn,rI=tI.Symbol,eu=rI,hw=eu,P4=Object.prototype,nI=P4.hasOwnProperty,sI=P4.toString,rl=hw?hw.toStringTag:void 0;function aI(e){var t=nI.call(e,rl),r=e[rl];try{e[rl]=void 0;var n=!0}catch{}var s=sI.call(e);return n&&(t?e[rl]=r:delete e[rl]),s}var iI=aI,oI=Object.prototype,lI=oI.toString;function cI(e){return lI.call(e)}var uI=cI,pw=eu,dI=iI,fI=uI,hI="[object Null]",pI="[object Undefined]",mw=pw?pw.toStringTag:void 0;function mI(e){return e==null?e===void 0?pI:hI:mw&&mw in Object(e)?dI(e):fI(e)}var is=mI;function gI(e){return e!=null&&typeof e=="object"}var os=gI,xI=is,vI=os,yI="[object Symbol]";function bI(e){return typeof e=="symbol"||vI(e)&&xI(e)==yI}var ko=bI,wI=mr,jI=ko,_I=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,NI=/^\w*$/;function SI(e,t){if(wI(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||jI(e)?!0:NI.test(e)||!_I.test(e)||t!=null&&e in Object(t)}var mv=SI;function OI(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ys=OI;const To=$e(Ys);var AI=is,EI=Ys,PI="[object AsyncFunction]",CI="[object Function]",kI="[object GeneratorFunction]",TI="[object Proxy]";function $I(e){if(!EI(e))return!1;var t=AI(e);return t==CI||t==kI||t==PI||t==TI}var gv=$I;const le=$e(gv);var II=Cn,RI=II["__core-js_shared__"],MI=RI,Xp=MI,gw=function(){var e=/[^.]+$/.exec(Xp&&Xp.keys&&Xp.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function DI(e){return!!gw&&gw in e}var LI=DI,FI=Function.prototype,UI=FI.toString;function BI(e){if(e!=null){try{return UI.call(e)}catch{}try{return e+""}catch{}}return""}var C4=BI,zI=gv,qI=LI,WI=Ys,HI=C4,KI=/[\\^$.*+?()[\]{}|]/g,VI=/^\[object .+?Constructor\]$/,GI=Function.prototype,YI=Object.prototype,QI=GI.toString,XI=YI.hasOwnProperty,ZI=RegExp("^"+QI.call(XI).replace(KI,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function JI(e){if(!WI(e)||qI(e))return!1;var t=zI(e)?ZI:VI;return t.test(HI(e))}var eR=JI;function tR(e,t){return e==null?void 0:e[t]}var rR=tR,nR=eR,sR=rR;function aR(e,t){var r=sR(e,t);return nR(r)?r:void 0}var Ha=aR,iR=Ha,oR=iR(Object,"create"),yh=oR,xw=yh;function lR(){this.__data__=xw?xw(null):{},this.size=0}var cR=lR;function uR(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var dR=uR,fR=yh,hR="__lodash_hash_undefined__",pR=Object.prototype,mR=pR.hasOwnProperty;function gR(e){var t=this.__data__;if(fR){var r=t[e];return r===hR?void 0:r}return mR.call(t,e)?t[e]:void 0}var xR=gR,vR=yh,yR=Object.prototype,bR=yR.hasOwnProperty;function wR(e){var t=this.__data__;return vR?t[e]!==void 0:bR.call(t,e)}var jR=wR,_R=yh,NR="__lodash_hash_undefined__";function SR(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=_R&&t===void 0?NR:t,this}var OR=SR,AR=cR,ER=dR,PR=xR,CR=jR,kR=OR;function $o(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}$o.prototype.clear=AR;$o.prototype.delete=ER;$o.prototype.get=PR;$o.prototype.has=CR;$o.prototype.set=kR;var TR=$o;function $R(){this.__data__=[],this.size=0}var IR=$R;function RR(e,t){return e===t||e!==e&&t!==t}var xv=RR,MR=xv;function DR(e,t){for(var r=e.length;r--;)if(MR(e[r][0],t))return r;return-1}var bh=DR,LR=bh,FR=Array.prototype,UR=FR.splice;function BR(e){var t=this.__data__,r=LR(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():UR.call(t,r,1),--this.size,!0}var zR=BR,qR=bh;function WR(e){var t=this.__data__,r=qR(t,e);return r<0?void 0:t[r][1]}var HR=WR,KR=bh;function VR(e){return KR(this.__data__,e)>-1}var GR=VR,YR=bh;function QR(e,t){var r=this.__data__,n=YR(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var XR=QR,ZR=IR,JR=zR,eM=HR,tM=GR,rM=XR;function Io(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Io.prototype.clear=ZR;Io.prototype.delete=JR;Io.prototype.get=eM;Io.prototype.has=tM;Io.prototype.set=rM;var wh=Io,nM=Ha,sM=Cn,aM=nM(sM,"Map"),vv=aM,vw=TR,iM=wh,oM=vv;function lM(){this.size=0,this.__data__={hash:new vw,map:new(oM||iM),string:new vw}}var cM=lM;function uM(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var dM=uM,fM=dM;function hM(e,t){var r=e.__data__;return fM(t)?r[typeof t=="string"?"string":"hash"]:r.map}var jh=hM,pM=jh;function mM(e){var t=pM(this,e).delete(e);return this.size-=t?1:0,t}var gM=mM,xM=jh;function vM(e){return xM(this,e).get(e)}var yM=vM,bM=jh;function wM(e){return bM(this,e).has(e)}var jM=wM,_M=jh;function NM(e,t){var r=_M(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var SM=NM,OM=cM,AM=gM,EM=yM,PM=jM,CM=SM;function Ro(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ro.prototype.clear=OM;Ro.prototype.delete=AM;Ro.prototype.get=EM;Ro.prototype.has=PM;Ro.prototype.set=CM;var yv=Ro,k4=yv,kM="Expected a function";function bv(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(kM);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],i=r.cache;if(i.has(s))return i.get(s);var o=e.apply(this,n);return r.cache=i.set(s,o)||i,o};return r.cache=new(bv.Cache||k4),r}bv.Cache=k4;var T4=bv;const TM=$e(T4);var $M=T4,IM=500;function RM(e){var t=$M(e,function(n){return r.size===IM&&r.clear(),n}),r=t.cache;return t}var MM=RM,DM=MM,LM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,FM=/\\(\\)?/g,UM=DM(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(LM,function(r,n,s,i){t.push(s?i.replace(FM,"$1"):n||r)}),t}),BM=UM;function zM(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var wv=zM,yw=eu,qM=wv,WM=mr,HM=ko,KM=1/0,bw=yw?yw.prototype:void 0,ww=bw?bw.toString:void 0;function $4(e){if(typeof e=="string")return e;if(WM(e))return qM(e,$4)+"";if(HM(e))return ww?ww.call(e):"";var t=e+"";return t=="0"&&1/e==-KM?"-0":t}var VM=$4,GM=VM;function YM(e){return e==null?"":GM(e)}var I4=YM,QM=mr,XM=mv,ZM=BM,JM=I4;function e8(e,t){return QM(e)?e:XM(e,t)?[e]:ZM(JM(e))}var R4=e8,t8=ko,r8=1/0;function n8(e){if(typeof e=="string"||t8(e))return e;var t=e+"";return t=="0"&&1/e==-r8?"-0":t}var _h=n8,s8=R4,a8=_h;function i8(e,t){t=s8(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[a8(t[r++])];return r&&r==n?e:void 0}var jv=i8,o8=jv;function l8(e,t,r){var n=e==null?void 0:o8(e,t);return n===void 0?r:n}var M4=l8;const Nr=$e(M4);function c8(e){return e==null}var u8=c8;const fe=$e(u8);var d8=is,f8=mr,h8=os,p8="[object String]";function m8(e){return typeof e=="string"||!f8(e)&&h8(e)&&d8(e)==p8}var g8=m8;const Ra=$e(g8);var D4={exports:{}},Ie={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v=Symbol.for("react.element"),Nv=Symbol.for("react.portal"),Nh=Symbol.for("react.fragment"),Sh=Symbol.for("react.strict_mode"),Oh=Symbol.for("react.profiler"),Ah=Symbol.for("react.provider"),Eh=Symbol.for("react.context"),x8=Symbol.for("react.server_context"),Ph=Symbol.for("react.forward_ref"),Ch=Symbol.for("react.suspense"),kh=Symbol.for("react.suspense_list"),Th=Symbol.for("react.memo"),$h=Symbol.for("react.lazy"),v8=Symbol.for("react.offscreen"),L4;L4=Symbol.for("react.module.reference");function Yr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case _v:switch(e=e.type,e){case Nh:case Oh:case Sh:case Ch:case kh:return e;default:switch(e=e&&e.$$typeof,e){case x8:case Eh:case Ph:case $h:case Th:case Ah:return e;default:return t}}case Nv:return t}}}Ie.ContextConsumer=Eh;Ie.ContextProvider=Ah;Ie.Element=_v;Ie.ForwardRef=Ph;Ie.Fragment=Nh;Ie.Lazy=$h;Ie.Memo=Th;Ie.Portal=Nv;Ie.Profiler=Oh;Ie.StrictMode=Sh;Ie.Suspense=Ch;Ie.SuspenseList=kh;Ie.isAsyncMode=function(){return!1};Ie.isConcurrentMode=function(){return!1};Ie.isContextConsumer=function(e){return Yr(e)===Eh};Ie.isContextProvider=function(e){return Yr(e)===Ah};Ie.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===_v};Ie.isForwardRef=function(e){return Yr(e)===Ph};Ie.isFragment=function(e){return Yr(e)===Nh};Ie.isLazy=function(e){return Yr(e)===$h};Ie.isMemo=function(e){return Yr(e)===Th};Ie.isPortal=function(e){return Yr(e)===Nv};Ie.isProfiler=function(e){return Yr(e)===Oh};Ie.isStrictMode=function(e){return Yr(e)===Sh};Ie.isSuspense=function(e){return Yr(e)===Ch};Ie.isSuspenseList=function(e){return Yr(e)===kh};Ie.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Nh||e===Oh||e===Sh||e===Ch||e===kh||e===v8||typeof e=="object"&&e!==null&&(e.$$typeof===$h||e.$$typeof===Th||e.$$typeof===Ah||e.$$typeof===Eh||e.$$typeof===Ph||e.$$typeof===L4||e.getModuleId!==void 0)};Ie.typeOf=Yr;D4.exports=Ie;var y8=D4.exports,b8=is,w8=os,j8="[object Number]";function _8(e){return typeof e=="number"||w8(e)&&b8(e)==j8}var F4=_8;const N8=$e(F4);var S8=F4;function O8(e){return S8(e)&&e!=+e}var A8=O8;const tu=$e(A8);var Zt=function(t){return t===0?0:t>0?1:-1},ga=function(t){return Ra(t)&&t.indexOf("%")===t.length-1},V=function(t){return N8(t)&&!tu(t)},E8=function(t){return fe(t)},jt=function(t){return V(t)||Ra(t)},P8=0,Mo=function(t){var r=++P8;return"".concat(t||"").concat(r)},Jt=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!V(t)&&!Ra(t))return n;var i;if(ga(t)){var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return tu(i)&&(i=n),s&&i>r&&(i=r),i},_s=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},C8=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},s=0;s<r;s++)if(!n[t[s]])n[t[s]]=!0;else return!0;return!1},br=function(t,r){return V(t)&&V(r)?function(n){return t+n*(r-t)}:function(){return r}};function Wd(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Nr(n,t))===r})}var k8=function(t,r){return V(t)&&V(r)?t-r:Ra(t)&&Ra(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function Ri(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function $0(e){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$0(e)}var T8=["viewBox","children"],$8=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],jw=["points","pathLength"],Zp={svg:T8,polygon:jw,polyline:jw},Sv=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Hd=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(O.isValidElement(t)&&(n=t.props),!To(n))return null;var s={};return Object.keys(n).forEach(function(i){Sv.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},I8=function(t,r,n){return function(s){return t(r,n,s),null}},Ma=function(t,r,n){if(!To(t)||$0(t)!=="object")return null;var s=null;return Object.keys(t).forEach(function(i){var o=t[i];Sv.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=I8(o,r,n))}),s},R8=["children"],M8=["children"];function _w(e,t){if(e==null)return{};var r=D8(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function D8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function I0(e){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I0(e)}var Nw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Vn=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},Sw=null,Jp=null,Ov=function e(t){if(t===Sw&&Array.isArray(Jp))return Jp;var r=[];return O.Children.forEach(t,function(n){fe(n)||(y8.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),Jp=r,Sw=t,r};function Sr(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(s){return Vn(s)}):n=[Vn(t)],Ov(e).forEach(function(s){var i=Nr(s,"type.displayName")||Nr(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function yr(e,t){var r=Sr(e,t);return r&&r[0]}var Ow=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,s=r.height;return!(!V(n)||n<=0||!V(s)||s<=0)},L8=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],F8=function(t){return t&&t.type&&Ra(t.type)&&L8.indexOf(t.type)>=0},U8=function(t){return t&&I0(t)==="object"&&"clipDot"in t},B8=function(t,r,n,s){var i,o=(i=Zp==null?void 0:Zp[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!le(t)&&(s&&o.includes(r)||$8.includes(r))||n&&Sv.includes(r)},ie=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var s=t;if(O.isValidElement(t)&&(s=t.props),!To(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;B8((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},R0=function e(t,r){if(t===r)return!0;var n=O.Children.count(t);if(n!==O.Children.count(r))return!1;if(n===0)return!0;if(n===1)return Aw(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=t[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!e(i,o))return!1}else if(!Aw(i,o))return!1}return!0},Aw=function(t,r){if(fe(t)&&fe(r))return!0;if(!fe(t)&&!fe(r)){var n=t.props||{},s=n.children,i=_w(n,R8),o=r.props||{},l=o.children,c=_w(o,M8);return s&&l?Ri(i,c)&&R0(s,l):!s&&!l?Ri(i,c):!1}return!1},Ew=function(t,r){var n=[],s={};return Ov(t).forEach(function(i,o){if(F8(i))n.push(i);else if(i){var l=Vn(i.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!s[l])){var d=u(i,l,o);n.push(d),s[l]=!0}}}),n},z8=function(t){var r=t&&t.type;return r&&Nw[r]?Nw[r]:null},q8=function(t,r){return Ov(r).indexOf(t)},W8=["children","width","height","viewBox","className","style","title","desc"];function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M0.apply(this,arguments)}function H8(e,t){if(e==null)return{};var r=K8(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function K8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function D0(e){var t=e.children,r=e.width,n=e.height,s=e.viewBox,i=e.className,o=e.style,l=e.title,c=e.desc,u=H8(e,W8),f=s||{width:r,height:n,x:0,y:0},d=me("recharts-surface",i);return I.createElement("svg",M0({},ie(u,!0,"svg"),{className:d,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),I.createElement("title",null,l),I.createElement("desc",null,c),t)}var V8=["children","className"];function L0(){return L0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},L0.apply(this,arguments)}function G8(e,t){if(e==null)return{};var r=Y8(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Y8(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Se=I.forwardRef(function(e,t){var r=e.children,n=e.className,s=G8(e,V8),i=me("recharts-layer",n);return I.createElement("g",L0({className:i},ie(s,!0),{ref:t}),r)}),hn=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]};function Q8(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(s);++n<s;)i[n]=e[n+t];return i}var X8=Q8,Z8=X8;function J8(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:Z8(e,t,r)}var eD=J8,tD="\\ud800-\\udfff",rD="\\u0300-\\u036f",nD="\\ufe20-\\ufe2f",sD="\\u20d0-\\u20ff",aD=rD+nD+sD,iD="\\ufe0e\\ufe0f",oD="\\u200d",lD=RegExp("["+oD+tD+aD+iD+"]");function cD(e){return lD.test(e)}var U4=cD;function uD(e){return e.split("")}var dD=uD,B4="\\ud800-\\udfff",fD="\\u0300-\\u036f",hD="\\ufe20-\\ufe2f",pD="\\u20d0-\\u20ff",mD=fD+hD+pD,gD="\\ufe0e\\ufe0f",xD="["+B4+"]",F0="["+mD+"]",U0="\\ud83c[\\udffb-\\udfff]",vD="(?:"+F0+"|"+U0+")",z4="[^"+B4+"]",q4="(?:\\ud83c[\\udde6-\\uddff]){2}",W4="[\\ud800-\\udbff][\\udc00-\\udfff]",yD="\\u200d",H4=vD+"?",K4="["+gD+"]?",bD="(?:"+yD+"(?:"+[z4,q4,W4].join("|")+")"+K4+H4+")*",wD=K4+H4+bD,jD="(?:"+[z4+F0+"?",F0,q4,W4,xD].join("|")+")",_D=RegExp(U0+"(?="+U0+")|"+jD+wD,"g");function ND(e){return e.match(_D)||[]}var SD=ND,OD=dD,AD=U4,ED=SD;function PD(e){return AD(e)?ED(e):OD(e)}var CD=PD,kD=eD,TD=U4,$D=CD,ID=I4;function RD(e){return function(t){t=ID(t);var r=TD(t)?$D(t):void 0,n=r?r[0]:t.charAt(0),s=r?kD(r,1).join(""):t.slice(1);return n[e]()+s}}var MD=RD,DD=MD,LD=DD("toUpperCase"),FD=LD;const Ih=$e(FD);function ze(e){return function(){return e}}const V4=Math.cos,Kd=Math.sin,mn=Math.sqrt,Vd=Math.PI,Rh=2*Vd,B0=Math.PI,z0=2*B0,la=1e-6,UD=z0-la;function G4(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function BD(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return G4;const r=10**t;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class zD{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?G4:BD(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,i,o){this._append`C${+t},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,s,i){if(t=+t,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-t,u=s-r,f=o-t,d=l-r,h=f*f+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>la)if(!(Math.abs(d*c-u*f)>la)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let p=n-o,v=s-l,b=c*c+u*u,w=p*p+v*v,j=Math.sqrt(b),x=Math.sqrt(h),m=i*Math.tan((B0-Math.acos((b+h-w)/(2*j*x)))/2),_=m/x,g=m/j;Math.abs(_-1)>la&&this._append`L${t+_*f},${r+_*d}`,this._append`A${i},${i},0,0,${+(d*p>f*v)},${this._x1=t+g*c},${this._y1=r+g*u}`}}arc(t,r,n,s,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),u=t+l,f=r+c,d=1^o,h=o?s-i:i-s;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>la||Math.abs(this._y1-f)>la)&&this._append`L${u},${f}`,n&&(h<0&&(h=h%z0+z0),h>UD?this._append`A${n},${n},0,1,${d},${t-l},${r-c}A${n},${n},0,1,${d},${this._x1=u},${this._y1=f}`:h>la&&this._append`A${n},${n},0,${+(h>=B0)},${d},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Av(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new zD(t)}function Ev(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Y4(e){this._context=e}Y4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Mh(e){return new Y4(e)}function Q4(e){return e[0]}function X4(e){return e[1]}function Z4(e,t){var r=ze(!0),n=null,s=Mh,i=null,o=Av(l);e=typeof e=="function"?e:e===void 0?Q4:ze(e),t=typeof t=="function"?t:t===void 0?X4:ze(t);function l(c){var u,f=(c=Ev(c)).length,d,h=!1,p;for(n==null&&(i=s(p=o())),u=0;u<=f;++u)!(u<f&&r(d=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(d,u,c),+t(d,u,c));if(p)return i=null,p+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:ze(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:ze(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:ze(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Iu(e,t,r){var n=null,s=ze(!0),i=null,o=Mh,l=null,c=Av(u);e=typeof e=="function"?e:e===void 0?Q4:ze(+e),t=typeof t=="function"?t:ze(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?X4:ze(+r);function u(d){var h,p,v,b=(d=Ev(d)).length,w,j=!1,x,m=new Array(b),_=new Array(b);for(i==null&&(l=o(x=c())),h=0;h<=b;++h){if(!(h<b&&s(w=d[h],h,d))===j)if(j=!j)p=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=h-1;v>=p;--v)l.point(m[v],_[v]);l.lineEnd(),l.areaEnd()}j&&(m[h]=+e(w,h,d),_[h]=+t(w,h,d),l.point(n?+n(w,h,d):m[h],r?+r(w,h,d):_[h]))}if(x)return l=null,x+""||null}function f(){return Z4().defined(s).curve(o).context(i)}return u.x=function(d){return arguments.length?(e=typeof d=="function"?d:ze(+d),n=null,u):e},u.x0=function(d){return arguments.length?(e=typeof d=="function"?d:ze(+d),u):e},u.x1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:ze(+d),u):n},u.y=function(d){return arguments.length?(t=typeof d=="function"?d:ze(+d),r=null,u):t},u.y0=function(d){return arguments.length?(t=typeof d=="function"?d:ze(+d),u):t},u.y1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:ze(+d),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(d){return arguments.length?(s=typeof d=="function"?d:ze(!!d),u):s},u.curve=function(d){return arguments.length?(o=d,i!=null&&(l=o(i)),u):o},u.context=function(d){return arguments.length?(d==null?i=l=null:l=o(i=d),u):i},u}class J4{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function qD(e){return new J4(e,!0)}function WD(e){return new J4(e,!1)}const Pv={draw(e,t){const r=mn(t/Vd);e.moveTo(r,0),e.arc(0,0,r,0,Rh)}},HD={draw(e,t){const r=mn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},eO=mn(1/3),KD=eO*2,VD={draw(e,t){const r=mn(t/KD),n=r*eO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},GD={draw(e,t){const r=mn(t),n=-r/2;e.rect(n,n,r,r)}},YD=.8908130915292852,tO=Kd(Vd/10)/Kd(7*Vd/10),QD=Kd(Rh/10)*tO,XD=-V4(Rh/10)*tO,ZD={draw(e,t){const r=mn(t*YD),n=QD*r,s=XD*r;e.moveTo(0,-r),e.lineTo(n,s);for(let i=1;i<5;++i){const o=Rh*i/5,l=V4(o),c=Kd(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*s,c*n+l*s)}e.closePath()}},em=mn(3),JD={draw(e,t){const r=-mn(t/(em*3));e.moveTo(0,r*2),e.lineTo(-em*r,-r),e.lineTo(em*r,-r),e.closePath()}},Tr=-.5,$r=mn(3)/2,q0=1/mn(12),eL=(q0/2+1)*3,tL={draw(e,t){const r=mn(t/eL),n=r/2,s=r*q0,i=n,o=r*q0+r,l=-i,c=o;e.moveTo(n,s),e.lineTo(i,o),e.lineTo(l,c),e.lineTo(Tr*n-$r*s,$r*n+Tr*s),e.lineTo(Tr*i-$r*o,$r*i+Tr*o),e.lineTo(Tr*l-$r*c,$r*l+Tr*c),e.lineTo(Tr*n+$r*s,Tr*s-$r*n),e.lineTo(Tr*i+$r*o,Tr*o-$r*i),e.lineTo(Tr*l+$r*c,Tr*c-$r*l),e.closePath()}};function rL(e,t){let r=null,n=Av(s);e=typeof e=="function"?e:ze(e||Pv),t=typeof t=="function"?t:ze(t===void 0?64:+t);function s(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(e=typeof i=="function"?i:ze(i),s):e},s.size=function(i){return arguments.length?(t=typeof i=="function"?i:ze(+i),s):t},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Gd(){}function Yd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function rO(e){this._context=e}rO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Yd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Yd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nL(e){return new rO(e)}function nO(e){this._context=e}nO.prototype={areaStart:Gd,areaEnd:Gd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Yd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function sL(e){return new nO(e)}function sO(e){this._context=e}sO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Yd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function aL(e){return new sO(e)}function aO(e){this._context=e}aO.prototype={areaStart:Gd,areaEnd:Gd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function iL(e){return new aO(e)}function Pw(e){return e<0?-1:1}function Cw(e,t,r){var n=e._x1-e._x0,s=t-e._x1,i=(e._y1-e._y0)/(n||s<0&&-0),o=(r-e._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(Pw(i)+Pw(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function kw(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function tm(e,t,r){var n=e._x0,s=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,s+l*t,i-l,o-l*r,i,o)}function Qd(e){this._context=e}Qd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tm(this,this._t0,kw(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,tm(this,kw(this,r=Cw(this,e,t)),r);break;default:tm(this,this._t0,r=Cw(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function iO(e){this._context=new oO(e)}(iO.prototype=Object.create(Qd.prototype)).point=function(e,t){Qd.prototype.point.call(this,t,e)};function oO(e){this._context=e}oO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,i){this._context.bezierCurveTo(t,e,n,r,i,s)}};function oL(e){return new Qd(e)}function lL(e){return new iO(e)}function lO(e){this._context=e}lO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Tw(e),s=Tw(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Tw(e){var t,r=e.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(s[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)s[t]=(o[t]-s[t+1])/i[t];for(i[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-s[t+1];return[s,i]}function cL(e){return new lO(e)}function Dh(e,t){this._context=e,this._t=t}Dh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function uL(e){return new Dh(e,.5)}function dL(e){return new Dh(e,0)}function fL(e){return new Dh(e,1)}function Qi(e,t){if((o=e.length)>1)for(var r=1,n,s,i=e[t[0]],o,l=i.length;r<o;++r)for(s=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function W0(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function hL(e,t){return e[t]}function pL(e){const t=[];return t.key=e,t}function mL(){var e=ze([]),t=W0,r=Qi,n=hL;function s(i){var o=Array.from(e.apply(this,arguments),pL),l,c=o.length,u=-1,f;for(const d of i)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(d,o[l].key,u,i)]).data=d;for(l=0,f=Ev(t(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return s.keys=function(i){return arguments.length?(e=typeof i=="function"?i:ze(Array.from(i)),s):e},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:ze(+i),s):n},s.order=function(i){return arguments.length?(t=i==null?W0:typeof i=="function"?i:ze(Array.from(i)),s):t},s.offset=function(i){return arguments.length?(r=i??Qi,s):r},s}function gL(e,t){if((n=e.length)>0){for(var r,n,s=0,i=e[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=e[r][s][1]||0;if(o)for(r=0;r<n;++r)e[r][s][1]/=o}Qi(e,t)}}function xL(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Qi(e,t)}}function vL(e,t){if(!(!((o=e.length)>0)||!((i=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,u=0;l<o;++l){for(var f=e[t[l]],d=f[n][1]||0,h=f[n-1][1]||0,p=(d-h)/2,v=0;v<l;++v){var b=e[t[v]],w=b[n][1]||0,j=b[n-1][1]||0;p+=w-j}c+=d,u+=p*d}s[n-1][1]+=s[n-1][0]=r,c&&(r-=u/c)}s[n-1][1]+=s[n-1][0]=r,Qi(e,t)}}function lc(e){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lc(e)}var yL=["type","size","sizeType"];function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},H0.apply(this,arguments)}function $w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Iw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$w(Object(r),!0).forEach(function(n){bL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$w(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bL(e,t,r){return t=wL(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wL(e){var t=jL(e,"string");return lc(t)=="symbol"?t:t+""}function jL(e,t){if(lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _L(e,t){if(e==null)return{};var r=NL(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NL(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var cO={symbolCircle:Pv,symbolCross:HD,symbolDiamond:VD,symbolSquare:GD,symbolStar:ZD,symbolTriangle:JD,symbolWye:tL},SL=Math.PI/180,OL=function(t){var r="symbol".concat(Ih(t));return cO[r]||Pv},AL=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var s=18*SL;return 1.25*t*t*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},EL=function(t,r){cO["symbol".concat(Ih(t))]=r},Cv=function(t){var r=t.type,n=r===void 0?"circle":r,s=t.size,i=s===void 0?64:s,o=t.sizeType,l=o===void 0?"area":o,c=_L(t,yL),u=Iw(Iw({},c),{},{type:n,size:i,sizeType:l}),f=function(){var w=OL(n),j=rL().type(w).size(AL(i,l,n));return j()},d=u.className,h=u.cx,p=u.cy,v=ie(u,!0);return h===+h&&p===+p&&i===+i?I.createElement("path",H0({},v,{className:me("recharts-symbols",d),transform:"translate(".concat(h,", ").concat(p,")"),d:f()})):null};Cv.registerSymbol=EL;function Xi(e){"@babel/helpers - typeof";return Xi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xi(e)}function K0(){return K0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K0.apply(this,arguments)}function Rw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function PL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rw(Object(r),!0).forEach(function(n){cc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kL(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dO(n.key),n)}}function TL(e,t,r){return t&&kL(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function $L(e,t,r){return t=Xd(t),IL(e,uO()?Reflect.construct(t,r||[],Xd(e).constructor):t.apply(e,r))}function IL(e,t){if(t&&(Xi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RL(e)}function RL(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uO=function(){return!!e})()}function Xd(e){return Xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xd(e)}function ML(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V0(e,t)}function V0(e,t){return V0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},V0(e,t)}function cc(e,t,r){return t=dO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dO(e){var t=DL(e,"string");return Xi(t)=="symbol"?t:t+""}function DL(e,t){if(Xi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Xi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ir=32,kv=function(e){function t(){return CL(this,t),$L(this,t,arguments)}return ML(t,e),TL(t,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=Ir/2,o=Ir/6,l=Ir/3,c=n.inactive?s:n.color;if(n.type==="plainline")return I.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Ir,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return I.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Ir,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return I.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ir/8,"h").concat(Ir,"v").concat(Ir*3/4,"h").concat(-Ir,"z"),className:"recharts-legend-icon"});if(I.isValidElement(n.legendIcon)){var u=PL({},n);return delete u.legendIcon,I.cloneElement(n.legendIcon,u)}return I.createElement(Cv,{fill:c,cx:i,cy:i,size:Ir,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,u=s.inactiveColor,f={x:0,y:0,width:Ir,height:Ir},d={display:l==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(p,v){var b=p.formatter||c,w=me(cc(cc({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var j=le(p.value)?null:p.value;hn(!le(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var x=p.inactive?u:p.color;return I.createElement("li",K0({className:w,style:d,key:"legend-item-".concat(v)},Ma(n.props,p,v)),I.createElement(D0,{width:o,height:o,viewBox:f,style:h},n.renderIcon(p)),I.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},b?b(j,p,v):j))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return I.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(O.PureComponent);cc(kv,"displayName","Legend");cc(kv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var LL=wh;function FL(){this.__data__=new LL,this.size=0}var UL=FL;function BL(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var zL=BL;function qL(e){return this.__data__.get(e)}var WL=qL;function HL(e){return this.__data__.has(e)}var KL=HL,VL=wh,GL=vv,YL=yv,QL=200;function XL(e,t){var r=this.__data__;if(r instanceof VL){var n=r.__data__;if(!GL||n.length<QL-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new YL(n)}return r.set(e,t),this.size=r.size,this}var ZL=XL,JL=wh,e9=UL,t9=zL,r9=WL,n9=KL,s9=ZL;function Do(e){var t=this.__data__=new JL(e);this.size=t.size}Do.prototype.clear=e9;Do.prototype.delete=t9;Do.prototype.get=r9;Do.prototype.has=n9;Do.prototype.set=s9;var fO=Do,a9="__lodash_hash_undefined__";function i9(e){return this.__data__.set(e,a9),this}var o9=i9;function l9(e){return this.__data__.has(e)}var c9=l9,u9=yv,d9=o9,f9=c9;function Zd(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new u9;++t<r;)this.add(e[t])}Zd.prototype.add=Zd.prototype.push=d9;Zd.prototype.has=f9;var hO=Zd;function h9(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var pO=h9;function p9(e,t){return e.has(t)}var mO=p9,m9=hO,g9=pO,x9=mO,v9=1,y9=2;function b9(e,t,r,n,s,i){var o=r&v9,l=e.length,c=t.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(e),f=i.get(t);if(u&&f)return u==t&&f==e;var d=-1,h=!0,p=r&y9?new m9:void 0;for(i.set(e,t),i.set(t,e);++d<l;){var v=e[d],b=t[d];if(n)var w=o?n(b,v,d,t,e,i):n(v,b,d,e,t,i);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!g9(t,function(j,x){if(!x9(p,x)&&(v===j||s(v,j,r,n,i)))return p.push(x)})){h=!1;break}}else if(!(v===b||s(v,b,r,n,i))){h=!1;break}}return i.delete(e),i.delete(t),h}var gO=b9,w9=Cn,j9=w9.Uint8Array,_9=j9;function N9(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var S9=N9;function O9(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Tv=O9,Mw=eu,Dw=_9,A9=xv,E9=gO,P9=S9,C9=Tv,k9=1,T9=2,$9="[object Boolean]",I9="[object Date]",R9="[object Error]",M9="[object Map]",D9="[object Number]",L9="[object RegExp]",F9="[object Set]",U9="[object String]",B9="[object Symbol]",z9="[object ArrayBuffer]",q9="[object DataView]",Lw=Mw?Mw.prototype:void 0,rm=Lw?Lw.valueOf:void 0;function W9(e,t,r,n,s,i,o){switch(r){case q9:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case z9:return!(e.byteLength!=t.byteLength||!i(new Dw(e),new Dw(t)));case $9:case I9:case D9:return A9(+e,+t);case R9:return e.name==t.name&&e.message==t.message;case L9:case U9:return e==t+"";case M9:var l=P9;case F9:var c=n&k9;if(l||(l=C9),e.size!=t.size&&!c)return!1;var u=o.get(e);if(u)return u==t;n|=T9,o.set(e,t);var f=E9(l(e),l(t),n,s,i,o);return o.delete(e),f;case B9:if(rm)return rm.call(e)==rm.call(t)}return!1}var H9=W9;function K9(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var xO=K9,V9=xO,G9=mr;function Y9(e,t,r){var n=t(e);return G9(e)?n:V9(n,r(e))}var Q9=Y9;function X9(e,t){for(var r=-1,n=e==null?0:e.length,s=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[s++]=o)}return i}var Z9=X9;function J9(){return[]}var e7=J9,t7=Z9,r7=e7,n7=Object.prototype,s7=n7.propertyIsEnumerable,Fw=Object.getOwnPropertySymbols,a7=Fw?function(e){return e==null?[]:(e=Object(e),t7(Fw(e),function(t){return s7.call(e,t)}))}:r7,i7=a7;function o7(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var l7=o7,c7=is,u7=os,d7="[object Arguments]";function f7(e){return u7(e)&&c7(e)==d7}var h7=f7,Uw=h7,p7=os,vO=Object.prototype,m7=vO.hasOwnProperty,g7=vO.propertyIsEnumerable,x7=Uw(function(){return arguments}())?Uw:function(e){return p7(e)&&m7.call(e,"callee")&&!g7.call(e,"callee")},$v=x7,Jd={exports:{}};function v7(){return!1}var y7=v7;Jd.exports;(function(e,t){var r=Cn,n=y7,s=t&&!t.nodeType&&t,i=s&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(Jd,Jd.exports);var yO=Jd.exports,b7=9007199254740991,w7=/^(?:0|[1-9]\d*)$/;function j7(e,t){var r=typeof e;return t=t??b7,!!t&&(r=="number"||r!="symbol"&&w7.test(e))&&e>-1&&e%1==0&&e<t}var Iv=j7,_7=9007199254740991;function N7(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=_7}var Rv=N7,S7=is,O7=Rv,A7=os,E7="[object Arguments]",P7="[object Array]",C7="[object Boolean]",k7="[object Date]",T7="[object Error]",$7="[object Function]",I7="[object Map]",R7="[object Number]",M7="[object Object]",D7="[object RegExp]",L7="[object Set]",F7="[object String]",U7="[object WeakMap]",B7="[object ArrayBuffer]",z7="[object DataView]",q7="[object Float32Array]",W7="[object Float64Array]",H7="[object Int8Array]",K7="[object Int16Array]",V7="[object Int32Array]",G7="[object Uint8Array]",Y7="[object Uint8ClampedArray]",Q7="[object Uint16Array]",X7="[object Uint32Array]",Qe={};Qe[q7]=Qe[W7]=Qe[H7]=Qe[K7]=Qe[V7]=Qe[G7]=Qe[Y7]=Qe[Q7]=Qe[X7]=!0;Qe[E7]=Qe[P7]=Qe[B7]=Qe[C7]=Qe[z7]=Qe[k7]=Qe[T7]=Qe[$7]=Qe[I7]=Qe[R7]=Qe[M7]=Qe[D7]=Qe[L7]=Qe[F7]=Qe[U7]=!1;function Z7(e){return A7(e)&&O7(e.length)&&!!Qe[S7(e)]}var J7=Z7;function eF(e){return function(t){return e(t)}}var bO=eF,ef={exports:{}};ef.exports;(function(e,t){var r=E4,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,i=s&&s.exports===n,o=i&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l})(ef,ef.exports);var tF=ef.exports,rF=J7,nF=bO,Bw=tF,zw=Bw&&Bw.isTypedArray,sF=zw?nF(zw):rF,wO=sF,aF=l7,iF=$v,oF=mr,lF=yO,cF=Iv,uF=wO,dF=Object.prototype,fF=dF.hasOwnProperty;function hF(e,t){var r=oF(e),n=!r&&iF(e),s=!r&&!n&&lF(e),i=!r&&!n&&!s&&uF(e),o=r||n||s||i,l=o?aF(e.length,String):[],c=l.length;for(var u in e)(t||fF.call(e,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||cF(u,c)))&&l.push(u);return l}var pF=hF,mF=Object.prototype;function gF(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||mF;return e===r}var xF=gF;function vF(e,t){return function(r){return e(t(r))}}var jO=vF,yF=jO,bF=yF(Object.keys,Object),wF=bF,jF=xF,_F=wF,NF=Object.prototype,SF=NF.hasOwnProperty;function OF(e){if(!jF(e))return _F(e);var t=[];for(var r in Object(e))SF.call(e,r)&&r!="constructor"&&t.push(r);return t}var AF=OF,EF=gv,PF=Rv;function CF(e){return e!=null&&PF(e.length)&&!EF(e)}var ru=CF,kF=pF,TF=AF,$F=ru;function IF(e){return $F(e)?kF(e):TF(e)}var Lh=IF,RF=Q9,MF=i7,DF=Lh;function LF(e){return RF(e,DF,MF)}var FF=LF,qw=FF,UF=1,BF=Object.prototype,zF=BF.hasOwnProperty;function qF(e,t,r,n,s,i){var o=r&UF,l=qw(e),c=l.length,u=qw(t),f=u.length;if(c!=f&&!o)return!1;for(var d=c;d--;){var h=l[d];if(!(o?h in t:zF.call(t,h)))return!1}var p=i.get(e),v=i.get(t);if(p&&v)return p==t&&v==e;var b=!0;i.set(e,t),i.set(t,e);for(var w=o;++d<c;){h=l[d];var j=e[h],x=t[h];if(n)var m=o?n(x,j,h,t,e,i):n(j,x,h,e,t,i);if(!(m===void 0?j===x||s(j,x,r,n,i):m)){b=!1;break}w||(w=h=="constructor")}if(b&&!w){var _=e.constructor,g=t.constructor;_!=g&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof g=="function"&&g instanceof g)&&(b=!1)}return i.delete(e),i.delete(t),b}var WF=qF,HF=Ha,KF=Cn,VF=HF(KF,"DataView"),GF=VF,YF=Ha,QF=Cn,XF=YF(QF,"Promise"),ZF=XF,JF=Ha,eU=Cn,tU=JF(eU,"Set"),_O=tU,rU=Ha,nU=Cn,sU=rU(nU,"WeakMap"),aU=sU,G0=GF,Y0=vv,Q0=ZF,X0=_O,Z0=aU,NO=is,Lo=C4,Ww="[object Map]",iU="[object Object]",Hw="[object Promise]",Kw="[object Set]",Vw="[object WeakMap]",Gw="[object DataView]",oU=Lo(G0),lU=Lo(Y0),cU=Lo(Q0),uU=Lo(X0),dU=Lo(Z0),ca=NO;(G0&&ca(new G0(new ArrayBuffer(1)))!=Gw||Y0&&ca(new Y0)!=Ww||Q0&&ca(Q0.resolve())!=Hw||X0&&ca(new X0)!=Kw||Z0&&ca(new Z0)!=Vw)&&(ca=function(e){var t=NO(e),r=t==iU?e.constructor:void 0,n=r?Lo(r):"";if(n)switch(n){case oU:return Gw;case lU:return Ww;case cU:return Hw;case uU:return Kw;case dU:return Vw}return t});var fU=ca,nm=fO,hU=gO,pU=H9,mU=WF,Yw=fU,Qw=mr,Xw=yO,gU=wO,xU=1,Zw="[object Arguments]",Jw="[object Array]",Ru="[object Object]",vU=Object.prototype,e1=vU.hasOwnProperty;function yU(e,t,r,n,s,i){var o=Qw(e),l=Qw(t),c=o?Jw:Yw(e),u=l?Jw:Yw(t);c=c==Zw?Ru:c,u=u==Zw?Ru:u;var f=c==Ru,d=u==Ru,h=c==u;if(h&&Xw(e)){if(!Xw(t))return!1;o=!0,f=!1}if(h&&!f)return i||(i=new nm),o||gU(e)?hU(e,t,r,n,s,i):pU(e,t,c,r,n,s,i);if(!(r&xU)){var p=f&&e1.call(e,"__wrapped__"),v=d&&e1.call(t,"__wrapped__");if(p||v){var b=p?e.value():e,w=v?t.value():t;return i||(i=new nm),s(b,w,r,n,i)}}return h?(i||(i=new nm),mU(e,t,r,n,s,i)):!1}var bU=yU,wU=bU,t1=os;function SO(e,t,r,n,s){return e===t?!0:e==null||t==null||!t1(e)&&!t1(t)?e!==e&&t!==t:wU(e,t,r,n,SO,s)}var Mv=SO,jU=fO,_U=Mv,NU=1,SU=2;function OU(e,t,r,n){var s=r.length,i=s,o=!n;if(e==null)return!i;for(e=Object(e);s--;){var l=r[s];if(o&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<i;){l=r[s];var c=l[0],u=e[c],f=l[1];if(o&&l[2]){if(u===void 0&&!(c in e))return!1}else{var d=new jU;if(n)var h=n(u,f,c,e,t,d);if(!(h===void 0?_U(f,u,NU|SU,n,d):h))return!1}}return!0}var AU=OU,EU=Ys;function PU(e){return e===e&&!EU(e)}var OO=PU,CU=OO,kU=Lh;function TU(e){for(var t=kU(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,CU(s)]}return t}var $U=TU;function IU(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var AO=IU,RU=AU,MU=$U,DU=AO;function LU(e){var t=MU(e);return t.length==1&&t[0][2]?DU(t[0][0],t[0][1]):function(r){return r===e||RU(r,e,t)}}var FU=LU;function UU(e,t){return e!=null&&t in Object(e)}var BU=UU,zU=R4,qU=$v,WU=mr,HU=Iv,KU=Rv,VU=_h;function GU(e,t,r){t=zU(t,e);for(var n=-1,s=t.length,i=!1;++n<s;){var o=VU(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=s?i:(s=e==null?0:e.length,!!s&&KU(s)&&HU(o,s)&&(WU(e)||qU(e)))}var YU=GU,QU=BU,XU=YU;function ZU(e,t){return e!=null&&XU(e,t,QU)}var JU=ZU,eB=Mv,tB=M4,rB=JU,nB=mv,sB=OO,aB=AO,iB=_h,oB=1,lB=2;function cB(e,t){return nB(e)&&sB(t)?aB(iB(e),t):function(r){var n=tB(r,e);return n===void 0&&n===t?rB(r,e):eB(t,n,oB|lB)}}var uB=cB;function dB(e){return e}var Fo=dB;function fB(e){return function(t){return t==null?void 0:t[e]}}var hB=fB,pB=jv;function mB(e){return function(t){return pB(t,e)}}var gB=mB,xB=hB,vB=gB,yB=mv,bB=_h;function wB(e){return yB(e)?xB(bB(e)):vB(e)}var jB=wB,_B=FU,NB=uB,SB=Fo,OB=mr,AB=jB;function EB(e){return typeof e=="function"?e:e==null?SB:typeof e=="object"?OB(e)?NB(e[0],e[1]):_B(e):AB(e)}var kn=EB;function PB(e,t,r,n){for(var s=e.length,i=r+(n?1:-1);n?i--:++i<s;)if(t(e[i],i,e))return i;return-1}var EO=PB;function CB(e){return e!==e}var kB=CB;function TB(e,t,r){for(var n=r-1,s=e.length;++n<s;)if(e[n]===t)return n;return-1}var $B=TB,IB=EO,RB=kB,MB=$B;function DB(e,t,r){return t===t?MB(e,t,r):IB(e,RB,r)}var LB=DB,FB=LB;function UB(e,t){var r=e==null?0:e.length;return!!r&&FB(e,t,0)>-1}var BB=UB;function zB(e,t,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(t,e[n]))return!0;return!1}var qB=zB;function WB(){}var HB=WB,sm=_O,KB=HB,VB=Tv,GB=1/0,YB=sm&&1/VB(new sm([,-0]))[1]==GB?function(e){return new sm(e)}:KB,QB=YB,XB=hO,ZB=BB,JB=qB,ez=mO,tz=QB,rz=Tv,nz=200;function sz(e,t,r){var n=-1,s=ZB,i=e.length,o=!0,l=[],c=l;if(r)o=!1,s=JB;else if(i>=nz){var u=t?null:tz(e);if(u)return rz(u);o=!1,s=ez,c=new XB}else c=t?[]:l;e:for(;++n<i;){var f=e[n],d=t?t(f):f;if(f=r||f!==0?f:0,o&&d===d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),l.push(f)}else s(c,d,r)||(c!==l&&c.push(d),l.push(f))}return l}var az=sz,iz=kn,oz=az;function lz(e,t){return e&&e.length?oz(e,iz(t)):[]}var cz=lz;const r1=$e(cz);function PO(e,t,r){return t===!0?r1(e,r):le(t)?r1(e,t):e}function Zi(e){"@babel/helpers - typeof";return Zi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zi(e)}var uz=["ref"];function n1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $n(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n1(Object(r),!0).forEach(function(n){Fh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dz(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kO(n.key),n)}}function fz(e,t,r){return t&&s1(e.prototype,t),r&&s1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hz(e,t,r){return t=tf(t),pz(e,CO()?Reflect.construct(t,r||[],tf(e).constructor):t.apply(e,r))}function pz(e,t){if(t&&(Zi(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mz(e)}function mz(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CO=function(){return!!e})()}function tf(e){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tf(e)}function gz(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J0(e,t)}function J0(e,t){return J0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},J0(e,t)}function Fh(e,t,r){return t=kO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kO(e){var t=xz(e,"string");return Zi(t)=="symbol"?t:t+""}function xz(e,t){if(Zi(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Zi(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vz(e,t){if(e==null)return{};var r=yz(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function yz(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function bz(e){return e.value}function wz(e,t){if(I.isValidElement(e))return I.cloneElement(e,t);if(typeof e=="function")return I.createElement(e,t);t.ref;var r=vz(t,uz);return I.createElement(kv,r)}var a1=1,Mi=function(e){function t(){var r;dz(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=hz(this,t,[].concat(s)),Fh(r,"lastBoundingBox",{width:-1,height:-1}),r}return gz(t,e),fz(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>a1||Math.abs(s.height-this.lastBoundingBox.height)>a1)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?$n({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,u=s.chartWidth,f=s.chartHeight,d,h;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var p=this.getBBoxSnapshot();d={left:((u||0)-p.width)/2}}else d=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();h={top:((f||0)-v.height)/2}}else h=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return $n($n({},d),h)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,u=s.payloadUniqBy,f=s.payload,d=$n($n({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return I.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(p){n.wrapperNode=p}},wz(i,$n($n({},this.props),{},{payload:PO(f,u,bz)})))}}],[{key:"getWithHeight",value:function(n,s){var i=$n($n({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&V(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])}(O.PureComponent);Fh(Mi,"displayName","Legend");Fh(Mi,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var i1=eu,jz=$v,_z=mr,o1=i1?i1.isConcatSpreadable:void 0;function Nz(e){return _z(e)||jz(e)||!!(o1&&e&&e[o1])}var Sz=Nz,Oz=xO,Az=Sz;function TO(e,t,r,n,s){var i=-1,o=e.length;for(r||(r=Az),s||(s=[]);++i<o;){var l=e[i];t>0&&r(l)?t>1?TO(l,t-1,r,n,s):Oz(s,l):n||(s[s.length]=l)}return s}var $O=TO;function Ez(e){return function(t,r,n){for(var s=-1,i=Object(t),o=n(t),l=o.length;l--;){var c=o[e?l:++s];if(r(i[c],c,i)===!1)break}return t}}var Pz=Ez,Cz=Pz,kz=Cz(),Tz=kz,$z=Tz,Iz=Lh;function Rz(e,t){return e&&$z(e,t,Iz)}var IO=Rz,Mz=ru;function Dz(e,t){return function(r,n){if(r==null)return r;if(!Mz(r))return e(r,n);for(var s=r.length,i=t?s:-1,o=Object(r);(t?i--:++i<s)&&n(o[i],i,o)!==!1;);return r}}var Lz=Dz,Fz=IO,Uz=Lz,Bz=Uz(Fz),Dv=Bz,zz=Dv,qz=ru;function Wz(e,t){var r=-1,n=qz(e)?Array(e.length):[];return zz(e,function(s,i,o){n[++r]=t(s,i,o)}),n}var RO=Wz;function Hz(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var Kz=Hz,l1=ko;function Vz(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,i=l1(e),o=t!==void 0,l=t===null,c=t===t,u=l1(t);if(!l&&!u&&!i&&e>t||i&&o&&c&&!l&&!u||n&&o&&c||!r&&c||!s)return 1;if(!n&&!i&&!u&&e<t||u&&r&&s&&!n&&!i||l&&r&&s||!o&&s||!c)return-1}return 0}var Gz=Vz,Yz=Gz;function Qz(e,t,r){for(var n=-1,s=e.criteria,i=t.criteria,o=s.length,l=r.length;++n<o;){var c=Yz(s[n],i[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var Xz=Qz,am=wv,Zz=jv,Jz=kn,eq=RO,tq=Kz,rq=bO,nq=Xz,sq=Fo,aq=mr;function iq(e,t,r){t.length?t=am(t,function(i){return aq(i)?function(o){return Zz(o,i.length===1?i[0]:i)}:i}):t=[sq];var n=-1;t=am(t,rq(Jz));var s=eq(e,function(i,o,l){var c=am(t,function(u){return u(i)});return{criteria:c,index:++n,value:i}});return tq(s,function(i,o){return nq(i,o,r)})}var oq=iq;function lq(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var cq=lq,uq=cq,c1=Math.max;function dq(e,t,r){return t=c1(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,i=c1(n.length-t,0),o=Array(i);++s<i;)o[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(o),uq(e,this,l)}}var fq=dq;function hq(e){return function(){return e}}var pq=hq,mq=Ha,gq=function(){try{var e=mq(Object,"defineProperty");return e({},"",{}),e}catch{}}(),MO=gq,xq=pq,u1=MO,vq=Fo,yq=u1?function(e,t){return u1(e,"toString",{configurable:!0,enumerable:!1,value:xq(t),writable:!0})}:vq,bq=yq,wq=800,jq=16,_q=Date.now;function Nq(e){var t=0,r=0;return function(){var n=_q(),s=jq-(n-r);if(r=n,s>0){if(++t>=wq)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Sq=Nq,Oq=bq,Aq=Sq,Eq=Aq(Oq),Pq=Eq,Cq=Fo,kq=fq,Tq=Pq;function $q(e,t){return Tq(kq(e,t,Cq),e+"")}var Iq=$q,Rq=xv,Mq=ru,Dq=Iv,Lq=Ys;function Fq(e,t,r){if(!Lq(r))return!1;var n=typeof t;return(n=="number"?Mq(r)&&Dq(t,r.length):n=="string"&&t in r)?Rq(r[t],e):!1}var Uh=Fq,Uq=$O,Bq=oq,zq=Iq,d1=Uh,qq=zq(function(e,t){if(e==null)return[];var r=t.length;return r>1&&d1(e,t[0],t[1])?t=[]:r>2&&d1(t[0],t[1],t[2])&&(t=[t[0]]),Bq(e,Uq(t,1),[])}),Wq=qq;const Lv=$e(Wq);function uc(e){"@babel/helpers - typeof";return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},uc(e)}function eg(){return eg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eg.apply(this,arguments)}function Hq(e,t){return Yq(e)||Gq(e,t)||Vq(e,t)||Kq()}function Kq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vq(e,t){if(e){if(typeof e=="string")return f1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f1(e,t)}}function f1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gq(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function Yq(e){if(Array.isArray(e))return e}function h1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function im(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h1(Object(r),!0).forEach(function(n){Qq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qq(e,t,r){return t=Xq(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xq(e){var t=Zq(e,"string");return uc(t)=="symbol"?t:t+""}function Zq(e,t){if(uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jq(e){return Array.isArray(e)&&jt(e[0])&&jt(e[1])?e.join(" ~ "):e}var eW=function(t){var r=t.separator,n=r===void 0?" : ":r,s=t.contentStyle,i=s===void 0?{}:s,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,d=t.formatter,h=t.itemSorter,p=t.wrapperClassName,v=t.labelClassName,b=t.label,w=t.labelFormatter,j=t.accessibilityLayer,x=j===void 0?!1:j,m=function(){if(f&&f.length){var E={padding:0,margin:0},C=(h?Lv(f,h):f).map(function(k,R){if(k.type==="none")return null;var $=im({display:"block",paddingTop:4,paddingBottom:4,color:k.color||"#000"},l),L=k.formatter||d||Jq,D=k.value,F=k.name,W=D,G=F;if(L&&W!=null&&G!=null){var K=L(D,F,k,R,f);if(Array.isArray(K)){var Z=Hq(K,2);W=Z[0],G=Z[1]}else W=K}return I.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(R),style:$},jt(G)?I.createElement("span",{className:"recharts-tooltip-item-name"},G):null,jt(G)?I.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,I.createElement("span",{className:"recharts-tooltip-item-value"},W),I.createElement("span",{className:"recharts-tooltip-item-unit"},k.unit||""))});return I.createElement("ul",{className:"recharts-tooltip-item-list",style:E},C)}return null},_=im({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),g=im({margin:0},u),y=!fe(b),N=y?b:"",S=me("recharts-default-tooltip",p),A=me("recharts-tooltip-label",v);y&&w&&f!==void 0&&f!==null&&(N=w(b,f));var P=x?{role:"status","aria-live":"assertive"}:{};return I.createElement("div",eg({className:S,style:_},P),I.createElement("p",{className:A,style:g},I.isValidElement(N)?N:"".concat(N)),m())};function dc(e){"@babel/helpers - typeof";return dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dc(e)}function Mu(e,t,r){return t=tW(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tW(e){var t=rW(e,"string");return dc(t)=="symbol"?t:t+""}function rW(e,t){if(dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var nl="recharts-tooltip-wrapper",nW={visibility:"hidden"};function sW(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return me(nl,Mu(Mu(Mu(Mu({},"".concat(nl,"-right"),V(r)&&t&&V(t.x)&&r>=t.x),"".concat(nl,"-left"),V(r)&&t&&V(t.x)&&r<t.x),"".concat(nl,"-bottom"),V(n)&&t&&V(t.y)&&n>=t.y),"".concat(nl,"-top"),V(n)&&t&&V(t.y)&&n<t.y))}function p1(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,s=e.offsetTopLeft,i=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(i&&V(i[n]))return i[n];var f=r[n]-l-s,d=r[n]+s;if(t[n])return o[n]?f:d;if(o[n]){var h=f,p=c[n];return h<p?Math.max(d,c[n]):Math.max(f,c[n])}var v=d+l,b=c[n]+u;return v>b?Math.max(f,c[n]):Math.max(d,c[n])}function aW(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function iW(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,s=e.position,i=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,d;return o.height>0&&o.width>0&&r?(f=p1({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),d=p1({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=aW({translateX:f,translateY:d,useTranslate3d:l})):u=nW,{cssProperties:u,cssClasses:sW({translateX:f,translateY:d,coordinate:r})}}function Ji(e){"@babel/helpers - typeof";return Ji=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ji(e)}function m1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function g1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m1(Object(r),!0).forEach(function(n){rg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,LO(n.key),n)}}function cW(e,t,r){return t&&lW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function uW(e,t,r){return t=rf(t),dW(e,DO()?Reflect.construct(t,r||[],rf(e).constructor):t.apply(e,r))}function dW(e,t){if(t&&(Ji(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fW(e)}function fW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function DO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DO=function(){return!!e})()}function rf(e){return rf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rf(e)}function hW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tg(e,t)}function tg(e,t){return tg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},tg(e,t)}function rg(e,t,r){return t=LO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LO(e){var t=pW(e,"string");return Ji(t)=="symbol"?t:t+""}function pW(e,t){if(Ji(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ji(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x1=1,mW=function(e){function t(){var r;oW(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=uW(this,t,[].concat(s)),rg(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),rg(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return hW(t,e),cW(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>x1||Math.abs(n.height-this.state.lastBoundingBox.height)>x1)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.children,f=s.coordinate,d=s.hasPayload,h=s.isAnimationActive,p=s.offset,v=s.position,b=s.reverseDirection,w=s.useTranslate3d,j=s.viewBox,x=s.wrapperStyle,m=iW({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:p,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:w,viewBox:j}),_=m.cssClasses,g=m.cssProperties,y=g1(g1({transition:h&&i?"transform ".concat(l,"ms ").concat(c):void 0},g),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&d?"visible":"hidden",position:"absolute",top:0,left:0},x);return I.createElement("div",{tabIndex:-1,className:_,style:y,ref:function(S){n.wrapperNode=S}},u)}}])}(O.PureComponent),gW=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Sn={isSsr:gW(),get:function(t){return Sn[t]},set:function(t,r){if(typeof t=="string")Sn[t]=r;else{var n=Object.keys(t);n&&n.length&&n.forEach(function(s){Sn[s]=t[s]})}}};function eo(e){"@babel/helpers - typeof";return eo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eo(e)}function v1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function y1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?v1(Object(r),!0).forEach(function(n){Fv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xW(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vW(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,UO(n.key),n)}}function yW(e,t,r){return t&&vW(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bW(e,t,r){return t=nf(t),wW(e,FO()?Reflect.construct(t,r||[],nf(e).constructor):t.apply(e,r))}function wW(e,t){if(t&&(eo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jW(e)}function jW(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FO(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FO=function(){return!!e})()}function nf(e){return nf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nf(e)}function _W(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ng(e,t)}function ng(e,t){return ng=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ng(e,t)}function Fv(e,t,r){return t=UO(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UO(e){var t=NW(e,"string");return eo(t)=="symbol"?t:t+""}function NW(e,t){if(eo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(eo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SW(e){return e.dataKey}function OW(e,t){return I.isValidElement(e)?I.cloneElement(e,t):typeof e=="function"?I.createElement(e,t):I.createElement(eW,t)}var We=function(e){function t(){return xW(this,t),bW(this,t,arguments)}return _W(t,e),yW(t,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,u=s.content,f=s.coordinate,d=s.filterNull,h=s.isAnimationActive,p=s.offset,v=s.payload,b=s.payloadUniqBy,w=s.position,j=s.reverseDirection,x=s.useTranslate3d,m=s.viewBox,_=s.wrapperStyle,g=v??[];d&&g.length&&(g=PO(v.filter(function(N){return N.value!=null&&(N.hide!==!0||n.props.includeHidden)}),b,SW));var y=g.length>0;return I.createElement(mW,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:h,active:i,coordinate:f,hasPayload:y,offset:p,position:w,reverseDirection:j,useTranslate3d:x,viewBox:m,wrapperStyle:_},OW(u,y1(y1({},this.props),{},{payload:g})))}}])}(O.PureComponent);Fv(We,"displayName","Tooltip");Fv(We,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Sn.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var AW=Cn,EW=function(){return AW.Date.now()},PW=EW,CW=/\s/;function kW(e){for(var t=e.length;t--&&CW.test(e.charAt(t)););return t}var TW=kW,$W=TW,IW=/^\s+/;function RW(e){return e&&e.slice(0,$W(e)+1).replace(IW,"")}var MW=RW,DW=MW,b1=Ys,LW=ko,w1=NaN,FW=/^[-+]0x[0-9a-f]+$/i,UW=/^0b[01]+$/i,BW=/^0o[0-7]+$/i,zW=parseInt;function qW(e){if(typeof e=="number")return e;if(LW(e))return w1;if(b1(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=b1(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=DW(e);var r=UW.test(e);return r||BW.test(e)?zW(e.slice(2),r?2:8):FW.test(e)?w1:+e}var BO=qW,WW=Ys,om=PW,j1=BO,HW="Expected a function",KW=Math.max,VW=Math.min;function GW(e,t,r){var n,s,i,o,l,c,u=0,f=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(HW);t=j1(t)||0,WW(r)&&(f=!!r.leading,d="maxWait"in r,i=d?KW(j1(r.maxWait)||0,t):i,h="trailing"in r?!!r.trailing:h);function p(y){var N=n,S=s;return n=s=void 0,u=y,o=e.apply(S,N),o}function v(y){return u=y,l=setTimeout(j,t),f?p(y):o}function b(y){var N=y-c,S=y-u,A=t-N;return d?VW(A,i-S):A}function w(y){var N=y-c,S=y-u;return c===void 0||N>=t||N<0||d&&S>=i}function j(){var y=om();if(w(y))return x(y);l=setTimeout(j,b(y))}function x(y){return l=void 0,h&&n?p(y):(n=s=void 0,o)}function m(){l!==void 0&&clearTimeout(l),u=0,n=c=s=l=void 0}function _(){return l===void 0?o:x(om())}function g(){var y=om(),N=w(y);if(n=arguments,s=this,c=y,N){if(l===void 0)return v(c);if(d)return clearTimeout(l),l=setTimeout(j,t),p(c)}return l===void 0&&(l=setTimeout(j,t)),o}return g.cancel=m,g.flush=_,g}var YW=GW,QW=YW,XW=Ys,ZW="Expected a function";function JW(e,t,r){var n=!0,s=!0;if(typeof e!="function")throw new TypeError(ZW);return XW(r)&&(n="leading"in r?!!r.leading:n,s="trailing"in r?!!r.trailing:s),QW(e,t,{leading:n,maxWait:t,trailing:s})}var eH=JW;const zO=$e(eH);function fc(e){"@babel/helpers - typeof";return fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fc(e)}function _1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Du(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_1(Object(r),!0).forEach(function(n){tH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tH(e,t,r){return t=rH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rH(e){var t=nH(e,"string");return fc(t)=="symbol"?t:t+""}function nH(e,t){if(fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sH(e,t){return lH(e)||oH(e,t)||iH(e,t)||aH()}function aH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iH(e,t){if(e){if(typeof e=="string")return N1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N1(e,t)}}function N1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function oH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function lH(e){if(Array.isArray(e))return e}var Mt=O.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=e.width,o=i===void 0?"100%":i,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,d=e.minHeight,h=e.maxHeight,p=e.children,v=e.debounce,b=v===void 0?0:v,w=e.id,j=e.className,x=e.onResize,m=e.style,_=m===void 0?{}:m,g=O.useRef(null),y=O.useRef();y.current=x,O.useImperativeHandle(t,function(){return Object.defineProperty(g.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),g.current},configurable:!0})});var N=O.useState({containerWidth:s.width,containerHeight:s.height}),S=sH(N,2),A=S[0],P=S[1],T=O.useCallback(function(C,k){P(function(R){var $=Math.round(C),L=Math.round(k);return R.containerWidth===$&&R.containerHeight===L?R:{containerWidth:$,containerHeight:L}})},[]);O.useEffect(function(){var C=function(F){var W,G=F[0].contentRect,K=G.width,Z=G.height;T(K,Z),(W=y.current)===null||W===void 0||W.call(y,K,Z)};b>0&&(C=zO(C,b,{trailing:!0,leading:!1}));var k=new ResizeObserver(C),R=g.current.getBoundingClientRect(),$=R.width,L=R.height;return T($,L),k.observe(g.current),function(){k.disconnect()}},[T,b]);var E=O.useMemo(function(){var C=A.containerWidth,k=A.containerHeight;if(C<0||k<0)return null;hn(ga(o)||ga(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),hn(!r||r>0,"The aspect(%s) must be greater than zero.",r);var R=ga(o)?C:o,$=ga(c)?k:c;r&&r>0&&(R?$=R/r:$&&(R=$*r),h&&$>h&&($=h)),hn(R>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,R,$,o,c,f,d,r);var L=!Array.isArray(p)&&Vn(p.type).endsWith("Chart");return I.Children.map(p,function(D){return I.isValidElement(D)?O.cloneElement(D,Du({width:R,height:$},L?{style:Du({height:"100%",width:"100%",maxHeight:$,maxWidth:R},D.props.style)}:{})):D})},[r,p,c,h,d,f,A,o]);return I.createElement("div",{id:w?"".concat(w):void 0,className:me("recharts-responsive-container",j),style:Du(Du({},_),{},{width:o,height:c,minWidth:f,minHeight:d,maxHeight:h}),ref:g},E)}),Qs=function(t){return null};Qs.displayName="Cell";function hc(e){"@babel/helpers - typeof";return hc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},hc(e)}function S1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S1(Object(r),!0).forEach(function(n){cH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cH(e,t,r){return t=uH(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uH(e){var t=dH(e,"string");return hc(t)=="symbol"?t:t+""}function dH(e,t){if(hc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(hc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ni={widthCache:{},cacheCount:0},fH=2e3,hH={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},O1="recharts_measurement_span";function pH(e){var t=sg({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var kl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Sn.isSsr)return{width:0,height:0};var n=pH(r),s=JSON.stringify({text:t,copyStyle:n});if(ni.widthCache[s])return ni.widthCache[s];try{var i=document.getElementById(O1);i||(i=document.createElement("span"),i.setAttribute("id",O1),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=sg(sg({},hH),n);Object.assign(i.style,o),i.textContent="".concat(t);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return ni.widthCache[s]=c,++ni.cacheCount>fH&&(ni.cacheCount=0,ni.widthCache={}),c}catch{return{width:0,height:0}}},mH=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function pc(e){"@babel/helpers - typeof";return pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pc(e)}function sf(e,t){return yH(e)||vH(e,t)||xH(e,t)||gH()}function gH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xH(e,t){if(e){if(typeof e=="string")return A1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A1(e,t)}}function A1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function yH(e){if(Array.isArray(e))return e}function bH(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E1(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jH(n.key),n)}}function wH(e,t,r){return t&&E1(e.prototype,t),r&&E1(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function jH(e){var t=_H(e,"string");return pc(t)=="symbol"?t:t+""}function _H(e,t){if(pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var P1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,C1=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,NH=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,SH=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,qO={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},OH=Object.keys(qO),ji="NaN";function AH(e,t){return e*qO[t]}var Lu=function(){function e(t,r){bH(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!NH.test(r)&&(this.num=NaN,this.unit=""),OH.includes(r)&&(this.num=AH(t,r),this.unit="px")}return wH(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=SH.exec(r))!==null&&n!==void 0?n:[],i=sf(s,3),o=i[1],l=i[2];return new e(parseFloat(o),l??"")}}])}();function WO(e){if(e.includes(ji))return ji;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=P1.exec(t))!==null&&r!==void 0?r:[],s=sf(n,4),i=s[1],o=s[2],l=s[3],c=Lu.parse(i??""),u=Lu.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return ji;t=t.replace(P1,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var d,h=(d=C1.exec(t))!==null&&d!==void 0?d:[],p=sf(h,4),v=p[1],b=p[2],w=p[3],j=Lu.parse(v??""),x=Lu.parse(w??""),m=b==="+"?j.add(x):j.subtract(x);if(m.isNaN())return ji;t=t.replace(C1,m.toString())}return t}var k1=/\(([^()]*)\)/;function EH(e){for(var t=e;t.includes("(");){var r=k1.exec(t),n=sf(r,2),s=n[1];t=t.replace(k1,WO(s))}return t}function PH(e){var t=e.replace(/\s+/g,"");return t=EH(t),t=WO(t),t}function CH(e){try{return PH(e)}catch{return ji}}function lm(e){var t=CH(e.slice(5,-1));return t===ji?"":t}var kH=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],TH=["dx","dy","angle","className","breakAll"];function ag(){return ag=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ag.apply(this,arguments)}function T1(e,t){if(e==null)return{};var r=$H(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function $H(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $1(e,t){return DH(e)||MH(e,t)||RH(e,t)||IH()}function IH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RH(e,t){if(e){if(typeof e=="string")return I1(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I1(e,t)}}function I1(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function MH(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function DH(e){if(Array.isArray(e))return e}var HO=/[ \f\n\r\t\v\u2028\u2029]+/,KO=function(t){var r=t.children,n=t.breakAll,s=t.style;try{var i=[];fe(r)||(n?i=r.toString().split(""):i=r.toString().split(HO));var o=i.map(function(c){return{word:c,width:kl(c,s).width}}),l=n?0:kl(" ",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},LH=function(t,r,n,s,i){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=V(o),d=l,h=function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return R.reduce(function($,L){var D=L.word,F=L.width,W=$[$.length-1];if(W&&(s==null||i||W.width+F+n<Number(s)))W.words.push(D),W.width+=F+n;else{var G={words:[D],width:F};$.push(G)}return $},[])},p=h(r),v=function(R){return R.reduce(function($,L){return $.width>L.width?$:L})};if(!f)return p;for(var b="…",w=function(R){var $=d.slice(0,R),L=KO({breakAll:u,style:c,children:$+b}).wordsWithComputedWidth,D=h(L),F=D.length>o||v(D).width>Number(s);return[F,D]},j=0,x=d.length-1,m=0,_;j<=x&&m<=d.length-1;){var g=Math.floor((j+x)/2),y=g-1,N=w(y),S=$1(N,2),A=S[0],P=S[1],T=w(g),E=$1(T,1),C=E[0];if(!A&&!C&&(j=g+1),A&&C&&(x=g-1),!A&&C){_=P;break}m++}return _||p},R1=function(t){var r=fe(t)?[]:t.toString().split(HO);return[{words:r}]},FH=function(t){var r=t.width,n=t.scaleToFit,s=t.children,i=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!Sn.isSsr){var c,u,f=KO({breakAll:o,children:s,style:i});if(f){var d=f.wordsWithComputedWidth,h=f.spaceWidth;c=d,u=h}else return R1(s);return LH({breakAll:o,children:s,maxLines:l,style:i},c,u,r,n)}return R1(s)},M1="#808080",Da=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,d=f===void 0?!1:f,h=t.textAnchor,p=h===void 0?"start":h,v=t.verticalAnchor,b=v===void 0?"end":v,w=t.fill,j=w===void 0?M1:w,x=T1(t,kH),m=O.useMemo(function(){return FH({breakAll:x.breakAll,children:x.children,maxLines:x.maxLines,scaleToFit:d,style:x.style,width:x.width})},[x.breakAll,x.children,x.maxLines,d,x.style,x.width]),_=x.dx,g=x.dy,y=x.angle,N=x.className,S=x.breakAll,A=T1(x,TH);if(!jt(n)||!jt(i))return null;var P=n+(V(_)?_:0),T=i+(V(g)?g:0),E;switch(b){case"start":E=lm("calc(".concat(u,")"));break;case"middle":E=lm("calc(".concat((m.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=lm("calc(".concat(m.length-1," * -").concat(l,")"));break}var C=[];if(d){var k=m[0].width,R=x.width;C.push("scale(".concat((V(R)?R/k:1)/k,")"))}return y&&C.push("rotate(".concat(y,", ").concat(P,", ").concat(T,")")),C.length&&(A.transform=C.join(" ")),I.createElement("text",ag({},ie(A,!0),{x:P,y:T,className:me("recharts-text",N),textAnchor:p,fill:j.includes("url")?M1:j}),m.map(function($,L){var D=$.words.join(S?"":" ");return I.createElement("tspan",{x:P,dy:L===0?E:l,key:"".concat(D,"-").concat(L)},D)}))};function Us(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function UH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Uv(e){let t,r,n;e.length!==2?(t=Us,r=(l,c)=>Us(e(l),c),n=(l,c)=>e(l)-c):(t=e===Us||e===UH?e:BH,r=e,n=e);function s(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<0?u=d+1:f=d}while(u<f)}return u}function i(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const d=u+f>>>1;r(l[d],c)<=0?u=d+1:f=d}while(u<f)}return u}function o(l,c,u=0,f=l.length){const d=s(l,c,u,f-1);return d>u&&n(l[d-1],c)>-n(l[d],c)?d-1:d}return{left:s,center:o,right:i}}function BH(){return 0}function VO(e){return e===null?NaN:+e}function*zH(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const qH=Uv(Us),nu=qH.right;Uv(VO).center;class D1 extends Map{constructor(t,r=KH){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(L1(this,t))}has(t){return super.has(L1(this,t))}set(t,r){return super.set(WH(this,t),r)}delete(t){return super.delete(HH(this,t))}}function L1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function WH({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function HH({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function KH(e){return e!==null&&typeof e=="object"?e.valueOf():e}function VH(e=Us){if(e===Us)return GO;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function GO(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const GH=Math.sqrt(50),YH=Math.sqrt(10),QH=Math.sqrt(2);function af(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=GH?10:i>=YH?5:i>=QH?2:1;let l,c,u;return s<0?(u=Math.pow(10,-s)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,s)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?af(e,t,r*2):[l,c,u]}function ig(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,i,o]=n?af(t,e,r):af(e,t,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(i-u)/-o;else for(let u=0;u<l;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(s+u)/-o;else for(let u=0;u<l;++u)c[u]=(s+u)*o;return c}function og(e,t,r){return t=+t,e=+e,r=+r,af(e,t,r)[2]}function lg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?og(t,e,r):og(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function F1(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function U1(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function YO(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?GO:VH(s);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),d=.5*Math.exp(2*f/3),h=.5*Math.sqrt(f*d*(c-d)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(t-u*d/c+h)),v=Math.min(n,Math.floor(t+(c-u)*d/c+h));YO(e,t,p,v,s)}const i=e[t];let o=r,l=n;for(sl(e,r,t),s(e[n],i)>0&&sl(e,r,n);o<l;){for(sl(e,o,l),++o,--l;s(e[o],i)<0;)++o;for(;s(e[l],i)>0;)--l}s(e[r],i)===0?sl(e,r,l):(++l,sl(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function sl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function XH(e,t,r){if(e=Float64Array.from(zH(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return U1(e);if(t>=1)return F1(e);var n,s=(n-1)*t,i=Math.floor(s),o=F1(YO(e,i).subarray(0,i+1)),l=U1(e.subarray(i+1));return o+(l-o)*(s-i)}}function ZH(e,t,r=VO){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,i=Math.floor(s),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(s-i)}}function JH(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(s);++n<s;)i[n]=e+n*r;return i}function Qr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ls(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const cg=Symbol("implicit");function Bv(){var e=new D1,t=[],r=[],n=cg;function s(i){let o=e.get(i);if(o===void 0){if(n!==cg)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new D1;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return Bv(t,r).unknown(n)},Qr.apply(s,arguments),s}function mc(){var e=Bv().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,i,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function d(){var h=t().length,p=s<n,v=p?s:n,b=p?n:s;i=(b-v)/Math.max(1,h-c+u*2),l&&(i=Math.floor(i)),v+=(b-v-i*(h-c))*f,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var w=JH(h).map(function(j){return v+i*j});return r(p?w.reverse():w)}return e.domain=function(h){return arguments.length?(t(h),d()):t()},e.range=function(h){return arguments.length?([n,s]=h,n=+n,s=+s,d()):[n,s]},e.rangeRound=function(h){return[n,s]=h,n=+n,s=+s,l=!0,d()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,d()):l},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),d()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),d()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,d()):u},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),d()):f},e.copy=function(){return mc(t(),[n,s]).round(l).paddingInner(c).paddingOuter(u).align(f)},Qr.apply(d(),arguments)}function QO(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return QO(t())},e}function Tl(){return QO(mc.apply(null,arguments).paddingInner(1))}function zv(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function XO(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function su(){}var gc=.7,of=1/gc,Di="\\s*([+-]?\\d+)\\s*",xc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",On="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",eK=/^#([0-9a-f]{3,8})$/,tK=new RegExp(`^rgb\\(${Di},${Di},${Di}\\)$`),rK=new RegExp(`^rgb\\(${On},${On},${On}\\)$`),nK=new RegExp(`^rgba\\(${Di},${Di},${Di},${xc}\\)$`),sK=new RegExp(`^rgba\\(${On},${On},${On},${xc}\\)$`),aK=new RegExp(`^hsl\\(${xc},${On},${On}\\)$`),iK=new RegExp(`^hsla\\(${xc},${On},${On},${xc}\\)$`),B1={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};zv(su,vc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:z1,formatHex:z1,formatHex8:oK,formatHsl:lK,formatRgb:q1,toString:q1});function z1(){return this.rgb().formatHex()}function oK(){return this.rgb().formatHex8()}function lK(){return ZO(this).formatHsl()}function q1(){return this.rgb().formatRgb()}function vc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=eK.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?W1(t):r===3?new dr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Fu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Fu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=tK.exec(e))?new dr(t[1],t[2],t[3],1):(t=rK.exec(e))?new dr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nK.exec(e))?Fu(t[1],t[2],t[3],t[4]):(t=sK.exec(e))?Fu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=aK.exec(e))?V1(t[1],t[2]/100,t[3]/100,1):(t=iK.exec(e))?V1(t[1],t[2]/100,t[3]/100,t[4]):B1.hasOwnProperty(e)?W1(B1[e]):e==="transparent"?new dr(NaN,NaN,NaN,0):null}function W1(e){return new dr(e>>16&255,e>>8&255,e&255,1)}function Fu(e,t,r,n){return n<=0&&(e=t=r=NaN),new dr(e,t,r,n)}function cK(e){return e instanceof su||(e=vc(e)),e?(e=e.rgb(),new dr(e.r,e.g,e.b,e.opacity)):new dr}function ug(e,t,r,n){return arguments.length===1?cK(e):new dr(e,t,r,n??1)}function dr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}zv(dr,ug,XO(su,{brighter(e){return e=e==null?of:Math.pow(of,e),new dr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gc:Math.pow(gc,e),new dr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new dr(_a(this.r),_a(this.g),_a(this.b),lf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:H1,formatHex:H1,formatHex8:uK,formatRgb:K1,toString:K1}));function H1(){return`#${xa(this.r)}${xa(this.g)}${xa(this.b)}`}function uK(){return`#${xa(this.r)}${xa(this.g)}${xa(this.b)}${xa((isNaN(this.opacity)?1:this.opacity)*255)}`}function K1(){const e=lf(this.opacity);return`${e===1?"rgb(":"rgba("}${_a(this.r)}, ${_a(this.g)}, ${_a(this.b)}${e===1?")":`, ${e})`}`}function lf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function _a(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function xa(e){return e=_a(e),(e<16?"0":"")+e.toString(16)}function V1(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new ln(e,t,r,n)}function ZO(e){if(e instanceof ln)return new ln(e.h,e.s,e.l,e.opacity);if(e instanceof su||(e=vc(e)),!e)return new ln;if(e instanceof ln)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new ln(o,l,c,e.opacity)}function dK(e,t,r,n){return arguments.length===1?ZO(e):new ln(e,t,r,n??1)}function ln(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}zv(ln,dK,XO(su,{brighter(e){return e=e==null?of:Math.pow(of,e),new ln(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gc:Math.pow(gc,e),new ln(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new dr(cm(e>=240?e-240:e+120,s,n),cm(e,s,n),cm(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new ln(G1(this.h),Uu(this.s),Uu(this.l),lf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lf(this.opacity);return`${e===1?"hsl(":"hsla("}${G1(this.h)}, ${Uu(this.s)*100}%, ${Uu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function G1(e){return e=(e||0)%360,e<0?e+360:e}function Uu(e){return Math.max(0,Math.min(1,e||0))}function cm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const qv=e=>()=>e;function fK(e,t){return function(r){return e+r*t}}function hK(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function pK(e){return(e=+e)==1?JO:function(t,r){return r-t?hK(t,r,e):qv(isNaN(t)?r:t)}}function JO(e,t){var r=t-e;return r?fK(e,r):qv(isNaN(e)?t:e)}const Y1=function e(t){var r=pK(t);function n(s,i){var o=r((s=ug(s)).r,(i=ug(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),u=JO(s.opacity,i.opacity);return function(f){return s.r=o(f),s.g=l(f),s.b=c(f),s.opacity=u(f),s+""}}return n.gamma=e,n}(1);function mK(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=e[s]*(1-i)+t[s]*i;return n}}function gK(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xK(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=Uo(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function vK(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function cf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function yK(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Uo(e[s],t[s]):n[s]=t[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var dg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,um=new RegExp(dg.source,"g");function bK(e){return function(){return e}}function wK(e){return function(t){return e(t)+""}}function jK(e,t){var r=dg.lastIndex=um.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=dg.exec(e))&&(s=um.exec(t));)(i=s.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:cf(n,s)})),r=um.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?wK(c[0].x):bK(t):(t=c.length,function(u){for(var f=0,d;f<t;++f)l[(d=c[f]).i]=d.x(u);return l.join("")})}function Uo(e,t){var r=typeof t,n;return t==null||r==="boolean"?qv(t):(r==="number"?cf:r==="string"?(n=vc(t))?(t=n,Y1):jK:t instanceof vc?Y1:t instanceof Date?vK:gK(t)?mK:Array.isArray(t)?xK:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?yK:cf)(e,t)}function Wv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function _K(e,t){t===void 0&&(t=e,e=Uo);for(var r=0,n=t.length-1,s=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(s,s=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function NK(e){return function(){return e}}function uf(e){return+e}var Q1=[0,1];function er(e){return e}function fg(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:NK(isNaN(t)?NaN:.5)}function SK(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function OK(e,t,r){var n=e[0],s=e[1],i=t[0],o=t[1];return s<n?(n=fg(s,n),i=r(o,i)):(n=fg(n,s),i=r(i,o)),function(l){return i(n(l))}}function AK(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)s[o]=fg(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var c=nu(e,l,1,n)-1;return i[c](s[c](l))}}function au(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Bh(){var e=Q1,t=Q1,r=Uo,n,s,i,o=er,l,c,u;function f(){var h=Math.min(e.length,t.length);return o!==er&&(o=SK(e[0],e[h-1])),l=h>2?AK:OK,c=u=null,d}function d(h){return h==null||isNaN(h=+h)?i:(c||(c=l(e.map(n),t,r)))(n(o(h)))}return d.invert=function(h){return o(s((u||(u=l(t,e.map(n),cf)))(h)))},d.domain=function(h){return arguments.length?(e=Array.from(h,uf),f()):e.slice()},d.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},d.rangeRound=function(h){return t=Array.from(h),r=Wv,f()},d.clamp=function(h){return arguments.length?(o=h?!0:er,f()):o!==er},d.interpolate=function(h){return arguments.length?(r=h,f()):r},d.unknown=function(h){return arguments.length?(i=h,d):i},function(h,p){return n=h,s=p,f()}}function Hv(){return Bh()(er,er)}function EK(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function df(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function to(e){return e=df(Math.abs(e)),e?e[1]:NaN}function PK(e,t){return function(r,n){for(var s=r.length,i=[],o=0,l=e[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function CK(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var kK=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yc(e){if(!(t=kK.exec(e)))throw new Error("invalid format: "+e);var t;return new Kv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}yc.prototype=Kv.prototype;function Kv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Kv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function TK(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var eA;function $K(e,t){var r=df(e,t);if(!r)return e+"";var n=r[0],s=r[1],i=s-(eA=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+df(e,Math.max(0,t+i-1))[0]}function X1(e,t){var r=df(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const Z1={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:EK,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>X1(e*100,t),r:X1,s:$K,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function J1(e){return e}var ej=Array.prototype.map,tj=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function IK(e){var t=e.grouping===void 0||e.thousands===void 0?J1:PK(ej.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?J1:CK(ej.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(d){d=yc(d);var h=d.fill,p=d.align,v=d.sign,b=d.symbol,w=d.zero,j=d.width,x=d.comma,m=d.precision,_=d.trim,g=d.type;g==="n"?(x=!0,g="g"):Z1[g]||(m===void 0&&(m=12),_=!0,g="g"),(w||h==="0"&&p==="=")&&(w=!0,h="0",p="=");var y=b==="$"?r:b==="#"&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",N=b==="$"?n:/[%p]/.test(g)?o:"",S=Z1[g],A=/[defgprs%]/.test(g);m=m===void 0?6:/[gprs]/.test(g)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m));function P(T){var E=y,C=N,k,R,$;if(g==="c")C=S(T)+C,T="";else{T=+T;var L=T<0||1/T<0;if(T=isNaN(T)?c:S(Math.abs(T),m),_&&(T=TK(T)),L&&+T==0&&v!=="+"&&(L=!1),E=(L?v==="("?v:l:v==="-"||v==="("?"":v)+E,C=(g==="s"?tj[8+eA/3]:"")+C+(L&&v==="("?")":""),A){for(k=-1,R=T.length;++k<R;)if($=T.charCodeAt(k),48>$||$>57){C=($===46?s+T.slice(k+1):T.slice(k))+C,T=T.slice(0,k);break}}}x&&!w&&(T=t(T,1/0));var D=E.length+T.length+C.length,F=D<j?new Array(j-D+1).join(h):"";switch(x&&w&&(T=t(F+T,F.length?j-C.length:1/0),F=""),p){case"<":T=E+T+C+F;break;case"=":T=E+F+T+C;break;case"^":T=F.slice(0,D=F.length>>1)+E+T+C+F.slice(D);break;default:T=F+E+T+C;break}return i(T)}return P.toString=function(){return d+""},P}function f(d,h){var p=u((d=yc(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(to(h)/3)))*3,b=Math.pow(10,-v),w=tj[8+v/3];return function(j){return p(b*j)+w}}return{format:u,formatPrefix:f}}var Bu,Vv,tA;RK({thousands:",",grouping:[3],currency:["$",""]});function RK(e){return Bu=IK(e),Vv=Bu.format,tA=Bu.formatPrefix,Bu}function MK(e){return Math.max(0,-to(Math.abs(e)))}function DK(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(to(t)/3)))*3-to(Math.abs(e)))}function LK(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,to(t)-to(e))+1}function rA(e,t,r,n){var s=lg(e,t,r),i;switch(n=yc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=DK(s,o))&&(n.precision=i),tA(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=LK(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=MK(s))&&(n.precision=i-(n.type==="%")*2);break}}return Vv(n)}function Xs(e){var t=e.domain;return e.ticks=function(r){var n=t();return ig(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return rA(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,i=n.length-1,o=n[s],l=n[i],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=s,s=i,i=u);f-- >0;){if(u=og(o,l,r),u===c)return n[s]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function ff(){var e=Hv();return e.copy=function(){return au(e,ff())},Qr.apply(e,arguments),Xs(e)}function nA(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,uf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return nA(e).unknown(t)},e=arguments.length?Array.from(e,uf):[0,1],Xs(r)}function sA(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],i=e[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),e[r]=t.floor(s),e[n]=t.ceil(i),e}function rj(e){return Math.log(e)}function nj(e){return Math.exp(e)}function FK(e){return-Math.log(-e)}function UK(e){return-Math.exp(-e)}function BK(e){return isFinite(e)?+("1e"+e):e<0?0:e}function zK(e){return e===10?BK:e===Math.E?Math.exp:t=>Math.pow(e,t)}function qK(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function sj(e){return(t,r)=>-e(-t,r)}function Gv(e){const t=e(rj,nj),r=t.domain;let n=10,s,i;function o(){return s=qK(n),i=zK(n),r()[0]<0?(s=sj(s),i=sj(i),e(FK,UK)):e(rj,nj),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const d=f<u;d&&([u,f]=[f,u]);let h=s(u),p=s(f),v,b;const w=l==null?10:+l;let j=[];if(!(n%1)&&p-h<w){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(v=1;v<n;++v)if(b=h<0?v/i(-h):v*i(h),!(b<u)){if(b>f)break;j.push(b)}}else for(;h<=p;++h)for(v=n-1;v>=1;--v)if(b=h>0?v/i(-h):v*i(h),!(b<u)){if(b>f)break;j.push(b)}j.length*2<w&&(j=ig(u,f,w))}else j=ig(h,p,Math.min(p-h,w)).map(i);return d?j.reverse():j},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=yc(c)).precision==null&&(c.trim=!0),c=Vv(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let d=f/i(Math.round(s(f)));return d*n<n-.5&&(d*=n),d<=u?c(f):""}},t.nice=()=>r(sA(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),t}function aA(){const e=Gv(Bh()).domain([1,10]);return e.copy=()=>au(e,aA()).base(e.base()),Qr.apply(e,arguments),e}function aj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ij(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Yv(e){var t=1,r=e(aj(t),ij(t));return r.constant=function(n){return arguments.length?e(aj(t=+n),ij(t)):t},Xs(r)}function iA(){var e=Yv(Bh());return e.copy=function(){return au(e,iA()).constant(e.constant())},Qr.apply(e,arguments)}function oj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function WK(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function HK(e){return e<0?-e*e:e*e}function Qv(e){var t=e(er,er),r=1;function n(){return r===1?e(er,er):r===.5?e(WK,HK):e(oj(r),oj(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},Xs(t)}function Xv(){var e=Qv(Bh());return e.copy=function(){return au(e,Xv()).exponent(e.exponent())},Qr.apply(e,arguments),e}function KK(){return Xv.apply(null,arguments).exponent(.5)}function lj(e){return Math.sign(e)*e*e}function VK(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function oA(){var e=Hv(),t=[0,1],r=!1,n;function s(i){var o=VK(e(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return e.invert(lj(i))},s.domain=function(i){return arguments.length?(e.domain(i),s):e.domain()},s.range=function(i){return arguments.length?(e.range((t=Array.from(i,uf)).map(lj)),s):t.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(e.clamp(i),s):e.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return oA(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Qr.apply(s,arguments),Xs(s)}function lA(){var e=[],t=[],r=[],n;function s(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=ZH(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[nu(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Us),s()},i.range=function(o){return arguments.length?(t=Array.from(o),s()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return lA().domain(e).range(t).unknown(n)},Qr.apply(i,arguments)}function cA(){var e=0,t=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[nu(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var u=s.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return cA().domain([e,t]).range(s).unknown(i)},Qr.apply(Xs(o),arguments)}function uA(){var e=[.5],t=[0,1],r,n=1;function s(i){return i!=null&&i<=i?t[nu(e,i,0,n)]:r}return s.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return uA().domain(e).range(t).unknown(r)},Qr.apply(s,arguments)}const dm=new Date,fm=new Date;function _t(e,t,r,n){function s(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(e(i=new Date(+i)),i),s.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let u;do c.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return c},s.filter=i=>_t(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(s.count=(i,o)=>(dm.setTime(+i),fm.setTime(+o),e(dm),e(fm),Math.floor(r(dm,fm))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const hf=_t(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);hf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_t(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):hf);hf.range;const qn=1e3,zr=qn*60,Wn=zr*60,es=Wn*24,Zv=es*7,cj=es*30,hm=es*365,va=_t(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*qn)},(e,t)=>(t-e)/qn,e=>e.getUTCSeconds());va.range;const Jv=_t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qn)},(e,t)=>{e.setTime(+e+t*zr)},(e,t)=>(t-e)/zr,e=>e.getMinutes());Jv.range;const ey=_t(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*zr)},(e,t)=>(t-e)/zr,e=>e.getUTCMinutes());ey.range;const ty=_t(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qn-e.getMinutes()*zr)},(e,t)=>{e.setTime(+e+t*Wn)},(e,t)=>(t-e)/Wn,e=>e.getHours());ty.range;const ry=_t(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Wn)},(e,t)=>(t-e)/Wn,e=>e.getUTCHours());ry.range;const iu=_t(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*zr)/es,e=>e.getDate()-1);iu.range;const zh=_t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/es,e=>e.getUTCDate()-1);zh.range;const dA=_t(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/es,e=>Math.floor(e/es));dA.range;function Ka(e){return _t(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*zr)/Zv)}const qh=Ka(0),pf=Ka(1),GK=Ka(2),YK=Ka(3),ro=Ka(4),QK=Ka(5),XK=Ka(6);qh.range;pf.range;GK.range;YK.range;ro.range;QK.range;XK.range;function Va(e){return _t(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Zv)}const Wh=Va(0),mf=Va(1),ZK=Va(2),JK=Va(3),no=Va(4),eV=Va(5),tV=Va(6);Wh.range;mf.range;ZK.range;JK.range;no.range;eV.range;tV.range;const ny=_t(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ny.range;const sy=_t(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());sy.range;const ts=_t(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ts.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_t(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ts.range;const rs=_t(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());rs.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:_t(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});rs.range;function fA(e,t,r,n,s,i){const o=[[va,1,qn],[va,5,5*qn],[va,15,15*qn],[va,30,30*qn],[i,1,zr],[i,5,5*zr],[i,15,15*zr],[i,30,30*zr],[s,1,Wn],[s,3,3*Wn],[s,6,6*Wn],[s,12,12*Wn],[n,1,es],[n,2,2*es],[r,1,Zv],[t,1,cj],[t,3,3*cj],[e,1,hm]];function l(u,f,d){const h=f<u;h&&([u,f]=[f,u]);const p=d&&typeof d.range=="function"?d:c(u,f,d),v=p?p.range(u,+f+1):[];return h?v.reverse():v}function c(u,f,d){const h=Math.abs(f-u)/d,p=Uv(([,,w])=>w).right(o,h);if(p===o.length)return e.every(lg(u/hm,f/hm,d));if(p===0)return hf.every(Math.max(lg(u,f,d),1));const[v,b]=o[h/o[p-1][2]<o[p][2]/h?p-1:p];return v.every(b)}return[l,c]}const[rV,nV]=fA(rs,sy,Wh,dA,ry,ey),[sV,aV]=fA(ts,ny,qh,iu,ty,Jv);function pm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function mm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function al(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function iV(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,i=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=il(s),f=ol(s),d=il(i),h=ol(i),p=il(o),v=ol(o),b=il(l),w=ol(l),j=il(c),x=ol(c),m={a:L,A:D,b:F,B:W,c:null,d:mj,e:mj,f:PV,g:FV,G:BV,H:OV,I:AV,j:EV,L:hA,m:CV,M:kV,p:G,q:K,Q:vj,s:yj,S:TV,u:$V,U:IV,V:RV,w:MV,W:DV,x:null,X:null,y:LV,Y:UV,Z:zV,"%":xj},_={a:Z,A:de,b:ke,B:Le,c:null,d:gj,e:gj,f:KV,g:rG,G:sG,H:qV,I:WV,j:HV,L:mA,m:VV,M:GV,p:lt,q:Nt,Q:vj,s:yj,S:YV,u:QV,U:XV,V:ZV,w:JV,W:eG,x:null,X:null,y:tG,Y:nG,Z:aG,"%":xj},g={a:P,A:T,b:E,B:C,c:k,d:hj,e:hj,f:jV,g:fj,G:dj,H:pj,I:pj,j:vV,L:wV,m:xV,M:yV,p:A,q:gV,Q:NV,s:SV,S:bV,u:dV,U:fV,V:hV,w:uV,W:pV,x:R,X:$,y:fj,Y:dj,Z:mV,"%":_V};m.x=y(r,m),m.X=y(n,m),m.c=y(t,m),_.x=y(r,_),_.X=y(n,_),_.c=y(t,_);function y(X,ce){return function(he){var q=[],je=-1,ge=0,M=X.length,re,ne,Ve;for(he instanceof Date||(he=new Date(+he));++je<M;)X.charCodeAt(je)===37&&(q.push(X.slice(ge,je)),(ne=uj[re=X.charAt(++je)])!=null?re=X.charAt(++je):ne=re==="e"?" ":"0",(Ve=ce[re])&&(re=Ve(he,ne)),q.push(re),ge=je+1);return q.push(X.slice(ge,je)),q.join("")}}function N(X,ce){return function(he){var q=al(1900,void 0,1),je=S(q,X,he+="",0),ge,M;if(je!=he.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(ce&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(ge=mm(al(q.y,0,1)),M=ge.getUTCDay(),ge=M>4||M===0?mf.ceil(ge):mf(ge),ge=zh.offset(ge,(q.V-1)*7),q.y=ge.getUTCFullYear(),q.m=ge.getUTCMonth(),q.d=ge.getUTCDate()+(q.w+6)%7):(ge=pm(al(q.y,0,1)),M=ge.getDay(),ge=M>4||M===0?pf.ceil(ge):pf(ge),ge=iu.offset(ge,(q.V-1)*7),q.y=ge.getFullYear(),q.m=ge.getMonth(),q.d=ge.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),M="Z"in q?mm(al(q.y,0,1)).getUTCDay():pm(al(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(M+5)%7:q.w+q.U*7-(M+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,mm(q)):pm(q)}}function S(X,ce,he,q){for(var je=0,ge=ce.length,M=he.length,re,ne;je<ge;){if(q>=M)return-1;if(re=ce.charCodeAt(je++),re===37){if(re=ce.charAt(je++),ne=g[re in uj?ce.charAt(je++):re],!ne||(q=ne(X,he,q))<0)return-1}else if(re!=he.charCodeAt(q++))return-1}return q}function A(X,ce,he){var q=u.exec(ce.slice(he));return q?(X.p=f.get(q[0].toLowerCase()),he+q[0].length):-1}function P(X,ce,he){var q=p.exec(ce.slice(he));return q?(X.w=v.get(q[0].toLowerCase()),he+q[0].length):-1}function T(X,ce,he){var q=d.exec(ce.slice(he));return q?(X.w=h.get(q[0].toLowerCase()),he+q[0].length):-1}function E(X,ce,he){var q=j.exec(ce.slice(he));return q?(X.m=x.get(q[0].toLowerCase()),he+q[0].length):-1}function C(X,ce,he){var q=b.exec(ce.slice(he));return q?(X.m=w.get(q[0].toLowerCase()),he+q[0].length):-1}function k(X,ce,he){return S(X,t,ce,he)}function R(X,ce,he){return S(X,r,ce,he)}function $(X,ce,he){return S(X,n,ce,he)}function L(X){return o[X.getDay()]}function D(X){return i[X.getDay()]}function F(X){return c[X.getMonth()]}function W(X){return l[X.getMonth()]}function G(X){return s[+(X.getHours()>=12)]}function K(X){return 1+~~(X.getMonth()/3)}function Z(X){return o[X.getUTCDay()]}function de(X){return i[X.getUTCDay()]}function ke(X){return c[X.getUTCMonth()]}function Le(X){return l[X.getUTCMonth()]}function lt(X){return s[+(X.getUTCHours()>=12)]}function Nt(X){return 1+~~(X.getUTCMonth()/3)}return{format:function(X){var ce=y(X+="",m);return ce.toString=function(){return X},ce},parse:function(X){var ce=N(X+="",!1);return ce.toString=function(){return X},ce},utcFormat:function(X){var ce=y(X+="",_);return ce.toString=function(){return X},ce},utcParse:function(X){var ce=N(X+="",!0);return ce.toString=function(){return X},ce}}}var uj={"-":"",_:" ",0:"0"},kt=/^\s*\d+/,oV=/^%/,lV=/[\\^$*+?|[\]().{}]/g;function Oe(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(t)+s:s)}function cV(e){return e.replace(lV,"\\$&")}function il(e){return new RegExp("^(?:"+e.map(cV).join("|")+")","i")}function ol(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function uV(e,t,r){var n=kt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function dV(e,t,r){var n=kt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function fV(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function hV(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function pV(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function dj(e,t,r){var n=kt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function fj(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function mV(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function gV(e,t,r){var n=kt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function xV(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function hj(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function vV(e,t,r){var n=kt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function pj(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function yV(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function bV(e,t,r){var n=kt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function wV(e,t,r){var n=kt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function jV(e,t,r){var n=kt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function _V(e,t,r){var n=oV.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function NV(e,t,r){var n=kt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function SV(e,t,r){var n=kt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function mj(e,t){return Oe(e.getDate(),t,2)}function OV(e,t){return Oe(e.getHours(),t,2)}function AV(e,t){return Oe(e.getHours()%12||12,t,2)}function EV(e,t){return Oe(1+iu.count(ts(e),e),t,3)}function hA(e,t){return Oe(e.getMilliseconds(),t,3)}function PV(e,t){return hA(e,t)+"000"}function CV(e,t){return Oe(e.getMonth()+1,t,2)}function kV(e,t){return Oe(e.getMinutes(),t,2)}function TV(e,t){return Oe(e.getSeconds(),t,2)}function $V(e){var t=e.getDay();return t===0?7:t}function IV(e,t){return Oe(qh.count(ts(e)-1,e),t,2)}function pA(e){var t=e.getDay();return t>=4||t===0?ro(e):ro.ceil(e)}function RV(e,t){return e=pA(e),Oe(ro.count(ts(e),e)+(ts(e).getDay()===4),t,2)}function MV(e){return e.getDay()}function DV(e,t){return Oe(pf.count(ts(e)-1,e),t,2)}function LV(e,t){return Oe(e.getFullYear()%100,t,2)}function FV(e,t){return e=pA(e),Oe(e.getFullYear()%100,t,2)}function UV(e,t){return Oe(e.getFullYear()%1e4,t,4)}function BV(e,t){var r=e.getDay();return e=r>=4||r===0?ro(e):ro.ceil(e),Oe(e.getFullYear()%1e4,t,4)}function zV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Oe(t/60|0,"0",2)+Oe(t%60,"0",2)}function gj(e,t){return Oe(e.getUTCDate(),t,2)}function qV(e,t){return Oe(e.getUTCHours(),t,2)}function WV(e,t){return Oe(e.getUTCHours()%12||12,t,2)}function HV(e,t){return Oe(1+zh.count(rs(e),e),t,3)}function mA(e,t){return Oe(e.getUTCMilliseconds(),t,3)}function KV(e,t){return mA(e,t)+"000"}function VV(e,t){return Oe(e.getUTCMonth()+1,t,2)}function GV(e,t){return Oe(e.getUTCMinutes(),t,2)}function YV(e,t){return Oe(e.getUTCSeconds(),t,2)}function QV(e){var t=e.getUTCDay();return t===0?7:t}function XV(e,t){return Oe(Wh.count(rs(e)-1,e),t,2)}function gA(e){var t=e.getUTCDay();return t>=4||t===0?no(e):no.ceil(e)}function ZV(e,t){return e=gA(e),Oe(no.count(rs(e),e)+(rs(e).getUTCDay()===4),t,2)}function JV(e){return e.getUTCDay()}function eG(e,t){return Oe(mf.count(rs(e)-1,e),t,2)}function tG(e,t){return Oe(e.getUTCFullYear()%100,t,2)}function rG(e,t){return e=gA(e),Oe(e.getUTCFullYear()%100,t,2)}function nG(e,t){return Oe(e.getUTCFullYear()%1e4,t,4)}function sG(e,t){var r=e.getUTCDay();return e=r>=4||r===0?no(e):no.ceil(e),Oe(e.getUTCFullYear()%1e4,t,4)}function aG(){return"+0000"}function xj(){return"%"}function vj(e){return+e}function yj(e){return Math.floor(+e/1e3)}var si,xA,vA;iG({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function iG(e){return si=iV(e),xA=si.format,si.parse,vA=si.utcFormat,si.utcParse,si}function oG(e){return new Date(e)}function lG(e){return e instanceof Date?+e:+new Date(+e)}function ay(e,t,r,n,s,i,o,l,c,u){var f=Hv(),d=f.invert,h=f.domain,p=u(".%L"),v=u(":%S"),b=u("%I:%M"),w=u("%I %p"),j=u("%a %d"),x=u("%b %d"),m=u("%B"),_=u("%Y");function g(y){return(c(y)<y?p:l(y)<y?v:o(y)<y?b:i(y)<y?w:n(y)<y?s(y)<y?j:x:r(y)<y?m:_)(y)}return f.invert=function(y){return new Date(d(y))},f.domain=function(y){return arguments.length?h(Array.from(y,lG)):h().map(oG)},f.ticks=function(y){var N=h();return e(N[0],N[N.length-1],y??10)},f.tickFormat=function(y,N){return N==null?g:u(N)},f.nice=function(y){var N=h();return(!y||typeof y.range!="function")&&(y=t(N[0],N[N.length-1],y??10)),y?h(sA(N,y)):f},f.copy=function(){return au(f,ay(e,t,r,n,s,i,o,l,c,u))},f}function cG(){return Qr.apply(ay(sV,aV,ts,ny,qh,iu,ty,Jv,va,xA).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function uG(){return Qr.apply(ay(rV,nV,rs,sy,Wh,zh,ry,ey,va,vA).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Hh(){var e=0,t=1,r,n,s,i,o=er,l=!1,c;function u(d){return d==null||isNaN(d=+d)?c:o(s===0?.5:(d=(i(d)-r)*s,l?Math.max(0,Math.min(1,d)):d))}u.domain=function(d){return arguments.length?([e,t]=d,r=i(e=+e),n=i(t=+t),s=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(d){return arguments.length?(l=!!d,u):l},u.interpolator=function(d){return arguments.length?(o=d,u):o};function f(d){return function(h){var p,v;return arguments.length?([p,v]=h,o=d(p,v),u):[o(0),o(1)]}}return u.range=f(Uo),u.rangeRound=f(Wv),u.unknown=function(d){return arguments.length?(c=d,u):c},function(d){return i=d,r=d(e),n=d(t),s=r===n?0:1/(n-r),u}}function Zs(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function yA(){var e=Xs(Hh()(er));return e.copy=function(){return Zs(e,yA())},ls.apply(e,arguments)}function bA(){var e=Gv(Hh()).domain([1,10]);return e.copy=function(){return Zs(e,bA()).base(e.base())},ls.apply(e,arguments)}function wA(){var e=Yv(Hh());return e.copy=function(){return Zs(e,wA()).constant(e.constant())},ls.apply(e,arguments)}function iy(){var e=Qv(Hh());return e.copy=function(){return Zs(e,iy()).exponent(e.exponent())},ls.apply(e,arguments)}function dG(){return iy.apply(null,arguments).exponent(.5)}function jA(){var e=[],t=er;function r(n){if(n!=null&&!isNaN(n=+n))return t((nu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Us),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>XH(e,i/n))},r.copy=function(){return jA(t).domain(e)},ls.apply(r,arguments)}function Kh(){var e=0,t=.5,r=1,n=1,s,i,o,l,c,u=er,f,d=!1,h;function p(b){return isNaN(b=+b)?h:(b=.5+((b=+f(b))-i)*(n*b<n*i?l:c),u(d?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([e,t,r]=b,s=f(e=+e),i=f(t=+t),o=f(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p):[e,t,r]},p.clamp=function(b){return arguments.length?(d=!!b,p):d},p.interpolator=function(b){return arguments.length?(u=b,p):u};function v(b){return function(w){var j,x,m;return arguments.length?([j,x,m]=w,u=_K(b,[j,x,m]),p):[u(0),u(.5),u(1)]}}return p.range=v(Uo),p.rangeRound=v(Wv),p.unknown=function(b){return arguments.length?(h=b,p):h},function(b){return f=b,s=b(e),i=b(t),o=b(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,p}}function _A(){var e=Xs(Kh()(er));return e.copy=function(){return Zs(e,_A())},ls.apply(e,arguments)}function NA(){var e=Gv(Kh()).domain([.1,1,10]);return e.copy=function(){return Zs(e,NA()).base(e.base())},ls.apply(e,arguments)}function SA(){var e=Yv(Kh());return e.copy=function(){return Zs(e,SA()).constant(e.constant())},ls.apply(e,arguments)}function oy(){var e=Qv(Kh());return e.copy=function(){return Zs(e,oy()).exponent(e.exponent())},ls.apply(e,arguments)}function fG(){return oy.apply(null,arguments).exponent(.5)}const bj=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:mc,scaleDiverging:_A,scaleDivergingLog:NA,scaleDivergingPow:oy,scaleDivergingSqrt:fG,scaleDivergingSymlog:SA,scaleIdentity:nA,scaleImplicit:cg,scaleLinear:ff,scaleLog:aA,scaleOrdinal:Bv,scalePoint:Tl,scalePow:Xv,scaleQuantile:lA,scaleQuantize:cA,scaleRadial:oA,scaleSequential:yA,scaleSequentialLog:bA,scaleSequentialPow:iy,scaleSequentialQuantile:jA,scaleSequentialSqrt:dG,scaleSequentialSymlog:wA,scaleSqrt:KK,scaleSymlog:iA,scaleThreshold:uA,scaleTime:cG,scaleUtc:uG,tickFormat:rA},Symbol.toStringTag,{value:"Module"}));var hG=ko;function pG(e,t,r){for(var n=-1,s=e.length;++n<s;){var i=e[n],o=t(i);if(o!=null&&(l===void 0?o===o&&!hG(o):r(o,l)))var l=o,c=i}return c}var Vh=pG;function mG(e,t){return e>t}var OA=mG,gG=Vh,xG=OA,vG=Fo;function yG(e){return e&&e.length?gG(e,vG,xG):void 0}var bG=yG;const Gh=$e(bG);function wG(e,t){return e<t}var AA=wG,jG=Vh,_G=AA,NG=Fo;function SG(e){return e&&e.length?jG(e,NG,_G):void 0}var OG=SG;const Yh=$e(OG);var AG=wv,EG=kn,PG=RO,CG=mr;function kG(e,t){var r=CG(e)?AG:PG;return r(e,EG(t))}var TG=kG,$G=$O,IG=TG;function RG(e,t){return $G(IG(e,t),1)}var MG=RG;const DG=$e(MG);var LG=Mv;function FG(e,t){return LG(e,t)}var UG=FG;const ou=$e(UG);var Bo=1e9,BG={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},cy,rt=!0,Vr="[DecimalError] ",Na=Vr+"Invalid argument: ",ly=Vr+"Exponent out of range: ",zo=Math.floor,ua=Math.pow,zG=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,wr,Ot=1e7,Xe=7,EA=9007199254740991,gf=zo(EA/Xe),te={};te.absoluteValue=te.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};te.comparedTo=te.cmp=function(e){var t,r,n,s,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};te.decimalPlaces=te.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Xe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};te.dividedBy=te.div=function(e){return Gn(this,new this.constructor(e))};te.dividedToIntegerBy=te.idiv=function(e){var t=this,r=t.constructor;return De(Gn(t,new r(e),0,1),r.precision)};te.equals=te.eq=function(e){return!this.cmp(e)};te.exponent=function(){return gt(this)};te.greaterThan=te.gt=function(e){return this.cmp(e)>0};te.greaterThanOrEqualTo=te.gte=function(e){return this.cmp(e)>=0};te.isInteger=te.isint=function(){return this.e>this.d.length-2};te.isNegative=te.isneg=function(){return this.s<0};te.isPositive=te.ispos=function(){return this.s>0};te.isZero=function(){return this.s===0};te.lessThan=te.lt=function(e){return this.cmp(e)<0};te.lessThanOrEqualTo=te.lte=function(e){return this.cmp(e)<1};te.logarithm=te.log=function(e){var t,r=this,n=r.constructor,s=n.precision,i=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(wr))throw Error(Vr+"NaN");if(r.s<1)throw Error(Vr+(r.s?"NaN":"-Infinity"));return r.eq(wr)?new n(0):(rt=!1,t=Gn(bc(r,i),bc(e,i),i),rt=!0,De(t,s))};te.minus=te.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?kA(t,e):PA(t,(e.s=-e.s,e))};te.modulo=te.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(Vr+"NaN");return r.s?(rt=!1,t=Gn(r,e,0,1).times(e),rt=!0,r.minus(t)):De(new n(r),s)};te.naturalExponential=te.exp=function(){return CA(this)};te.naturalLogarithm=te.ln=function(){return bc(this)};te.negated=te.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};te.plus=te.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?PA(t,e):kA(t,(e.s=-e.s,e))};te.precision=te.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Na+e);if(t=gt(s)+1,n=s.d.length-1,r=n*Xe+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};te.squareRoot=te.sqrt=function(){var e,t,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Vr+"NaN")}for(e=gt(l),rt=!1,s=Math.sqrt(+l),s==0||s==1/0?(t=jn(l.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=zo((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Gn(l,i,o+2)).times(.5),jn(i.d).slice(0,o)===(t=jn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),s==o&&t=="4999"){if(De(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return rt=!0,De(n,r)};te.times=te.mul=function(e){var t,r,n,s,i,o,l,c,u,f=this,d=f.constructor,h=f.d,p=(e=new d(e)).d;if(!f.s||!e.s)return new d(0);for(e.s*=f.s,r=f.e+e.e,c=h.length,u=p.length,c<u&&(i=h,h=p,p=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,s=c+n;s>n;)l=i[s]+p[n]*h[s-n-1]+t,i[s--]=l%Ot|0,t=l/Ot|0;i[s]=(i[s]+t)%Ot|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,rt?De(e,d.precision):e};te.toDecimalPlaces=te.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(En(e,0,Bo),t===void 0?t=n.rounding:En(t,0,8),De(r,e+gt(r)+1,t))};te.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=La(n,!0):(En(e,0,Bo),t===void 0?t=s.rounding:En(t,0,8),n=De(new s(n),e+1,t),r=La(n,!0,e+1)),r};te.toFixed=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?La(s):(En(e,0,Bo),t===void 0?t=i.rounding:En(t,0,8),n=De(new i(s),e+gt(s)+1,t),r=La(n.abs(),!1,e+gt(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};te.toInteger=te.toint=function(){var e=this,t=e.constructor;return De(new t(e),gt(e)+1,t.rounding)};te.toNumber=function(){return+this};te.toPower=te.pow=function(e){var t,r,n,s,i,o,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(wr);if(l=new c(l),!l.s){if(e.s<1)throw Error(Vr+"Infinity");return l}if(l.eq(wr))return l;if(n=c.precision,e.eq(wr))return De(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=f<0?-f:f)<=EA){for(s=new c(wr),t=Math.ceil(n/Xe+4),rt=!1;r%2&&(s=s.times(l),jj(s.d,t)),r=zo(r/2),r!==0;)l=l.times(l),jj(l.d,t);return rt=!0,e.s<0?new c(wr).div(s):De(s,n)}}else if(i<0)throw Error(Vr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,rt=!1,s=e.times(bc(l,n+u)),rt=!0,s=CA(s),s.s=i,s};te.toPrecision=function(e,t){var r,n,s=this,i=s.constructor;return e===void 0?(r=gt(s),n=La(s,r<=i.toExpNeg||r>=i.toExpPos)):(En(e,1,Bo),t===void 0?t=i.rounding:En(t,0,8),s=De(new i(s),e,t),r=gt(s),n=La(s,e<=r||r<=i.toExpNeg,e)),n};te.toSignificantDigits=te.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(En(e,1,Bo),t===void 0?t=n.rounding:En(t,0,8)),De(new n(r),e,t)};te.toString=te.valueOf=te.val=te.toJSON=te[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=gt(e),r=e.constructor;return La(e,t<=r.toExpNeg||t>=r.toExpPos)};function PA(e,t){var r,n,s,i,o,l,c,u,f=e.constructor,d=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),rt?De(t,d):t;if(c=e.d,u=t.d,o=e.e,s=t.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,s=o,l=c.length),o=Math.ceil(d/Xe),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Ot|0,c[i]%=Ot;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=s,rt?De(t,d):t}function En(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Na+e)}function jn(e){var t,r,n,s=e.length-1,i="",o=e[0];if(s>0){for(i+=o,t=1;t<s;t++)n=e[t]+"",r=Xe-n.length,r&&(i+=vs(r)),i+=n;o=e[t],n=o+"",r=Xe-n.length,r&&(i+=vs(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Gn=function(){function e(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Ot|0,o=i/Ot|0;return o&&n.unshift(o),n}function t(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Ot+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,u,f,d,h,p,v,b,w,j,x,m,_,g,y,N,S,A=n.constructor,P=n.s==s.s?1:-1,T=n.d,E=s.d;if(!n.s)return new A(n);if(!s.s)throw Error(Vr+"Division by zero");for(c=n.e-s.e,N=E.length,g=T.length,p=new A(P),v=p.d=[],u=0;E[u]==(T[u]||0);)++u;if(E[u]>(T[u]||0)&&--c,i==null?x=i=A.precision:o?x=i+(gt(n)-gt(s))+1:x=i,x<0)return new A(0);if(x=x/Xe+2|0,u=0,N==1)for(f=0,E=E[0],x++;(u<g||f)&&x--;u++)m=f*Ot+(T[u]||0),v[u]=m/E|0,f=m%E|0;else{for(f=Ot/(E[0]+1)|0,f>1&&(E=e(E,f),T=e(T,f),N=E.length,g=T.length),_=N,b=T.slice(0,N),w=b.length;w<N;)b[w++]=0;S=E.slice(),S.unshift(0),y=E[0],E[1]>=Ot/2&&++y;do f=0,l=t(E,b,N,w),l<0?(j=b[0],N!=w&&(j=j*Ot+(b[1]||0)),f=j/y|0,f>1?(f>=Ot&&(f=Ot-1),d=e(E,f),h=d.length,w=b.length,l=t(d,b,h,w),l==1&&(f--,r(d,N<h?S:E,h))):(f==0&&(l=f=1),d=E.slice()),h=d.length,h<w&&d.unshift(0),r(b,d,w),l==-1&&(w=b.length,l=t(E,b,N,w),l<1&&(f++,r(b,N<w?S:E,w))),w=b.length):l===0&&(f++,b=[0]),v[u++]=f,l&&b[0]?b[w++]=T[_]||0:(b=[T[_]],w=1);while((_++<g||b[0]!==void 0)&&x--)}return v[0]||v.shift(),p.e=c,De(p,o?i+gt(p)+1:i)}}();function CA(e,t){var r,n,s,i,o,l,c=0,u=0,f=e.constructor,d=f.precision;if(gt(e)>16)throw Error(ly+gt(e));if(!e.s)return new f(wr);for(t==null?(rt=!1,l=d):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ua(2,u))/Math.LN10*2+5|0,l+=n,r=s=i=new f(wr),f.precision=l;;){if(s=De(s.times(e),l),r=r.times(++c),o=i.plus(Gn(s,r,l)),jn(o.d).slice(0,l)===jn(i.d).slice(0,l)){for(;u--;)i=De(i.times(i),l);return f.precision=d,t==null?(rt=!0,De(i,d)):i}i=o}}function gt(e){for(var t=e.e*Xe,r=e.d[0];r>=10;r/=10)t++;return t}function gm(e,t,r){if(t>e.LN10.sd())throw rt=!0,r&&(e.precision=r),Error(Vr+"LN10 precision limit exceeded");return De(new e(e.LN10),t)}function vs(e){for(var t="";e--;)t+="0";return t}function bc(e,t){var r,n,s,i,o,l,c,u,f,d=1,h=10,p=e,v=p.d,b=p.constructor,w=b.precision;if(p.s<1)throw Error(Vr+(p.s?"NaN":"-Infinity"));if(p.eq(wr))return new b(0);if(t==null?(rt=!1,u=w):u=t,p.eq(10))return t==null&&(rt=!0),gm(b,u);if(u+=h,b.precision=u,r=jn(v),n=r.charAt(0),i=gt(p),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(e),r=jn(p.d),n=r.charAt(0),d++;i=gt(p),n>1?(p=new b("0."+r),i++):p=new b(n+"."+r.slice(1))}else return c=gm(b,u+2,w).times(i+""),p=bc(new b(n+"."+r.slice(1)),u-h).plus(c),b.precision=w,t==null?(rt=!0,De(p,w)):p;for(l=o=p=Gn(p.minus(wr),p.plus(wr),u),f=De(p.times(p),u),s=3;;){if(o=De(o.times(f),u),c=l.plus(Gn(o,new b(s),u)),jn(c.d).slice(0,u)===jn(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(gm(b,u+2,w).times(i+""))),l=Gn(l,new b(d),u),b.precision=w,t==null?(rt=!0,De(l,w)):l;l=c,s+=2}}function wj(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=zo(r/Xe),e.d=[],n=(r+1)%Xe,r<0&&(n+=Xe),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=Xe;n<s;)e.d.push(+t.slice(n,n+=Xe));t=t.slice(n),n=Xe-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),rt&&(e.e>gf||e.e<-gf))throw Error(ly+r)}else e.s=0,e.e=0,e.d=[0];return e}function De(e,t,r){var n,s,i,o,l,c,u,f,d=e.d;for(o=1,i=d[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Xe,s=t,u=d[f=0];else{if(f=Math.ceil((n+1)/Xe),i=d.length,f>=i)return e;for(u=i=d[f],o=1;i>=10;i/=10)o++;n%=Xe,s=n-Xe+o}if(r!==void 0&&(i=ua(10,o-s-1),l=u/i%10|0,c=t<0||d[f+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?u/ua(10,o-s):0:d[f-1])%10&1||r==(e.s<0?8:7))),t<1||!d[0])return c?(i=gt(e),d.length=1,t=t-i-1,d[0]=ua(10,(Xe-t%Xe)%Xe),e.e=zo(-t/Xe)||0):(d.length=1,d[0]=e.e=e.s=0),e;if(n==0?(d.length=f,i=1,f--):(d.length=f+1,i=ua(10,Xe-n),d[f]=s>0?(u/ua(10,o-s)%ua(10,s)|0)*i:0),c)for(;;)if(f==0){(d[0]+=i)==Ot&&(d[0]=1,++e.e);break}else{if(d[f]+=i,d[f]!=Ot)break;d[f--]=0,i=1}for(n=d.length;d[--n]===0;)d.pop();if(rt&&(e.e>gf||e.e<-gf))throw Error(ly+gt(e));return e}function kA(e,t){var r,n,s,i,o,l,c,u,f,d,h=e.constructor,p=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),rt?De(t,p):t;if(c=e.d,d=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(f=o<0,f?(r=c,o=-o,l=d.length):(r=d,n=u,l=c.length),s=Math.max(Math.ceil(p/Xe),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=d.length,f=s<l,f&&(l=s),s=0;s<l;s++)if(c[s]!=d[s]){f=c[s]<d[s];break}o=0}for(f&&(r=c,c=d,d=r,t.s=-t.s),l=c.length,s=d.length-l;s>0;--s)c[l++]=0;for(s=d.length;s>o;){if(c[--s]<d[s]){for(i=s;i&&c[--i]===0;)c[i]=Ot-1;--c[i],c[s]+=Ot}c[s]-=d[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,rt?De(t,p):t):new h(0)}function La(e,t,r){var n,s=gt(e),i=jn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+vs(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+vs(-s-1)+i,r&&(n=r-o)>0&&(i+=vs(n))):s>=o?(i+=vs(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+vs(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=vs(n))),e.s<0?"-"+i:i}function jj(e,t){if(e.length>t)return e.length=t,!0}function TA(e){var t,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Na+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return wj(o,i.toString())}else if(typeof i!="string")throw Error(Na+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,zG.test(i))wj(o,i);else throw Error(Na+i)}if(s.prototype=te,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=TA,s.config=s.set=qG,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function qG(e){if(!e||typeof e!="object")throw Error(Vr+"Object expected");var t,r,n,s=["precision",1,Bo,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(zo(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Na+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Na+r+": "+n);return this}var cy=TA(BG);wr=new cy(1);const Re=cy;function WG(e){return GG(e)||VG(e)||KG(e)||HG()}function HG(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function KG(e,t){if(e){if(typeof e=="string")return hg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hg(e,t)}}function VG(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function GG(e){if(Array.isArray(e))return hg(e)}function hg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var YG=function(t){return t},$A={"@@functional/placeholder":!0},IA=function(t){return t===$A},_j=function(t){return function r(){return arguments.length===0||arguments.length===1&&IA(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},QG=function e(t,r){return t===1?r:_j(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==$A}).length;return o>=t?r.apply(void 0,s):e(t-o,_j(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=s.map(function(d){return IA(d)?c.shift():d});return r.apply(void 0,WG(f).concat(c))}))})},Qh=function(t){return QG(t.length,t)},pg=function(t,r){for(var n=[],s=t;s<r;++s)n[s-t]=s;return n},XG=Qh(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),ZG=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return YG;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},mg=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},RA=function(t){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=t.apply(void 0,i)),n}};function JG(e){var t;return e===0?t=1:t=Math.floor(new Re(e).abs().log(10).toNumber())+1,t}function eY(e,t,r){for(var n=new Re(e),s=0,i=[];n.lt(t)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var tY=Qh(function(e,t,r){var n=+e,s=+t;return n+r*(s-n)}),rY=Qh(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),nY=Qh(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const Xh={rangeStep:eY,getDigitCount:JG,interpolateNumber:tY,uninterpolateNumber:rY,uninterpolateTruncation:nY};function gg(e){return iY(e)||aY(e)||MA(e)||sY()}function sY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aY(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function iY(e){if(Array.isArray(e))return xg(e)}function wc(e,t){return cY(e)||lY(e,t)||MA(e,t)||oY()}function oY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MA(e,t){if(e){if(typeof e=="string")return xg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xg(e,t)}}function xg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lY(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function cY(e){if(Array.isArray(e))return e}function DA(e){var t=wc(e,2),r=t[0],n=t[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function LA(e,t,r){if(e.lte(0))return new Re(0);var n=Xh.getDigitCount(e.toNumber()),s=new Re(10).pow(n),i=e.div(s),o=n!==1?.05:.1,l=new Re(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return t?c:new Re(Math.ceil(c))}function uY(e,t,r){var n=1,s=new Re(e);if(!s.isint()&&r){var i=Math.abs(e);i<1?(n=new Re(10).pow(Xh.getDigitCount(e)-1),s=new Re(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Re(Math.floor(e)))}else e===0?s=new Re(Math.floor((t-1)/2)):r||(s=new Re(Math.floor(e)));var o=Math.floor((t-1)/2),l=ZG(XG(function(c){return s.add(new Re(c-o).mul(n)).toNumber()}),pg);return l(0,t)}function FA(e,t,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Re(0),tickMin:new Re(0),tickMax:new Re(0)};var i=LA(new Re(t).sub(e).div(r-1),n,s),o;e<=0&&t>=0?o=new Re(0):(o=new Re(e).add(t).div(2),o=o.sub(new Re(o).mod(i)));var l=Math.ceil(o.sub(e).div(i).toNumber()),c=Math.ceil(new Re(t).sub(o).div(i).toNumber()),u=l+c+1;return u>r?FA(e,t,r,n,s+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:i,tickMin:o.sub(new Re(l).mul(i)),tickMax:o.add(new Re(c).mul(i))})}function dY(e){var t=wc(e,2),r=t[0],n=t[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=DA([r,n]),c=wc(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var d=f===1/0?[u].concat(gg(pg(0,s-1).map(function(){return 1/0}))):[].concat(gg(pg(0,s-1).map(function(){return-1/0})),[f]);return r>n?mg(d):d}if(u===f)return uY(u,s,i);var h=FA(u,f,o,i),p=h.step,v=h.tickMin,b=h.tickMax,w=Xh.rangeStep(v,b.add(new Re(.1).mul(p)),p);return r>n?mg(w):w}function fY(e,t){var r=wc(e,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=DA([n,s]),l=wc(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,s];if(c===u)return[c];var f=Math.max(t,2),d=LA(new Re(u).sub(c).div(f-1),i,0),h=[].concat(gg(Xh.rangeStep(new Re(c),new Re(u).sub(new Re(.99).mul(d)),d)),[u]);return n>s?mg(h):h}var hY=RA(dY),pY=RA(fY),mY="Invariant failed";function Fa(e,t){throw new Error(mY)}var gY=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function so(e){"@babel/helpers - typeof";return so=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},so(e)}function xf(){return xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xf.apply(this,arguments)}function xY(e,t){return wY(e)||bY(e,t)||yY(e,t)||vY()}function vY(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yY(e,t){if(e){if(typeof e=="string")return Nj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Nj(e,t)}}function Nj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bY(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function wY(e){if(Array.isArray(e))return e}function jY(e,t){if(e==null)return{};var r=_Y(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Y(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function NY(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SY(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,zA(n.key),n)}}function OY(e,t,r){return t&&SY(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function AY(e,t,r){return t=vf(t),EY(e,UA()?Reflect.construct(t,r||[],vf(e).constructor):t.apply(e,r))}function EY(e,t){if(t&&(so(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PY(e)}function PY(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function UA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UA=function(){return!!e})()}function vf(e){return vf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},vf(e)}function CY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vg(e,t)}function vg(e,t){return vg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},vg(e,t)}function BA(e,t,r){return t=zA(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zA(e){var t=kY(e,"string");return so(t)=="symbol"?t:t+""}function kY(e,t){if(so(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(so(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lu=function(e){function t(){return NY(this,t),AY(this,t,arguments)}return CY(t,e),OY(t,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,d=n.yAxis,h=jY(n,gY),p=ie(h,!1);this.props.direction==="x"&&f.type!=="number"&&Fa();var v=c.map(function(b){var w=u(b,l),j=w.x,x=w.y,m=w.value,_=w.errorVal;if(!_)return null;var g=[],y,N;if(Array.isArray(_)){var S=xY(_,2);y=S[0],N=S[1]}else y=N=_;if(i==="vertical"){var A=f.scale,P=x+s,T=P+o,E=P-o,C=A(m-y),k=A(m+N);g.push({x1:k,y1:T,x2:k,y2:E}),g.push({x1:C,y1:P,x2:k,y2:P}),g.push({x1:C,y1:T,x2:C,y2:E})}else if(i==="horizontal"){var R=d.scale,$=j+s,L=$-o,D=$+o,F=R(m-y),W=R(m+N);g.push({x1:L,y1:W,x2:D,y2:W}),g.push({x1:$,y1:F,x2:$,y2:W}),g.push({x1:L,y1:F,x2:D,y2:F})}return I.createElement(Se,xf({className:"recharts-errorBar",key:"bar-".concat(g.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},p),g.map(function(G){return I.createElement("line",xf({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return I.createElement(Se,{className:"recharts-errorBars"},v)}}])}(I.Component);BA(lu,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});BA(lu,"displayName","ErrorBar");function jc(e){"@babel/helpers - typeof";return jc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jc(e)}function Sj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Sj(Object(r),!0).forEach(function(n){TY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Sj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TY(e,t,r){return t=$Y(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Y(e){var t=IY(e,"string");return jc(t)=="symbol"?t:t+""}function IY(e,t){if(jc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(jc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qA=function(t){var r=t.children,n=t.formattedGraphicalItems,s=t.legendWidth,i=t.legendContent,o=yr(r,Mi);if(!o)return null;var l=Mi.defaultProps,c=l!==void 0?ra(ra({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:i==="children"?u=(n||[]).reduce(function(f,d){var h=d.item,p=d.props,v=p.sectors||p.data||[];return f.concat(v.map(function(b){return{type:o.props.iconType||h.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(n||[]).map(function(f){var d=f.item,h=d.type.defaultProps,p=h!==void 0?ra(ra({},h),d.props):{},v=p.dataKey,b=p.name,w=p.legendType,j=p.hide;return{inactive:j,dataKey:v,type:c.iconType||w||"square",color:uy(d),value:b||v,payload:p}}),ra(ra(ra({},c),Mi.getWithHeight(o,s)),{},{payload:u,item:o})};function _c(e){"@babel/helpers - typeof";return _c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_c(e)}function Oj(e){return LY(e)||DY(e)||MY(e)||RY()}function RY(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MY(e,t){if(e){if(typeof e=="string")return yg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yg(e,t)}}function DY(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LY(e){if(Array.isArray(e))return yg(e)}function yg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Aj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aj(Object(r),!0).forEach(function(n){Li(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Li(e,t,r){return t=FY(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function FY(e){var t=UY(e,"string");return _c(t)=="symbol"?t:t+""}function UY(e,t){if(_c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(_c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bt(e,t,r){return fe(e)||fe(t)?r:jt(t)?Nr(e,t,r):le(t)?t(e):r}function $l(e,t,r,n){var s=DG(e,function(l){return bt(l,t)});if(r==="number"){var i=s.filter(function(l){return V(l)||parseFloat(l)});return i.length?[Yh(i),Gh(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!fe(l)}):s;return o.map(function(l){return jt(l)||l instanceof Date?l:""})}var BY=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var f=u>0?s[u-1].coordinate:s[l-1].coordinate,d=s[u].coordinate,h=u>=l-1?s[0].coordinate:s[u+1].coordinate,p=void 0;if(Zt(d-f)!==Zt(h-d)){var v=[];if(Zt(h-d)===Zt(c[1]-c[0])){p=h;var b=d+c[1]-c[0];v[0]=Math.min(b,(b+f)/2),v[1]=Math.max(b,(b+f)/2)}else{p=f;var w=h+c[1]-c[0];v[0]=Math.min(d,(w+d)/2),v[1]=Math.max(d,(w+d)/2)}var j=[Math.min(d,(p+d)/2),Math.max(d,(p+d)/2)];if(t>j[0]&&t<=j[1]||t>=v[0]&&t<=v[1]){o=s[u].index;break}}else{var x=Math.min(f,h),m=Math.max(f,h);if(t>(x+d)/2&&t<=(m+d)/2){o=s[u].index;break}}}else for(var _=0;_<l;_++)if(_===0&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_>0&&_<l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2&&t<=(n[_].coordinate+n[_+1].coordinate)/2||_===l-1&&t>(n[_].coordinate+n[_-1].coordinate)/2){o=n[_].index;break}return o},uy=function(t){var r,n=t,s=n.type.displayName,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?ut(ut({},t.type.defaultProps),t.props):t.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},zY=function(t){var r=t.barSize,n=t.totalSize,s=t.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var f=i[l[c]].stackGroups,d=Object.keys(f),h=0,p=d.length;h<p;h++){var v=f[d[h]],b=v.items,w=v.cateAxisId,j=b.filter(function(N){return Vn(N.type).indexOf("Bar")>=0});if(j&&j.length){var x=j[0].type.defaultProps,m=x!==void 0?ut(ut({},x),j[0].props):j[0].props,_=m.barSize,g=m[w];o[g]||(o[g]=[]);var y=fe(_)?r:_;o[g].push({item:j[0],stackList:j.slice(1),barSize:fe(y)?void 0:Jt(y,n,0)})}}return o},qY=function(t){var r=t.barGap,n=t.barCategoryGap,s=t.bandSize,i=t.sizeList,o=i===void 0?[]:i,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=Jt(r,s,0,!0),f,d=[];if(o[0].barSize===+o[0].barSize){var h=!1,p=s/c,v=o.reduce(function(_,g){return _+g.barSize||0},0);v+=(c-1)*u,v>=s&&(v-=(c-1)*u,u=0),v>=s&&p>0&&(h=!0,p*=.9,v=c*p);var b=(s-v)/2>>0,w={offset:b-u,size:0};f=o.reduce(function(_,g){var y={item:g.item,position:{offset:w.offset+w.size+u,size:h?p:g.barSize}},N=[].concat(Oj(_),[y]);return w=N[N.length-1].position,g.stackList&&g.stackList.length&&g.stackList.forEach(function(S){N.push({item:S,position:w})}),N},d)}else{var j=Jt(n,s,0,!0);s-2*j-(c-1)*u<=0&&(u=0);var x=(s-2*j-(c-1)*u)/c;x>1&&(x>>=0);var m=l===+l?Math.min(x,l):x;f=o.reduce(function(_,g,y){var N=[].concat(Oj(_),[{item:g.item,position:{offset:j+(x+u)*y+(x-m)/2,size:m}}]);return g.stackList&&g.stackList.length&&g.stackList.forEach(function(S){N.push({item:S,position:N[N.length-1].position})}),N},d)}return f},WY=function(t,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=qA({children:i,legendWidth:c});if(u){var f=s||{},d=f.width,h=f.height,p=u.align,v=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&p!=="center"&&V(t[p]))return ut(ut({},t),{},Li({},p,t[p]+(d||0)));if((b==="horizontal"||b==="vertical"&&p==="center")&&v!=="middle"&&V(t[v]))return ut(ut({},t),{},Li({},v,t[v]+(h||0)))}return t},HY=function(t,r,n){return fe(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},WA=function(t,r,n,s,i){var o=r.props.children,l=Sr(o,lu).filter(function(u){return HY(s,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var d=bt(f,n);if(fe(d))return u;var h=Array.isArray(d)?[Yh(d),Gh(d)]:[d,d],p=c.reduce(function(v,b){var w=bt(f,b,0),j=h[0]-Math.abs(Array.isArray(w)?w[0]:w),x=h[1]+Math.abs(Array.isArray(w)?w[1]:w);return[Math.min(j,v[0]),Math.max(x,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},KY=function(t,r,n,s,i){var o=r.map(function(l){return WA(t,l,n,i,s)}).filter(function(l){return!fe(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},HA=function(t,r,n,s,i){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&WA(t,c,u,s)||$l(t,u,n,i)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,d=u.length;f<d;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},KA=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},VA=function(t,r,n,s){if(s)return t.map(function(c){return c.coordinate});var i,o,l=t.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},Hn=function(t,r,n){if(!t)return null;var s=t.scale,i=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?s.bandwidth()/2:2,u=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Zt(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(d){var h=i?i.indexOf(d):d;return{coordinate:s(h)+u,value:d,offset:u}});return f.filter(function(d){return!tu(d.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(d,h){return{coordinate:s(d)+u,value:d,index:h,offset:u}}):s.ticks&&!n?s.ticks(t.tickCount).map(function(d){return{coordinate:s(d)+u,value:d,offset:u}}):s.domain().map(function(d,h){return{coordinate:s(d)+u,value:i?i[d]:d,index:h,offset:u}})},xm=new WeakMap,zu=function(t,r){if(typeof r!="function")return t;xm.has(t)||xm.set(t,new WeakMap);var n=xm.get(t);if(n.has(r))return n.get(r);var s=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},GA=function(t,r,n){var s=t.scale,i=t.type,o=t.layout,l=t.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:mc(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:ff(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Tl(),realScaleType:"point"}:i==="category"?{scale:mc(),realScaleType:"band"}:{scale:ff(),realScaleType:"linear"};if(Ra(s)){var c="scale".concat(Ih(s));return{scale:(bj[c]||Tl)(),realScaleType:bj[c]?c:"point"}}return le(s)?{scale:s}:{scale:Tl(),realScaleType:"point"}},Ej=1e-4,YA=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,s=t.range(),i=Math.min(s[0],s[1])-Ej,o=Math.max(s[0],s[1])+Ej,l=t(r[0]),c=t(r[n-1]);(l<i||l>o||c<i||c>o)&&t.domain([r[0],r[n-1]])}},VY=function(t,r){if(!t)return null;for(var n=0,s=t.length;n<s;n++)if(t[n].item===r)return t[n].position;return null},GY=function(t,r){if(!r||r.length!==2||!V(r[0])||!V(r[1]))return t;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[t[0],t[1]];return(!V(t[0])||t[0]<n)&&(i[0]=n),(!V(t[1])||t[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},YY=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=tu(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=i,t[l][n][1]=i+c,i=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},QY=function(t){var r=t.length;if(!(r<=0))for(var n=0,s=t[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=tu(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=i,t[o][n][1]=i+l,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},XY={sign:YY,expand:gL,none:Qi,silhouette:xL,wiggle:vL,positive:QY},ZY=function(t,r,n){var s=r.map(function(l){return l.props.dataKey}),i=XY[n],o=mL().keys(s).value(function(l,c){return+bt(l,c,0)}).order(W0).offset(i);return o(t)},JY=function(t,r,n,s,i,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(d,h){var p,v=(p=h.type)!==null&&p!==void 0&&p.defaultProps?ut(ut({},h.type.defaultProps),h.props):h.props,b=v.stackId,w=v.hide;if(w)return d;var j=v[n],x=d[j]||{hasStack:!1,stackGroups:{}};if(jt(b)){var m=x.stackGroups[b]||{numericAxisId:n,cateAxisId:s,items:[]};m.items.push(h),x.hasStack=!0,x.stackGroups[b]=m}else x.stackGroups[Mo("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[h]};return ut(ut({},d),{},Li({},j,x))},c),f={};return Object.keys(u).reduce(function(d,h){var p=u[h];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(b,w){var j=p.stackGroups[w];return ut(ut({},b),{},Li({},w,{numericAxisId:n,cateAxisId:s,items:j.items,stackedData:ZY(t,j.items,i)}))},v)}return ut(ut({},d),{},Li({},h,p))},f)},QA=function(t,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=hY(u,i,l);return t.domain([Yh(f),Gh(f)]),{niceTicks:f}}if(i&&s==="number"){var d=t.domain(),h=pY(d,i,l);return{niceTicks:h}}return null};function Pj(e){var t=e.axis,r=e.ticks,n=e.bandSize,s=e.entry,i=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!fe(s[t.dataKey])){var l=Wd(r,"value",s[t.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=bt(s,fe(o)?t.dataKey:o);return fe(c)?null:t.scale(c)}var Cj=function(t){var r=t.axis,n=t.ticks,s=t.offset,i=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=bt(o,r.dataKey,r.domain[l]);return fe(c)?null:r.scale(c)-i/2+s},eQ=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},tQ=function(t,r){var n,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?ut(ut({},t.type.defaultProps),t.props):t.props,i=s.stackId;if(jt(i)){var o=r[i];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},rQ=function(t){return t.reduce(function(r,n){return[Yh(n.concat([r[0]]).filter(V)),Gh(n.concat([r[1]]).filter(V))]},[1/0,-1/0])},XA=function(t,r,n){return Object.keys(t).reduce(function(s,i){var o=t[i],l=o.stackedData,c=l.reduce(function(u,f){var d=rQ(f.slice(r,n+1));return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},kj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Tj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bg=function(t,r,n){if(le(t))return t(r,n);if(!Array.isArray(t))return r;var s=[];if(V(t[0]))s[0]=n?t[0]:Math.min(t[0],r[0]);else if(kj.test(t[0])){var i=+kj.exec(t[0])[1];s[0]=r[0]-i}else le(t[0])?s[0]=t[0](r[0]):s[0]=r[0];if(V(t[1]))s[1]=n?t[1]:Math.max(t[1],r[1]);else if(Tj.test(t[1])){var o=+Tj.exec(t[1])[1];s[1]=r[1]+o}else le(t[1])?s[1]=t[1](r[1]):s[1]=r[1];return s},yf=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var s=t.scale.bandwidth();if(!n||s>0)return s}if(t&&r&&r.length>=2){for(var i=Lv(r,function(d){return d.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var u=i[l],f=i[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},$j=function(t,r,n){return!t||!t.length||ou(t,Nr(n,"type.defaultProps.domain"))?r:t},ZA=function(t,r){var n=t.type.defaultProps?ut(ut({},t.type.defaultProps),t.props):t.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return ut(ut({},ie(t,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:uy(t),value:bt(r,s),type:c,payload:r,chartType:u,hide:f})};function Nc(e){"@babel/helpers - typeof";return Nc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nc(e)}function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Dn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){JA(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JA(e,t,r){return t=nQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nQ(e){var t=sQ(e,"string");return Nc(t)=="symbol"?t:t+""}function sQ(e,t){if(Nc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aQ(e,t){return cQ(e)||lQ(e,t)||oQ(e,t)||iQ()}function iQ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oQ(e,t){if(e){if(typeof e=="string")return Rj(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rj(e,t)}}function Rj(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function lQ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function cQ(e){if(Array.isArray(e))return e}var bf=Math.PI/180,uQ=function(t){return t*180/Math.PI},Ke=function(t,r,n,s){return{x:t+Math.cos(-bf*s)*n,y:r+Math.sin(-bf*s)*n}},eE=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},dQ=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.startAngle,u=t.endAngle,f=Jt(t.cx,o,o/2),d=Jt(t.cy,l,l/2),h=eE(o,l,n),p=Jt(t.innerRadius,h,0),v=Jt(t.outerRadius,h,h*.8),b=Object.keys(r);return b.reduce(function(w,j){var x=r[j],m=x.domain,_=x.reversed,g;if(fe(x.range))s==="angleAxis"?g=[c,u]:s==="radiusAxis"&&(g=[p,v]),_&&(g=[g[1],g[0]]);else{g=x.range;var y=g,N=aQ(y,2);c=N[0],u=N[1]}var S=GA(x,i),A=S.realScaleType,P=S.scale;P.domain(m).range(g),YA(P);var T=QA(P,Dn(Dn({},x),{},{realScaleType:A})),E=Dn(Dn(Dn({},x),T),{},{range:g,radius:v,realScaleType:A,scale:P,cx:f,cy:d,innerRadius:p,outerRadius:v,startAngle:c,endAngle:u});return Dn(Dn({},w),{},JA({},j,E))},{})},fQ=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},hQ=function(t,r){var n=t.x,s=t.y,i=r.cx,o=r.cy,l=fQ({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return s>o&&(u=2*Math.PI-u),{radius:l,angle:uQ(u),angleInRadian:u}},pQ=function(t){var r=t.startAngle,n=t.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},mQ=function(t,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return t+l*360},Mj=function(t,r){var n=t.x,s=t.y,i=hQ({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=pQ(r),d=f.startAngle,h=f.endAngle,p=l,v;if(d<=h){for(;p>h;)p-=360;for(;p<d;)p+=360;v=p>=d&&p<=h}else{for(;p>d;)p-=360;for(;p<h;)p+=360;v=p>=h&&p<=d}return v?Dn(Dn({},r),{},{radius:o,angle:mQ(p,r)}):null},tE=function(t){return!O.isValidElement(t)&&!le(t)&&typeof t!="boolean"?t.className:""};function Sc(e){"@babel/helpers - typeof";return Sc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sc(e)}var gQ=["offset"];function xQ(e){return wQ(e)||bQ(e)||yQ(e)||vQ()}function vQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yQ(e,t){if(e){if(typeof e=="string")return wg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wg(e,t)}}function bQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function wQ(e){if(Array.isArray(e))return wg(e)}function wg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function jQ(e,t){if(e==null)return{};var r=_Q(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Q(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){NQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NQ(e,t,r){return t=SQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SQ(e){var t=OQ(e,"string");return Sc(t)=="symbol"?t:t+""}function OQ(e,t){if(Sc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Sc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Oc(){return Oc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oc.apply(this,arguments)}var AQ=function(t){var r=t.value,n=t.formatter,s=fe(t.children)?r:t.children;return le(n)?n(s):s},EQ=function(t,r){var n=Zt(r-t),s=Math.min(Math.abs(r-t),360);return n*s},PQ=function(t,r,n){var s=t.position,i=t.viewBox,o=t.offset,l=t.className,c=i,u=c.cx,f=c.cy,d=c.innerRadius,h=c.outerRadius,p=c.startAngle,v=c.endAngle,b=c.clockWise,w=(d+h)/2,j=EQ(p,v),x=j>=0?1:-1,m,_;s==="insideStart"?(m=p+x*o,_=b):s==="insideEnd"?(m=v-x*o,_=!b):s==="end"&&(m=v+x*o,_=b),_=j<=0?_:!_;var g=Ke(u,f,w,m),y=Ke(u,f,w,m+(_?1:-1)*359),N="M".concat(g.x,",").concat(g.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(_?0:1,`,
    `).concat(y.x,",").concat(y.y),S=fe(t.id)?Mo("recharts-radial-line-"):t.id;return I.createElement("text",Oc({},n,{dominantBaseline:"central",className:me("recharts-radial-bar-label",l)}),I.createElement("defs",null,I.createElement("path",{id:S,d:N})),I.createElement("textPath",{xlinkHref:"#".concat(S)},r))},CQ=function(t){var r=t.viewBox,n=t.offset,s=t.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,f=i.startAngle,d=i.endAngle,h=(f+d)/2;if(s==="outside"){var p=Ke(o,l,u+n,h),v=p.x,b=p.y;return{x:v,y:b,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var w=(c+u)/2,j=Ke(o,l,w,h),x=j.x,m=j.y;return{x,y:m,textAnchor:"middle",verticalAnchor:"middle"}},kQ=function(t){var r=t.viewBox,n=t.parentViewBox,s=t.offset,i=t.position,o=r,l=o.x,c=o.y,u=o.width,f=o.height,d=f>=0?1:-1,h=d*s,p=d>0?"end":"start",v=d>0?"start":"end",b=u>=0?1:-1,w=b*s,j=b>0?"end":"start",x=b>0?"start":"end";if(i==="top"){var m={x:l+u/2,y:c-d*s,textAnchor:"middle",verticalAnchor:p};return vt(vt({},m),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var _={x:l+u/2,y:c+f+h,textAnchor:"middle",verticalAnchor:v};return vt(vt({},_),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(i==="left"){var g={x:l-w,y:c+f/2,textAnchor:j,verticalAnchor:"middle"};return vt(vt({},g),n?{width:Math.max(g.x-n.x,0),height:f}:{})}if(i==="right"){var y={x:l+u+w,y:c+f/2,textAnchor:x,verticalAnchor:"middle"};return vt(vt({},y),n?{width:Math.max(n.x+n.width-y.x,0),height:f}:{})}var N=n?{width:u,height:f}:{};return i==="insideLeft"?vt({x:l+w,y:c+f/2,textAnchor:x,verticalAnchor:"middle"},N):i==="insideRight"?vt({x:l+u-w,y:c+f/2,textAnchor:j,verticalAnchor:"middle"},N):i==="insideTop"?vt({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:v},N):i==="insideBottom"?vt({x:l+u/2,y:c+f-h,textAnchor:"middle",verticalAnchor:p},N):i==="insideTopLeft"?vt({x:l+w,y:c+h,textAnchor:x,verticalAnchor:v},N):i==="insideTopRight"?vt({x:l+u-w,y:c+h,textAnchor:j,verticalAnchor:v},N):i==="insideBottomLeft"?vt({x:l+w,y:c+f-h,textAnchor:x,verticalAnchor:p},N):i==="insideBottomRight"?vt({x:l+u-w,y:c+f-h,textAnchor:j,verticalAnchor:p},N):To(i)&&(V(i.x)||ga(i.x))&&(V(i.y)||ga(i.y))?vt({x:l+Jt(i.x,u),y:c+Jt(i.y,f),textAnchor:"end",verticalAnchor:"end"},N):vt({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},N)},TQ=function(t){return"cx"in t&&V(t.cx)};function Et(e){var t=e.offset,r=t===void 0?5:t,n=jQ(e,gQ),s=vt({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,u=s.content,f=s.className,d=f===void 0?"":f,h=s.textBreakAll;if(!i||fe(l)&&fe(c)&&!O.isValidElement(u)&&!le(u))return null;if(O.isValidElement(u))return O.cloneElement(u,s);var p;if(le(u)){if(p=O.createElement(u,s),O.isValidElement(p))return p}else p=AQ(s);var v=TQ(i),b=ie(s,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return PQ(s,p,b);var w=v?CQ(s):kQ(s);return I.createElement(Da,Oc({className:me("recharts-label",d)},b,w,{breakAll:h}),p)}Et.displayName="Label";var rE=function(t){var r=t.cx,n=t.cy,s=t.angle,i=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,d=t.x,h=t.y,p=t.top,v=t.left,b=t.width,w=t.height,j=t.clockWise,x=t.labelViewBox;if(x)return x;if(V(b)&&V(w)){if(V(d)&&V(h))return{x:d,y:h,width:b,height:w};if(V(p)&&V(v))return{x:p,y:v,width:b,height:w}}return V(d)&&V(h)?{x:d,y:h,width:0,height:0}:V(r)&&V(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:j}:t.viewBox?t.viewBox:{}},$Q=function(t,r){return t?t===!0?I.createElement(Et,{key:"label-implicit",viewBox:r}):jt(t)?I.createElement(Et,{key:"label-implicit",viewBox:r,value:t}):O.isValidElement(t)?t.type===Et?O.cloneElement(t,{key:"label-implicit",viewBox:r}):I.createElement(Et,{key:"label-implicit",content:t,viewBox:r}):le(t)?I.createElement(Et,{key:"label-implicit",content:t,viewBox:r}):To(t)?I.createElement(Et,Oc({viewBox:r},t,{key:"label-implicit"})):null:null},IQ=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var s=t.children,i=rE(t),o=Sr(s,Et).map(function(c,u){return O.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return o;var l=$Q(t.label,r||i);return[l].concat(xQ(o))};Et.parseViewBox=rE;Et.renderCallByParent=IQ;function RQ(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var MQ=RQ;const DQ=$e(MQ);function Ac(e){"@babel/helpers - typeof";return Ac=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ac(e)}var LQ=["valueAccessor"],FQ=["data","dataKey","clockWise","id","textBreakAll"];function UQ(e){return WQ(e)||qQ(e)||zQ(e)||BQ()}function BQ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zQ(e,t){if(e){if(typeof e=="string")return jg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jg(e,t)}}function qQ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function WQ(e){if(Array.isArray(e))return jg(e)}function jg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function wf(){return wf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wf.apply(this,arguments)}function Lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Fj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(r),!0).forEach(function(n){HQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function HQ(e,t,r){return t=KQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KQ(e){var t=VQ(e,"string");return Ac(t)=="symbol"?t:t+""}function VQ(e,t){if(Ac(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ac(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Uj(e,t){if(e==null)return{};var r=GQ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GQ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var YQ=function(t){return Array.isArray(t.value)?DQ(t.value):t.value};function Yn(e){var t=e.valueAccessor,r=t===void 0?YQ:t,n=Uj(e,LQ),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=Uj(n,FQ);return!s||!s.length?null:I.createElement(Se,{className:"recharts-label-list"},s.map(function(f,d){var h=fe(i)?r(f,d):bt(f&&f.payload,i),p=fe(l)?{}:{id:"".concat(l,"-").concat(d)};return I.createElement(Et,wf({},ie(f,!0),u,p,{parentViewBox:f.parentViewBox,value:h,textBreakAll:c,viewBox:Et.parseViewBox(fe(o)?f:Fj(Fj({},f),{},{clockWise:o})),key:"label-".concat(d),index:d}))}))}Yn.displayName="LabelList";function QQ(e,t){return e?e===!0?I.createElement(Yn,{key:"labelList-implicit",data:t}):I.isValidElement(e)||le(e)?I.createElement(Yn,{key:"labelList-implicit",data:t,content:e}):To(e)?I.createElement(Yn,wf({data:t},e,{key:"labelList-implicit"})):null:null}function XQ(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,s=Sr(n,Yn).map(function(o,l){return O.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return s;var i=QQ(e.label,t);return[i].concat(UQ(s))}Yn.renderCallByParent=XQ;function Ec(e){"@babel/helpers - typeof";return Ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ec(e)}function _g(){return _g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_g.apply(this,arguments)}function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function zj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){ZQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZQ(e,t,r){return t=JQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JQ(e){var t=eX(e,"string");return Ec(t)=="symbol"?t:t+""}function eX(e,t){if(Ec(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ec(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tX=function(t,r){var n=Zt(r-t),s=Math.min(Math.abs(r-t),359.999);return n*s},qu=function(t){var r=t.cx,n=t.cy,s=t.radius,i=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+s,d=Math.asin(c/f)/bf,h=u?i:i+o*d,p=Ke(r,n,f,h),v=Ke(r,n,s,h),b=u?i-o*d:i,w=Ke(r,n,f*Math.cos(d*bf),b);return{center:p,circleTangency:v,lineTangency:w,theta:d}},nE=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.startAngle,l=t.endAngle,c=tX(o,l),u=o+c,f=Ke(r,n,i,o),d=Ke(r,n,i,u),h="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(s>0){var p=Ke(r,n,s,o),v=Ke(r,n,s,u);h+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(r,",").concat(n," Z");return h},rX=function(t){var r=t.cx,n=t.cy,s=t.innerRadius,i=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,d=Zt(f-u),h=qu({cx:r,cy:n,radius:i,angle:u,sign:d,cornerRadius:o,cornerIsExternal:c}),p=h.circleTangency,v=h.lineTangency,b=h.theta,w=qu({cx:r,cy:n,radius:i,angle:f,sign:-d,cornerRadius:o,cornerIsExternal:c}),j=w.circleTangency,x=w.lineTangency,m=w.theta,_=c?Math.abs(u-f):Math.abs(u-f)-b-m;if(_<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):nE({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:u,endAngle:f});var g="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(_>180),",").concat(+(d<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(x.x,",").concat(x.y,`
  `);if(s>0){var y=qu({cx:r,cy:n,radius:s,angle:u,sign:d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),N=y.circleTangency,S=y.lineTangency,A=y.theta,P=qu({cx:r,cy:n,radius:s,angle:f,sign:-d,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),T=P.circleTangency,E=P.lineTangency,C=P.theta,k=c?Math.abs(u-f):Math.abs(u-f)-A-C;if(k<0&&o===0)return"".concat(g,"L").concat(r,",").concat(n,"Z");g+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(k>180),",").concat(+(d>0),",").concat(N.x,",").concat(N.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(d<0),",").concat(S.x,",").concat(S.y,"Z")}else g+="L".concat(r,",").concat(n,"Z");return g},nX={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sE=function(t){var r=zj(zj({},nX),t),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,d=r.endAngle,h=r.className;if(o<i||f===d)return null;var p=me("recharts-sector",h),v=o-i,b=Jt(l,v,0,!0),w;return b>0&&Math.abs(f-d)<360?w=rX({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(b,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:d}):w=nE({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:f,endAngle:d}),I.createElement("path",_g({},ie(r,!0),{className:p,d:w,role:"img"}))};function Pc(e){"@babel/helpers - typeof";return Pc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pc(e)}function Ng(){return Ng=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ng.apply(this,arguments)}function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){sX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function sX(e,t,r){return t=aX(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aX(e){var t=iX(e,"string");return Pc(t)=="symbol"?t:t+""}function iX(e,t){if(Pc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Pc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hj={curveBasisClosed:sL,curveBasisOpen:aL,curveBasis:nL,curveBumpX:qD,curveBumpY:WD,curveLinearClosed:iL,curveLinear:Mh,curveMonotoneX:oL,curveMonotoneY:lL,curveNatural:cL,curveStep:uL,curveStepAfter:fL,curveStepBefore:dL},Wu=function(t){return t.x===+t.x&&t.y===+t.y},ll=function(t){return t.x},cl=function(t){return t.y},oX=function(t,r){if(le(t))return t;var n="curve".concat(Ih(t));return(n==="curveMonotone"||n==="curveBump")&&r?Hj["".concat(n).concat(r==="vertical"?"Y":"X")]:Hj[n]||Mh},lX=function(t){var r=t.type,n=r===void 0?"linear":r,s=t.points,i=s===void 0?[]:s,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=oX(n,l),d=u?i.filter(function(b){return Wu(b)}):i,h;if(Array.isArray(o)){var p=u?o.filter(function(b){return Wu(b)}):o,v=d.map(function(b,w){return Wj(Wj({},b),{},{base:p[w]})});return l==="vertical"?h=Iu().y(cl).x1(ll).x0(function(b){return b.base.x}):h=Iu().x(ll).y1(cl).y0(function(b){return b.base.y}),h.defined(Wu).curve(f),h(v)}return l==="vertical"&&V(o)?h=Iu().y(cl).x1(ll).x0(o):V(o)?h=Iu().x(ll).y1(cl).y0(o):h=Z4().x(ll).y(cl),h.defined(Wu).curve(f),h(d)},jf=function(t){var r=t.className,n=t.points,s=t.path,i=t.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?lX(t):s;return O.createElement("path",Ng({},ie(t,!1),Hd(t),{className:me("recharts-curve",r),d:o,ref:i}))},aE={exports:{}},cX="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",uX=cX,dX=uX;function iE(){}function oE(){}oE.resetWarningCache=iE;var fX=function(){function e(n,s,i,o,l,c){if(c!==dX){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:oE,resetWarningCache:iE};return r.PropTypes=r,r};aE.exports=fX();var hX=aE.exports;const Pe=$e(hX);var pX=Object.getOwnPropertyNames,mX=Object.getOwnPropertySymbols,gX=Object.prototype.hasOwnProperty;function Kj(e,t){return function(n,s,i){return e(n,s,i)&&t(n,s,i)}}function Hu(e){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,s);var i=s.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=e(r,n,s);return i.delete(r),i.delete(n),c}}function Vj(e){return pX(e).concat(mX(e))}var xX=Object.hasOwn||function(e,t){return gX.call(e,t)};function Ga(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var vX="__v",yX="__o",bX="_owner",Gj=Object.getOwnPropertyDescriptor,Yj=Object.keys;function wX(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function jX(e,t){return Ga(e.getTime(),t.getTime())}function _X(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function NX(e,t){return e===t}function Qj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var u=t.entries(),f=!1,d=0;(l=u.next())&&!l.done;){if(s[d]){d++;continue}var h=o.value,p=l.value;if(r.equals(h[0],p[0],c,d,e,t,r)&&r.equals(h[1],p[1],h[0],p[0],e,t,r)){f=s[d]=!0;break}d++}if(!f)return!1;c++}return!0}var SX=Ga;function OX(e,t,r){var n=Yj(e),s=n.length;if(Yj(t).length!==s)return!1;for(;s-- >0;)if(!lE(e,t,r,n[s]))return!1;return!0}function ul(e,t,r){var n=Vj(e),s=n.length;if(Vj(t).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=n[s],!lE(e,t,r,i)||(o=Gj(e,i),l=Gj(t,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function AX(e,t){return Ga(e.valueOf(),t.valueOf())}function EX(e,t){return e.source===t.source&&e.flags===t.flags}function Xj(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var s=new Array(n),i=e.values(),o,l;(o=i.next())&&!o.done;){for(var c=t.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!s[f]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=s[f]=!0;break}f++}if(!u)return!1}return!0}function PX(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function CX(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function lE(e,t,r,n){return(n===bX||n===yX||n===vX)&&(e.$$typeof||t.$$typeof)?!0:xX(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var kX="[object Arguments]",TX="[object Boolean]",$X="[object Date]",IX="[object Error]",RX="[object Map]",MX="[object Number]",DX="[object Object]",LX="[object RegExp]",FX="[object Set]",UX="[object String]",BX="[object URL]",zX=Array.isArray,Zj=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Jj=Object.assign,qX=Object.prototype.toString.call.bind(Object.prototype.toString);function WX(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,s=e.areFunctionsEqual,i=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(v,b,w){if(v===b)return!0;if(v==null||b==null)return!1;var j=typeof v;if(j!==typeof b)return!1;if(j!=="object")return j==="number"?o(v,b,w):j==="function"?s(v,b,w):!1;var x=v.constructor;if(x!==b.constructor)return!1;if(x===Object)return l(v,b,w);if(zX(v))return t(v,b,w);if(Zj!=null&&Zj(v))return d(v,b,w);if(x===Date)return r(v,b,w);if(x===RegExp)return u(v,b,w);if(x===Map)return i(v,b,w);if(x===Set)return f(v,b,w);var m=qX(v);return m===$X?r(v,b,w):m===LX?u(v,b,w):m===RX?i(v,b,w):m===FX?f(v,b,w):m===DX?typeof v.then!="function"&&typeof b.then!="function"&&l(v,b,w):m===BX?h(v,b,w):m===IX?n(v,b,w):m===kX?l(v,b,w):m===TX||m===MX||m===UX?c(v,b,w):!1}}function HX(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,s={areArraysEqual:n?ul:wX,areDatesEqual:jX,areErrorsEqual:_X,areFunctionsEqual:NX,areMapsEqual:n?Kj(Qj,ul):Qj,areNumbersEqual:SX,areObjectsEqual:n?ul:OX,arePrimitiveWrappersEqual:AX,areRegExpsEqual:EX,areSetsEqual:n?Kj(Xj,ul):Xj,areTypedArraysEqual:n?ul:PX,areUrlsEqual:CX};if(r&&(s=Jj({},s,r(s))),t){var i=Hu(s.areArraysEqual),o=Hu(s.areMapsEqual),l=Hu(s.areObjectsEqual),c=Hu(s.areSetsEqual);s=Jj({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function KX(e){return function(t,r,n,s,i,o,l){return e(t,r,l)}}function VX(e){var t=e.circular,r=e.comparator,n=e.createState,s=e.equals,i=e.strict;if(n)return function(c,u){var f=n(),d=f.cache,h=d===void 0?t?new WeakMap:void 0:d,p=f.meta;return r(c,u,{cache:h,equals:s,meta:p,strict:i})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,u){return r(c,u,o)}}var GX=Js();Js({strict:!0});Js({circular:!0});Js({circular:!0,strict:!0});Js({createInternalComparator:function(){return Ga}});Js({strict:!0,createInternalComparator:function(){return Ga}});Js({circular:!0,createInternalComparator:function(){return Ga}});Js({circular:!0,createInternalComparator:function(){return Ga},strict:!0});function Js(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,s=e.createState,i=e.strict,o=i===void 0?!1:i,l=HX(e),c=WX(l),u=n?n(c):KX(c);return VX({circular:r,comparator:c,createState:s,equals:u,strict:o})}function YX(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function e_(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>t?(e(i),r=-1):YX(s)};requestAnimationFrame(n)}function Sg(e){"@babel/helpers - typeof";return Sg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sg(e)}function QX(e){return eZ(e)||JX(e)||ZX(e)||XX()}function XX(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZX(e,t){if(e){if(typeof e=="string")return t_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t_(e,t)}}function t_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function JX(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function eZ(e){if(Array.isArray(e))return e}function tZ(){var e={},t=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=QX(o),c=l[0],u=l.slice(1);if(typeof c=="number"){e_(s.bind(null,u),c);return}s(c),e_(s.bind(null,u));return}Sg(i)==="object"&&(e=i,t(e)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return t=i,function(){t=function(){return null}}}}}function Cc(e){"@babel/helpers - typeof";return Cc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cc(e)}function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function n_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(n){cE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cE(e,t,r){return t=rZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rZ(e){var t=nZ(e,"string");return Cc(t)==="symbol"?t:String(t)}function nZ(e,t){if(Cc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Cc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sZ=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},aZ=function(t){return t},iZ=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Il=function(t,r){return Object.keys(r).reduce(function(n,s){return n_(n_({},n),{},cE({},s,t(s,r[s])))},{})},s_=function(t,r,n){return t.map(function(s){return"".concat(iZ(s)," ").concat(r,"ms ").concat(n)}).join(",")};function oZ(e,t){return uZ(e)||cZ(e,t)||uE(e,t)||lZ()}function lZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function uZ(e){if(Array.isArray(e))return e}function dZ(e){return pZ(e)||hZ(e)||uE(e)||fZ()}function fZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uE(e,t){if(e){if(typeof e=="string")return Og(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Og(e,t)}}function hZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function pZ(e){if(Array.isArray(e))return Og(e)}function Og(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var _f=1e-4,dE=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},fE=function(t,r){return t.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},a_=function(t,r){return function(n){var s=dE(t,r);return fE(s,n)}},mZ=function(t,r){return function(n){var s=dE(t,r),i=[].concat(dZ(s.map(function(o,l){return o*l}).slice(1)),[0]);return fE(i,n)}},i_=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(w){return parseFloat(w)}),f=oZ(u,4);s=f[0],i=f[1],o=f[2],l=f[3]}}}var d=a_(s,o),h=a_(i,l),p=mZ(s,o),v=function(j){return j>1?1:j<0?0:j},b=function(j){for(var x=j>1?1:j,m=x,_=0;_<8;++_){var g=d(m)-x,y=p(m);if(Math.abs(g-x)<_f||y<_f)return h(m);m=v(m-g/y)}return h(m)};return b.isStepper=!1,b},gZ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,s=t.damping,i=s===void 0?8:s,o=t.dt,l=o===void 0?17:o,c=function(f,d,h){var p=-(f-d)*n,v=h*i,b=h+(p-v)*l/1e3,w=h*l/1e3+f;return Math.abs(w-d)<_f&&Math.abs(b)<_f?[d,0]:[w,b]};return c.isStepper=!0,c.dt=l,c},xZ=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return i_(s);case"spring":return gZ();default:if(s.split("(")[0]==="cubic-bezier")return i_(s)}return typeof s=="function"?s:null};function kc(e){"@babel/helpers - typeof";return kc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},kc(e)}function o_(e){return bZ(e)||yZ(e)||hE(e)||vZ()}function vZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bZ(e){if(Array.isArray(e))return Eg(e)}function l_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(r),!0).forEach(function(n){Ag(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ag(e,t,r){return t=wZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wZ(e){var t=jZ(e,"string");return kc(t)==="symbol"?t:String(t)}function jZ(e,t){if(kc(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(kc(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Z(e,t){return OZ(e)||SZ(e,t)||hE(e,t)||NZ()}function NZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hE(e,t){if(e){if(typeof e=="string")return Eg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eg(e,t)}}function Eg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function SZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function OZ(e){if(Array.isArray(e))return e}var Nf=function(t,r,n){return t+(r-t)*n},Pg=function(t){var r=t.from,n=t.to;return r!==n},AZ=function e(t,r,n){var s=Il(function(i,o){if(Pg(o)){var l=t(o.from,o.to,o.velocity),c=_Z(l,2),u=c[0],f=c[1];return Tt(Tt({},o),{},{from:u,velocity:f})}return o},r);return n<1?Il(function(i,o){return Pg(o)?Tt(Tt({},o),{},{velocity:Nf(o.velocity,s[i].velocity,n),from:Nf(o.from,s[i].from,n)}):o},r):e(t,s,n-1)};const EZ=function(e,t,r,n,s){var i=sZ(e,t),o=i.reduce(function(w,j){return Tt(Tt({},w),{},Ag({},j,[e[j],t[j]]))},{}),l=i.reduce(function(w,j){return Tt(Tt({},w),{},Ag({},j,{from:e[j],velocity:0,to:t[j]}))},{}),c=-1,u,f,d=function(){return null},h=function(){return Il(function(j,x){return x.from},l)},p=function(){return!Object.values(l).filter(Pg).length},v=function(j){u||(u=j);var x=j-u,m=x/r.dt;l=AZ(r,l,m),s(Tt(Tt(Tt({},e),t),h())),u=j,p()||(c=requestAnimationFrame(d))},b=function(j){f||(f=j);var x=(j-f)/n,m=Il(function(g,y){return Nf.apply(void 0,o_(y).concat([r(x)]))},o);if(s(Tt(Tt(Tt({},e),t),m)),x<1)c=requestAnimationFrame(d);else{var _=Il(function(g,y){return Nf.apply(void 0,o_(y).concat([r(1)]))},o);s(Tt(Tt(Tt({},e),t),_))}};return d=r.isStepper?v:b,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(c)}}};function ao(e){"@babel/helpers - typeof";return ao=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ao(e)}var PZ=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function CZ(e,t){if(e==null)return{};var r=kZ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function kZ(e,t){if(e==null)return{};var r={},n=Object.keys(e),s,i;for(i=0;i<n.length;i++)s=n[i],!(t.indexOf(s)>=0)&&(r[s]=e[s]);return r}function vm(e){return RZ(e)||IZ(e)||$Z(e)||TZ()}function TZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Z(e,t){if(e){if(typeof e=="string")return Cg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cg(e,t)}}function IZ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function RZ(e){if(Array.isArray(e))return Cg(e)}function Cg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Zr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(r),!0).forEach(function(n){yl(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yl(e,t,r){return t=pE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MZ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DZ(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pE(n.key),n)}}function LZ(e,t,r){return t&&DZ(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function pE(e){var t=FZ(e,"string");return ao(t)==="symbol"?t:String(t)}function FZ(e,t){if(ao(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ao(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UZ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kg(e,t)}function kg(e,t){return kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},kg(e,t)}function BZ(e){var t=zZ();return function(){var n=Sf(e),s;if(t){var i=Sf(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return Tg(this,s)}}function Tg(e,t){if(t&&(ao(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $g(e)}function $g(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zZ(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Sf(e){return Sf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sf(e)}var Pn=function(e){UZ(r,e);var t=BZ(r);function r(n,s){var i;MZ(this,r),i=t.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,d=o.steps,h=o.children,p=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind($g(i)),i.changeStyle=i.changeStyle.bind($g(i)),!l||p<=0)return i.state={style:{}},typeof h=="function"&&(i.state={style:f}),Tg(i);if(d&&d.length)i.state={style:d[0].style};else if(u){if(typeof h=="function")return i.state={style:u},Tg(i);i.state={style:c?yl({},c,u):u}}else i.state={style:{}};return i}return LZ(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,f=i.to,d=i.from,h=this.state.style;if(l){if(!o){var p={style:c?yl({},c,f):f};this.state&&h&&(c&&h[c]!==f||!c&&h!==f)&&this.setState(p);return}if(!(GX(s.to,f)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||u?d:s.to;if(this.state&&h){var w={style:c?yl({},c,b):b};(c&&h[c]!==b||!c&&h!==b)&&this.setState(w)}this.runAnimation(Zr(Zr({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,u=s.easing,f=s.begin,d=s.onAnimationEnd,h=s.onAnimationStart,p=EZ(o,l,xZ(u),c,this.changeStyle),v=function(){i.stopJSAnimation=p()};this.manager.start([h,f,v,c,d])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,u=o[0],f=u.style,d=u.duration,h=d===void 0?0:d,p=function(b,w,j){if(j===0)return b;var x=w.duration,m=w.easing,_=m===void 0?"ease":m,g=w.style,y=w.properties,N=w.onAnimationEnd,S=j>0?o[j-1]:w,A=y||Object.keys(g);if(typeof _=="function"||_==="spring")return[].concat(vm(b),[i.runJSAnimation.bind(i,{from:S.style,to:g,duration:x,easing:_}),x]);var P=s_(A,x,_),T=Zr(Zr(Zr({},S.style),g),{},{transition:P});return[].concat(vm(b),[T,x,N]).filter(aZ)};return this.manager.start([c].concat(vm(o.reduce(p,[f,Math.max(h,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=tZ());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,u=s.easing,f=s.onAnimationStart,d=s.onAnimationEnd,h=s.steps,p=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(s);return}if(h.length>1){this.runStepAnimation(s);return}var b=l?yl({},l,c):c,w=s_(Object.keys(b),o,u);v.start([f,i,Zr(Zr({},b),{},{transition:w}),o,d])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=CZ(s,PZ),u=O.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!l||u===0||o<=0)return i;var d=function(p){var v=p.props,b=v.style,w=b===void 0?{}:b,j=v.className,x=O.cloneElement(p,Zr(Zr({},c),{},{style:Zr(Zr({},w),f),className:j}));return x};return u===1?d(O.Children.only(i)):I.createElement("div",null,O.Children.map(i,function(h){return d(h)}))}}]),r}(O.PureComponent);Pn.displayName="Animate";Pn.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Pn.propTypes={from:Pe.oneOfType([Pe.object,Pe.string]),to:Pe.oneOfType([Pe.object,Pe.string]),attributeName:Pe.string,duration:Pe.number,begin:Pe.number,easing:Pe.oneOfType([Pe.string,Pe.func]),steps:Pe.arrayOf(Pe.shape({duration:Pe.number.isRequired,style:Pe.object.isRequired,easing:Pe.oneOfType([Pe.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Pe.func]),properties:Pe.arrayOf("string"),onAnimationEnd:Pe.func})),children:Pe.oneOfType([Pe.node,Pe.func]),isActive:Pe.bool,canBegin:Pe.bool,onAnimationEnd:Pe.func,shouldReAnimate:Pe.bool,onAnimationStart:Pe.func,onAnimationReStart:Pe.func};function Tc(e){"@babel/helpers - typeof";return Tc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tc(e)}function Of(){return Of=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Of.apply(this,arguments)}function qZ(e,t){return VZ(e)||KZ(e,t)||HZ(e,t)||WZ()}function WZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HZ(e,t){if(e){if(typeof e=="string")return u_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u_(e,t)}}function u_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function KZ(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function VZ(e){if(Array.isArray(e))return e}function d_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function f_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(r),!0).forEach(function(n){GZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GZ(e,t,r){return t=YZ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YZ(e){var t=QZ(e,"string");return Tc(t)=="symbol"?t:t+""}function QZ(e,t){if(Tc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Tc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var h_=function(t,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,u=s>=0&&n>=0||s<0&&n<0?1:0,f;if(o>0&&i instanceof Array){for(var d=[0,0,0,0],h=0,p=4;h<p;h++)d[h]=i[h]>o?o:i[h];f="M".concat(t,",").concat(r+l*d[0]),d[0]>0&&(f+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(u,",").concat(t+c*d[0],",").concat(r)),f+="L ".concat(t+n-c*d[1],",").concat(r),d[1]>0&&(f+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*d[1])),f+="L ".concat(t+n,",").concat(r+s-l*d[2]),d[2]>0&&(f+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(u,`,
        `).concat(t+n-c*d[2],",").concat(r+s)),f+="L ".concat(t+c*d[3],",").concat(r+s),d[3]>0&&(f+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+s-l*d[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);f="M ".concat(t,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+c*v,",").concat(r,`
            L `).concat(t+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*v,`
            L `).concat(t+n,",").concat(r+s-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t+n-c*v,",").concat(r+s,`
            L `).concat(t+c*v,",").concat(r+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(t,",").concat(r+s-l*v," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return f},XZ=function(t,r){if(!t||!r)return!1;var n=t.x,s=t.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),f=Math.max(i,i+l),d=Math.min(o,o+c),h=Math.max(o,o+c);return n>=u&&n<=f&&s>=d&&s<=h}return!1},ZZ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},dy=function(t){var r=f_(f_({},ZZ),t),n=O.useRef(),s=O.useState(-1),i=qZ(s,2),o=i[0],l=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var _=n.current.getTotalLength();_&&l(_)}catch{}},[]);var c=r.x,u=r.y,f=r.width,d=r.height,h=r.radius,p=r.className,v=r.animationEasing,b=r.animationDuration,w=r.animationBegin,j=r.isAnimationActive,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||f===0||d===0)return null;var m=me("recharts-rectangle",p);return x?I.createElement(Pn,{canBegin:o>0,from:{width:f,height:d,x:c,y:u},to:{width:f,height:d,x:c,y:u},duration:b,animationEasing:v,isActive:x},function(_){var g=_.width,y=_.height,N=_.x,S=_.y;return I.createElement(Pn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,isActive:j,easing:v},I.createElement("path",Of({},ie(r,!0),{className:m,d:h_(N,S,g,y,h),ref:n})))}):I.createElement("path",Of({},ie(r,!0),{className:m,d:h_(c,u,f,d,h)}))},JZ=["points","className","baseLinePoints","connectNulls"];function _i(){return _i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_i.apply(this,arguments)}function eJ(e,t){if(e==null)return{};var r=tJ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function p_(e){return aJ(e)||sJ(e)||nJ(e)||rJ()}function rJ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nJ(e,t){if(e){if(typeof e=="string")return Ig(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ig(e,t)}}function sJ(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function aJ(e){if(Array.isArray(e))return Ig(e)}function Ig(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m_=function(t){return t&&t.x===+t.x&&t.y===+t.y},iJ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return t.forEach(function(n){m_(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),m_(t[0])&&r[r.length-1].push(t[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Rl=function(t,r){var n=iJ(t);r&&(n=[n.reduce(function(i,o){return[].concat(p_(i),p_(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},oJ=function(t,r,n){var s=Rl(t,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Rl(r.reverse(),n).slice(1))},lJ=function(t){var r=t.points,n=t.className,s=t.baseLinePoints,i=t.connectNulls,o=eJ(t,JZ);if(!r||!r.length)return null;var l=me("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",u=oJ(r,s,i);return I.createElement("g",{className:l},I.createElement("path",_i({},ie(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?I.createElement("path",_i({},ie(o,!0),{fill:"none",d:Rl(r,i)})):null,c?I.createElement("path",_i({},ie(o,!0),{fill:"none",d:Rl(s,i)})):null)}var f=Rl(r,i);return I.createElement("path",_i({},ie(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function Rg(){return Rg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rg.apply(this,arguments)}var Zh=function(t){var r=t.cx,n=t.cy,s=t.r,i=t.className,o=me("recharts-dot",i);return r===+r&&n===+n&&s===+s?O.createElement("circle",Rg({},ie(t,!1),Hd(t),{className:o,cx:r,cy:n,r:s})):null};function $c(e){"@babel/helpers - typeof";return $c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$c(e)}var cJ=["x","y","top","left","width","height","className"];function Mg(){return Mg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mg.apply(this,arguments)}function g_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uJ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g_(Object(r),!0).forEach(function(n){dJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dJ(e,t,r){return t=fJ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fJ(e){var t=hJ(e,"string");return $c(t)=="symbol"?t:t+""}function hJ(e,t){if($c(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if($c(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pJ(e,t){if(e==null)return{};var r=mJ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function mJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var gJ=function(t,r,n,s,i,o){return"M".concat(t,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},xJ=function(t){var r=t.x,n=r===void 0?0:r,s=t.y,i=s===void 0?0:s,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,f=t.width,d=f===void 0?0:f,h=t.height,p=h===void 0?0:h,v=t.className,b=pJ(t,cJ),w=uJ({x:n,y:i,top:l,left:u,width:d,height:p},b);return!V(n)||!V(i)||!V(d)||!V(p)||!V(l)||!V(u)?null:I.createElement("path",Mg({},ie(w,!0),{className:me("recharts-cross",v),d:gJ(n,i,d,p,l,u)}))},vJ=Vh,yJ=OA,bJ=kn;function wJ(e,t){return e&&e.length?vJ(e,bJ(t),yJ):void 0}var jJ=wJ;const _J=$e(jJ);var NJ=Vh,SJ=kn,OJ=AA;function AJ(e,t){return e&&e.length?NJ(e,SJ(t),OJ):void 0}var EJ=AJ;const PJ=$e(EJ);var CJ=["cx","cy","angle","ticks","axisLine"],kJ=["ticks","tick","angle","tickFormatter","stroke"];function io(e){"@babel/helpers - typeof";return io=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},io(e)}function Ml(){return Ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ml.apply(this,arguments)}function x_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function na(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?x_(Object(r),!0).forEach(function(n){Jh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function v_(e,t){if(e==null)return{};var r=TJ(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function TJ(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function $J(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gE(n.key),n)}}function IJ(e,t,r){return t&&y_(e.prototype,t),r&&y_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function RJ(e,t,r){return t=Af(t),MJ(e,mE()?Reflect.construct(t,r||[],Af(e).constructor):t.apply(e,r))}function MJ(e,t){if(t&&(io(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DJ(e)}function DJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mE=function(){return!!e})()}function Af(e){return Af=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Af(e)}function LJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Dg(e,t)}function Dg(e,t){return Dg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Dg(e,t)}function Jh(e,t,r){return t=gE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gE(e){var t=FJ(e,"string");return io(t)=="symbol"?t:t+""}function FJ(e,t){if(io(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(io(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ep=function(e){function t(){return $J(this,t),RJ(this,t,arguments)}return LJ(t,e),IJ(t,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Ke(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=_J(l,function(f){return f.coordinate||0}),u=PJ(l,function(f){return f.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=v_(n,CJ),f=l.reduce(function(v,b){return[Math.min(v[0],b.coordinate),Math.max(v[1],b.coordinate)]},[1/0,-1/0]),d=Ke(s,i,f[0],o),h=Ke(s,i,f[1],o),p=na(na(na({},ie(u,!1)),{},{fill:"none"},ie(c,!1)),{},{x1:d.x,y1:d.y,x2:h.x,y2:h.y});return I.createElement("line",Ml({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,u=s.stroke,f=v_(s,kJ),d=this.getTickTextAnchor(),h=ie(f,!1),p=ie(o,!1),v=i.map(function(b,w){var j=n.getTickValueCoord(b),x=na(na(na(na({textAnchor:d,transform:"rotate(".concat(90-l,", ").concat(j.x,", ").concat(j.y,")")},h),{},{stroke:"none",fill:u},p),{},{index:w},j),{},{payload:b});return I.createElement(Se,Ml({className:me("recharts-polar-radius-axis-tick",tE(o)),key:"tick-".concat(b.coordinate)},Ma(n.props,b,w)),t.renderTickItem(o,x,c?c(b.value,w):b.value))});return I.createElement(Se,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:I.createElement(Se,{className:me("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Et.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return I.isValidElement(n)?o=I.cloneElement(n,s):le(n)?o=n(s):o=I.createElement(Da,Ml({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])}(O.PureComponent);Jh(ep,"displayName","PolarRadiusAxis");Jh(ep,"axisType","radiusAxis");Jh(ep,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function oo(e){"@babel/helpers - typeof";return oo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},oo(e)}function fa(){return fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fa.apply(this,arguments)}function b_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function sa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?b_(Object(r),!0).forEach(function(n){tp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UJ(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,vE(n.key),n)}}function BJ(e,t,r){return t&&w_(e.prototype,t),r&&w_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zJ(e,t,r){return t=Ef(t),qJ(e,xE()?Reflect.construct(t,r||[],Ef(e).constructor):t.apply(e,r))}function qJ(e,t){if(t&&(oo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WJ(e)}function WJ(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xE=function(){return!!e})()}function Ef(e){return Ef=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ef(e)}function HJ(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Lg(e,t)}function Lg(e,t){return Lg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Lg(e,t)}function tp(e,t,r){return t=vE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vE(e){var t=KJ(e,"string");return oo(t)=="symbol"?t:t+""}function KJ(e,t){if(oo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(oo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var VJ=Math.PI/180,j_=1e-5,rp=function(e){function t(){return UJ(this,t),zJ(this,t,arguments)}return HJ(t,e),BJ(t,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,u=s.tickSize,f=u||8,d=Ke(i,o,l,n.coordinate),h=Ke(i,o,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:d.x,y1:d.y,x2:h.x,y2:h.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*VJ),o;return i>j_?o=s==="outer"?"start":"end":i<-j_?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=sa(sa({},ie(this.props,!1)),{},{fill:"none"},ie(l,!1));if(c==="circle")return I.createElement(Zh,fa({className:"recharts-polar-angle-axis-line"},u,{cx:s,cy:i,r:o}));var f=this.props.ticks,d=f.map(function(h){return Ke(s,i,o,h.coordinate)});return I.createElement(lJ,fa({className:"recharts-polar-angle-axis-line"},u,{points:d}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,u=s.stroke,f=ie(this.props,!1),d=ie(o,!1),h=sa(sa({},f),{},{fill:"none"},ie(l,!1)),p=i.map(function(v,b){var w=n.getTickLineCoord(v),j=n.getTickTextAnchor(v),x=sa(sa(sa({textAnchor:j},f),{},{stroke:"none",fill:u},d),{},{index:b,payload:v,x:w.x2,y:w.y2});return I.createElement(Se,fa({className:me("recharts-polar-angle-axis-tick",tE(o)),key:"tick-".concat(v.coordinate)},Ma(n.props,v,b)),l&&I.createElement("line",fa({className:"recharts-polar-angle-axis-tick-line"},h,w)),o&&t.renderTickItem(o,x,c?c(v.value,b):v.value))});return I.createElement(Se,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:I.createElement(Se,{className:me("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return I.isValidElement(n)?o=I.cloneElement(n,s):le(n)?o=n(s):o=I.createElement(Da,fa({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])}(O.PureComponent);tp(rp,"displayName","PolarAngleAxis");tp(rp,"axisType","angleAxis");tp(rp,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var GJ=jO,YJ=GJ(Object.getPrototypeOf,Object),QJ=YJ,XJ=is,ZJ=QJ,JJ=os,eee="[object Object]",tee=Function.prototype,ree=Object.prototype,yE=tee.toString,nee=ree.hasOwnProperty,see=yE.call(Object);function aee(e){if(!JJ(e)||XJ(e)!=eee)return!1;var t=ZJ(e);if(t===null)return!0;var r=nee.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&yE.call(r)==see}var iee=aee;const oee=$e(iee);var lee=is,cee=os,uee="[object Boolean]";function dee(e){return e===!0||e===!1||cee(e)&&lee(e)==uee}var fee=dee;const hee=$e(fee);function Ic(e){"@babel/helpers - typeof";return Ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ic(e)}function Pf(){return Pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pf.apply(this,arguments)}function pee(e,t){return vee(e)||xee(e,t)||gee(e,t)||mee()}function mee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gee(e,t){if(e){if(typeof e=="string")return __(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return __(e,t)}}function __(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function xee(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function vee(e){if(Array.isArray(e))return e}function N_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function S_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N_(Object(r),!0).forEach(function(n){yee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yee(e,t,r){return t=bee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bee(e){var t=wee(e,"string");return Ic(t)=="symbol"?t:t+""}function wee(e,t){if(Ic(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ic(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O_=function(t,r,n,s,i){var o=n-s,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+i),l+="L ".concat(t+n-o/2-s,",").concat(r+i),l+="L ".concat(t,",").concat(r," Z"),l},jee={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_ee=function(t){var r=S_(S_({},jee),t),n=O.useRef(),s=O.useState(-1),i=pee(s,2),o=i[0],l=i[1];O.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var m=n.current.getTotalLength();m&&l(m)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,d=r.lowerWidth,h=r.height,p=r.className,v=r.animationEasing,b=r.animationDuration,w=r.animationBegin,j=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||d!==+d||h!==+h||f===0&&d===0||h===0)return null;var x=me("recharts-trapezoid",p);return j?I.createElement(Pn,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:c,y:u},to:{upperWidth:f,lowerWidth:d,height:h,x:c,y:u},duration:b,animationEasing:v,isActive:j},function(m){var _=m.upperWidth,g=m.lowerWidth,y=m.height,N=m.x,S=m.y;return I.createElement(Pn,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:w,duration:b,easing:v},I.createElement("path",Pf({},ie(r,!0),{className:x,d:O_(N,S,_,g,y),ref:n})))}):I.createElement("g",null,I.createElement("path",Pf({},ie(r,!0),{className:x,d:O_(c,u,f,d,h)})))},Nee=["option","shapeType","propTransformer","activeClassName","isActive"];function Rc(e){"@babel/helpers - typeof";return Rc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rc(e)}function See(e,t){if(e==null)return{};var r=Oee(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Oee(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function A_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Cf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(r),!0).forEach(function(n){Aee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aee(e,t,r){return t=Eee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Eee(e){var t=Pee(e,"string");return Rc(t)=="symbol"?t:t+""}function Pee(e,t){if(Rc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Rc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Cee(e,t){return Cf(Cf({},t),e)}function kee(e,t){return e==="symbols"}function E_(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return I.createElement(dy,r);case"trapezoid":return I.createElement(_ee,r);case"sector":return I.createElement(sE,r);case"symbols":if(kee(t))return I.createElement(Cv,r);break;default:return null}}function Tee(e){return O.isValidElement(e)?e.props:e}function bE(e){var t=e.option,r=e.shapeType,n=e.propTransformer,s=n===void 0?Cee:n,i=e.activeClassName,o=i===void 0?"recharts-active-shape":i,l=e.isActive,c=See(e,Nee),u;if(O.isValidElement(t))u=O.cloneElement(t,Cf(Cf({},c),Tee(t)));else if(le(t))u=t(c);else if(oee(t)&&!hee(t)){var f=s(t,c);u=I.createElement(E_,{shapeType:r,elementProps:f})}else{var d=c;u=I.createElement(E_,{shapeType:r,elementProps:d})}return l?I.createElement(Se,{className:o},u):u}function np(e,t){return t!=null&&"trapezoids"in e.props}function sp(e,t){return t!=null&&"sectors"in e.props}function Mc(e,t){return t!=null&&"points"in e.props}function $ee(e,t){var r,n,s=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,i=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return s&&i}function Iee(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function Ree(e,t){var r=e.x===t.x,n=e.y===t.y,s=e.z===t.z;return r&&n&&s}function Mee(e,t){var r;return np(e,t)?r=$ee:sp(e,t)?r=Iee:Mc(e,t)&&(r=Ree),r}function Dee(e,t){var r;return np(e,t)?r="trapezoids":sp(e,t)?r="sectors":Mc(e,t)&&(r="points"),r}function Lee(e,t){if(np(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(sp(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Mc(e,t)?t.payload:{}}function Fee(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,s=Dee(r,t),i=Lee(r,t),o=n.filter(function(c,u){var f=ou(i,c),d=r.props[s].filter(function(v){var b=Mee(r,t);return b(v,t)}),h=r.props[s].indexOf(d[d.length-1]),p=u===h;return f&&p}),l=n.indexOf(o[o.length-1]);return l}var ld;function lo(e){"@babel/helpers - typeof";return lo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lo(e)}function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ni.apply(this,arguments)}function P_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Be(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P_(Object(r),!0).forEach(function(n){Ur(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,jE(n.key),n)}}function Bee(e,t,r){return t&&C_(e.prototype,t),r&&C_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function zee(e,t,r){return t=kf(t),qee(e,wE()?Reflect.construct(t,r||[],kf(e).constructor):t.apply(e,r))}function qee(e,t){if(t&&(lo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wee(e)}function Wee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function wE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wE=function(){return!!e})()}function kf(e){return kf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kf(e)}function Hee(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fg(e,t)}function Fg(e,t){return Fg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Fg(e,t)}function Ur(e,t,r){return t=jE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jE(e){var t=Kee(e,"string");return lo(t)=="symbol"?t:t+""}function Kee(e,t){if(lo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(lo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kr=function(e){function t(r){var n;return Uee(this,t),n=zee(this,t,[r]),Ur(n,"pieRef",null),Ur(n,"sectorRefs",[]),Ur(n,"id",Mo("recharts-pie-")),Ur(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),le(s)&&s()}),Ur(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),le(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Hee(t,e),Bee(t,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,f=ie(this.props,!1),d=ie(o,!1),h=ie(l,!1),p=o&&o.offsetRadius||20,v=n.map(function(b,w){var j=(b.startAngle+b.endAngle)/2,x=Ke(b.cx,b.cy,b.outerRadius+p,j),m=Be(Be(Be(Be({},f),b),{},{stroke:"none"},d),{},{index:w,textAnchor:t.getTextAnchor(x.x,b.cx)},x),_=Be(Be(Be(Be({},f),b),{},{fill:"none",stroke:b.fill},h),{},{index:w,points:[Ke(b.cx,b.cy,b.outerRadius,j),x]}),g=c;return fe(c)&&fe(u)?g="value":fe(c)&&(g=u),I.createElement(Se,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(w)},l&&t.renderLabelLineItem(l,_,"line"),t.renderLabelItem(o,m,bt(b,g)))});return I.createElement(Se,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var d=s.isActiveIndex(f),h=c&&s.hasActiveIndex()?c:null,p=d?o:h,v=Be(Be({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return I.createElement(Se,Ni({ref:function(w){w&&!s.sectorRefs.includes(w)&&s.sectorRefs.push(w)},tabIndex:-1,className:"recharts-pie-sector"},Ma(s.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),I.createElement(bE,Ni({option:p,isActive:d,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,u=s.animationEasing,f=s.animationId,d=this.state,h=d.prevSectors,p=d.prevIsAnimationActive;return I.createElement(Pn,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var b=v.t,w=[],j=i&&i[0],x=j.startAngle;return i.forEach(function(m,_){var g=h&&h[_],y=_>0?Nr(m,"paddingAngle",0):0;if(g){var N=br(g.endAngle-g.startAngle,m.endAngle-m.startAngle),S=Be(Be({},m),{},{startAngle:x+y,endAngle:x+N(b)+y});w.push(S),x=S.endAngle}else{var A=m.endAngle,P=m.startAngle,T=br(0,A-P),E=T(b),C=Be(Be({},m),{},{startAngle:x+y,endAngle:x+E+y});w.push(C),x=C.endAngle}}),I.createElement(Se,null,n.renderSectorsStatically(w))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!ou(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,u=s.cx,f=s.cy,d=s.innerRadius,h=s.outerRadius,p=s.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!V(u)||!V(f)||!V(d)||!V(h))return null;var b=me("recharts-pie",l);return I.createElement(Se,{tabIndex:this.props.rootTabIndex,className:b,ref:function(j){n.pieRef=j}},this.renderSectors(),c&&this.renderLabels(o),Et.renderCallByParent(this.props,null,!1),(!p||v)&&Yn.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(I.isValidElement(n))return I.cloneElement(n,s);if(le(n))return n(s);var o=me("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return I.createElement(jf,Ni({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(I.isValidElement(n))return I.cloneElement(n,s);var o=i;if(le(n)&&(o=n(s),I.isValidElement(o)))return o;var l=me("recharts-pie-label-text",typeof n!="boolean"&&!le(n)?n.className:"");return I.createElement(Da,Ni({},s,{alignmentBaseline:"middle",className:l}),o)}}])}(O.PureComponent);ld=kr;Ur(kr,"displayName","Pie");Ur(kr,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Sn.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ur(kr,"parseDeltaAngle",function(e,t){var r=Zt(t-e),n=Math.min(Math.abs(t-e),360);return r*n});Ur(kr,"getRealPieData",function(e){var t=e.data,r=e.children,n=ie(e,!1),s=Sr(r,Qs);return t&&t.length?t.map(function(i,o){return Be(Be(Be({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return Be(Be({},n),i.props)}):[]});Ur(kr,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,s=t.width,i=t.height,o=eE(s,i),l=n+Jt(e.cx,s,s/2),c=r+Jt(e.cy,i,i/2),u=Jt(e.innerRadius,o,0),f=Jt(e.outerRadius,o,o*.8),d=e.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:d}});Ur(kr,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Be(Be({},t.type.defaultProps),t.props):t.props,s=ld.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,d=n.valueKey,h=n.tooltipType,p=Math.abs(n.minAngle),v=ld.parseCoordinateOfPie(n,r),b=ld.parseDeltaAngle(o,l),w=Math.abs(b),j=u;fe(u)&&fe(d)?(hn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):fe(u)&&(hn(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=d);var x=s.filter(function(S){return bt(S,j,0)!==0}).length,m=(w>=360?x:x-1)*c,_=w-x*p-m,g=s.reduce(function(S,A){var P=bt(A,j,0);return S+(V(P)?P:0)},0),y;if(g>0){var N;y=s.map(function(S,A){var P=bt(S,j,0),T=bt(S,f,A),E=(V(P)?P:0)/g,C;A?C=N.endAngle+Zt(b)*c*(P!==0?1:0):C=o;var k=C+Zt(b)*((P!==0?p:0)+E*_),R=(C+k)/2,$=(v.innerRadius+v.outerRadius)/2,L=[{name:T,value:P,payload:S,dataKey:j,type:h}],D=Ke(v.cx,v.cy,$,R);return N=Be(Be(Be({percent:E,cornerRadius:i,name:T,tooltipPayload:L,midAngle:R,middleRadius:$,tooltipPosition:D},S),v),{},{value:bt(S,j),startAngle:C,endAngle:k,payload:S,paddingAngle:Zt(b)*c}),N})}return Be(Be({},v),{},{sectors:y,data:s})});var Vee=Math.ceil,Gee=Math.max;function Yee(e,t,r,n){for(var s=-1,i=Gee(Vee((t-e)/(r||1)),0),o=Array(i);i--;)o[n?i:++s]=e,e+=r;return o}var Qee=Yee,Xee=BO,k_=1/0,Zee=17976931348623157e292;function Jee(e){if(!e)return e===0?e:0;if(e=Xee(e),e===k_||e===-k_){var t=e<0?-1:1;return t*Zee}return e===e?e:0}var _E=Jee,ete=Qee,tte=Uh,ym=_E;function rte(e){return function(t,r,n){return n&&typeof n!="number"&&tte(t,r,n)&&(r=n=void 0),t=ym(t),r===void 0?(r=t,t=0):r=ym(r),n=n===void 0?t<r?1:-1:ym(n),ete(t,r,n,e)}}var nte=rte,ste=nte,ate=ste(),ite=ate;const Tf=$e(ite);function Dc(e){"@babel/helpers - typeof";return Dc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dc(e)}function T_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function $_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?T_(Object(r),!0).forEach(function(n){NE(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NE(e,t,r){return t=ote(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ote(e){var t=lte(e,"string");return Dc(t)=="symbol"?t:t+""}function lte(e,t){if(Dc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Dc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cte=["Webkit","Moz","O","ms"],ute=function(t,r){var n=t.replace(/(\w)/,function(i){return i.toUpperCase()}),s=cte.reduce(function(i,o){return $_($_({},i),{},NE({},o+n,r))},{});return s[t]=r,s};function co(e){"@babel/helpers - typeof";return co=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},co(e)}function $f(){return $f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$f.apply(this,arguments)}function I_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I_(Object(r),!0).forEach(function(n){xr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dte(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function R_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,OE(n.key),n)}}function fte(e,t,r){return t&&R_(e.prototype,t),r&&R_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hte(e,t,r){return t=If(t),pte(e,SE()?Reflect.construct(t,r||[],If(e).constructor):t.apply(e,r))}function pte(e,t){if(t&&(co(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mte(e)}function mte(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SE=function(){return!!e})()}function If(e){return If=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},If(e)}function gte(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ug(e,t)}function Ug(e,t){return Ug=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Ug(e,t)}function xr(e,t,r){return t=OE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OE(e){var t=xte(e,"string");return co(t)=="symbol"?t:t+""}function xte(e,t){if(co(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(co(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vte=function(t){var r=t.data,n=t.startIndex,s=t.endIndex,i=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Tl().domain(Tf(0,c)).range([i,i+o-l]),f=u.domain().map(function(d){return u(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(s),scale:u,scaleValues:f}},M_=function(t){return t.changedTouches&&!!t.changedTouches.length},uo=function(e){function t(r){var n;return dte(this,t),n=hte(this,t,[r]),xr(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),xr(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),xr(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),xr(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),xr(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),xr(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),xr(n,"handleSlideDragStart",function(s){var i=M_(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return gte(t,e),fte(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,d=Math.min(s,i),h=Math.max(s,i),p=t.getIndexInRange(o,d),v=t.getIndexInRange(o,h);return{startIndex:p-p%c,endIndex:v===f?f:v-v%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=bt(i[n],l,n);return le(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,u=c.x,f=c.width,d=c.travellerWidth,h=c.startIndex,p=c.endIndex,v=c.onChange,b=n.pageX-i;b>0?b=Math.min(b,u+f-d-l,u+f-d-o):b<0&&(b=Math.max(b,u-o,u-l));var w=this.getIndex({startX:o+b,endX:l+b});(w.startIndex!==h||w.endIndex!==p)&&v&&v(w),this.setState({startX:o+b,endX:l+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=M_(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,u=this.state[o],f=this.props,d=f.x,h=f.width,p=f.travellerWidth,v=f.onChange,b=f.gap,w=f.data,j={startX:this.state.startX,endX:this.state.endX},x=n.pageX-i;x>0?x=Math.min(x,d+h-p-u):x<0&&(x=Math.max(x,d-u)),j[o]=u+x;var m=this.getIndex(j),_=m.startIndex,g=m.endIndex,y=function(){var S=w.length-1;return o==="startX"&&(l>c?_%b===0:g%b===0)||l<c&&g===S||o==="endX"&&(l>c?g%b===0:_%b===0)||l>c&&g===S};this.setState(xr(xr({},o,u+x),"brushMoveStartX",n.pageX),function(){v&&y()&&v(m)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[s],d=l.indexOf(f);if(d!==-1){var h=d+n;if(!(h===-1||h>=l.length)){var p=l[h];s==="startX"&&p>=u||s==="endX"&&p<=c||this.setState(xr({},s,p),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return I.createElement("rect",{stroke:u,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,d=O.Children.only(u);return d?I.cloneElement(d,{x:s,y:i,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,d=c.height,h=c.traveller,p=c.ariaLabel,v=c.data,b=c.startIndex,w=c.endIndex,j=Math.max(n,this.props.x),x=bm(bm({},ie(this.props,!1)),{},{x:j,y:u,width:f,height:d}),m=p||"Min value: ".concat((i=v[b])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[w])===null||o===void 0?void 0:o.name);return I.createElement(Se,{tabIndex:0,role:"slider","aria-label":m,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(g){["ArrowLeft","ArrowRight"].includes(g.key)&&(g.preventDefault(),g.stopPropagation(),l.handleTravellerMoveKeyboard(g.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(h,x))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,f=Math.min(n,s)+u,d=Math.max(Math.abs(s-n)-u,0);return I.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:d,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,d=f.startX,h=f.endX,p=5,v={pointerEvents:"none",fill:u};return I.createElement(Se,{className:"recharts-brush-texts"},I.createElement(Da,$f({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,h)-p,y:o+l/2},v),this.getTextOfTick(s)),I.createElement(Da,$f({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,h)+c+p,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,u=n.width,f=n.height,d=n.alwaysShowText,h=this.state,p=h.startX,v=h.endX,b=h.isTextActive,w=h.isSlideMoving,j=h.isTravellerMoving,x=h.isTravellerFocused;if(!s||!s.length||!V(l)||!V(c)||!V(u)||!V(f)||u<=0||f<=0)return null;var m=me("recharts-brush",i),_=I.Children.count(o)===1,g=ute("userSelect","none");return I.createElement(Se,{className:m,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:g},this.renderBackground(),_&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(b||w||j||x||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return I.createElement(I.Fragment,null,I.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),I.createElement("line",{x1:s+1,y1:u,x2:s+o-1,y2:u,fill:"none",stroke:"#fff"}),I.createElement("line",{x1:s+1,y1:u+2,x2:s+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return I.isValidElement(n)?i=I.cloneElement(n,s):le(n)?i=n(s):i=t.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,d=n.endIndex;if(i!==s.prevData||u!==s.prevUpdateId)return bm({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},i&&i.length?vte({data:i,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:d}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var h=s.scale.domain().map(function(p){return s.scale(p)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])}(O.PureComponent);xr(uo,"displayName","Brush");xr(uo,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var yte=Dv;function bte(e,t){var r;return yte(e,function(n,s,i){return r=t(n,s,i),!r}),!!r}var wte=bte,jte=pO,_te=kn,Nte=wte,Ste=mr,Ote=Uh;function Ate(e,t,r){var n=Ste(e)?jte:Nte;return r&&Ote(e,t,r)&&(t=void 0),n(e,_te(t))}var Ete=Ate;const Pte=$e(Ete);var An=function(t,r){var n=t.alwaysShow,s=t.ifOverflow;return n&&(s="extendDomain"),s===r},D_=MO;function Cte(e,t,r){t=="__proto__"&&D_?D_(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var kte=Cte,Tte=kte,$te=IO,Ite=kn;function Rte(e,t){var r={};return t=Ite(t),$te(e,function(n,s,i){Tte(r,s,t(n,s,i))}),r}var Mte=Rte;const Dte=$e(Mte);function Lte(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}var Fte=Lte,Ute=Dv;function Bte(e,t){var r=!0;return Ute(e,function(n,s,i){return r=!!t(n,s,i),r}),r}var zte=Bte,qte=Fte,Wte=zte,Hte=kn,Kte=mr,Vte=Uh;function Gte(e,t,r){var n=Kte(e)?qte:Wte;return r&&Vte(e,t,r)&&(t=void 0),n(e,Hte(t))}var Yte=Gte;const AE=$e(Yte);var Qte=["x","y"];function Lc(e){"@babel/helpers - typeof";return Lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lc(e)}function Bg(){return Bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bg.apply(this,arguments)}function L_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L_(Object(r),!0).forEach(function(n){Xte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Xte(e,t,r){return t=Zte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Zte(e){var t=Jte(e,"string");return Lc(t)=="symbol"?t:t+""}function Jte(e,t){if(Lc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Lc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ere(e,t){if(e==null)return{};var r=tre(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tre(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function rre(e,t){var r=e.x,n=e.y,s=ere(e,Qte),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||s.height),f=parseInt(u,10),d="".concat(t.width||s.width),h=parseInt(d,10);return dl(dl(dl(dl(dl({},t),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:h,name:t.name,radius:t.radius})}function F_(e){return I.createElement(bE,Bg({shapeType:"rectangle",propTransformer:rre,activeClassName:"recharts-active-bar"},e))}var nre=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof t=="number")return t;var i=V(n)||E8(n);return i?t(n,s):(i||Fa(),r)}},sre=["value","background"],EE;function fo(e){"@babel/helpers - typeof";return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(e)}function are(e,t){if(e==null)return{};var r=ire(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ire(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Rf(){return Rf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rf.apply(this,arguments)}function U_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ht(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?U_(Object(r),!0).forEach(function(n){Ps(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ore(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,CE(n.key),n)}}function lre(e,t,r){return t&&B_(e.prototype,t),r&&B_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function cre(e,t,r){return t=Mf(t),ure(e,PE()?Reflect.construct(t,r||[],Mf(e).constructor):t.apply(e,r))}function ure(e,t){if(t&&(fo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dre(e)}function dre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function PE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PE=function(){return!!e})()}function Mf(e){return Mf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mf(e)}function fre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zg(e,t)}function zg(e,t){return zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zg(e,t)}function Ps(e,t,r){return t=CE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function CE(e){var t=hre(e,"string");return fo(t)=="symbol"?t:t+""}function hre(e,t){if(fo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(fo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ct=function(e){function t(){var r;ore(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=cre(this,t,[].concat(s)),Ps(r,"state",{isAnimationFinished:!1}),Ps(r,"id",Mo("recharts-bar-")),Ps(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Ps(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return fre(t,e),lre(t,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,f=ie(this.props,!1);return n&&n.map(function(d,h){var p=h===c,v=p?u:o,b=ht(ht(ht({},f),d),{},{isActive:p,option:v,index:h,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return I.createElement(Se,Rf({className:"recharts-bar-rectangle"},Ma(s.props,d,h),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(h)}),I.createElement(F_,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,u=s.animationDuration,f=s.animationEasing,d=s.animationId,h=this.state.prevData;return I.createElement(Pn,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,b=i.map(function(w,j){var x=h&&h[j];if(x){var m=br(x.x,w.x),_=br(x.y,w.y),g=br(x.width,w.width),y=br(x.height,w.height);return ht(ht({},w),{},{x:m(v),y:_(v),width:g(v),height:y(v)})}if(o==="horizontal"){var N=br(0,w.height),S=N(v);return ht(ht({},w),{},{y:w.y+w.height-S,height:S})}var A=br(0,w.width),P=A(v);return ht(ht({},w),{},{width:P})});return I.createElement(Se,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!ou(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=ie(this.props.background,!1);return i.map(function(u,f){u.value;var d=u.background,h=are(u,sre);if(!d)return null;var p=ht(ht(ht(ht(ht({},h),{},{fill:"#eee"},d),c),Ma(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return I.createElement(F_,Rf({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},p))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,d=Sr(f,lu);if(!d)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,p=function(w,j){var x=Array.isArray(w.value)?w.value[1]:w.value;return{x:w.x,y:w.y,value:x,errorVal:bt(w,j)}},v={clipPath:n?"url(#clipPath-".concat(s,")"):null};return I.createElement(Se,v,d.map(function(b){return I.cloneElement(b,{key:"error-bar-".concat(s,"-").concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,d=n.width,h=n.height,p=n.isAnimationActive,v=n.background,b=n.id;if(s||!i||!i.length)return null;var w=this.state.isAnimationFinished,j=me("recharts-bar",o),x=l&&l.allowDataOverflow,m=c&&c.allowDataOverflow,_=x||m,g=fe(b)?this.id:b;return I.createElement(Se,{className:j},x||m?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(g)},I.createElement("rect",{x:x?u:u-d/2,y:m?f:f-h/2,width:x?d:d*2,height:m?h:h*2}))):null,I.createElement(Se,{className:"recharts-bar-rectangles",clipPath:_?"url(#clipPath-".concat(g,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(_,g),(!p||w)&&Yn.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])}(O.PureComponent);EE=Ct;Ps(Ct,"displayName","Bar");Ps(Ct,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Sn.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ps(Ct,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,s=e.bandSize,i=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,d=e.displayedData,h=e.offset,p=VY(n,r);if(!p)return null;var v=t.layout,b=r.type.defaultProps,w=b!==void 0?ht(ht({},b),r.props):r.props,j=w.dataKey,x=w.children,m=w.minPointSize,_=v==="horizontal"?o:i,g=u?_.scale.domain():null,y=eQ({numericAxis:_}),N=Sr(x,Qs),S=d.map(function(A,P){var T,E,C,k,R,$;u?T=GY(u[f+P],g):(T=bt(A,j),Array.isArray(T)||(T=[y,T]));var L=nre(m,EE.defaultProps.minPointSize)(T[1],P);if(v==="horizontal"){var D,F=[o.scale(T[0]),o.scale(T[1])],W=F[0],G=F[1];E=Cj({axis:i,ticks:l,bandSize:s,offset:p.offset,entry:A,index:P}),C=(D=G??W)!==null&&D!==void 0?D:void 0,k=p.size;var K=W-G;if(R=Number.isNaN(K)?0:K,$={x:E,y:o.y,width:k,height:o.height},Math.abs(L)>0&&Math.abs(R)<Math.abs(L)){var Z=Zt(R||L)*(Math.abs(L)-Math.abs(R));C-=Z,R+=Z}}else{var de=[i.scale(T[0]),i.scale(T[1])],ke=de[0],Le=de[1];if(E=ke,C=Cj({axis:o,ticks:c,bandSize:s,offset:p.offset,entry:A,index:P}),k=Le-ke,R=p.size,$={x:i.x,y:C,width:i.width,height:R},Math.abs(L)>0&&Math.abs(k)<Math.abs(L)){var lt=Zt(k||L)*(Math.abs(L)-Math.abs(k));k+=lt}}return ht(ht(ht({},A),{},{x:E,y:C,width:k,height:R,value:u?T:T[1],payload:A,background:$},N&&N[P]&&N[P].props),{},{tooltipPayload:[ZA(r,A)],tooltipPosition:{x:E+k/2,y:C+R/2}})});return ht({data:S,layout:v},h)});function Fc(e){"@babel/helpers - typeof";return Fc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fc(e)}function pre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z_(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kE(n.key),n)}}function mre(e,t,r){return t&&z_(e.prototype,t),r&&z_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?q_(Object(r),!0).forEach(function(n){ap(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ap(e,t,r){return t=kE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kE(e){var t=gre(e,"string");return Fc(t)=="symbol"?t:t+""}function gre(e,t){if(Fc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Fc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TE=function(t,r,n,s,i){var o=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),d={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},h=!!yr(u,Ct);return f.reduce(function(p,v){var b=r[v],w=b.orientation,j=b.domain,x=b.padding,m=x===void 0?{}:x,_=b.mirror,g=b.reversed,y="".concat(w).concat(_?"Mirror":""),N,S,A,P,T;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var E=j[1]-j[0],C=1/0,k=b.categoricalDomain.sort(k8);if(k.forEach(function(de,ke){ke>0&&(C=Math.min((de||0)-(k[ke-1]||0),C))}),Number.isFinite(C)){var R=C/E,$=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(N=R*$/2),b.padding==="no-gap"){var L=Jt(t.barCategoryGap,R*$),D=R*$/2;N=D-L-(D-L)/$*L}}}s==="xAxis"?S=[n.left+(m.left||0)+(N||0),n.left+n.width-(m.right||0)-(N||0)]:s==="yAxis"?S=c==="horizontal"?[n.top+n.height-(m.bottom||0),n.top+(m.top||0)]:[n.top+(m.top||0)+(N||0),n.top+n.height-(m.bottom||0)-(N||0)]:S=b.range,g&&(S=[S[1],S[0]]);var F=GA(b,i,h),W=F.scale,G=F.realScaleType;W.domain(j).range(S),YA(W);var K=QA(W,nn(nn({},b),{},{realScaleType:G}));s==="xAxis"?(T=w==="top"&&!_||w==="bottom"&&_,A=n.left,P=d[y]-T*b.height):s==="yAxis"&&(T=w==="left"&&!_||w==="right"&&_,A=d[y]-T*b.width,P=n.top);var Z=nn(nn(nn({},b),K),{},{realScaleType:G,x:A,y:P,scale:W,width:s==="xAxis"?n.width:b.width,height:s==="yAxis"?n.height:b.height});return Z.bandSize=yf(Z,K),!b.hide&&s==="xAxis"?d[y]+=(T?-1:1)*Z.height:b.hide||(d[y]+=(T?-1:1)*Z.width),nn(nn({},p),{},ap({},v,Z))},{})},$E=function(t,r){var n=t.x,s=t.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},xre=function(t){var r=t.x1,n=t.y1,s=t.x2,i=t.y2;return $E({x:r,y:n},{x:s,y:i})},IE=function(){function e(t){pre(this,e),this.scale=t}return mre(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new e(r)}}])}();ap(IE,"EPS",1e-4);var fy=function(t){var r=Object.keys(t).reduce(function(n,s){return nn(nn({},n),{},ap({},s,IE.create(t[s])))},{});return nn(nn({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return Dte(s,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return AE(s,function(i,o){return r[o].isInRange(i)})}})};function vre(e){return(e%180+180)%180}var yre=function(t){var r=t.width,n=t.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=vre(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},bre=kn,wre=ru,jre=Lh;function _re(e){return function(t,r,n){var s=Object(t);if(!wre(t)){var i=bre(r);t=jre(t),r=function(l){return i(s[l],l,s)}}var o=e(t,r,n);return o>-1?s[i?t[o]:o]:void 0}}var Nre=_re,Sre=_E;function Ore(e){var t=Sre(e),r=t%1;return t===t?r?t-r:t:0}var Are=Ore,Ere=EO,Pre=kn,Cre=Are,kre=Math.max;function Tre(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:Cre(r);return s<0&&(s=kre(n+s,0)),Ere(e,Pre(t),s)}var $re=Tre,Ire=Nre,Rre=$re,Mre=Ire(Rre),Dre=Mre;const Lre=$e(Dre);var Fre=TM(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),hy=O.createContext(void 0),py=O.createContext(void 0),RE=O.createContext(void 0),ME=O.createContext({}),DE=O.createContext(void 0),LE=O.createContext(0),FE=O.createContext(0),W_=function(t){var r=t.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,f=Fre(i);return I.createElement(hy.Provider,{value:n},I.createElement(py.Provider,{value:s},I.createElement(ME.Provider,{value:i},I.createElement(RE.Provider,{value:f},I.createElement(DE.Provider,{value:o},I.createElement(LE.Provider,{value:u},I.createElement(FE.Provider,{value:c},l)))))))},Ure=function(){return O.useContext(DE)},UE=function(t){var r=O.useContext(hy);r==null&&Fa();var n=r[t];return n==null&&Fa(),n},Bre=function(){var t=O.useContext(hy);return _s(t)},zre=function(){var t=O.useContext(py),r=Lre(t,function(n){return AE(n.domain,Number.isFinite)});return r||_s(t)},BE=function(t){var r=O.useContext(py);r==null&&Fa();var n=r[t];return n==null&&Fa(),n},qre=function(){var t=O.useContext(RE);return t},Wre=function(){return O.useContext(ME)},my=function(){return O.useContext(FE)},gy=function(){return O.useContext(LE)};function ho(e){"@babel/helpers - typeof";return ho=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ho(e)}function Hre(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kre(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,qE(n.key),n)}}function Vre(e,t,r){return t&&Kre(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gre(e,t,r){return t=Df(t),Yre(e,zE()?Reflect.construct(t,r||[],Df(e).constructor):t.apply(e,r))}function Yre(e,t){if(t&&(ho(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qre(e)}function Qre(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zE=function(){return!!e})()}function Df(e){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Df(e)}function Xre(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qg(e,t)}function qg(e,t){return qg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},qg(e,t)}function H_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function K_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H_(Object(r),!0).forEach(function(n){xy(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xy(e,t,r){return t=qE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qE(e){var t=Zre(e,"string");return ho(t)=="symbol"?t:t+""}function Zre(e,t){if(ho(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(ho(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jre(e,t){return nne(e)||rne(e,t)||tne(e,t)||ene()}function ene(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tne(e,t){if(e){if(typeof e=="string")return V_(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return V_(e,t)}}function V_(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function rne(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function nne(e){if(Array.isArray(e))return e}function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wg.apply(this,arguments)}var sne=function(t,r){var n;return I.isValidElement(t)?n=I.cloneElement(t,r):le(t)?n=t(r):n=I.createElement("line",Wg({},r,{className:"recharts-reference-line-line"})),n},ane=function(t,r,n,s,i,o,l,c,u){var f=i.x,d=i.y,h=i.width,p=i.height;if(n){var v=u.y,b=t.y.apply(v,{position:o});if(An(u,"discard")&&!t.y.isInRange(b))return null;var w=[{x:f+h,y:b},{x:f,y:b}];return c==="left"?w.reverse():w}if(r){var j=u.x,x=t.x.apply(j,{position:o});if(An(u,"discard")&&!t.x.isInRange(x))return null;var m=[{x,y:d+p},{x,y:d}];return l==="top"?m.reverse():m}if(s){var _=u.segment,g=_.map(function(y){return t.apply(y,{position:o})});return An(u,"discard")&&Pte(g,function(y){return!t.isInRange(y)})?null:g}return null};function ine(e){var t=e.x,r=e.y,n=e.segment,s=e.xAxisId,i=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=Ure(),f=UE(s),d=BE(i),h=qre();if(!u||!h)return null;hn(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=fy({x:f.scale,y:d.scale}),v=jt(t),b=jt(r),w=n&&n.length===2,j=ane(p,v,b,w,h,e.position,f.orientation,d.orientation,e);if(!j)return null;var x=Jre(j,2),m=x[0],_=m.x,g=m.y,y=x[1],N=y.x,S=y.y,A=An(e,"hidden")?"url(#".concat(u,")"):void 0,P=K_(K_({clipPath:A},ie(e,!0)),{},{x1:_,y1:g,x2:N,y2:S});return I.createElement(Se,{className:me("recharts-reference-line",l)},sne(o,P),Et.renderCallByParent(e,xre({x1:_,y1:g,x2:N,y2:S})))}var vy=function(e){function t(){return Hre(this,t),Gre(this,t,arguments)}return Xre(t,e),Vre(t,[{key:"render",value:function(){return I.createElement(ine,this.props)}}])}(I.Component);xy(vy,"displayName","ReferenceLine");xy(vy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function Hg(){return Hg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hg.apply(this,arguments)}function po(e){"@babel/helpers - typeof";return po=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},po(e)}function G_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Y_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(r),!0).forEach(function(n){ip(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function one(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,HE(n.key),n)}}function cne(e,t,r){return t&&lne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function une(e,t,r){return t=Lf(t),dne(e,WE()?Reflect.construct(t,r||[],Lf(e).constructor):t.apply(e,r))}function dne(e,t){if(t&&(po(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fne(e)}function fne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function WE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(WE=function(){return!!e})()}function Lf(e){return Lf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lf(e)}function hne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kg(e,t)}function Kg(e,t){return Kg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Kg(e,t)}function ip(e,t,r){return t=HE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HE(e){var t=pne(e,"string");return po(t)=="symbol"?t:t+""}function pne(e,t){if(po(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(po(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var mne=function(t){var r=t.x,n=t.y,s=t.xAxis,i=t.yAxis,o=fy({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return An(t,"discard")&&!o.isInRange(l)?null:l},op=function(e){function t(){return one(this,t),une(this,t,arguments)}return hne(t,e),cne(t,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=jt(s),f=jt(i);if(hn(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var d=mne(this.props);if(!d)return null;var h=d.x,p=d.y,v=this.props,b=v.shape,w=v.className,j=An(this.props,"hidden")?"url(#".concat(c,")"):void 0,x=Y_(Y_({clipPath:j},ie(this.props,!0)),{},{cx:h,cy:p});return I.createElement(Se,{className:me("recharts-reference-dot",w)},t.renderDot(b,x),Et.renderCallByParent(this.props,{x:h-o,y:p-o,width:2*o,height:2*o}))}}])}(I.Component);ip(op,"displayName","ReferenceDot");ip(op,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});ip(op,"renderDot",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):le(e)?r=e(t):r=I.createElement(Zh,Hg({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vg.apply(this,arguments)}function mo(e){"@babel/helpers - typeof";return mo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mo(e)}function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function X_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){lp(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xne(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,VE(n.key),n)}}function vne(e,t,r){return t&&xne(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function yne(e,t,r){return t=Ff(t),bne(e,KE()?Reflect.construct(t,r||[],Ff(e).constructor):t.apply(e,r))}function bne(e,t){if(t&&(mo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wne(e)}function wne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function KE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KE=function(){return!!e})()}function Ff(e){return Ff=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ff(e)}function jne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gg(e,t)}function Gg(e,t){return Gg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Gg(e,t)}function lp(e,t,r){return t=VE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VE(e){var t=_ne(e,"string");return mo(t)=="symbol"?t:t+""}function _ne(e,t){if(mo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(mo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Nne=function(t,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,u=i.y2,f=i.xAxis,d=i.yAxis;if(!f||!d)return null;var h=fy({x:f.scale,y:d.scale}),p={x:t?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:n?h.y.apply(c,{position:"start"}):h.y.rangeMin},v={x:r?h.x.apply(l,{position:"end"}):h.x.rangeMax,y:s?h.y.apply(u,{position:"end"}):h.y.rangeMax};return An(i,"discard")&&(!h.isInRange(p)||!h.isInRange(v))?null:$E(p,v)},cp=function(e){function t(){return gne(this,t),yne(this,t,arguments)}return jne(t,e),vne(t,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;hn(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=jt(s),h=jt(i),p=jt(o),v=jt(l),b=this.props.shape;if(!d&&!h&&!p&&!v&&!b)return null;var w=Nne(d,h,p,v,this.props);if(!w&&!b)return null;var j=An(this.props,"hidden")?"url(#".concat(f,")"):void 0;return I.createElement(Se,{className:me("recharts-reference-area",c)},t.renderRect(b,X_(X_({clipPath:j},ie(this.props,!0)),w)),Et.renderCallByParent(this.props,w))}}])}(I.Component);lp(cp,"displayName","ReferenceArea");lp(cp,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});lp(cp,"renderRect",function(e,t){var r;return I.isValidElement(e)?r=I.cloneElement(e,t):le(e)?r=e(t):r=I.createElement(dy,Vg({},t,{className:"recharts-reference-area-rect"})),r});function GE(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function Sne(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return yre(n,r)}function One(e,t,r){var n=r==="width",s=e.x,i=e.y,o=e.width,l=e.height;return t===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function Uf(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-s)<=0}function Ane(e,t){return GE(e,t+1)}function Ene(e,t,r,n,s){for(var i=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,f=o,d=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:GE(n,u)};var b=c,w,j=function(){return w===void 0&&(w=r(v,b)),w},x=v.coordinate,m=c===0||Uf(e,x,j,f,l);m||(c=0,f=o,u+=1),m&&(f=x+e*(j()/2+s),c+=u)},h;u<=i.length;)if(h=d(),h)return h.v;return[]}function Uc(e){"@babel/helpers - typeof";return Uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uc(e)}function Z_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Bt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Z_(Object(r),!0).forEach(function(n){Pne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pne(e,t,r){return t=Cne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Cne(e){var t=kne(e,"string");return Uc(t)=="symbol"?t:t+""}function kne(e,t){if(Uc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Tne(e,t,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=t.start,c=t.end,u=function(h){var p=i[h],v,b=function(){return v===void 0&&(v=r(p,h)),v};if(h===o-1){var w=e*(p.coordinate+e*b()/2-c);i[h]=p=Bt(Bt({},p),{},{tickCoord:w>0?p.coordinate-w*e:p.coordinate})}else i[h]=p=Bt(Bt({},p),{},{tickCoord:p.coordinate});var j=Uf(e,p.tickCoord,b,l,c);j&&(c=p.tickCoord-e*(b()/2+s),i[h]=Bt(Bt({},p),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return i}function $ne(e,t,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(i){var f=n[l-1],d=r(f,l-1),h=e*(f.coordinate+e*d/2-u);o[l-1]=f=Bt(Bt({},f),{},{tickCoord:h>0?f.coordinate-h*e:f.coordinate});var p=Uf(e,f.tickCoord,function(){return d},c,u);p&&(u=f.tickCoord-e*(d/2+s),o[l-1]=Bt(Bt({},f),{},{isShow:!0}))}for(var v=i?l-1:l,b=function(x){var m=o[x],_,g=function(){return _===void 0&&(_=r(m,x)),_};if(x===0){var y=e*(m.coordinate-e*g()/2-c);o[x]=m=Bt(Bt({},m),{},{tickCoord:y<0?m.coordinate-y*e:m.coordinate})}else o[x]=m=Bt(Bt({},m),{},{tickCoord:m.coordinate});var N=Uf(e,m.tickCoord,g,c,u);N&&(c=m.tickCoord+e*(g()/2+s),o[x]=Bt(Bt({},m),{},{isShow:!0}))},w=0;w<v;w++)b(w);return o}function yy(e,t,r){var n=e.tick,s=e.ticks,i=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,d=e.angle;if(!s||!s.length||!n)return[];if(V(c)||Sn.isSsr)return Ane(s,typeof c=="number"&&V(c)?c:0);var h=[],p=l==="top"||l==="bottom"?"width":"height",v=f&&p==="width"?kl(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=function(m,_){var g=le(u)?u(m.value,_):m.value;return p==="width"?Sne(kl(g,{fontSize:t,letterSpacing:r}),v,d):kl(g,{fontSize:t,letterSpacing:r})[p]},w=s.length>=2?Zt(s[1].coordinate-s[0].coordinate):1,j=One(i,w,p);return c==="equidistantPreserveStart"?Ene(w,j,b,s,o):(c==="preserveStart"||c==="preserveStartEnd"?h=$ne(w,j,b,s,o,c==="preserveStartEnd"):h=Tne(w,j,b,s,o),h.filter(function(x){return x.isShow}))}var Ine=["viewBox"],Rne=["viewBox"],Mne=["ticks"];function go(e){"@babel/helpers - typeof";return go=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},go(e)}function Si(){return Si=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Si.apply(this,arguments)}function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(n){by(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wm(e,t){if(e==null)return{};var r=Dne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Dne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,QE(n.key),n)}}function Fne(e,t,r){return t&&eN(e.prototype,t),r&&eN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function Une(e,t,r){return t=Bf(t),Bne(e,YE()?Reflect.construct(t,r||[],Bf(e).constructor):t.apply(e,r))}function Bne(e,t){if(t&&(go(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zne(e)}function zne(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function YE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YE=function(){return!!e})()}function Bf(e){return Bf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Bf(e)}function qne(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yg(e,t)}function Yg(e,t){return Yg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Yg(e,t)}function by(e,t,r){return t=QE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QE(e){var t=Wne(e,"string");return go(t)=="symbol"?t:t+""}function Wne(e,t){if(go(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(go(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qo=function(e){function t(r){var n;return Lne(this,t),n=Une(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return qne(t,e),Fne(t,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=wm(n,Ine),l=this.props,c=l.viewBox,u=wm(l,Rne);return!Ri(i,c)||!Ri(o,u)||!Ri(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,u=s.orientation,f=s.tickSize,d=s.mirror,h=s.tickMargin,p,v,b,w,j,x,m=d?-1:1,_=n.tickSize||f,g=V(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=v=n.coordinate,w=o+ +!d*c,b=w-m*_,x=b-m*h,j=g;break;case"left":b=w=n.coordinate,v=i+ +!d*l,p=v-m*_,j=p-m*h,x=g;break;case"right":b=w=n.coordinate,v=i+ +d*l,p=v+m*_,j=p+m*h,x=g;break;default:p=v=n.coordinate,w=o+ +d*c,b=w+m*_,x=b+m*h,j=g;break}return{line:{x1:p,y1:b,x2:v,y2:w},tick:{x:j,y:x}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,d=xt(xt(xt({},ie(this.props,!1)),ie(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var h=+(c==="top"&&!u||c==="bottom"&&u);d=xt(xt({},d),{},{x1:s,y1:i+h*l,x2:s+o,y2:i+h*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);d=xt(xt({},d),{},{x1:s+p*o,y1:i,x2:s+p*o,y2:i+l})}return I.createElement("line",Si({},d,{className:me("recharts-cartesian-axis-line",Nr(f,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,d=l.tickFormatter,h=l.unit,p=yy(xt(xt({},this.props),{},{ticks:n}),s,i),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),w=ie(this.props,!1),j=ie(f,!1),x=xt(xt({},w),{},{fill:"none"},ie(c,!1)),m=p.map(function(_,g){var y=o.getTickLineCoord(_),N=y.line,S=y.tick,A=xt(xt(xt(xt({textAnchor:v,verticalAnchor:b},w),{},{stroke:"none",fill:u},j),S),{},{index:g,payload:_,visibleTicksCount:p.length,tickFormatter:d});return I.createElement(Se,Si({className:"recharts-cartesian-axis-tick",key:"tick-".concat(_.value,"-").concat(_.coordinate,"-").concat(_.tickCoord)},Ma(o.props,_,g)),c&&I.createElement("line",Si({},x,N,{className:me("recharts-cartesian-axis-tick-line",Nr(c,"className"))})),f&&t.renderTickItem(f,A,"".concat(le(d)?d(_.value,g):_.value).concat(h||"")))});return I.createElement("g",{className:"recharts-cartesian-axis-ticks"},m)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,u=s.className,f=s.hide;if(f)return null;var d=this.props,h=d.ticks,p=wm(d,Mne),v=h;return le(c)&&(v=h&&h.length>0?c(this.props):c(p)),o<=0||l<=0||!v||!v.length?null:I.createElement(Se,{className:me("recharts-cartesian-axis",u),ref:function(w){n.layerReference=w}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Et.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=me(s.className,"recharts-cartesian-axis-tick-value");return I.isValidElement(n)?o=I.cloneElement(n,xt(xt({},s),{},{className:l})):le(n)?o=n(xt(xt({},s),{},{className:l})):o=I.createElement(Da,Si({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])}(O.Component);by(qo,"displayName","CartesianAxis");by(qo,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Hne=["x1","y1","x2","y2","key"],Kne=["offset"];function Ua(e){"@babel/helpers - typeof";return Ua=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ua(e)}function tN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tN(Object(r),!0).forEach(function(n){Vne(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Vne(e,t,r){return t=Gne(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gne(e){var t=Yne(e,"string");return Ua(t)=="symbol"?t:t+""}function Yne(e,t){if(Ua(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Ua(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ya.apply(this,arguments)}function rN(e,t){if(e==null)return{};var r=Qne(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function Qne(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var Xne=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,s=t.x,i=t.y,o=t.width,l=t.height,c=t.ry;return I.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function XE(e,t){var r;if(I.isValidElement(e))r=I.cloneElement(e,t);else if(le(e))r=e(t);else{var n=t.x1,s=t.y1,i=t.x2,o=t.y2,l=t.key,c=rN(t,Hne),u=ie(c,!1);u.offset;var f=rN(u,Kne);r=I.createElement("line",ya({},f,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function Zne(e){var t=e.x,r=e.width,n=e.horizontal,s=n===void 0?!0:n,i=e.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=qt(qt({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return XE(s,u)});return I.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Jne(e){var t=e.y,r=e.height,n=e.vertical,s=n===void 0?!0:n,i=e.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var u=qt(qt({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return XE(s,u)});return I.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function ese(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,s=e.y,i=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(h){return Math.round(h+s-s)}).sort(function(h,p){return h-p});s!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var v=!f[p+1],b=v?s+o-h:f[p+1]-h;if(b<=0)return null;var w=p%t.length;return I.createElement("rect",{key:"react-".concat(p),y:h,x:n,height:b,width:i,stroke:"none",fill:t[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function tse(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,s=e.fillOpacity,i=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==f[0]&&f.unshift(0);var d=f.map(function(h,p){var v=!f[p+1],b=v?i+l-h:f[p+1]-h;if(b<=0)return null;var w=p%n.length;return I.createElement("rect",{key:"react-".concat(p),x:h,y:o,width:b,height:c,stroke:"none",fill:n[w],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return I.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var rse=function(t,r){var n=t.xAxis,s=t.width,i=t.height,o=t.offset;return VA(yy(qt(qt(qt({},qo.defaultProps),n),{},{ticks:Hn(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},nse=function(t,r){var n=t.yAxis,s=t.width,i=t.height,o=t.offset;return VA(yy(qt(qt(qt({},qo.defaultProps),n),{},{ticks:Hn(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},ai={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Er(e){var t,r,n,s,i,o,l=my(),c=gy(),u=Wre(),f=qt(qt({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:ai.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:ai.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:ai.horizontal,horizontalFill:(s=e.horizontalFill)!==null&&s!==void 0?s:ai.horizontalFill,vertical:(i=e.vertical)!==null&&i!==void 0?i:ai.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:ai.verticalFill,x:V(e.x)?e.x:u.left,y:V(e.y)?e.y:u.top,width:V(e.width)?e.width:u.width,height:V(e.height)?e.height:u.height}),d=f.x,h=f.y,p=f.width,v=f.height,b=f.syncWithTicks,w=f.horizontalValues,j=f.verticalValues,x=Bre(),m=zre();if(!V(p)||p<=0||!V(v)||v<=0||!V(d)||d!==+d||!V(h)||h!==+h)return null;var _=f.verticalCoordinatesGenerator||rse,g=f.horizontalCoordinatesGenerator||nse,y=f.horizontalPoints,N=f.verticalPoints;if((!y||!y.length)&&le(g)){var S=w&&w.length,A=g({yAxis:m?qt(qt({},m),{},{ticks:S?w:m.ticks}):void 0,width:l,height:c,offset:u},S?!0:b);hn(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ua(A),"]")),Array.isArray(A)&&(y=A)}if((!N||!N.length)&&le(_)){var P=j&&j.length,T=_({xAxis:x?qt(qt({},x),{},{ticks:P?j:x.ticks}):void 0,width:l,height:c,offset:u},P?!0:b);hn(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ua(T),"]")),Array.isArray(T)&&(N=T)}return I.createElement("g",{className:"recharts-cartesian-grid"},I.createElement(Xne,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),I.createElement(Zne,ya({},f,{offset:u,horizontalPoints:y,xAxis:x,yAxis:m})),I.createElement(Jne,ya({},f,{offset:u,verticalPoints:N,xAxis:x,yAxis:m})),I.createElement(ese,ya({},f,{horizontalPoints:y})),I.createElement(tse,ya({},f,{verticalPoints:N})))}Er.displayName="CartesianGrid";var sse=["type","layout","connectNulls","ref"],ase=["key"];function xo(e){"@babel/helpers - typeof";return xo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xo(e)}function nN(e,t){if(e==null)return{};var r=ise(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function ise(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Dl(){return Dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dl.apply(this,arguments)}function sN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sN(Object(r),!0).forEach(function(n){sn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ii(e){return use(e)||cse(e)||lse(e)||ose()}function ose(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lse(e,t){if(e){if(typeof e=="string")return Qg(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qg(e,t)}}function cse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function use(e){if(Array.isArray(e))return Qg(e)}function Qg(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function dse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aN(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,JE(n.key),n)}}function fse(e,t,r){return t&&aN(e.prototype,t),r&&aN(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function hse(e,t,r){return t=zf(t),pse(e,ZE()?Reflect.construct(t,r||[],zf(e).constructor):t.apply(e,r))}function pse(e,t){if(t&&(xo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mse(e)}function mse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZE=function(){return!!e})()}function zf(e){return zf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},zf(e)}function gse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xg(e,t)}function Xg(e,t){return Xg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Xg(e,t)}function sn(e,t,r){return t=JE(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JE(e){var t=xse(e,"string");return xo(t)=="symbol"?t:t+""}function xse(e,t){if(xo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(xo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rr=function(e){function t(){var r;dse(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=hse(this,t,[].concat(s)),sn(r,"state",{isAnimationFinished:!0,totalLength:0}),sn(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),sn(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(j,x){return j+x});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/u),d=o%u,h=l-o,p=[],v=0,b=0;v<c.length;b+=c[v],++v)if(b+c[v]>d){p=[].concat(ii(c.slice(0,v)),[d-b]);break}var w=p.length%2===0?[0,h]:[h];return[].concat(ii(t.repeat(c,f)),ii(p),w).map(function(j){return"".concat(j,"px")}).join(", ")}),sn(r,"id",Mo("recharts-line-")),sn(r,"pathRef",function(o){r.mainCurve=o}),sn(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),sn(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return gse(t,e),fse(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,d=Sr(f,lu);if(!d)return null;var h=function(b,w){return{x:b.x,y:b.y,value:b.value,errorVal:bt(b.payload,w)}},p={clipPath:n?"url(#clipPath-".concat(s,")"):null};return I.createElement(Se,p,d.map(function(v){return I.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,d=ie(this.props,!1),h=ie(c,!0),p=u.map(function(b,w){var j=gr(gr(gr({key:"dot-".concat(w),r:3},d),h),{},{index:w,cx:b.x,cy:b.y,value:b.value,dataKey:f,payload:b.payload,points:u});return t.renderDotItem(c,j)}),v={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return I.createElement(Se,Dl({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var d=nN(l,sse),h=gr(gr(gr({},ie(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:f});return I.createElement(jf,Dl({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,d=o.animationDuration,h=o.animationEasing,p=o.animationId,v=o.animateNewValues,b=o.width,w=o.height,j=this.state,x=j.prevPoints,m=j.totalLength;return I.createElement(Pn,{begin:f,duration:d,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(_){var g=_.t;if(x){var y=x.length/l.length,N=l.map(function(E,C){var k=Math.floor(C*y);if(x[k]){var R=x[k],$=br(R.x,E.x),L=br(R.y,E.y);return gr(gr({},E),{},{x:$(g),y:L(g)})}if(v){var D=br(b*2,E.x),F=br(w/2,E.y);return gr(gr({},E),{},{x:D(g),y:F(g)})}return gr(gr({},E),{},{x:E.x,y:E.y})});return i.renderCurveStatically(N,n,s)}var S=br(0,m),A=S(g),P;if(c){var T="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});P=i.getStrokeDasharray(A,m,T)}else P=i.generateSimpleStrokeDasharray(m,A);return i.renderCurveStatically(l,n,s,{strokeDasharray:P})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!u&&f>0||!ou(u,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,u=s.xAxis,f=s.yAxis,d=s.top,h=s.left,p=s.width,v=s.height,b=s.isAnimationActive,w=s.id;if(i||!l||!l.length)return null;var j=this.state.isAnimationFinished,x=l.length===1,m=me("recharts-line",c),_=u&&u.allowDataOverflow,g=f&&f.allowDataOverflow,y=_||g,N=fe(w)?this.id:w,S=(n=ie(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},A=S.r,P=A===void 0?3:A,T=S.strokeWidth,E=T===void 0?2:T,C=U8(o)?o:{},k=C.clipDot,R=k===void 0?!0:k,$=P*2+E;return I.createElement(Se,{className:m},_||g?I.createElement("defs",null,I.createElement("clipPath",{id:"clipPath-".concat(N)},I.createElement("rect",{x:_?h:h-p/2,y:g?d:d-v/2,width:_?p:p*2,height:g?v:v*2})),!R&&I.createElement("clipPath",{id:"clipPath-dots-".concat(N)},I.createElement("rect",{x:h-$/2,y:d-$/2,width:p+$,height:v+$}))):null,!x&&this.renderCurve(y,N),this.renderErrorBar(y,N),(x||o)&&this.renderDots(y,R,N),(!b||j)&&Yn.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(ii(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(ii(o),ii(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(I.isValidElement(n))i=I.cloneElement(n,s);else if(le(n))i=n(s);else{var o=s.key,l=nN(s,ase),c=me("recharts-line-dot",typeof n!="boolean"?n.className:"");i=I.createElement(Zh,Dl({key:o},l,{className:c}))}return i}}])}(O.PureComponent);sn(rr,"displayName","Line");sn(rr,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Sn.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});sn(rr,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,s=e.xAxisTicks,i=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,d=c.map(function(h,p){var v=bt(h,o);return f==="horizontal"?{x:Pj({axis:r,ticks:s,bandSize:l,entry:h,index:p}),y:fe(v)?null:n.scale(v),value:v,payload:h}:{x:fe(v)?null:r.scale(v),y:Pj({axis:n,ticks:i,bandSize:l,entry:h,index:p}),value:v,payload:h}});return gr({points:d,layout:f},u)});function vo(e){"@babel/helpers - typeof";return vo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vo(e)}function vse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rP(n.key),n)}}function bse(e,t,r){return t&&yse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wse(e,t,r){return t=qf(t),jse(e,eP()?Reflect.construct(t,r||[],qf(e).constructor):t.apply(e,r))}function jse(e,t){if(t&&(vo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _se(e)}function _se(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eP=function(){return!!e})()}function qf(e){return qf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qf(e)}function Nse(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zg(e,t)}function Zg(e,t){return Zg=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Zg(e,t)}function tP(e,t,r){return t=rP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rP(e){var t=Sse(e,"string");return vo(t)=="symbol"?t:t+""}function Sse(e,t){if(vo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(vo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jg.apply(this,arguments)}function Ose(e){var t=e.xAxisId,r=my(),n=gy(),s=UE(t);return s==null?null:O.createElement(qo,Jg({},s,{className:me("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Hn(o,!0)}}))}var Gt=function(e){function t(){return vse(this,t),wse(this,t,arguments)}return Nse(t,e),bse(t,[{key:"render",value:function(){return O.createElement(Ose,this.props)}}])}(O.Component);tP(Gt,"displayName","XAxis");tP(Gt,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function yo(e){"@babel/helpers - typeof";return yo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yo(e)}function Ase(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ese(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,aP(n.key),n)}}function Pse(e,t,r){return t&&Ese(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cse(e,t,r){return t=Wf(t),kse(e,nP()?Reflect.construct(t,r||[],Wf(e).constructor):t.apply(e,r))}function kse(e,t){if(t&&(yo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tse(e)}function Tse(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nP=function(){return!!e})()}function Wf(e){return Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Wf(e)}function $se(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ex(e,t)}function ex(e,t){return ex=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ex(e,t)}function sP(e,t,r){return t=aP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aP(e){var t=Ise(e,"string");return yo(t)=="symbol"?t:t+""}function Ise(e,t){if(yo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(yo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tx(){return tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tx.apply(this,arguments)}var Rse=function(t){var r=t.yAxisId,n=my(),s=gy(),i=BE(r);return i==null?null:O.createElement(qo,tx({},i,{className:me("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return Hn(l,!0)}}))},Yt=function(e){function t(){return Ase(this,t),Cse(this,t,arguments)}return $se(t,e),Pse(t,[{key:"render",value:function(){return O.createElement(Rse,this.props)}}])}(O.Component);sP(Yt,"displayName","YAxis");sP(Yt,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function iN(e){return Fse(e)||Lse(e)||Dse(e)||Mse()}function Mse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dse(e,t){if(e){if(typeof e=="string")return rx(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rx(e,t)}}function Lse(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Fse(e){if(Array.isArray(e))return rx(e)}function rx(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var nx=function(t,r,n,s,i){var o=Sr(t,vy),l=Sr(t,op),c=[].concat(iN(o),iN(l)),u=Sr(t,cp),f="".concat(s,"Id"),d=s[0],h=r;if(c.length&&(h=c.reduce(function(b,w){if(w.props[f]===n&&An(w.props,"extendDomain")&&V(w.props[d])){var j=w.props[d];return[Math.min(b[0],j),Math.max(b[1],j)]}return b},h)),u.length){var p="".concat(d,"1"),v="".concat(d,"2");h=u.reduce(function(b,w){if(w.props[f]===n&&An(w.props,"extendDomain")&&V(w.props[p])&&V(w.props[v])){var j=w.props[p],x=w.props[v];return[Math.min(b[0],j,x),Math.max(b[1],j,x)]}return b},h)}return i&&i.length&&(h=i.reduce(function(b,w){return V(w)?[Math.min(b[0],w),Math.max(b[1],w)]:b},h)),h},iP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,d,h){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new s(f,d||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,d;if(this._eventsCount===0)return u;for(d in f=this._events)t.call(f,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,d=this._events[f];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,v=new Array(p);h<p;h++)v[h]=d[h].fn;return v},l.prototype.listenerCount=function(u){var f=r?r+u:u,d=this._events[f];return d?d.fn?1:d.length:0},l.prototype.emit=function(u,f,d,h,p,v){var b=r?r+u:u;if(!this._events[b])return!1;var w=this._events[b],j=arguments.length,x,m;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),j){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,f),!0;case 3:return w.fn.call(w.context,f,d),!0;case 4:return w.fn.call(w.context,f,d,h),!0;case 5:return w.fn.call(w.context,f,d,h,p),!0;case 6:return w.fn.call(w.context,f,d,h,p,v),!0}for(m=1,x=new Array(j-1);m<j;m++)x[m-1]=arguments[m];w.fn.apply(w.context,x)}else{var _=w.length,g;for(m=0;m<_;m++)switch(w[m].once&&this.removeListener(u,w[m].fn,void 0,!0),j){case 1:w[m].fn.call(w[m].context);break;case 2:w[m].fn.call(w[m].context,f);break;case 3:w[m].fn.call(w[m].context,f,d);break;case 4:w[m].fn.call(w[m].context,f,d,h);break;default:if(!x)for(g=1,x=new Array(j-1);g<j;g++)x[g-1]=arguments[g];w[m].fn.apply(w[m].context,x)}}return!0},l.prototype.on=function(u,f,d){return i(this,u,f,d,!1)},l.prototype.once=function(u,f,d){return i(this,u,f,d,!0)},l.prototype.removeListener=function(u,f,d,h){var p=r?r+u:u;if(!this._events[p])return this;if(!f)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===f&&(!h||v.once)&&(!d||v.context===d)&&o(this,p);else{for(var b=0,w=[],j=v.length;b<j;b++)(v[b].fn!==f||h&&!v[b].once||d&&v[b].context!==d)&&w.push(v[b]);w.length?this._events[p]=w.length===1?w[0]:w:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(iP);var Use=iP.exports;const Bse=$e(Use);var jm=new Bse,_m="recharts.syncMouseEvents";function Bc(e){"@babel/helpers - typeof";return Bc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bc(e)}function zse(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qse(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oP(n.key),n)}}function Wse(e,t,r){return t&&qse(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nm(e,t,r){return t=oP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oP(e){var t=Hse(e,"string");return Bc(t)=="symbol"?t:t+""}function Hse(e,t){if(Bc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Kse=function(){function e(){zse(this,e),Nm(this,"activeIndex",0),Nm(this,"coordinateList",[]),Nm(this,"layout","horizontal")}return Wse(e,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,f=r.offset,d=f===void 0?null:f,h=r.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,d=i+c+u,h=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:d,pageY:h})}}}])}();function Vse(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e==null?void 0:e[0],s=e==null?void 0:e[1];if(n&&s&&V(n)&&V(s))return!0}return!1}function Gse(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function lP(e){var t=e.cx,r=e.cy,n=e.radius,s=e.startAngle,i=e.endAngle,o=Ke(t,r,n,s),l=Ke(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:s,endAngle:i}}function Yse(e,t,r){var n,s,i,o;if(e==="horizontal")n=t.x,i=n,s=r.top,o=r.top+r.height;else if(e==="vertical")s=t.y,o=s,n=r.left,i=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,d=t.angle,h=Ke(l,c,u,d),p=Ke(l,c,f,d);n=h.x,s=h.y,i=p.x,o=p.y}else return lP(t);return[{x:n,y:s},{x:i,y:o}]}function zc(e){"@babel/helpers - typeof";return zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zc(e)}function oN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ku(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oN(Object(r),!0).forEach(function(n){Qse(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Qse(e,t,r){return t=Xse(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xse(e){var t=Zse(e,"string");return zc(t)=="symbol"?t:t+""}function Zse(e,t){if(zc(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jse(e){var t,r,n=e.element,s=e.tooltipEventType,i=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,d=e.layout,h=e.chartName,p=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!i||!o||h!=="ScatterChart"&&s!=="axis")return null;var v,b=jf;if(h==="ScatterChart")v=o,b=xJ;else if(h==="BarChart")v=Gse(d,o,c,f),b=dy;else if(d==="radial"){var w=lP(o),j=w.cx,x=w.cy,m=w.radius,_=w.startAngle,g=w.endAngle;v={cx:j,cy:x,startAngle:_,endAngle:g,innerRadius:m,outerRadius:m},b=sE}else v={points:Yse(d,o,c)},b=jf;var y=Ku(Ku(Ku(Ku({stroke:"#ccc",pointerEvents:"none"},c),v),ie(p,!1)),{},{payload:l,payloadIndex:u,className:me("recharts-tooltip-cursor",p.className)});return O.isValidElement(p)?O.cloneElement(p,y):O.createElement(b,y)}var eae=["item"],tae=["children","className","width","height","style","compact","title","desc"];function bo(e){"@babel/helpers - typeof";return bo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bo(e)}function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oi.apply(this,arguments)}function lN(e,t){return sae(e)||nae(e,t)||uP(e,t)||rae()}function rae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nae(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,u=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw s}}return l}}function sae(e){if(Array.isArray(e))return e}function cN(e,t){if(e==null)return{};var r=aae(e,t),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(s=0;s<i.length;s++)n=i[s],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aae(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,dP(n.key),n)}}function lae(e,t,r){return t&&oae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cae(e,t,r){return t=Hf(t),uae(e,cP()?Reflect.construct(t,r||[],Hf(e).constructor):t.apply(e,r))}function uae(e,t){if(t&&(bo(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dae(e)}function dae(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cP=function(){return!!e})()}function Hf(e){return Hf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hf(e)}function fae(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sx(e,t)}function sx(e,t){return sx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},sx(e,t)}function wo(e){return mae(e)||pae(e)||uP(e)||hae()}function hae(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uP(e,t){if(e){if(typeof e=="string")return ax(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ax(e,t)}}function pae(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function mae(e){if(Array.isArray(e))return ax(e)}function ax(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function uN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function B(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uN(Object(r),!0).forEach(function(n){oe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oe(e,t,r){return t=dP(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dP(e){var t=gae(e,"string");return bo(t)=="symbol"?t:t+""}function gae(e,t){if(bo(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(bo(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xae={xAxis:["bottom","top"],yAxis:["left","right"]},vae={width:"100%",height:"100%"},fP={x:0,y:0};function Vu(e){return e}var yae=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},bae=function(t,r,n,s){var i=r.find(function(f){return f&&f.index===n});if(i){if(t==="horizontal")return{x:i.coordinate,y:s.y};if(t==="vertical")return{x:s.x,y:i.coordinate};if(t==="centric"){var o=i.coordinate,l=s.radius;return B(B(B({},s),Ke(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,u=s.angle;return B(B(B({},s),Ke(s.cx,s.cy,c,u)),{},{angle:u,radius:c})}return fP},up=function(t,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(wo(l),wo(u)):l},[]);return o.length>0?o:t&&t.length&&V(s)&&V(i)?t.slice(s,i+1):[]};function hP(e){return e==="number"?[0,"auto"]:void 0}var ix=function(t,r,n,s){var i=t.graphicalItems,o=t.tooltipAxis,l=up(r,t);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var f,d=(f=u.props.data)!==null&&f!==void 0?f:r;d&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(d=d.slice(t.dataStartIndex,t.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var p=d===void 0?l:d;h=Wd(p,o.dataKey,s)}else h=d&&d[n]||l[n];return h?[].concat(wo(c),[ZA(u,h)]):c},[])},dN=function(t,r,n,s){var i=s||{x:t.chartX,y:t.chartY},o=yae(i,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=BY(o,l,u,c);if(f>=0&&u){var d=u[f]&&u[f].value,h=ix(t,r,f,d),p=bae(n,l,f,i);return{activeTooltipIndex:f,activeLabel:d,activePayload:h,activeCoordinate:p}}return null},wae=function(t,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=t.stackOffset,p=KA(f,i);return n.reduce(function(v,b){var w,j=b.type.defaultProps!==void 0?B(B({},b.type.defaultProps),b.props):b.props,x=j.type,m=j.dataKey,_=j.allowDataOverflow,g=j.allowDuplicatedCategory,y=j.scale,N=j.ticks,S=j.includeHidden,A=j[o];if(v[A])return v;var P=up(t.data,{graphicalItems:s.filter(function(K){var Z,de=o in K.props?K.props[o]:(Z=K.type.defaultProps)===null||Z===void 0?void 0:Z[o];return de===A}),dataStartIndex:c,dataEndIndex:u}),T=P.length,E,C,k;Vse(j.domain,_,x)&&(E=bg(j.domain,null,_),p&&(x==="number"||y!=="auto")&&(k=$l(P,m,"category")));var R=hP(x);if(!E||E.length===0){var $,L=($=j.domain)!==null&&$!==void 0?$:R;if(m){if(E=$l(P,m,x),x==="category"&&p){var D=C8(E);g&&D?(C=E,E=Tf(0,T)):g||(E=$j(L,E,b).reduce(function(K,Z){return K.indexOf(Z)>=0?K:[].concat(wo(K),[Z])},[]))}else if(x==="category")g?E=E.filter(function(K){return K!==""&&!fe(K)}):E=$j(L,E,b).reduce(function(K,Z){return K.indexOf(Z)>=0||Z===""||fe(Z)?K:[].concat(wo(K),[Z])},[]);else if(x==="number"){var F=KY(P,s.filter(function(K){var Z,de,ke=o in K.props?K.props[o]:(Z=K.type.defaultProps)===null||Z===void 0?void 0:Z[o],Le="hide"in K.props?K.props.hide:(de=K.type.defaultProps)===null||de===void 0?void 0:de.hide;return ke===A&&(S||!Le)}),m,i,f);F&&(E=F)}p&&(x==="number"||y!=="auto")&&(k=$l(P,m,"category"))}else p?E=Tf(0,T):l&&l[A]&&l[A].hasStack&&x==="number"?E=h==="expand"?[0,1]:XA(l[A].stackGroups,c,u):E=HA(P,s.filter(function(K){var Z=o in K.props?K.props[o]:K.type.defaultProps[o],de="hide"in K.props?K.props.hide:K.type.defaultProps.hide;return Z===A&&(S||!de)}),x,f,!0);if(x==="number")E=nx(d,E,A,i,N),L&&(E=bg(L,E,_));else if(x==="category"&&L){var W=L,G=E.every(function(K){return W.indexOf(K)>=0});G&&(E=W)}}return B(B({},v),{},oe({},A,B(B({},j),{},{axisType:i,domain:E,categoricalDomain:k,duplicateDomain:C,originalDomain:(w=j.domain)!==null&&w!==void 0?w:R,isCategorical:p,layout:f})))},{})},jae=function(t,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,d=t.children,h=up(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=h.length,v=KA(f,i),b=-1;return n.reduce(function(w,j){var x=j.type.defaultProps!==void 0?B(B({},j.type.defaultProps),j.props):j.props,m=x[o],_=hP("number");if(!w[m]){b++;var g;return v?g=Tf(0,p):l&&l[m]&&l[m].hasStack?(g=XA(l[m].stackGroups,c,u),g=nx(d,g,m,i)):(g=bg(_,HA(h,n.filter(function(y){var N,S,A=o in y.props?y.props[o]:(N=y.type.defaultProps)===null||N===void 0?void 0:N[o],P="hide"in y.props?y.props.hide:(S=y.type.defaultProps)===null||S===void 0?void 0:S.hide;return A===m&&!P}),"number",f),s.defaultProps.allowDataOverflow),g=nx(d,g,m,i)),B(B({},w),{},oe({},m,B(B({axisType:i},s.defaultProps),{},{hide:!0,orientation:Nr(xae,"".concat(i,".").concat(b%2),null),domain:g,originalDomain:_,isCategorical:v,layout:f})))}return w},{})},_ae=function(t,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,d="".concat(s,"Id"),h=Sr(f,i),p={};return h&&h.length?p=wae(t,{axes:h,graphicalItems:o,axisType:s,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=jae(t,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:d,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},Nae=function(t){var r=_s(t),n=Hn(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Lv(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:yf(r,n)}},fN=function(t){var r=t.children,n=t.defaultShowTooltip,s=yr(r,uo),i=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},Sae=function(t){return!t||!t.length?!1:t.some(function(r){var n=Vn(r&&r.type);return n&&n.indexOf("Bar")>=0})},hN=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Oae=function(t,r){var n=t.props,s=t.graphicalItems,i=t.xAxisMap,o=i===void 0?{}:i,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,d=n.children,h=n.margin||{},p=yr(d,uo),v=yr(d,Mi),b=Object.keys(c).reduce(function(g,y){var N=c[y],S=N.orientation;return!N.mirror&&!N.hide?B(B({},g),{},oe({},S,g[S]+N.width)):g},{left:h.left||0,right:h.right||0}),w=Object.keys(o).reduce(function(g,y){var N=o[y],S=N.orientation;return!N.mirror&&!N.hide?B(B({},g),{},oe({},S,Nr(g,"".concat(S))+N.height)):g},{top:h.top||0,bottom:h.bottom||0}),j=B(B({},w),b),x=j.bottom;p&&(j.bottom+=p.props.height||uo.defaultProps.height),v&&r&&(j=WY(j,s,n,r));var m=u-j.left-j.right,_=f-j.top-j.bottom;return B(B({brushBottom:x},j),{},{width:Math.max(m,0),height:Math.max(_,0)})},Aae=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},wy=function(t){var r=t.chartName,n=t.GraphicalChild,s=t.defaultTooltipEventType,i=s===void 0?"axis":s,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,d=t.defaultProps,h=function(j,x){var m=x.graphicalItems,_=x.stackGroups,g=x.offset,y=x.updateId,N=x.dataStartIndex,S=x.dataEndIndex,A=j.barSize,P=j.layout,T=j.barGap,E=j.barCategoryGap,C=j.maxBarSize,k=hN(P),R=k.numericAxisName,$=k.cateAxisName,L=Sae(m),D=[];return m.forEach(function(F,W){var G=up(j.data,{graphicalItems:[F],dataStartIndex:N,dataEndIndex:S}),K=F.type.defaultProps!==void 0?B(B({},F.type.defaultProps),F.props):F.props,Z=K.dataKey,de=K.maxBarSize,ke=K["".concat(R,"Id")],Le=K["".concat($,"Id")],lt={},Nt=c.reduce(function(Y,ae){var we=x["".concat(ae.axisType,"Map")],Ee=K["".concat(ae.axisType,"Id")];we&&we[Ee]||ae.axisType==="zAxis"||Fa();var nt=we[Ee];return B(B({},Y),{},oe(oe({},ae.axisType,nt),"".concat(ae.axisType,"Ticks"),Hn(nt)))},lt),X=Nt[$],ce=Nt["".concat($,"Ticks")],he=_&&_[ke]&&_[ke].hasStack&&tQ(F,_[ke].stackGroups),q=Vn(F.type).indexOf("Bar")>=0,je=yf(X,ce),ge=[],M=L&&zY({barSize:A,stackGroups:_,totalSize:Aae(Nt,$)});if(q){var re,ne,Ve=fe(de)?C:de,ir=(re=(ne=yf(X,ce,!0))!==null&&ne!==void 0?ne:Ve)!==null&&re!==void 0?re:0;ge=qY({barGap:T,barCategoryGap:E,bandSize:ir!==je?ir:je,sizeList:M[Le],maxBarSize:Ve}),ir!==je&&(ge=ge.map(function(Y){return B(B({},Y),{},{position:B(B({},Y.position),{},{offset:Y.position.offset-ir/2})})}))}var et=F&&F.type&&F.type.getComposedData;et&&D.push({props:B(B({},et(B(B({},Nt),{},{displayedData:G,props:j,dataKey:Z,item:F,bandSize:je,barPosition:ge,offset:g,stackedData:he,layout:P,dataStartIndex:N,dataEndIndex:S}))),{},oe(oe(oe({key:F.key||"item-".concat(W)},R,Nt[R]),$,Nt[$]),"animationId",y)),childIndex:q8(F,j.children),item:F})}),D},p=function(j,x){var m=j.props,_=j.dataStartIndex,g=j.dataEndIndex,y=j.updateId;if(!Ow({props:m}))return null;var N=m.children,S=m.layout,A=m.stackOffset,P=m.data,T=m.reverseStackOrder,E=hN(S),C=E.numericAxisName,k=E.cateAxisName,R=Sr(N,n),$=JY(P,R,"".concat(C,"Id"),"".concat(k,"Id"),A,T),L=c.reduce(function(K,Z){var de="".concat(Z.axisType,"Map");return B(B({},K),{},oe({},de,_ae(m,B(B({},Z),{},{graphicalItems:R,stackGroups:Z.axisType===C&&$,dataStartIndex:_,dataEndIndex:g}))))},{}),D=Oae(B(B({},L),{},{props:m,graphicalItems:R}),x==null?void 0:x.legendBBox);Object.keys(L).forEach(function(K){L[K]=f(m,L[K],D,K.replace("Map",""),r)});var F=L["".concat(k,"Map")],W=Nae(F),G=h(m,B(B({},L),{},{dataStartIndex:_,dataEndIndex:g,updateId:y,graphicalItems:R,stackGroups:$,offset:D}));return B(B({formattedGraphicalItems:G,graphicalItems:R,offset:D,stackGroups:$},W),L)},v=function(w){function j(x){var m,_,g;return iae(this,j),g=cae(this,j,[x]),oe(g,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),oe(g,"accessibilityManager",new Kse),oe(g,"handleLegendBBoxUpdate",function(y){if(y){var N=g.state,S=N.dataStartIndex,A=N.dataEndIndex,P=N.updateId;g.setState(B({legendBBox:y},p({props:g.props,dataStartIndex:S,dataEndIndex:A,updateId:P},B(B({},g.state),{},{legendBBox:y}))))}}),oe(g,"handleReceiveSyncEvent",function(y,N,S){if(g.props.syncId===y){if(S===g.eventEmitterSymbol&&typeof g.props.syncMethod!="function")return;g.applySyncEvent(N)}}),oe(g,"handleBrushChange",function(y){var N=y.startIndex,S=y.endIndex;if(N!==g.state.dataStartIndex||S!==g.state.dataEndIndex){var A=g.state.updateId;g.setState(function(){return B({dataStartIndex:N,dataEndIndex:S},p({props:g.props,dataStartIndex:N,dataEndIndex:S,updateId:A},g.state))}),g.triggerSyncEvent({dataStartIndex:N,dataEndIndex:S})}}),oe(g,"handleMouseEnter",function(y){var N=g.getMouseInfo(y);if(N){var S=B(B({},N),{},{isTooltipActive:!0});g.setState(S),g.triggerSyncEvent(S);var A=g.props.onMouseEnter;le(A)&&A(S,y)}}),oe(g,"triggeredAfterMouseMove",function(y){var N=g.getMouseInfo(y),S=N?B(B({},N),{},{isTooltipActive:!0}):{isTooltipActive:!1};g.setState(S),g.triggerSyncEvent(S);var A=g.props.onMouseMove;le(A)&&A(S,y)}),oe(g,"handleItemMouseEnter",function(y){g.setState(function(){return{isTooltipActive:!0,activeItem:y,activePayload:y.tooltipPayload,activeCoordinate:y.tooltipPosition||{x:y.cx,y:y.cy}}})}),oe(g,"handleItemMouseLeave",function(){g.setState(function(){return{isTooltipActive:!1}})}),oe(g,"handleMouseMove",function(y){y.persist(),g.throttleTriggeredAfterMouseMove(y)}),oe(g,"handleMouseLeave",function(y){g.throttleTriggeredAfterMouseMove.cancel();var N={isTooltipActive:!1};g.setState(N),g.triggerSyncEvent(N);var S=g.props.onMouseLeave;le(S)&&S(N,y)}),oe(g,"handleOuterEvent",function(y){var N=z8(y),S=Nr(g.props,"".concat(N));if(N&&le(S)){var A,P;/.*touch.*/i.test(N)?P=g.getMouseInfo(y.changedTouches[0]):P=g.getMouseInfo(y),S((A=P)!==null&&A!==void 0?A:{},y)}}),oe(g,"handleClick",function(y){var N=g.getMouseInfo(y);if(N){var S=B(B({},N),{},{isTooltipActive:!0});g.setState(S),g.triggerSyncEvent(S);var A=g.props.onClick;le(A)&&A(S,y)}}),oe(g,"handleMouseDown",function(y){var N=g.props.onMouseDown;if(le(N)){var S=g.getMouseInfo(y);N(S,y)}}),oe(g,"handleMouseUp",function(y){var N=g.props.onMouseUp;if(le(N)){var S=g.getMouseInfo(y);N(S,y)}}),oe(g,"handleTouchMove",function(y){y.changedTouches!=null&&y.changedTouches.length>0&&g.throttleTriggeredAfterMouseMove(y.changedTouches[0])}),oe(g,"handleTouchStart",function(y){y.changedTouches!=null&&y.changedTouches.length>0&&g.handleMouseDown(y.changedTouches[0])}),oe(g,"handleTouchEnd",function(y){y.changedTouches!=null&&y.changedTouches.length>0&&g.handleMouseUp(y.changedTouches[0])}),oe(g,"handleDoubleClick",function(y){var N=g.props.onDoubleClick;if(le(N)){var S=g.getMouseInfo(y);N(S,y)}}),oe(g,"handleContextMenu",function(y){var N=g.props.onContextMenu;if(le(N)){var S=g.getMouseInfo(y);N(S,y)}}),oe(g,"triggerSyncEvent",function(y){g.props.syncId!==void 0&&jm.emit(_m,g.props.syncId,y,g.eventEmitterSymbol)}),oe(g,"applySyncEvent",function(y){var N=g.props,S=N.layout,A=N.syncMethod,P=g.state.updateId,T=y.dataStartIndex,E=y.dataEndIndex;if(y.dataStartIndex!==void 0||y.dataEndIndex!==void 0)g.setState(B({dataStartIndex:T,dataEndIndex:E},p({props:g.props,dataStartIndex:T,dataEndIndex:E,updateId:P},g.state)));else if(y.activeTooltipIndex!==void 0){var C=y.chartX,k=y.chartY,R=y.activeTooltipIndex,$=g.state,L=$.offset,D=$.tooltipTicks;if(!L)return;if(typeof A=="function")R=A(D,y);else if(A==="value"){R=-1;for(var F=0;F<D.length;F++)if(D[F].value===y.activeLabel){R=F;break}}var W=B(B({},L),{},{x:L.left,y:L.top}),G=Math.min(C,W.x+W.width),K=Math.min(k,W.y+W.height),Z=D[R]&&D[R].value,de=ix(g.state,g.props.data,R),ke=D[R]?{x:S==="horizontal"?D[R].coordinate:G,y:S==="horizontal"?K:D[R].coordinate}:fP;g.setState(B(B({},y),{},{activeLabel:Z,activeCoordinate:ke,activePayload:de,activeTooltipIndex:R}))}else g.setState(y)}),oe(g,"renderCursor",function(y){var N,S=g.state,A=S.isTooltipActive,P=S.activeCoordinate,T=S.activePayload,E=S.offset,C=S.activeTooltipIndex,k=S.tooltipAxisBandSize,R=g.getTooltipEventType(),$=(N=y.props.active)!==null&&N!==void 0?N:A,L=g.props.layout,D=y.key||"_recharts-cursor";return I.createElement(Jse,{key:D,activeCoordinate:P,activePayload:T,activeTooltipIndex:C,chartName:r,element:y,isActive:$,layout:L,offset:E,tooltipAxisBandSize:k,tooltipEventType:R})}),oe(g,"renderPolarAxis",function(y,N,S){var A=Nr(y,"type.axisType"),P=Nr(g.state,"".concat(A,"Map")),T=y.type.defaultProps,E=T!==void 0?B(B({},T),y.props):y.props,C=P&&P[E["".concat(A,"Id")]];return O.cloneElement(y,B(B({},C),{},{className:me(A,C.className),key:y.key||"".concat(N,"-").concat(S),ticks:Hn(C,!0)}))}),oe(g,"renderPolarGrid",function(y){var N=y.props,S=N.radialLines,A=N.polarAngles,P=N.polarRadius,T=g.state,E=T.radiusAxisMap,C=T.angleAxisMap,k=_s(E),R=_s(C),$=R.cx,L=R.cy,D=R.innerRadius,F=R.outerRadius;return O.cloneElement(y,{polarAngles:Array.isArray(A)?A:Hn(R,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(P)?P:Hn(k,!0).map(function(W){return W.coordinate}),cx:$,cy:L,innerRadius:D,outerRadius:F,key:y.key||"polar-grid",radialLines:S})}),oe(g,"renderLegend",function(){var y=g.state.formattedGraphicalItems,N=g.props,S=N.children,A=N.width,P=N.height,T=g.props.margin||{},E=A-(T.left||0)-(T.right||0),C=qA({children:S,formattedGraphicalItems:y,legendWidth:E,legendContent:u});if(!C)return null;var k=C.item,R=cN(C,eae);return O.cloneElement(k,B(B({},R),{},{chartWidth:A,chartHeight:P,margin:T,onBBoxUpdate:g.handleLegendBBoxUpdate}))}),oe(g,"renderTooltip",function(){var y,N=g.props,S=N.children,A=N.accessibilityLayer,P=yr(S,We);if(!P)return null;var T=g.state,E=T.isTooltipActive,C=T.activeCoordinate,k=T.activePayload,R=T.activeLabel,$=T.offset,L=(y=P.props.active)!==null&&y!==void 0?y:E;return O.cloneElement(P,{viewBox:B(B({},$),{},{x:$.left,y:$.top}),active:L,label:R,payload:L?k:[],coordinate:C,accessibilityLayer:A})}),oe(g,"renderBrush",function(y){var N=g.props,S=N.margin,A=N.data,P=g.state,T=P.offset,E=P.dataStartIndex,C=P.dataEndIndex,k=P.updateId;return O.cloneElement(y,{key:y.key||"_recharts-brush",onChange:zu(g.handleBrushChange,y.props.onChange),data:A,x:V(y.props.x)?y.props.x:T.left,y:V(y.props.y)?y.props.y:T.top+T.height+T.brushBottom-(S.bottom||0),width:V(y.props.width)?y.props.width:T.width,startIndex:E,endIndex:C,updateId:"brush-".concat(k)})}),oe(g,"renderReferenceElement",function(y,N,S){if(!y)return null;var A=g,P=A.clipPathId,T=g.state,E=T.xAxisMap,C=T.yAxisMap,k=T.offset,R=y.type.defaultProps||{},$=y.props,L=$.xAxisId,D=L===void 0?R.xAxisId:L,F=$.yAxisId,W=F===void 0?R.yAxisId:F;return O.cloneElement(y,{key:y.key||"".concat(N,"-").concat(S),xAxis:E[D],yAxis:C[W],viewBox:{x:k.left,y:k.top,width:k.width,height:k.height},clipPathId:P})}),oe(g,"renderActivePoints",function(y){var N=y.item,S=y.activePoint,A=y.basePoint,P=y.childIndex,T=y.isRange,E=[],C=N.props.key,k=N.item.type.defaultProps!==void 0?B(B({},N.item.type.defaultProps),N.item.props):N.item.props,R=k.activeDot,$=k.dataKey,L=B(B({index:P,dataKey:$,cx:S.x,cy:S.y,r:4,fill:uy(N.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},ie(R,!1)),Hd(R));return E.push(j.renderActiveDot(R,L,"".concat(C,"-activePoint-").concat(P))),A?E.push(j.renderActiveDot(R,B(B({},L),{},{cx:A.x,cy:A.y}),"".concat(C,"-basePoint-").concat(P))):T&&E.push(null),E}),oe(g,"renderGraphicChild",function(y,N,S){var A=g.filterFormatItem(y,N,S);if(!A)return null;var P=g.getTooltipEventType(),T=g.state,E=T.isTooltipActive,C=T.tooltipAxis,k=T.activeTooltipIndex,R=T.activeLabel,$=g.props.children,L=yr($,We),D=A.props,F=D.points,W=D.isRange,G=D.baseLine,K=A.item.type.defaultProps!==void 0?B(B({},A.item.type.defaultProps),A.item.props):A.item.props,Z=K.activeDot,de=K.hide,ke=K.activeBar,Le=K.activeShape,lt=!!(!de&&E&&L&&(Z||ke||Le)),Nt={};P!=="axis"&&L&&L.props.trigger==="click"?Nt={onClick:zu(g.handleItemMouseEnter,y.props.onClick)}:P!=="axis"&&(Nt={onMouseLeave:zu(g.handleItemMouseLeave,y.props.onMouseLeave),onMouseEnter:zu(g.handleItemMouseEnter,y.props.onMouseEnter)});var X=O.cloneElement(y,B(B({},A.props),Nt));function ce(ae){return typeof C.dataKey=="function"?C.dataKey(ae.payload):null}if(lt)if(k>=0){var he,q;if(C.dataKey&&!C.allowDuplicatedCategory){var je=typeof C.dataKey=="function"?ce:"payload.".concat(C.dataKey.toString());he=Wd(F,je,R),q=W&&G&&Wd(G,je,R)}else he=F==null?void 0:F[k],q=W&&G&&G[k];if(Le||ke){var ge=y.props.activeIndex!==void 0?y.props.activeIndex:k;return[O.cloneElement(y,B(B(B({},A.props),Nt),{},{activeIndex:ge})),null,null]}if(!fe(he))return[X].concat(wo(g.renderActivePoints({item:A,activePoint:he,basePoint:q,childIndex:k,isRange:W})))}else{var M,re=(M=g.getItemByXY(g.state.activeCoordinate))!==null&&M!==void 0?M:{graphicalItem:X},ne=re.graphicalItem,Ve=ne.item,ir=Ve===void 0?y:Ve,et=ne.childIndex,Y=B(B(B({},A.props),Nt),{},{activeIndex:et});return[O.cloneElement(ir,Y),null,null]}return W?[X,null,null]:[X,null]}),oe(g,"renderCustomized",function(y,N,S){return O.cloneElement(y,B(B({key:"recharts-customized-".concat(S)},g.props),g.state))}),oe(g,"renderMap",{CartesianGrid:{handler:Vu,once:!0},ReferenceArea:{handler:g.renderReferenceElement},ReferenceLine:{handler:Vu},ReferenceDot:{handler:g.renderReferenceElement},XAxis:{handler:Vu},YAxis:{handler:Vu},Brush:{handler:g.renderBrush,once:!0},Bar:{handler:g.renderGraphicChild},Line:{handler:g.renderGraphicChild},Area:{handler:g.renderGraphicChild},Radar:{handler:g.renderGraphicChild},RadialBar:{handler:g.renderGraphicChild},Scatter:{handler:g.renderGraphicChild},Pie:{handler:g.renderGraphicChild},Funnel:{handler:g.renderGraphicChild},Tooltip:{handler:g.renderCursor,once:!0},PolarGrid:{handler:g.renderPolarGrid,once:!0},PolarAngleAxis:{handler:g.renderPolarAxis},PolarRadiusAxis:{handler:g.renderPolarAxis},Customized:{handler:g.renderCustomized}}),g.clipPathId="".concat((m=x.id)!==null&&m!==void 0?m:Mo("recharts"),"-clip"),g.throttleTriggeredAfterMouseMove=zO(g.triggeredAfterMouseMove,(_=x.throttleDelay)!==null&&_!==void 0?_:1e3/60),g.state={},g}return fae(j,w),lae(j,[{key:"componentDidMount",value:function(){var m,_;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(m=this.props.margin.left)!==null&&m!==void 0?m:0,top:(_=this.props.margin.top)!==null&&_!==void 0?_:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var m=this.props,_=m.children,g=m.data,y=m.height,N=m.layout,S=yr(_,We);if(S){var A=S.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var P=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,T=ix(this.state,g,A,P),E=this.state.tooltipTicks[A].coordinate,C=(this.state.offset.top+y)/2,k=N==="horizontal",R=k?{x:E,y:C}:{y:E,x:C},$=this.state.formattedGraphicalItems.find(function(D){var F=D.item;return F.type.name==="Scatter"});$&&(R=B(B({},R),$.props.points[A].tooltipPosition),T=$.props.points[A].tooltipPayload);var L={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:P,activePayload:T,activeCoordinate:R};this.setState(L),this.renderCursor(S),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(m,_){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==_.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==m.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==m.margin){var g,y;this.accessibilityManager.setDetails({offset:{left:(g=this.props.margin.left)!==null&&g!==void 0?g:0,top:(y=this.props.margin.top)!==null&&y!==void 0?y:0}})}return null}},{key:"componentDidUpdate",value:function(m){R0([yr(m.children,We)],[yr(this.props.children,We)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var m=yr(this.props.children,We);if(m&&typeof m.props.shared=="boolean"){var _=m.props.shared?"axis":"item";return l.indexOf(_)>=0?_:i}return i}},{key:"getMouseInfo",value:function(m){if(!this.container)return null;var _=this.container,g=_.getBoundingClientRect(),y=mH(g),N={chartX:Math.round(m.pageX-y.left),chartY:Math.round(m.pageY-y.top)},S=g.width/_.offsetWidth||1,A=this.inRange(N.chartX,N.chartY,S);if(!A)return null;var P=this.state,T=P.xAxisMap,E=P.yAxisMap,C=this.getTooltipEventType(),k=dN(this.state,this.props.data,this.props.layout,A);if(C!=="axis"&&T&&E){var R=_s(T).scale,$=_s(E).scale,L=R&&R.invert?R.invert(N.chartX):null,D=$&&$.invert?$.invert(N.chartY):null;return B(B({},N),{},{xValue:L,yValue:D},k)}return k?B(B({},N),k):null}},{key:"inRange",value:function(m,_){var g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,y=this.props.layout,N=m/g,S=_/g;if(y==="horizontal"||y==="vertical"){var A=this.state.offset,P=N>=A.left&&N<=A.left+A.width&&S>=A.top&&S<=A.top+A.height;return P?{x:N,y:S}:null}var T=this.state,E=T.angleAxisMap,C=T.radiusAxisMap;if(E&&C){var k=_s(E);return Mj({x:N,y:S},k)}return null}},{key:"parseEventsOfWrapper",value:function(){var m=this.props.children,_=this.getTooltipEventType(),g=yr(m,We),y={};g&&_==="axis"&&(g.props.trigger==="click"?y={onClick:this.handleClick}:y={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var N=Hd(this.props,this.handleOuterEvent);return B(B({},N),y)}},{key:"addListener",value:function(){jm.on(_m,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){jm.removeListener(_m,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(m,_,g){for(var y=this.state.formattedGraphicalItems,N=0,S=y.length;N<S;N++){var A=y[N];if(A.item===m||A.props.key===m.key||_===Vn(A.item.type)&&g===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var m=this.clipPathId,_=this.state.offset,g=_.left,y=_.top,N=_.height,S=_.width;return I.createElement("defs",null,I.createElement("clipPath",{id:m},I.createElement("rect",{x:g,y,height:N,width:S})))}},{key:"getXScales",value:function(){var m=this.state.xAxisMap;return m?Object.entries(m).reduce(function(_,g){var y=lN(g,2),N=y[0],S=y[1];return B(B({},_),{},oe({},N,S.scale))},{}):null}},{key:"getYScales",value:function(){var m=this.state.yAxisMap;return m?Object.entries(m).reduce(function(_,g){var y=lN(g,2),N=y[0],S=y[1];return B(B({},_),{},oe({},N,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(m){var _;return(_=this.state.xAxisMap)===null||_===void 0||(_=_[m])===null||_===void 0?void 0:_.scale}},{key:"getYScaleByAxisId",value:function(m){var _;return(_=this.state.yAxisMap)===null||_===void 0||(_=_[m])===null||_===void 0?void 0:_.scale}},{key:"getItemByXY",value:function(m){var _=this.state,g=_.formattedGraphicalItems,y=_.activeItem;if(g&&g.length)for(var N=0,S=g.length;N<S;N++){var A=g[N],P=A.props,T=A.item,E=T.type.defaultProps!==void 0?B(B({},T.type.defaultProps),T.props):T.props,C=Vn(T.type);if(C==="Bar"){var k=(P.data||[]).find(function(D){return XZ(m,D)});if(k)return{graphicalItem:A,payload:k}}else if(C==="RadialBar"){var R=(P.data||[]).find(function(D){return Mj(m,D)});if(R)return{graphicalItem:A,payload:R}}else if(np(A,y)||sp(A,y)||Mc(A,y)){var $=Fee({graphicalItem:A,activeTooltipItem:y,itemData:E.data}),L=E.activeIndex===void 0?$:E.activeIndex;return{graphicalItem:B(B({},A),{},{childIndex:L}),payload:Mc(A,y)?E.data[$]:A.props.data[$]}}}return null}},{key:"render",value:function(){var m=this;if(!Ow(this))return null;var _=this.props,g=_.children,y=_.className,N=_.width,S=_.height,A=_.style,P=_.compact,T=_.title,E=_.desc,C=cN(_,tae),k=ie(C,!1);if(P)return I.createElement(W_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement(D0,Oi({},k,{width:N,height:S,title:T,desc:E}),this.renderClipPath(),Ew(g,this.renderMap)));if(this.props.accessibilityLayer){var R,$;k.tabIndex=(R=this.props.tabIndex)!==null&&R!==void 0?R:0,k.role=($=this.props.role)!==null&&$!==void 0?$:"application",k.onKeyDown=function(D){m.accessibilityManager.keyboardEvent(D)},k.onFocus=function(){m.accessibilityManager.focus()}}var L=this.parseEventsOfWrapper();return I.createElement(W_,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},I.createElement("div",Oi({className:me("recharts-wrapper",y),style:B({position:"relative",cursor:"default",width:N,height:S},A)},L,{ref:function(F){m.container=F}}),I.createElement(D0,Oi({},k,{width:N,height:S,title:T,desc:E,style:vae}),this.renderClipPath(),Ew(g,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(O.Component);oe(v,"displayName",r),oe(v,"defaultProps",B({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),oe(v,"getDerivedStateFromProps",function(w,j){var x=w.dataKey,m=w.data,_=w.children,g=w.width,y=w.height,N=w.layout,S=w.stackOffset,A=w.margin,P=j.dataStartIndex,T=j.dataEndIndex;if(j.updateId===void 0){var E=fN(w);return B(B(B({},E),{},{updateId:0},p(B(B({props:w},E),{},{updateId:0}),j)),{},{prevDataKey:x,prevData:m,prevWidth:g,prevHeight:y,prevLayout:N,prevStackOffset:S,prevMargin:A,prevChildren:_})}if(x!==j.prevDataKey||m!==j.prevData||g!==j.prevWidth||y!==j.prevHeight||N!==j.prevLayout||S!==j.prevStackOffset||!Ri(A,j.prevMargin)){var C=fN(w),k={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},R=B(B({},dN(j,m,N)),{},{updateId:j.updateId+1}),$=B(B(B({},C),k),R);return B(B(B({},$),p(B({props:w},$),j)),{},{prevDataKey:x,prevData:m,prevWidth:g,prevHeight:y,prevLayout:N,prevStackOffset:S,prevMargin:A,prevChildren:_})}if(!R0(_,j.prevChildren)){var L,D,F,W,G=yr(_,uo),K=G&&(L=(D=G.props)===null||D===void 0?void 0:D.startIndex)!==null&&L!==void 0?L:P,Z=G&&(F=(W=G.props)===null||W===void 0?void 0:W.endIndex)!==null&&F!==void 0?F:T,de=K!==P||Z!==T,ke=!fe(m),Le=ke&&!de?j.updateId:j.updateId+1;return B(B({updateId:Le},p(B(B({props:w},j),{},{updateId:Le,dataStartIndex:K,dataEndIndex:Z}),j)),{},{prevChildren:_,dataStartIndex:K,dataEndIndex:Z})}return null}),oe(v,"renderActiveDot",function(w,j,x){var m;return O.isValidElement(w)?m=O.cloneElement(w,j):le(w)?m=w(j):m=I.createElement(Zh,j),I.createElement(Se,{className:"recharts-active-dot",key:x},m)});var b=O.forwardRef(function(j,x){return I.createElement(v,Oi({},j,{ref:x}))});return b.displayName=v.displayName,b},cu=wy({chartName:"LineChart",GraphicalChild:rr,axisComponents:[{axisType:"xAxis",AxisComp:Gt},{axisType:"yAxis",AxisComp:Yt}],formatAxisMap:TE}),Ya=wy({chartName:"BarChart",GraphicalChild:Ct,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Gt},{axisType:"yAxis",AxisComp:Yt}],formatAxisMap:TE}),uu=wy({chartName:"PieChart",GraphicalChild:kr,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:rp},{axisType:"radiusAxis",AxisComp:ep}],formatAxisMap:dQ,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});function pN({title:e,data:t}){return a.jsxs(U,{children:[a.jsx("div",{className:"mb-4",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:e})}),a.jsx("div",{className:"h-64",children:a.jsx(Mt,{width:"100%",height:"100%",children:a.jsxs(Ya,{data:t,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Er,{strokeDasharray:"3 3"}),a.jsx(Gt,{dataKey:"name"}),a.jsx(Yt,{}),a.jsx(We,{formatter:(r,n)=>[`${r}%`,n==="percentage"?"Pass Rate":"Count"]}),a.jsx(Ct,{dataKey:"percentage",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]})}function Eae(){const[e,t]=O.useState(null),[r,n]=O.useState(!0);return O.useEffect(()=>{(async()=>{try{const i=await $3.getDashboardData();i.success&&i.data&&t(i.data)}catch(i){console.error("Failed to fetch dashboard data:",i)}finally{n(!1)}})()},[]),r?a.jsx(Ce,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(s=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},s))})})})}):e?a.jsx(Ce,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Overview of your Examination platform performance"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx($u,{title:"Total Users",value:e.totalUsers,icon:a.jsx(fn,{className:"w-6 h-6"}),color:"blue",change:{value:12,type:"increase"}}),a.jsx($u,{title:"Active Surveys",value:e.totalSurveys,icon:a.jsx(Vt,{className:"w-6 h-6"}),color:"green",change:{value:8,type:"increase"}}),a.jsx($u,{title:"Test Attempts",value:e.totalAttempts,icon:a.jsx(Kr,{className:"w-6 h-6"}),color:"yellow",change:{value:15,type:"increase"}}),a.jsx($u,{title:"Pass Rate",value:`${e.passRate.toFixed(1)}%`,icon:a.jsx(Ae,{className:"w-6 h-6"}),color:"red",change:{value:3,type:"decrease"}})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsx(pN,{title:"Performance by Role",data:e.performanceByRole}),a.jsx(Y$,{activities:e.recentActivity})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsx(pN,{title:"Performance by Question Area",data:e.performanceBySurvey})})]})}):a.jsx(Ce,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function Pae(){const[e,t]=O.useState(null),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState("30");O.useEffect(()=>{f()},[c]);const f=async()=>{try{i(!0);const p=await R3.getDashboardData(c);p.success&&p.data&&t(p.data)}catch(p){console.error("Failed to fetch ZO dashboard data:",p)}finally{i(!1)}},d=p=>{n(p),l(!0)},h=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return s?a.jsx(Ce,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(p=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},p))})})})}):e?a.jsx(Ce,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Zonal Office Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive overview of all zones and regional performance"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:c,onChange:p=>u(p.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(It,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Zones"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.totalZones})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Zc,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Regions"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.totalRegions})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(sc,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Users"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.totalUsers})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(fn,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overall Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[e.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Kr,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[e.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Ae,{className:"w-6 h-6 text-red-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(U,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Zone Performance Comparison"}),a.jsx("div",{className:"h-64",children:a.jsx(Mt,{width:"100%",height:"100%",children:a.jsxs(Ya,{data:e.zonePerformance,children:[a.jsx(Er,{strokeDasharray:"3 3"}),a.jsx(Gt,{dataKey:"zoneName"}),a.jsx(Yt,{}),a.jsx(We,{formatter:(p,v)=>[v==="passRate"?`${p}%`:p,v==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Ct,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Ct,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(U,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Regional Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx(Mt,{width:"100%",height:"100%",children:a.jsxs(uu,{children:[a.jsx(kr,{data:e.regionalBreakdown,cx:"50%",cy:"50%",labelLine:!1,label:({regionName:p,percentage:v})=>`${p}: ${v}%`,outerRadius:80,fill:"#8884d8",dataKey:"totalEnumerators",children:e.regionalBreakdown.map((p,v)=>a.jsx(Qs,{fill:h[v%h.length]},`cell-${v}`))}),a.jsx(We,{})]})})})]})]}),a.jsxs(U,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Zone Performance Details"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Ca,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Zones"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.zonePerformance.map(p=>a.jsxs(U,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>d(p),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:p.zoneName}),a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${p.passRate>=80?"bg-green-100 text-green-800":p.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[p.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:p.totalEnumerators}),a.jsx("p",{className:"text-xs text-gray-600",children:"Enumerators"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:p.completedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[p.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${p.averageScore}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:[p.regions.length," Regions"]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Je,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]},p.zoneId))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(U,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performing Regions"}),a.jsx($a,{className:"w-5 h-5 text-green-600"})]}),a.jsx("div",{className:"space-y-3",children:e.topPerformingRegions.map((p,v)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:v+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:p.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[p.total," enumerators"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:[p.percentage.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},p.name))})]}),a.jsxs(U,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Regions Needing Attention"}),a.jsx(uv,{className:"w-5 h-5 text-red-600"})]}),a.jsx("div",{className:"space-y-3",children:e.lowPerformingRegions.map((p,v)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:v+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:p.name}),a.jsxs("p",{className:"text-sm text-gray-500",children:[p.total," enumerators"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-red-600",children:[p.percentage.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},p.name))})]})]}),a.jsxs(U,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(Mt,{width:"100%",height:"100%",children:a.jsxs(cu,{data:e.monthlyTrends,children:[a.jsx(Er,{strokeDasharray:"3 3"}),a.jsx(Gt,{dataKey:"month"}),a.jsx(Yt,{}),a.jsx(We,{}),a.jsx(rr,{type:"monotone",dataKey:"attempts",stroke:"#3B82F6",name:"Attempts"}),a.jsx(rr,{type:"monotone",dataKey:"passed",stroke:"#10B981",name:"Passed"}),a.jsx(rr,{type:"monotone",dataKey:"passRate",stroke:"#F59E0B",name:"Pass Rate %"})]})})})]}),a.jsx(Ne,{isOpen:o,onClose:()=>l(!1),title:`Zone Details: ${r==null?void 0:r.zoneName}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalEnumerators}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Enumerators"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Regional Breakdown"}),a.jsx("div",{className:"space-y-3",children:r.regions.map(p=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:p.regionName}),a.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${p.passRate>=80?"bg-green-100 text-green-800":p.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[p.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Enumerators"}),a.jsx("p",{className:"font-medium",children:p.totalEnumerators})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Completed"}),a.jsx("p",{className:"font-medium",children:p.completedTests})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Avg Score"}),a.jsxs("p",{className:"font-medium",children:[p.averageScore.toFixed(1),"%"]})]})]})]},p.regionId))})]})]})})]})}):a.jsx(Ce,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function Cae(){const[e,t]=O.useState(null),[r,n]=O.useState(null),[s,i]=O.useState(null),[o,l]=O.useState(!0),[c,u]=O.useState(!1),[f,d]=O.useState(!1),[h,p]=O.useState("30");O.useEffect(()=>{v()},[h]);const v=async()=>{try{l(!0);const x=await I3.getDashboardData(h);x.success&&x.data&&t(x.data)}catch(x){console.error("Failed to fetch RO dashboard data:",x)}finally{l(!1)}},b=x=>{n(x),u(!0)},w=x=>{i(x),d(!0)},j=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return o?a.jsx(Ce,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(x=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},x))})})})}):e?a.jsx(Ce,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Regional Office Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive overview of districts and supervisor performance"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:h,onChange:x=>p(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(It,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Districts"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.totalDistricts})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Zc,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Supervisors"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.totalSupervisors})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Gi,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Enumerators"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.totalUsers})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(fn,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overall Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[e.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Kr,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[e.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Ae,{className:"w-6 h-6 text-red-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(U,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"District Performance Comparison"}),a.jsx("div",{className:"h-64",children:a.jsx(Mt,{width:"100%",height:"100%",children:a.jsxs(Ya,{data:e.districtPerformance,children:[a.jsx(Er,{strokeDasharray:"3 3"}),a.jsx(Gt,{dataKey:"districtName"}),a.jsx(Yt,{}),a.jsx(We,{formatter:(x,m)=>[m==="passRate"?`${x}%`:x,m==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Ct,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Ct,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(U,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Enumerator Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx(Mt,{width:"100%",height:"100%",children:a.jsxs(uu,{children:[a.jsx(kr,{data:e.enumeratorDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({category:x,percentage:m})=>`${x}: ${m}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:e.enumeratorDistribution.map((x,m)=>a.jsx(Qs,{fill:j[m%j.length]},`cell-${m}`))}),a.jsx(We,{})]})})})]})]}),a.jsxs(U,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"District Performance Details"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Ca,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Districts"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.districtPerformance.map(x=>a.jsxs(U,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>b(x),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:x.districtName}),a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${x.passRate>=80?"bg-green-100 text-green-800":x.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[x.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:x.totalEnumerators}),a.jsx("p",{className:"text-xs text-gray-600",children:"Enumerators"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:x.completedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[x.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x.averageScore}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:["District ID: ",x.districtId]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Je,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]},x.districtId))})]}),a.jsxs(U,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Supervisor Performance"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Ca,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Supervisors"})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Supervisor"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Enumerators"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Completed Tests"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Pass Rate"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Avg Score"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:e.supervisorPerformance.map(x=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:x.supervisorName}),a.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",x.supervisorId]})]})}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:x.totalEnumerators}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:x.completedTests}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x.passRate>=80?"bg-green-100 text-green-800":x.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[x.passRate.toFixed(1),"%"]})}),a.jsxs("td",{className:"py-3 px-4 text-gray-900",children:[x.averageScore.toFixed(1),"%"]}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("button",{onClick:()=>w(x),className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(Je,{className:"w-4 h-4"})})})]},x.supervisorId))})]})})]}),a.jsxs(U,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(Mt,{width:"100%",height:"100%",children:a.jsxs(cu,{data:e.monthlyTrends,children:[a.jsx(Er,{strokeDasharray:"3 3"}),a.jsx(Gt,{dataKey:"month"}),a.jsx(Yt,{}),a.jsx(We,{}),a.jsx(rr,{type:"monotone",dataKey:"attempts",stroke:"#3B82F6",name:"Attempts"}),a.jsx(rr,{type:"monotone",dataKey:"passed",stroke:"#10B981",name:"Passed"}),a.jsx(rr,{type:"monotone",dataKey:"passRate",stroke:"#F59E0B",name:"Pass Rate %"})]})})})]}),a.jsx(Ne,{isOpen:c,onClose:()=>u(!1),title:`District Details: ${r==null?void 0:r.districtName}`,size:"lg",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalEnumerators}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Enumerators"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"District Information"}),a.jsx("div",{className:"bg-gray-50 rounded-lg p-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"District ID"}),a.jsx("p",{className:"font-medium",children:r.districtId})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"District Name"}),a.jsx("p",{className:"font-medium",children:r.districtName})]})]})})]})]})}),a.jsx(Ne,{isOpen:f,onClose:()=>d(!1),title:`Supervisor Details: ${s==null?void 0:s.supervisorName}`,size:"xl",children:s&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:s.totalEnumerators}),a.jsx("p",{className:"text-sm text-gray-600",children:"Team Size"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:s.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[s.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Team Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[s.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Team Avg Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Team Members"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:s.enumerators.map(x=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:x.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:x.user.email})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[x.overallProgress,"% Complete"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[x.totalCertificates," certificates"]})]})]})},x.id))})]})]})})]})}):a.jsx(Ce,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function kae(){const[e,t]=O.useState(null),[r,n]=O.useState(null),[s,i]=O.useState(null),[o,l]=O.useState(!0),[c,u]=O.useState(!1),[f,d]=O.useState(!1),[h,p]=O.useState("30");O.useEffect(()=>{v()},[h]);const v=async()=>{try{l(!0);const m=await lv.getDashboardData(h);m.success&&m.data&&t(m.data)}catch(m){console.error("Failed to fetch supervisor dashboard data:",m)}finally{l(!1)}},b=m=>{n(m),u(!0)},w=m=>{i(m),d(!0)},j=m=>{switch(m){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"expired":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},x=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return o?a.jsx(Ce,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(m=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},m))})})})}):e?a.jsx(Ce,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Supervisor Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Monitor your team's performance and progress"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:h,onChange:m=>p(m.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(It,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Enumerators"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.totalEnumerators})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(fn,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Attempts"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.totalAttempts})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Vt,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Team Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[e.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Kr,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[e.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Ae,{className:"w-6 h-6 text-purple-600"})})]})})]}),e.upcomingDeadlines.length>0&&a.jsxs(U,{className:"mb-8 border-l-4 border-orange-500 bg-orange-50",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(Xt,{className:"w-6 h-6 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Upcoming Deadlines"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:e.upcomingDeadlines.map(m=>a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:m.surveyTitle}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[a.jsx(wn,{className:"w-4 h-4 inline mr-1"}),"Due: ",Me(m.targetDate)]}),a.jsxs("p",{className:"text-orange-600 font-medium",children:[m.daysLeft," days left"]}),a.jsxs("p",{className:"text-gray-600",children:[m.pendingEnumerators,"/",m.totalEnumerators," pending"]})]})]},m.surveyId))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(U,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Performance"}),a.jsx("div",{className:"h-64",children:a.jsx(Mt,{width:"100%",height:"100%",children:a.jsxs(Ya,{data:e.teamPerformance,children:[a.jsx(Er,{strokeDasharray:"3 3"}),a.jsx(Gt,{dataKey:"teamName"}),a.jsx(Yt,{}),a.jsx(We,{formatter:(m,_)=>[_==="passRate"?`${m}%`:m,_==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Ct,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Ct,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(U,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Enumerator Status Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx(Mt,{width:"100%",height:"100%",children:a.jsxs(uu,{children:[a.jsx(kr,{data:[{name:"Completed",value:e.enumeratorStatus.filter(m=>m.overallProgress===100).length},{name:"In Progress",value:e.enumeratorStatus.filter(m=>m.overallProgress>0&&m.overallProgress<100).length},{name:"Not Started",value:e.enumeratorStatus.filter(m=>m.overallProgress===0).length}],cx:"50%",cy:"50%",labelLine:!1,label:({name:m,value:_})=>`${m}: ${_}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[0,1,2].map(m=>a.jsx(Qs,{fill:x[m%x.length]},`cell-${m}`))}),a.jsx(We,{})]})})})]})]}),a.jsxs(U,{className:"mb-8",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Team Details"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Ca,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter Teams"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.teamPerformance.map(m=>a.jsxs(U,{className:"hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>b(m),children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:m.teamName}),a.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${m.passRate>=80?"bg-green-100 text-green-800":m.passRate>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:[m.passRate.toFixed(1),"% Pass Rate"]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:m.totalMembers}),a.jsx("p",{className:"text-xs text-gray-600",children:"Members"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:m.completedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[m.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${m.averageScore}%`}})})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:["Team ID: ",m.teamId]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Je,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]},m.teamId))})]}),a.jsxs(U,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Enumerator Status"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(J,{placeholder:"Search enumerators...",className:"w-64"}),a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Ca,{className:"w-4 h-4"}),a.jsx("span",{children:"Filter"})]})]})]}),a.jsx("div",{className:"space-y-4",children:e.enumeratorStatus.map(m=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ia,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:m.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:m.user.email}),a.jsx("p",{className:"text-sm text-gray-500",children:m.user.jurisdiction||"No jurisdiction"})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[m.overallProgress,"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:m.surveys.filter(_=>_.status==="completed").length}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:m.totalCertificates}),a.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"})]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>w(m),className:"flex items-center space-x-2",children:[a.jsx(Je,{className:"w-4 h-4"}),a.jsx("span",{children:"View"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[m.overallProgress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${m.overallProgress}%`}})})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[m.surveys.slice(0,3).map(_=>a.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(_.status)}`,children:[_.surveyTitle,": ",_.status.replace("_"," ")]},_.surveyId)),m.surveys.length>3&&a.jsxs("span",{className:"text-sm text-gray-500",children:["+",m.surveys.length-3," more"]})]})]},m.id))})]}),a.jsx(Ne,{isOpen:c,onClose:()=>u(!1),title:`Team Details: ${r==null?void 0:r.teamName}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalMembers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Team Members"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:r.members.map(m=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:m.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:m.user.email})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[m.overallProgress,"% Complete"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[m.totalCertificates," certificates"]})]})]})},m.id))})]})]})}),a.jsx(Ne,{isOpen:f,onClose:()=>d(!1),title:`Enumerator Details: ${s==null?void 0:s.user.name}`,size:"xl",children:s&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",s.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",s.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",s.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",s.user.jurisdiction||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Last Activity:"})," ",Ar(s.lastActivity)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Performance Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[s.overallProgress,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Overall Progress"})]}),a.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-purple-600",children:s.totalCertificates}),a.jsx("p",{className:"text-xs text-gray-600",children:"Certificates"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Survey Status"}),a.jsx("div",{className:"space-y-3",children:s.surveys.map(m=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:m.surveyTitle}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(m.status)}`,children:m.status.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Attempts"}),a.jsxs("p",{className:"font-medium",children:[m.attempts,"/",m.maxAttempts]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:m.bestScore?`${m.bestScore}%`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Target Date"}),a.jsx("p",{className:"font-medium",children:Me(m.targetDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Last Attempt"}),a.jsx("p",{className:"font-medium",children:m.lastAttempt?Me(m.lastAttempt):"Never"})]})]}),m.certificateId&&a.jsxs("div",{className:"mt-3 flex items-center space-x-2 text-green-600",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]})]},m.surveyId))})]})]})})]})}):a.jsx(Ce,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function Tae(){const e=Co(),[t,r]=O.useState(null),[n,s]=O.useState(null);O.useState(null);const[i,o]=O.useState(!0),[l,c]=O.useState(!1),[u,f]=O.useState(!1),[d,h]=O.useState("overview"),[p,v]=O.useState(""),[b,w]=O.useState("all");O.useEffect(()=>{j()},[]);const j=async()=>{try{o(!0);const N=await Xc.getDashboardData();N.success&&N.data&&r(N.data)}catch(N){console.error("Failed to fetch enumerator dashboard data:",N)}finally{o(!1)}},x=async N=>{try{f(!0);const S=t==null?void 0:t.availableTests.find(T=>T.surveyId===N);if(!S||!S.isEligible||S.attemptsLeft===0){alert("You are not eligible to take this test or have no attempts remaining.");return}const A=await yn.createTestSession(N);if(!A.success||!A.data)throw new Error(A.message||"Failed to create test session");const P=A.data.id;e(`/test/${P}`,{state:{surveyId:N,startTime:A.data.startTime,sessionData:A.data}})}catch(S){console.error("Failed to start test:",S),alert(`Failed to start test: ${S instanceof Error?S.message:"Please try again."}`)}finally{f(!1),c(!1)}},m=N=>{s(N),c(!0)},_=N=>N.isEligible?N.attemptsLeft===0?"bg-red-100 text-red-800":Math.ceil((new Date(N.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24))<=3?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",g=N=>{if(!N.isEligible)return"Not Eligible";if(N.attemptsLeft===0)return"No Attempts Left";const S=Math.ceil((new Date(N.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));return S<=0?"Overdue":S<=3?`${S} days left`:"Available"},y=(t==null?void 0:t.availableTests.filter(N=>{const S=N.title.toLowerCase().includes(p.toLowerCase())||N.description.toLowerCase().includes(p.toLowerCase());if(b==="all")return S;const A=Math.ceil((new Date(N.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));switch(b){case"urgent":return S&&A<=3&&A>0;case"available":return S&&N.isEligible&&N.attemptsLeft>0;case"overdue":return S&&A<=0;default:return S}}))||[];return i?a.jsx(Ce,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"animate-pulse",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(N=>a.jsx("div",{className:"bg-gray-200 rounded-lg h-32"},N))})})})}):t?a.jsx(Ce,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Dashboard"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Track your test progress and achievements"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(It,{className:"w-4 h-4"}),a.jsx("span",{children:"Download Progress Report"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(Vi,{className:"w-4 h-4"}),a.jsx("span",{children:"Study Materials"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available Tests"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.availableTests.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Vt,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed Tests"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.completedTests.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(mt,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[t.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Kr,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:t.certificates.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Ae,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(U,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Overall Progress"}),a.jsxs("div",{className:"text-center mb-6",children:[a.jsxs("div",{className:"relative inline-flex items-center justify-center w-32 h-32",children:[a.jsxs("svg",{className:"w-32 h-32 transform -rotate-90",viewBox:"0 0 100 100",children:[a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-200"}),a.jsx("circle",{cx:"50",cy:"50",r:"40",stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:`${2*Math.PI*40}`,strokeDashoffset:`${2*Math.PI*40*(1-t.overallProgress/100)}`,className:"text-blue-600 transition-all duration-300"})]}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("span",{className:"text-2xl font-bold text-gray-900",children:[t.overallProgress,"%"]})})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Overall Completion"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:t.passedTests}),a.jsx("p",{className:"text-xs text-gray-600",children:"Passed Tests"})]}),a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-blue-600",children:t.totalAttempts}),a.jsx("p",{className:"text-xs text-gray-600",children:"Total Attempts"})]})]})]}),a.jsxs(U,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Test Performance Trend"}),a.jsx("div",{className:"h-64",children:a.jsx(Mt,{width:"100%",height:"100%",children:a.jsxs(cu,{data:t.completedTests.map((N,S)=>({attempt:S+1,score:N.score,name:N.surveyTitle.substring(0,10)+"..."})),children:[a.jsx(Er,{strokeDasharray:"3 3"}),a.jsx(Gt,{dataKey:"attempt"}),a.jsx(Yt,{domain:[0,100]}),a.jsx(We,{formatter:N=>[`${N}%`,"Score"]}),a.jsx(rr,{type:"monotone",dataKey:"score",stroke:"#3B82F6",strokeWidth:2})]})})})]})]}),t.upcomingTests.filter(N=>N.daysLeft<=7).length>0&&a.jsxs(U,{className:"mb-8 border-l-4 border-orange-500 bg-orange-50",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(Xt,{className:"w-6 h-6 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Urgent: Tests Due Soon"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.upcomingTests.filter(N=>N.daysLeft<=7).map(N=>a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:N.title}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[a.jsx(wn,{className:"w-4 h-4 inline mr-1"}),"Due: ",Me(N.targetDate)]}),a.jsx("p",{className:`font-medium ${N.isOverdue?"text-red-600":"text-orange-600"}`,children:N.isOverdue?"OVERDUE":`${N.daysLeft} days left`})]})]},N.surveyId))})]}),a.jsxs(U,{children:[a.jsx("div",{className:"border-b border-gray-200 mb-6",children:a.jsxs("nav",{className:"-mb-px flex space-x-8",children:[a.jsxs("button",{onClick:()=>h("overview"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="overview"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Je,{className:"w-4 h-4 inline mr-2"}),"Overview"]}),a.jsxs("button",{onClick:()=>h("available"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="available"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(Vi,{className:"w-4 h-4 inline mr-2"}),"Available Tests (",t.availableTests.length,")"]}),a.jsxs("button",{onClick:()=>h("results"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="results"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx($a,{className:"w-4 h-4 inline mr-2"}),"My Results (",t.completedTests.length,")"]}),a.jsxs("button",{onClick:()=>h("certificates"),className:`py-2 px-1 border-b-2 font-medium text-sm ${d==="certificates"?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[a.jsx(qs,{className:"w-4 h-4 inline mr-2"}),"My Certificates (",t.certificates.length,")"]})]})}),d==="overview"&&a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Quick Stats"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tests Available"}),a.jsx("span",{className:"text-lg font-bold text-blue-600",children:t.availableTests.length})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Tests Passed"}),a.jsx("span",{className:"text-lg font-bold text-green-600",children:t.passedTests})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Average Score"}),a.jsxs("span",{className:"text-lg font-bold text-yellow-600",children:[t.averageScore.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Certificates Earned"}),a.jsx("span",{className:"text-lg font-bold text-purple-600",children:t.certificates.length})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Recent Activity"}),a.jsx("div",{className:"space-y-3",children:t.completedTests.slice(0,3).map(N=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${N.isPassed?"bg-green-500":"bg-red-500"}`}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:N.surveyTitle}),a.jsx("p",{className:"text-xs text-gray-500",children:Me(N.completedAt)})]}),a.jsxs("span",{className:`text-sm font-bold ${N.isPassed?"text-green-600":"text-red-600"}`,children:[N.score,"%"]})]},N.resultId))})]})]})}),d==="available"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(J,{placeholder:"Search tests...",value:p,onChange:N=>v(N.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:b,onChange:N=>w(N.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Tests"}),a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"urgent",children:"Urgent (Due Soon)"}),a.jsx("option",{value:"overdue",children:"Overdue"})]})]})}),a.jsx("div",{className:"space-y-4",children:y.map(N=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:N.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:N.description}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wn,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Due: ",Me(N.targetDate)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ht,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Duration: ",Ls(N.duration)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Vt,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:[N.totalQuestions," Questions"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Kr,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Pass: ",N.passingScore,"%"]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${_(N)}`,children:g(N)}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[N.attemptsLeft,"/",N.maxAttempts," attempts left"]})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(z,{onClick:()=>m(N),variant:"secondary",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(Je,{className:"w-4 h-4"}),a.jsx("span",{children:"Details"})]}),a.jsxs(z,{onClick:()=>x(N.surveyId),disabled:!N.isEligible||N.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===N.surveyId,size:"sm",className:"flex items-center space-x-2",children:[a.jsx(ja,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})]})},N.surveyId))})]}),d==="results"&&a.jsx("div",{className:"space-y-4",children:t.completedTests.map(N=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:N.surveyTitle}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Score:"}),a.jsxs("span",{className:`ml-2 font-bold ${N.score>=70?"text-green-600":"text-red-600"}`,children:[N.score,"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 ${N.isPassed?"text-green-600":"text-red-600"}`,children:N.isPassed?"Passed":"Failed"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Attempt:"}),a.jsx("span",{className:"ml-2",children:N.attemptNumber})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"}),a.jsx("span",{className:"ml-2",children:Me(N.completedAt)})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[N.certificateId&&a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx(Ae,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]}),a.jsxs(z,{variant:"secondary",size:"sm",children:[a.jsx(Je,{className:"w-4 h-4 mr-2"}),"View Details"]})]})]})},N.resultId))}),d==="certificates"&&a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.certificates.map(N=>a.jsxs(U,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"text-center mb-4",children:[a.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-3",children:a.jsx(Ae,{className:"w-8 h-8 text-yellow-600"})}),a.jsx("h4",{className:"font-semibold text-gray-900",children:N.survey.title}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Certificate #",N.certificateNumber]})]}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Me(N.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs ${N.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:N.status.charAt(0).toUpperCase()+N.status.slice(1)})]})]}),a.jsxs(z,{className:"w-full flex items-center justify-center space-x-2",children:[a.jsx(It,{className:"w-4 h-4"}),a.jsx("span",{children:"Download Certificate"})]})]},N.id))})]}),a.jsx(Ne,{isOpen:l,onClose:()=>c(!1),title:`Test Details: ${n==null?void 0:n.title}`,size:"lg",children:n&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),a.jsx("p",{className:"text-gray-600",children:n.description})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Duration:"})," ",Ls(n.duration)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Questions:"})," ",n.totalQuestions]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Passing Score:"})," ",n.passingScore,"%"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Target Date:"})," ",Me(n.targetDate)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Attempt Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempts Left:"})," ",n.attemptsLeft,"/",n.maxAttempts]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Eligibility:"}),a.jsx("span",{className:`ml-2 ${n.isEligible?"text-green-600":"text-red-600"}`,children:n.isEligible?"Eligible":"Not Eligible"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>c(!1),children:"Close"}),a.jsxs(z,{onClick:()=>{x(n.surveyId)},disabled:!n.isEligible||n.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===n.surveyId,className:"flex items-center space-x-2",children:[a.jsx(ja,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})})]})}):a.jsx(Ce,{children:a.jsx("div",{className:"p-6",children:a.jsx("div",{className:"text-center text-gray-500",children:"Failed to load dashboard data"})})})}function $ae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState("30"),[h,p]=O.useState("all");O.useEffect(()=>{v()},[f]);const v=async()=>{try{i(!0);const g=await lv.getDashboardData(f);g.success&&g.data&&t(g.data.teamPerformance)}catch(g){console.error("Failed to fetch team results:",g)}finally{i(!1)}},b=g=>{n(g),l(!0)},w=g=>g>=90?"excellent":g>=80?"good":g>=60?"average":"poor",j=g=>{switch(g){case"excellent":return"bg-green-100 text-green-800";case"good":return"bg-blue-100 text-blue-800";case"average":return"bg-yellow-100 text-yellow-800";case"poor":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},x=e.filter(g=>{const y=g.teamName.toLowerCase().includes(c.toLowerCase()),N=w(g.passRate);return y&&(h==="all"||N===h)}),m=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"],_={totalTeams:e.length,totalMembers:e.reduce((g,y)=>g+y.totalMembers,0),averagePassRate:e.reduce((g,y)=>g+y.passRate,0)/e.length||0,averageScore:e.reduce((g,y)=>g+y.averageScore,0)/e.length||0,topPerformingTeam:e.reduce((g,y)=>g.passRate>y.passRate?g:y,e[0]),lowPerformingTeam:e.reduce((g,y)=>g.passRate<y.passRate?g:y,e[0])};return a.jsx(Ce,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Team Results"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive analysis of team performance and progress"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("select",{value:f,onChange:g=>d(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7",children:"Last 7 days"}),a.jsx("option",{value:"30",children:"Last 30 days"}),a.jsx("option",{value:"90",children:"Last 3 months"}),a.jsx("option",{value:"365",children:"Last year"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(It,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Teams"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:_.totalTeams})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(fn,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Members"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:_.totalMembers})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(fn,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[_.averagePassRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Kr,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Score"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[_.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Ae,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(U,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Performance Comparison"}),a.jsx("div",{className:"h-64",children:a.jsx(Mt,{width:"100%",height:"100%",children:a.jsxs(Ya,{data:e,children:[a.jsx(Er,{strokeDasharray:"3 3"}),a.jsx(Gt,{dataKey:"teamName"}),a.jsx(Yt,{}),a.jsx(We,{formatter:(g,y)=>[y==="passRate"?`${g}%`:g,y==="passRate"?"Pass Rate":"Average Score"]}),a.jsx(Ct,{dataKey:"passRate",fill:"#3B82F6",name:"passRate"}),a.jsx(Ct,{dataKey:"averageScore",fill:"#10B981",name:"averageScore"})]})})})]}),a.jsxs(U,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Distribution"}),a.jsx("div",{className:"h-64",children:a.jsx(Mt,{width:"100%",height:"100%",children:a.jsxs(uu,{children:[a.jsx(kr,{data:[{name:"Excellent (90%+)",value:e.filter(g=>g.passRate>=90).length},{name:"Good (80-89%)",value:e.filter(g=>g.passRate>=80&&g.passRate<90).length},{name:"Average (60-79%)",value:e.filter(g=>g.passRate>=60&&g.passRate<80).length},{name:"Poor (<60%)",value:e.filter(g=>g.passRate<60).length}],cx:"50%",cy:"50%",labelLine:!1,label:({name:g,value:y})=>`${g}: ${y}`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:[0,1,2,3].map(g=>a.jsx(Qs,{fill:m[g%m.length]},`cell-${g}`))}),a.jsx(We,{})]})})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(U,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performing Teams"}),a.jsx($a,{className:"w-5 h-5 text-green-600"})]}),a.jsx("div",{className:"space-y-3",children:e.sort((g,y)=>y.passRate-g.passRate).slice(0,3).map((g,y)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:y+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.teamName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[g.totalMembers," members"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:[g.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},g.teamId))})]}),a.jsxs(U,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Teams Needing Support"}),a.jsx(uv,{className:"w-5 h-5 text-red-600"})]}),a.jsx("div",{className:"space-y-3",children:e.sort((g,y)=>g.passRate-y.passRate).slice(0,3).map((g,y)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:y+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.teamName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[g.totalMembers," members"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-red-600",children:[g.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]})]},g.teamId))})]})]}),a.jsx(U,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative",children:a.jsx(J,{placeholder:"Search teams...",value:c,onChange:g=>u(g.target.value),className:"w-64"})}),a.jsxs("select",{value:h,onChange:g=>p(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Performance Levels"}),a.jsx("option",{value:"excellent",children:"Excellent (90%+)"}),a.jsx("option",{value:"good",children:"Good (80-89%)"}),a.jsx("option",{value:"average",children:"Average (60-79%)"}),a.jsx("option",{value:"poor",children:"Poor (0-60%)"})]})]})})}),a.jsxs(U,{children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Detailed Team Results"})}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading team results..."})]}):a.jsx("div",{className:"space-y-4",children:x.map(g=>{const y=w(g.passRate);return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(fn,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:g.teamName}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Team ID: ",g.teamId]})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:g.totalMembers}),a.jsx("p",{className:"text-sm text-gray-500",children:"Members"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:g.completedTests}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:`text-2xl font-bold ${As(g.passRate)}`,children:[g.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:`text-2xl font-bold ${As(g.averageScore)}`,children:[g.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Avg Score"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${j(y)}`,children:y.charAt(0).toUpperCase()+y.slice(1)})}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>b(g),className:"flex items-center space-x-2",children:[a.jsx(Je,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Team Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[(g.completedTests/g.totalMembers*100).toFixed(1),"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${g.completedTests/g.totalMembers*100}%`}})})]})]},g.teamId)})})]}),a.jsx(Ne,{isOpen:o,onClose:()=>l(!1),title:`Team Details: ${r==null?void 0:r.teamName}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:r.totalMembers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Members"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:r.completedTests}),a.jsx("p",{className:"text-sm text-gray-600",children:"Completed Tests"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-yellow-600",children:[r.passRate.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Pass Rate"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[r.averageScore.toFixed(1),"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Average Score"})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Team Members Performance"}),a.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:r.members.map(g=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:g.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:g.user.email})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[g.overallProgress,"% Complete"]}),a.jsxs("p",{className:"text-xs text-gray-500",children:[g.totalCertificates," certificates"]})]})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Surveys"}),a.jsx("p",{className:"font-medium",children:g.surveys.length})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Completed"}),a.jsx("p",{className:"font-medium",children:g.surveys.filter(y=>y.status==="completed").length})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:g.surveys.length>0?Math.max(...g.surveys.map(y=>y.bestScore||0)).toFixed(1)+"%":"N/A"})]})]})]},g.id))})]})]})})]})})}function Iae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState("all"),[h,p]=O.useState("all");O.useEffect(()=>{v()},[]);const v=async()=>{try{i(!0);const g=await lv.getDashboardData("30");g.success&&g.data&&t(g.data.enumeratorStatus)}catch(g){console.error("Failed to fetch enumerators:",g)}finally{i(!1)}},b=g=>{n(g),l(!0)},w=g=>{switch(g){case"completed":return a.jsx(mt,{className:"w-4 h-4 text-green-600"});case"in_progress":return a.jsx(Ht,{className:"w-4 h-4 text-yellow-600"});case"failed":return a.jsx(Fd,{className:"w-4 h-4 text-red-600"});case"expired":return a.jsx(Xt,{className:"w-4 h-4 text-orange-600"});default:return a.jsx(Ht,{className:"w-4 h-4 text-gray-600"})}},j=g=>{switch(g){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"expired":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},x=g=>{const y=g.surveys.length,N=g.surveys.filter(P=>P.status==="completed").length,S=g.surveys.filter(P=>P.status==="failed").length,A=g.surveys.filter(P=>P.status==="expired").length;return N===y?"excellent":S>0||A>0?"needs_attention":N>y/2?"good":"poor"},m=e.filter(g=>{const y=g.user.name.toLowerCase().includes(c.toLowerCase())||g.user.email.toLowerCase().includes(c.toLowerCase()),N=x(g),S=f==="all"||N===f;let A=!0;if(h!=="all")switch(h){case"completed":A=g.overallProgress===100;break;case"in_progress":A=g.overallProgress>0&&g.overallProgress<100;break;case"not_started":A=g.overallProgress===0;break}return y&&S&&A}),_={totalEnumerators:e.length,completedAll:e.filter(g=>g.overallProgress===100).length,inProgress:e.filter(g=>g.overallProgress>0&&g.overallProgress<100).length,notStarted:e.filter(g=>g.overallProgress===0).length,averageProgress:e.reduce((g,y)=>g+y.overallProgress,0)/e.length||0,totalCertificates:e.reduce((g,y)=>g+y.totalCertificates,0)};return a.jsx(Ce,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Enumerators"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and monitor your team members' progress"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Ca,{className:"w-4 h-4"}),a.jsx("span",{children:"Advanced Filters"})]}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(It,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Report"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-6 mb-8",children:[a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:_.totalEnumerators})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Ia,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:_.completedAll})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(mt,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"In Progress"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:_.inProgress})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Ht,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Not Started"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:_.notStarted})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Xt,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg Progress"}),a.jsxs("p",{className:"text-3xl font-bold text-purple-600",children:[_.averageProgress.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Kr,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-indigo-600",children:_.totalCertificates})]}),a.jsx("div",{className:"p-3 rounded-full bg-indigo-100",children:a.jsx(Ae,{className:"w-6 h-6 text-indigo-600"})})]})})]}),a.jsxs(U,{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Team Progress Overview"}),a.jsx("div",{className:"h-64",children:a.jsx(Mt,{width:"100%",height:"100%",children:a.jsxs(Ya,{data:e.map(g=>({name:g.user.name.split(" ")[0],progress:g.overallProgress,certificates:g.totalCertificates})),children:[a.jsx(Er,{strokeDasharray:"3 3"}),a.jsx(Gt,{dataKey:"name"}),a.jsx(Yt,{}),a.jsx(We,{formatter:(g,y)=>[y==="progress"?`${g}%`:g,y==="progress"?"Progress":"Certificates"]}),a.jsx(Ct,{dataKey:"progress",fill:"#3B82F6",name:"progress"}),a.jsx(Ct,{dataKey:"certificates",fill:"#10B981",name:"certificates"})]})})})]}),a.jsx(U,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(J,{placeholder:"Search enumerators...",value:c,onChange:g=>u(g.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:f,onChange:g=>d(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"good",children:"Good"}),a.jsx("option",{value:"needs_attention",children:"Needs Attention"}),a.jsx("option",{value:"poor",children:"Poor"})]}),a.jsxs("select",{value:h,onChange:g=>p(g.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Progress"}),a.jsx("option",{value:"completed",children:"Completed (100%)"}),a.jsx("option",{value:"in_progress",children:"In Progress"}),a.jsx("option",{value:"not_started",children:"Not Started"})]})]})})}),a.jsx(U,{children:s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading enumerators..."})]}):a.jsx("div",{className:"space-y-4",children:m.map(g=>{const y=x(g),N=g.surveys.filter(A=>A.status==="completed").length,S=g.surveys.length;return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center",children:a.jsx(Ia,{className:"w-8 h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:g.user.name}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500 mt-1",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(V3,{className:"w-4 h-4"}),a.jsx("span",{children:g.user.email})]}),g.user.phoneNumber&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Q3,{className:"w-4 h-4"}),a.jsx("span",{children:g.user.phoneNumber})]}),g.user.jurisdiction&&a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Zc,{className:"w-4 h-4"}),a.jsx("span",{children:g.user.jurisdiction})]})]}),a.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["Employee ID: ",g.user.employeeId||"N/A"]})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[g.overallProgress,"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[N,"/",S]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:g.totalCertificates}),a.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${y==="excellent"?"bg-green-100 text-green-800":y==="good"?"bg-blue-100 text-blue-800":y==="needs_attention"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:y==="excellent"?"Excellent":y==="good"?"Good":y==="needs_attention"?"Needs Attention":"Poor"})}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>b(g),className:"flex items-center space-x-2",children:[a.jsx(Je,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[g.overallProgress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${g.overallProgress}%`}})})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[g.surveys.slice(0,4).map(A=>a.jsxs("div",{className:"flex items-center space-x-2",children:[w(A.status),a.jsx("span",{className:"text-sm text-gray-600",children:A.surveyTitle})]},A.surveyId)),g.surveys.length>4&&a.jsxs("span",{className:"text-sm text-gray-500",children:["+",g.surveys.length-4," more"]})]}),a.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-100 flex items-center justify-between text-sm text-gray-500",children:[a.jsxs("span",{children:["Last Activity: ",Ar(g.lastActivity)]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{children:["Surveys: ",g.surveys.length]}),a.jsxs("span",{children:["Avg Score: ",g.surveys.length>0?(g.surveys.reduce((A,P)=>A+(P.bestScore||0),0)/g.surveys.length).toFixed(1)+"%":"N/A"]})]})]})]},g.id)})})}),a.jsx(Ne,{isOpen:o,onClose:()=>l(!1),title:`Enumerator Details: ${r==null?void 0:r.user.name}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",r.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",r.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Phone:"})," ",r.user.phoneNumber||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Employee ID:"})," ",r.user.employeeId||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",r.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",r.user.jurisdiction||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Last Activity:"})," ",Ar(r.lastActivity)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Performance Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[r.overallProgress,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Overall Progress"})]}),a.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-purple-600",children:r.totalCertificates}),a.jsx("p",{className:"text-xs text-gray-600",children:"Certificates"})]}),a.jsxs("div",{className:"text-center p-3 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-green-600",children:r.surveys.filter(g=>g.status==="completed").length}),a.jsx("p",{className:"text-xs text-gray-600",children:"Completed"})]}),a.jsxs("div",{className:"text-center p-3 bg-yellow-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-yellow-600",children:r.surveys.length>0?(r.surveys.reduce((g,y)=>g+(y.bestScore||0),0)/r.surveys.length).toFixed(1)+"%":"N/A"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Avg Score"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Survey Status"}),a.jsx("div",{className:"space-y-3",children:r.surveys.map(g=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[w(g.status),a.jsx("h5",{className:"font-medium text-gray-900",children:g.surveyTitle})]}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${j(g.status)}`,children:g.status.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Attempts"}),a.jsxs("p",{className:"font-medium",children:[g.attempts,"/",g.maxAttempts]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:g.bestScore?`${g.bestScore}%`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Target Date"}),a.jsx("p",{className:"font-medium",children:Me(g.targetDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Last Attempt"}),a.jsx("p",{className:"font-medium",children:g.lastAttempt?Me(g.lastAttempt):"Never"})]})]}),g.certificateId&&a.jsxs("div",{className:"mt-3 flex items-center space-x-2 text-green-600",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]})]},g.surveyId))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>l(!1),children:"Close"}),a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(It,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Individual Report"})]})]})]})})]})})}function Rae(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(!1),[f,d]=O.useState(""),[h,p]=O.useState(!1),[v,b]=O.useState(!1),[w,j]=O.useState(null),[x,m]=O.useState(""),[_,g]=O.useState({name:"",email:"",roleId:"",password:""}),[y,N]=O.useState({name:"",email:"",password:"",roleId:"",jurisdiction:"",zone:"",region:"",district:"",employeeId:"",phoneNumber:""});O.useEffect(()=>{S(),A()},[]);const S=async()=>{try{i(!0),console.log("Users page: Fetching users...");const $=await Tu.getUsers();console.log("Users page: API response:",$),t($.data||[]),(!$.data||$.data.length===0)&&(console.log("Users page: No users found"),$.success||m($.message))}catch($){console.error("Failed to fetch users:",$),m("Failed to load users. Please try again."),t([])}finally{i(!1)}},A=async()=>{try{const $=await js.getRoles();n($.data||[])}catch($){console.error("Failed to fetch roles:",$),n([])}},P=async()=>{if(m(""),!y.name.trim()){m("Name is required");return}if(!y.email.trim()){m("Email is required");return}if(!y.roleId){m("Role is required");return}if(!y.password.trim()){m("Password is required");return}if(y.password.length<6){m("Password must be at least 6 characters long");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.email)){m("Please enter a valid email address");return}try{l(!0);const L=await Tu.createUser(y);L.success&&L.data?(t([...e,L.data]),p(!1),k(),alert(L.message)):m(L.message)}catch(L){console.error("Failed to create user:",L),m("Failed to create user. Please try again.")}finally{l(!1)}},T=async()=>{if(m(""),!y.name.trim()){m("Name is required");return}if(!y.email.trim()){m("Email is required");return}if(!y.roleId){m("Role is required");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y.email)){m("Please enter a valid email address");return}if(w)try{u(!0);const L=await Tu.updateUser(w.id,y);L.success&&L.data?(t(e.map(D=>D.id===w.id?L.data:D)),b(!1),k(),alert("User updated successfully!")):m(L.message)}catch(L){console.error("Failed to update user:",L),m("Failed to update user. Please try again.")}finally{u(!1)}},E=async $=>{if(window.confirm("Are you sure you want to delete this user?"))try{(await Tu.deleteUser($)).success&&t(e.filter(D=>D.id!==$))}catch(L){console.error("Failed to delete user:",L)}},C=$=>{j($),N({name:$.name,email:$.email,password:"",roleId:$.roleId,jurisdiction:$.jurisdiction||"",zone:$.zone||"",region:$.region||"",district:$.district||"",employeeId:$.employeeId||"",phoneNumber:$.phoneNumber||""}),b(!0)},k=()=>{N({name:"",email:"",password:"",roleId:"",jurisdiction:"",zone:"",region:"",district:"",employeeId:"",phoneNumber:""}),j(null)},R=e.filter($=>$.name.toLowerCase().includes(f.toLowerCase())||$.email.toLowerCase().includes(f.toLowerCase())||$.role.name.toLowerCase().includes(f.toLowerCase()));return a.jsx(Ce,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"User Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage system users and their roles"})]}),a.jsxs(z,{onClick:()=>p(!0),className:"flex items-center space-x-2",children:[a.jsx(Fr,{className:"w-4 h-4"}),a.jsx("span",{children:"Add User"})]})]}),a.jsxs(U,{children:[a.jsxs("div",{className:"mb-6",children:[x&&a.jsx("div",{className:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-red-700 text-sm",children:x})}),a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(J,{placeholder:"Search users...",value:f,onChange:$=>d($.target.value),className:"pl-10"})]})]}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading users..."})]}):R.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Fr,{className:"w-8 h-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Users Found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:e.length===0?"No users exist in the system yet. Get started by creating your first user or initializing the database.":"No users match your search criteria."}),e.length===0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs(z,{onClick:()=>p(!0),className:"flex items-center space-x-2",children:[a.jsx(Fr,{className:"w-4 h-4"}),a.jsx("span",{children:"Create First User"})]}),a.jsxs("p",{className:"text-sm text-gray-500",children:["Or go to the ",a.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-700",children:"login page"})," to initialize the database"]})]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Role"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Jurisdiction"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Created"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:R.map($=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:$.name}),a.jsx("p",{className:"text-sm text-gray-500",children:$.email})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:$.role.name})}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:$.jurisdiction||"N/A"}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("span",{className:`inline-flex items-center space-x-1 ${$.isActive?"text-green-600":"text-red-600"}`,children:[$.isActive?a.jsx(Gi,{className:"w-4 h-4"}):a.jsx(e5,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:$.isActive?"Active":"Inactive"})]})}),a.jsx("td",{className:"py-3 px-4 text-gray-500 text-sm",children:Ar($.createdAt)}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>C($),className:"p-1 text-blue-600 hover:text-blue-700",title:"Edit User",children:a.jsx(Ta,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>E($.id),className:"p-1 text-red-600 hover:text-red-700",children:a.jsx($i,{className:"w-4 h-4"})})]})})]},$.id))})]})})]}),a.jsx(Ne,{isOpen:h,onClose:()=>{p(!1),k()},title:"Create New User",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Full Name *",value:y.name,onChange:$=>{N({...y,name:$.target.value}),_.name&&g({..._,name:""})},placeholder:"Enter full name",error:_.name}),a.jsx(J,{label:"Email Address *",type:"email",value:y.email,onChange:$=>{N({...y,email:$.target.value}),_.email&&g({..._,email:""})},placeholder:"Enter email address",error:_.email})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Password *",type:"password",value:y.password,onChange:$=>{N({...y,password:$.target.value}),_.password&&g({..._,password:""})},placeholder:"Enter password (min 6 characters)",error:_.password}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password Strength"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[y.password.length===0&&a.jsx("span",{className:"text-gray-400",children:"Enter a password"}),y.password.length>0&&y.password.length<6&&a.jsx("span",{className:"text-red-600",children:"Too short"}),y.password.length>=6&&y.password.length<8&&a.jsx("span",{className:"text-yellow-600",children:"Weak"}),y.password.length>=8&&!/[A-Z]/.test(y.password)&&a.jsx("span",{className:"text-yellow-600",children:"Add uppercase"}),y.password.length>=8&&/[A-Z]/.test(y.password)&&!/\d/.test(y.password)&&a.jsx("span",{className:"text-blue-600",children:"Add number"}),y.password.length>=8&&/[A-Z]/.test(y.password)&&/\d/.test(y.password)&&a.jsx("span",{className:"text-green-600",children:"Strong"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),a.jsxs("select",{value:y.roleId,onChange:$=>{N({...y,roleId:$.target.value}),_.roleId&&g({..._,roleId:""})},className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${_.roleId?"border-red-300":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select role"}),r.map($=>a.jsxs("option",{value:$.id,children:[$.name," (Level ",$.level,")"]},$.id))]}),_.roleId&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:_.roleId})]}),a.jsx(J,{label:"Employee ID",value:y.employeeId,onChange:$=>N({...y,employeeId:$.target.value}),placeholder:"Enter employee ID"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Phone Number",value:y.phoneNumber,onChange:$=>N({...y,phoneNumber:$.target.value}),placeholder:"Enter phone number"}),a.jsx(J,{label:"Jurisdiction",value:y.jurisdiction,onChange:$=>N({...y,jurisdiction:$.target.value}),placeholder:"Enter jurisdiction"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(J,{label:"Zone",value:y.zone,onChange:$=>N({...y,zone:$.target.value}),placeholder:"e.g., North Zone, South Zone"}),a.jsx(J,{label:"Region",value:y.region,onChange:$=>N({...y,region:$.target.value}),placeholder:"e.g., Delhi Region, Mumbai Region"}),a.jsx(J,{label:"District",value:y.district,onChange:$=>N({...y,district:$.target.value}),placeholder:"Enter district"})]}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:"Survey Assignment"}),a.jsx("p",{className:"text-sm text-yellow-800 mb-2",children:"To ensure the user can access tests, make sure their Zone and Region match the survey assignments:"}),a.jsxs("div",{className:"text-xs text-yellow-700 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Available Zones:"})," North Zone, South Zone, East Zone"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Available Regions:"})," Delhi Region, Mumbai Region, Kolkata Region"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Note:"})," Users without zone/region assignments can access all surveys"]})]})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Login Credentials"}),a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Password:"})," ",y.password||"Enter password above"," (user should change on first login)"]}),a.jsx("p",{className:"text-xs text-blue-700 mt-1",children:"The user will receive their login credentials and should change the password immediately."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{p(!1),k()},disabled:o,children:"Cancel"}),a.jsx(z,{onClick:P,loading:o,disabled:o,children:o?"Creating User...":"Create User"})]})]})}),a.jsx(Ne,{isOpen:v,onClose:()=>{b(!1),k()},title:"Edit User",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Full Name *",value:y.name,onChange:$=>{N({...y,name:$.target.value}),_.name&&g({..._,name:""})},placeholder:"Enter full name",error:_.name}),a.jsx(J,{label:"Email Address *",type:"email",value:y.email,onChange:$=>{N({...y,email:$.target.value}),_.email&&g({..._,email:""})},placeholder:"Enter email address",error:_.email})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(J,{label:"New Password (leave empty to keep current)",type:"password",value:y.password,onChange:$=>{N({...y,password:$.target.value}),_.password&&g({..._,password:""})},placeholder:"Enter new password (optional)",error:_.password}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password Strength"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[y.password.length===0&&a.jsx("span",{className:"text-gray-400",children:"Password unchanged"}),y.password.length>0&&y.password.length<6&&a.jsx("span",{className:"text-red-600",children:"Too short"}),y.password.length>=6&&y.password.length<8&&a.jsx("span",{className:"text-yellow-600",children:"Weak"}),y.password.length>=8&&!/[A-Z]/.test(y.password)&&a.jsx("span",{className:"text-yellow-600",children:"Add uppercase"}),y.password.length>=8&&/[A-Z]/.test(y.password)&&!/\d/.test(y.password)&&a.jsx("span",{className:"text-blue-600",children:"Add number"}),y.password.length>=8&&/[A-Z]/.test(y.password)&&/\d/.test(y.password)&&a.jsx("span",{className:"text-green-600",children:"Strong"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role *"}),a.jsxs("select",{value:y.roleId,onChange:$=>{N({...y,roleId:$.target.value}),_.roleId&&g({..._,roleId:""})},className:`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 ${_.roleId?"border-red-300":"border-gray-300"}`,children:[a.jsx("option",{value:"",children:"Select role"}),r.map($=>a.jsxs("option",{value:$.id,children:[$.name," (Level ",$.level,")"]},$.id))]}),_.roleId&&a.jsx("p",{className:"text-sm text-red-600 mt-1",children:_.roleId})]}),a.jsx(J,{label:"Employee ID",value:y.employeeId,onChange:$=>N({...y,employeeId:$.target.value}),placeholder:"Enter employee ID"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Phone Number",value:y.phoneNumber,onChange:$=>N({...y,phoneNumber:$.target.value}),placeholder:"Enter phone number"}),a.jsx(J,{label:"Jurisdiction",value:y.jurisdiction,onChange:$=>N({...y,jurisdiction:$.target.value}),placeholder:"Enter jurisdiction"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(J,{label:"Zone",value:y.zone,onChange:$=>N({...y,zone:$.target.value}),placeholder:"e.g., North Zone, South Zone"}),a.jsx(J,{label:"Region",value:y.region,onChange:$=>N({...y,region:$.target.value}),placeholder:"e.g., Delhi Region, Mumbai Region"}),a.jsx(J,{label:"District",value:y.district,onChange:$=>N({...y,district:$.target.value}),placeholder:"Enter district"})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Edit User Information"}),a.jsx("p",{className:"text-sm text-blue-800",children:"Update user details as needed. Leave password field empty to keep the current password unchanged."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{b(!1),k()},disabled:c,children:"Cancel"}),a.jsx(z,{onClick:T,loading:c,disabled:c,children:c?"Updating User...":"Update User"})]})]})})]})})}function Mae(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,i]=O.useState(!0),[o,l]=O.useState(""),[c,u]=O.useState(!1),[f,d]=O.useState(!1),[h,p]=O.useState(null),[v,b]=O.useState({name:"",description:""});O.useEffect(()=>{w(),j()},[]);const w=async()=>{try{i(!0);const S=await js.getRoles();t(S.data||[])}catch(S){console.error("Failed to fetch roles:",S),t([])}finally{i(!1)}},j=async()=>{try{const S=await js.getPermissions();n(S.data)}catch(S){console.error("Failed to fetch permissions:",S)}},x=async()=>{try{const S=await js.createRole(v);S.success&&S.data&&(t([...e,S.data]),u(!1),y())}catch(S){console.error("Failed to create role:",S)}},m=async()=>{if(h)try{const S=await js.updateRole(h.id,v);S.success&&S.data&&(t(e.map(A=>A.id===h.id?S.data:A)),d(!1),y())}catch(S){console.error("Failed to update role:",S)}},_=async S=>{if(window.confirm("Are you sure you want to delete this role? This action cannot be undone."))try{(await js.deleteRole(S)).success&&t(e.filter(P=>P.id!==S))}catch(A){console.error("Failed to delete role:",A)}},g=S=>{p(S),b({name:S.name,description:S.description}),d(!0)},y=()=>{b({name:"",description:""}),p(null)},N=e.filter(S=>S.name.toLowerCase().includes(o.toLowerCase())||S.description.toLowerCase().includes(o.toLowerCase()));return r.reduce((S,A)=>(S[A.module]||(S[A.module]=[]),S[A.module].push(A),S),{}),a.jsx(Ce,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Role Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage system roles and permissions"})]}),a.jsxs(z,{onClick:()=>u(!0),className:"flex items-center space-x-2",children:[a.jsx(Fr,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Role"})]})]}),a.jsxs(U,{children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(J,{placeholder:"Search roles...",value:o,onChange:S=>l(S.target.value),className:"pl-10"})]})}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading roles..."})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:N.map(S=>a.jsxs(U,{className:"hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(ka,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.name}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:S.isActive?"Active":"Inactive"})]})]}),a.jsxs("div",{className:"text-sm text-gray-500",children:["Role Level: ",S.level," | Users: ",S.userCount||0]})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4 line-clamp-2",children:S.description}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(fn,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:[S.userCount||0," users assigned"]})]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[a.jsx(Jc,{className:"w-4 h-4 mr-2"}),a.jsxs("span",{children:["Level ",S.level]})]})]}),a.jsxs("div",{className:"text-xs text-gray-500 mb-4",children:["Created: ",Ar(S.createdAt)]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm text-gray-500",children:["Created: ",Ar(S.createdAt).split(",")[0]]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>g(S),className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(Ta,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>_(S.id),className:"p-1 text-red-600 hover:text-red-700",children:a.jsx($i,{className:"w-4 h-4"})})]})]})]},S.id))})]}),a.jsx(Ne,{isOpen:c,onClose:()=>{u(!1),y()},title:"Create New Role",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Role Name",value:v.name,onChange:S=>b({...v,name:S.target.value}),placeholder:"Enter role name"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:v.description,onChange:S=>b({...v,description:S.target.value}),placeholder:"Enter role description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{u(!1),y()},children:"Cancel"}),a.jsx(z,{onClick:x,children:"Create Role"})]})]})}),a.jsx(Ne,{isOpen:f,onClose:()=>{d(!1),y()},title:"Edit Role",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Role Name",value:v.name,onChange:S=>b({...v,name:S.target.value}),placeholder:"Enter role name"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:v.description,onChange:S=>b({...v,description:S.target.value}),placeholder:"Enter role description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{d(!1),y()},children:"Cancel"}),a.jsx(z,{onClick:m,children:"Update Role"})]})]})})]})})}function Dae(){const{user:e}=Gs(),[t,r]=O.useState([]),[n,s]=O.useState(!0),[i,o]=O.useState(""),[l,c]=O.useState(!1),[u,f]=O.useState(!1),[d,h]=O.useState(null),[p,v]=O.useState({title:"",description:"",targetDate:"",duration:35,totalQuestions:30,passingScore:70,maxAttempts:3,assignedZones:[],assignedRegions:[]}),b=["North Zone","South Zone","East Zone","West Zone","Central Zone"],w=["Delhi Region","Mumbai Region","Kolkata Region","Chennai Region","Bangalore Region","Hyderabad Region"];O.useEffect(()=>{j()},[]);const j=async()=>{try{s(!0);const E=await Dr.getSurveys();r(E.data||[])}catch(E){console.error("Failed to fetch surveys:",E),r([])}finally{s(!1)}},x=async()=>{if(!p.title||!p.description||!p.targetDate){alert("Please fill in all required fields");return}try{const E=await Dr.createSurvey({...p,targetDate:new Date(p.targetDate),createdBy:(e==null?void 0:e.id)||"550e8400-e29b-41d4-a716-446655440010",assignedZones:p.assignedZones,assignedRegions:p.assignedRegions});E.success&&E.data?(r([...t,E.data]),c(!1),S(),alert("Survey created successfully!")):alert(`Failed to create survey: ${E.message}`)}catch(E){console.error("Failed to create survey:",E),alert("Failed to create survey. Please try again.")}},m=async()=>{if(d){if(!p.title||!p.description||!p.targetDate){alert("Please fill in all required fields");return}try{const E=await Dr.updateSurvey(d.id,{...p,targetDate:new Date(p.targetDate),assignedZones:p.assignedZones,assignedRegions:p.assignedRegions});E.success&&E.data?(r(t.map(C=>C.id===d.id?E.data:C)),f(!1),S(),alert("Survey updated successfully!")):alert(`Failed to update survey: ${E.message}`)}catch(E){console.error("Failed to update survey:",E),alert("Failed to update survey. Please try again.")}}},_=async(E,C)=>{if(C.stopPropagation(),window.confirm("Are you sure you want to delete this survey? This will also delete all associated questions and results. This action cannot be undone."))try{const k=await Dr.deleteSurvey(E);k.success?(r(t.filter(R=>R.id!==E)),alert("Survey deleted successfully!")):alert(`Failed to delete survey: ${k.message}`)}catch(k){console.error("Failed to delete survey:",k),alert("Failed to delete survey. Please try again.")}},g=async(E,C)=>{C.stopPropagation();const k=t.find(R=>R.id===E);if(k)try{const R=await Dr.updateSurvey(E,{...k,isActive:!k.isActive});R.success&&R.data?(r(t.map($=>$.id===E?{...$,isActive:!$.isActive}:$)),alert(`Survey ${k.isActive?"deactivated":"activated"} successfully!`)):alert(`Failed to update survey status: ${R.message}`)}catch(R){console.error("Failed to toggle survey status:",R),alert("Failed to update survey status. Please try again.")}},y=async(E,C)=>{C.stopPropagation();try{const k={title:`${E.title} (Copy)`,description:E.description,targetDate:E.targetDate,duration:E.duration,totalQuestions:E.totalQuestions,passingScore:E.passingScore,maxAttempts:E.maxAttempts,createdBy:(e==null?void 0:e.id)||"550e8400-e29b-41d4-a716-446655440010"},R=await Dr.createSurvey(k);R.success&&R.data?(r([...t,R.data]),alert("Survey duplicated successfully!")):alert(`Failed to duplicate survey: ${R.message}`)}catch(k){console.error("Failed to duplicate survey:",k),alert("Failed to duplicate survey. Please try again.")}},N=(E,C)=>{C.stopPropagation();const k=new Date(E.targetDate),R=isNaN(k.getTime())?"":k.toISOString().split("T")[0];h(E),v({title:E.title,description:E.description,targetDate:R,duration:E.duration,totalQuestions:E.totalQuestions,passingScore:E.passingScore,maxAttempts:E.maxAttempts,assignedZones:E.assignedZones||[],assignedRegions:E.assignedRegions||[]}),f(!0)},S=()=>{v({title:"",description:"",targetDate:"",duration:35,totalQuestions:30,passingScore:70,maxAttempts:3,assignedZones:[],assignedRegions:[]}),h(null)},A=(E,C)=>{v(k=>({...k,assignedZones:C?[...k.assignedZones,E]:k.assignedZones.filter(R=>R!==E)}))},P=(E,C)=>{v(k=>({...k,assignedRegions:C?[...k.assignedRegions,E]:k.assignedRegions.filter(R=>R!==E)}))},T=t.filter(E=>E.title.toLowerCase().includes(i.toLowerCase())||E.description.toLowerCase().includes(i.toLowerCase()));return a.jsx(Ce,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Question Area"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Create and manage your surveys and assessments"})]}),a.jsxs(z,{onClick:()=>c(!0),className:"flex items-center space-x-2",children:[a.jsx(Fr,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Survey"})]})]}),a.jsxs(U,{children:[a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(J,{placeholder:"Search surveys...",value:i,onChange:E=>o(E.target.value),className:"pl-10"})]})}),n?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading surveys..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Area"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Questions"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Duration"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Target Date"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Pass Score"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:T.map(E=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:E.title}),a.jsx("p",{className:"text-sm text-gray-500 line-clamp-1",children:E.description})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${E.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:E.isActive?"Active":"Inactive"})}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:E.totalQuestions}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:Ls(E.duration)}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:Me(E.targetDate)}),a.jsxs("td",{className:"py-3 px-4 text-gray-900",children:[E.passingScore,"%"]}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:C=>N(E,C),className:"p-1.5 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Survey",children:a.jsx(Ta,{className:"w-4 h-4"})}),a.jsx("button",{onClick:C=>y(E,C),className:"p-1.5 text-green-600 hover:text-green-700 hover:bg-green-50 rounded-md transition-colors",title:"Duplicate Survey",children:a.jsx(B3,{className:"w-4 h-4"})}),a.jsx("button",{onClick:C=>g(E.id,C),className:`p-1.5 hover:bg-gray-50 rounded-md transition-colors ${E.isActive?"text-orange-600 hover:text-orange-700":"text-green-600 hover:text-green-700"}`,title:E.isActive?"Deactivate Survey":"Activate Survey",children:E.isActive?a.jsx(J3,{className:"w-4 h-4"}):a.jsx(Z3,{className:"w-4 h-4"})}),a.jsx("button",{onClick:C=>{C.stopPropagation(),console.log("View details for survey:",E.id)},className:"p-1.5 text-gray-600 hover:text-gray-700 hover:bg-gray-50 rounded-md transition-colors",title:"View Details",children:a.jsx(Je,{className:"w-4 h-4"})}),a.jsx("button",{onClick:C=>_(E.id,C),className:"p-1.5 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md transition-colors",title:"Delete Survey",children:a.jsx($i,{className:"w-4 h-4"})})]})})]},E.id))})]})}),T.length===0&&!n&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Vt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Surveys Found"}),a.jsx("p",{className:"text-gray-500 mb-4",children:i?"No surveys match your search criteria.":"Get started by creating your first survey."}),!i&&a.jsxs(z,{onClick:()=>c(!0),className:"flex items-center space-x-2",children:[a.jsx(Fr,{className:"w-4 h-4"}),a.jsx("span",{children:"Create Survey"})]})]})]}),a.jsx(Ne,{isOpen:l,onClose:()=>{c(!1),S()},title:"Create New Survey",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(J,{label:"Survey Title",value:p.title,onChange:E=>v({...p,title:E.target.value}),placeholder:"Enter survey title"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:p.description,onChange:E=>v({...p,description:E.target.value}),placeholder:"Enter survey description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(J,{label:"Target Date",type:"date",value:p.targetDate,onChange:E=>v({...p,targetDate:E.target.value})}),a.jsx(J,{label:"Duration (minutes)",type:"number",value:p.duration,onChange:E=>v({...p,duration:parseInt(E.target.value)}),min:"1"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(J,{label:"Total Questions",type:"number",value:p.totalQuestions,onChange:E=>v({...p,totalQuestions:parseInt(E.target.value)}),min:"1"}),a.jsx(J,{label:"Passing Score (%)",type:"number",value:p.passingScore,onChange:E=>v({...p,passingScore:parseInt(E.target.value)}),min:"1",max:"100"}),a.jsx(J,{label:"Max Attempts",type:"number",value:p.maxAttempts,onChange:E=>v({...p,maxAttempts:parseInt(E.target.value)}),min:"1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Zones"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 p-3 border border-gray-300 rounded-md max-h-32 overflow-y-auto",children:b.map(E=>a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:p.assignedZones.includes(E),onChange:C=>A(E,C.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:E})]},E))}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to make available to all zones"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Regions"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 p-3 border border-gray-300 rounded-md max-h-32 overflow-y-auto",children:w.map(E=>a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:p.assignedRegions.includes(E),onChange:C=>P(E,C.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:E})]},E))}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to make available to all regions"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{c(!1),S()},children:"Cancel"}),a.jsx(z,{onClick:x,children:"Create Survey"})]})]})}),a.jsx(Ne,{isOpen:u,onClose:()=>{f(!1),S()},title:"Edit Survey",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(J,{label:"Survey Title",value:p.title,onChange:E=>v({...p,title:E.target.value}),placeholder:"Enter survey title"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("textarea",{value:p.description,onChange:E=>v({...p,description:E.target.value}),placeholder:"Enter survey description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(J,{label:"Target Date",type:"date",value:p.targetDate,onChange:E=>v({...p,targetDate:E.target.value})}),a.jsx(J,{label:"Duration (minutes)",type:"number",value:p.duration,onChange:E=>v({...p,duration:parseInt(E.target.value)}),min:"1"})]}),a.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[a.jsx(J,{label:"Total Questions",type:"number",value:p.totalQuestions,onChange:E=>v({...p,totalQuestions:parseInt(E.target.value)}),min:"1"}),a.jsx(J,{label:"Passing Score (%)",type:"number",value:p.passingScore,onChange:E=>v({...p,passingScore:parseInt(E.target.value)}),min:"1",max:"100"}),a.jsx(J,{label:"Max Attempts",type:"number",value:p.maxAttempts,onChange:E=>v({...p,maxAttempts:parseInt(E.target.value)}),min:"1"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Zones"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 p-3 border border-gray-300 rounded-md max-h-32 overflow-y-auto",children:b.map(E=>a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:p.assignedZones.includes(E),onChange:C=>A(E,C.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:E})]},E))}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to make available to all zones"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assigned Regions"}),a.jsx("div",{className:"grid grid-cols-2 gap-2 p-3 border border-gray-300 rounded-md max-h-32 overflow-y-auto",children:w.map(E=>a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:p.assignedRegions.includes(E),onChange:C=>P(E,C.target.checked),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:E})]},E))}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty to make available to all regions"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>{f(!1),S()},children:"Cancel"}),a.jsx(z,{onClick:m,children:"Update Survey"})]})]})})]})})}function Lae(){const[e,t]=O.useState([]),[r,n]=O.useState([]),[s,i]=O.useState([]),[o,l]=O.useState(""),[c,u]=O.useState(""),[f,d]=O.useState(!0),[h,p]=O.useState(""),[v,b]=O.useState(!1),[w,j]=O.useState(!1),[x,m]=O.useState(!1),[_,g]=O.useState(!1),[y,N]=O.useState(!1),[S,A]=O.useState(null),[P,T]=O.useState(null),[E,C]=O.useState({title:"",description:"",questionsCount:10,sectionOrder:1}),[k,R]=O.useState({text:"",type:"single_choice",complexity:"medium",points:1,explanation:"",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1}]});O.useEffect(()=>{$()},[]),O.useEffect(()=>{o?L():(i([]),u(""),t([]))},[o]),O.useEffect(()=>{c?D():t([])},[c]);const $=async()=>{try{d(!0);const M=await Dr.getSurveys();n(M.data||[])}catch(M){console.error("Failed to fetch surveys:",M)}finally{d(!1)}},L=async()=>{try{if(!o)return;const M=await Dr.getSurveySections(o);M.success&&M.data&&i(M.data)}catch(M){console.error("Failed to fetch sections:",M)}},D=async()=>{try{if(!c)return;d(!0);const M=await vl.getQuestions(c);M.success&&M.data&&t(M.data)}catch(M){console.error("Failed to fetch questions:",M)}finally{d(!1)}},F=async()=>{if(!c){alert("Please select a section first");return}if(!k.text.trim()){alert("Question text is required");return}const M=k.options.filter(ne=>ne.text.trim());if(M.length<2){alert("At least 2 options are required");return}if(M.filter(ne=>ne.isCorrect).length===0){alert("At least one correct option is required");return}try{const ne=await vl.createQuestion({sectionId:c,text:k.text,type:k.type,complexity:k.complexity,points:k.points,explanation:k.explanation,options:M});ne.success&&ne.data?(t([...e,ne.data]),b(!1),Z(),alert("Question created successfully!")):alert(`Failed to create question: ${ne.message}`)}catch(ne){console.error("Failed to create question:",ne),alert("Failed to create question. Please try again.")}},W=async()=>{if(!S)return;if(!k.text.trim()){alert("Question text is required");return}const M=k.options.filter(ne=>ne.text.trim());if(M.length<2){alert("At least 2 options are required");return}if(M.filter(ne=>ne.isCorrect).length===0){alert("At least one correct option is required");return}try{const ne=await vl.updateQuestion(S.id,{text:k.text,type:k.type,complexity:k.complexity,points:k.points,explanation:k.explanation,options:M});ne.success&&ne.data?(t(e.map(Ve=>Ve.id===S.id?ne.data:Ve)),j(!1),Z(),alert("Question updated successfully!")):alert(`Failed to update question: ${ne.message}`)}catch(ne){console.error("Failed to update question:",ne),alert("Failed to update question. Please try again.")}},G=async M=>{if(window.confirm("Are you sure you want to delete this question? This action cannot be undone."))try{const re=await vl.deleteQuestion(M);re.success?(t(e.filter(ne=>ne.id!==M)),alert("Question deleted successfully!")):alert(`Failed to delete question: ${re.message}`)}catch(re){console.error("Failed to delete question:",re),alert("Failed to delete question. Please try again.")}},K=M=>{A(M),R({text:M.text,type:M.type,complexity:M.complexity,points:M.points,explanation:M.explanation||"",options:M.options.length>0?M.options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1}]}),j(!0)},Z=()=>{R({text:"",type:"single_choice",complexity:"medium",points:1,explanation:"",options:[{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1},{text:"",isCorrect:!1}]}),A(null)},de=(M,re,ne)=>{const Ve=[...k.options];Ve[M]={...Ve[M],[re]:ne},re==="isCorrect"&&ne===!0&&k.type==="single_choice"&&Ve.forEach((ir,et)=>{et!==M&&(ir.isCorrect=!1)}),R({...k,options:Ve})},ke=()=>{R({...k,options:[...k.options,{text:"",isCorrect:!1}]})},Le=M=>{if(k.options.length>2){const re=k.options.filter((ne,Ve)=>Ve!==M);R({...k,options:re})}},lt=()=>{C({title:"",description:"",questionsCount:10,sectionOrder:1}),T(null)},Nt=async()=>{if(!o){alert("Please select a survey first");return}if(!E.title.trim()){alert("Section title is required");return}try{const M=await Dr.createSection({surveyId:o,title:E.title,description:E.description,questionsCount:E.questionsCount,sectionOrder:E.sectionOrder});M.success&&M.data?(i([...s,M.data]),g(!1),lt(),alert("Section created successfully!")):alert(`Failed to create section: ${M.message}`)}catch(M){console.error("Failed to create section:",M),alert("Failed to create section. Please try again.")}},X=async()=>{if(P){if(!E.title.trim()){alert("Section title is required");return}try{const M=await Dr.updateSection(P.id,{title:E.title,description:E.description,questionsCount:E.questionsCount,sectionOrder:E.sectionOrder});M.success&&M.data?(i(s.map(re=>re.id===P.id?M.data:re)),N(!1),lt(),alert("Section updated successfully!")):alert(`Failed to update section: ${M.message}`)}catch(M){console.error("Failed to update section:",M),alert("Failed to update section. Please try again.")}}},ce=async M=>{if(window.confirm("Are you sure you want to delete this section? This will also delete all questions in this section. This action cannot be undone."))try{const re=await Dr.deleteSection(M);re.success?(i(s.filter(ne=>ne.id!==M)),c===M&&(u(""),t([])),alert("Section deleted successfully!")):alert(`Failed to delete section: ${re.message}`)}catch(re){console.error("Failed to delete section:",re),alert("Failed to delete section. Please try again.")}},he=M=>{T(M),C({title:M.title,description:M.description||"",questionsCount:M.questions_count,sectionOrder:M.section_order}),N(!0)},q=e.filter(M=>M.text.toLowerCase().includes(h.toLowerCase())),je=r.find(M=>M.id===o),ge=s.find(M=>M.id===c);return a.jsx(Ce,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Question Bank"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage questions for your surveys"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(z,{variant:"secondary",onClick:()=>g(!0),className:"flex items-center space-x-2",disabled:!o,children:[a.jsx(Fr,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Section"})]}),a.jsxs(z,{variant:"secondary",onClick:()=>m(!0),className:"flex items-center space-x-2",disabled:!c,children:[a.jsx(c4,{className:"w-4 h-4"}),a.jsx("span",{children:"Bulk Upload"})]}),a.jsxs(z,{onClick:()=>b(!0),className:"flex items-center space-x-2",disabled:!c,children:[a.jsx(Fr,{className:"w-4 h-4"}),a.jsx("span",{children:"Add Question"})]})]})]}),a.jsxs(U,{className:"mb-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Survey"}),a.jsxs("select",{value:o,onChange:M=>l(M.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Choose a survey..."}),r.map(M=>a.jsx("option",{value:M.id,children:M.title},M.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Select Section"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("select",{value:c,onChange:M=>u(M.target.value),disabled:!o,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 disabled:bg-gray-100",children:[a.jsx("option",{value:"",children:"Choose a section..."}),s.map(M=>a.jsxs("option",{value:M.id,children:[M.title," (",M.questions_count," questions)"]},M.id))]}),c&&a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>{const M=s.find(re=>re.id===c);M&&he(M)},className:"flex items-center space-x-1",children:[a.jsx(Ta,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit"})]})]})]})]}),je&&a.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:[a.jsx("h3",{className:"font-medium text-blue-900 mb-2",children:je.title}),a.jsx("p",{className:"text-sm text-blue-800 mb-2",children:je.description}),a.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Kr,{className:"w-4 h-4 text-blue-600"}),a.jsxs("span",{children:["Pass: ",je.passingScore,"%"]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Ht,{className:"w-4 h-4 text-blue-600"}),a.jsxs("span",{children:["Duration: ",je.duration,"m"]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Vt,{className:"w-4 h-4 text-blue-600"}),a.jsxs("span",{children:["Questions: ",je.totalQuestions]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(Md,{className:"w-4 h-4 text-blue-600"}),a.jsxs("span",{children:["Sections: ",s.length]})]})]})]}),ge&&a.jsxs("div",{className:"mt-4 p-4 bg-green-50 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-green-900 mb-1",children:ge.title}),a.jsx("p",{className:"text-sm text-green-800",children:ge.description}),a.jsxs("p",{className:"text-xs text-green-700 mt-1",children:["Target Questions: ",ge.questions_count," | Current Questions: ",e.length]})]})]}),a.jsx(U,{children:c?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(J,{placeholder:"Search questions...",value:h,onChange:M=>p(M.target.value),className:"pl-10 w-64"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("span",{className:"text-sm text-gray-600",children:[e.length," question",e.length!==1?"s":""," in this section"]})})]}),f?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading questions..."})]}):q.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Vt,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:h?"No Questions Found":"No Questions in This Section"}),a.jsx("p",{className:"text-gray-500 mb-4",children:h?"No questions match your search criteria.":"Get started by adding your first question to this section."}),!h&&a.jsxs(z,{onClick:()=>b(!0),className:"flex items-center space-x-2",children:[a.jsx(Fr,{className:"w-4 h-4"}),a.jsx("span",{children:"Add First Question"})]})]}):a.jsx("div",{className:"space-y-4",children:q.map((M,re)=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:["Question ",re+1]}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${M.type==="single_choice"?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"}`,children:M.type==="single_choice"?"Single Choice":"Multiple Choice"}),a.jsx("span",{className:`px-2 py-1 text-xs font-medium rounded-full ${M.complexity==="easy"?"bg-green-100 text-green-800":M.complexity==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:M.complexity.charAt(0).toUpperCase()+M.complexity.slice(1)}),a.jsxs("span",{className:"text-xs text-gray-500",children:[M.points," point",M.points!==1?"s":""]})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:M.text}),a.jsx("div",{className:"space-y-2",children:M.options.map((ne,Ve)=>a.jsxs("div",{className:`flex items-center space-x-2 p-2 rounded ${ne.isCorrect?"bg-green-50 border border-green-200":"bg-gray-50"}`,children:[a.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs font-medium ${ne.isCorrect?"bg-green-600 text-white":"bg-gray-300 text-gray-600"}`,children:String.fromCharCode(65+Ve)}),a.jsx("span",{className:"text-gray-900",children:ne.text}),ne.isCorrect&&a.jsx("span",{className:"text-xs text-green-600 font-medium",children:"✓ Correct"})]},Ve))}),M.explanation&&a.jsx("div",{className:"mt-3 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Explanation:"})," ",M.explanation]})})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>K(M),className:"p-2 text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-md transition-colors",title:"Edit Question",children:a.jsx(Ta,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>G(M.id),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 rounded-md transition-colors",title:"Delete Question",children:a.jsx($i,{className:"w-4 h-4"})})]})]})},M.id))})]}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Md,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Select Survey and Section"}),a.jsx("p",{className:"text-gray-500",children:"Choose a survey and section to view and manage questions"})]})}),a.jsx(Ne,{isOpen:v,onClose:()=>{b(!1),Z()},title:"Create New Question",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Text"}),a.jsx("textarea",{value:k.text,onChange:M=>R({...k,text:M.target.value}),placeholder:"Enter your question...",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Type"}),a.jsxs("select",{value:k.type,onChange:M=>R({...k,type:M.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"single_choice",children:"Single Choice"}),a.jsx("option",{value:"multiple_choice",children:"Multiple Choice"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complexity"}),a.jsxs("select",{value:k.complexity,onChange:M=>R({...k,complexity:M.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Points"}),a.jsx("input",{type:"number",min:"1",value:k.points,onChange:M=>R({...k,points:parseInt(M.target.value)}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Answer Options"}),a.jsx("div",{className:"space-y-3",children:k.options.map((M,re)=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-sm font-medium",children:String.fromCharCode(65+re)}),a.jsx("input",{type:"text",value:M.text,onChange:ne=>de(re,"text",ne.target.value),placeholder:`Option ${String.fromCharCode(65+re)}`,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:k.type==="single_choice"?"radio":"checkbox",name:"correct-answer",checked:M.isCorrect,onChange:ne=>de(re,"isCorrect",ne.target.checked),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Correct"})]}),k.options.length>2&&a.jsx("button",{onClick:()=>Le(re),className:"p-1 text-red-600 hover:text-red-700",children:a.jsx($i,{className:"w-4 h-4"})})]},re))}),k.options.length<6&&a.jsxs(z,{variant:"secondary",size:"sm",onClick:ke,className:"mt-3",children:[a.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Add Option"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Explanation (Optional)"}),a.jsx("textarea",{value:k.explanation,onChange:M=>R({...k,explanation:M.target.value}),placeholder:"Provide an explanation for the correct answer...",rows:2,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{b(!1),Z()},children:"Cancel"}),a.jsx(z,{onClick:F,children:"Create Question"})]})]})}),a.jsx(Ne,{isOpen:w,onClose:()=>{j(!1),Z()},title:"Edit Question",size:"xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Text"}),a.jsx("textarea",{value:k.text,onChange:M=>R({...k,text:M.target.value}),placeholder:"Enter your question...",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Question Type"}),a.jsxs("select",{value:k.type,onChange:M=>R({...k,type:M.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"single_choice",children:"Single Choice"}),a.jsx("option",{value:"multiple_choice",children:"Multiple Choice"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Complexity"}),a.jsxs("select",{value:k.complexity,onChange:M=>R({...k,complexity:M.target.value}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"easy",children:"Easy"}),a.jsx("option",{value:"medium",children:"Medium"}),a.jsx("option",{value:"hard",children:"Hard"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Points"}),a.jsx("input",{type:"number",min:"1",value:k.points,onChange:M=>R({...k,points:parseInt(M.target.value)}),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Answer Options"}),a.jsx("div",{className:"space-y-3",children:k.options.map((M,re)=>a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("span",{className:"w-8 h-8 bg-gray-100 rounded-full flex items-center justify-center text-sm font-medium",children:String.fromCharCode(65+re)}),a.jsx("input",{type:"text",value:M.text,onChange:ne=>de(re,"text",ne.target.value),placeholder:`Option ${String.fromCharCode(65+re)}`,className:"flex-1 px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),a.jsxs("label",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:k.type==="single_choice"?"radio":"checkbox",name:"correct-answer",checked:M.isCorrect,onChange:ne=>de(re,"isCorrect",ne.target.checked),className:"rounded border-gray-300 text-green-600 focus:ring-green-500"}),a.jsx("span",{className:"text-sm text-gray-700",children:"Correct"})]}),k.options.length>2&&a.jsx("button",{onClick:()=>Le(re),className:"p-1 text-red-600 hover:text-red-700",children:a.jsx($i,{className:"w-4 h-4"})})]},re))}),k.options.length<6&&a.jsxs(z,{variant:"secondary",size:"sm",onClick:ke,className:"mt-3",children:[a.jsx(Fr,{className:"w-4 h-4 mr-2"}),"Add Option"]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Explanation (Optional)"}),a.jsx("textarea",{value:k.explanation,onChange:M=>R({...k,explanation:M.target.value}),placeholder:"Provide an explanation for the correct answer...",rows:2,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{j(!1),Z()},children:"Cancel"}),a.jsx(z,{onClick:W,children:"Update Question"})]})]})}),a.jsx(Ne,{isOpen:_,onClose:()=>{g(!1),lt()},title:"Create New Section",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(J,{label:"Section Title",value:E.title,onChange:M=>C({...E,title:M.target.value}),placeholder:"Enter section title"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:E.description,onChange:M=>C({...E,description:M.target.value}),placeholder:"Enter section description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(J,{label:"Target Questions Count",type:"number",min:"1",value:E.questionsCount,onChange:M=>C({...E,questionsCount:parseInt(M.target.value)}),placeholder:"Number of questions for this section"}),a.jsx(J,{label:"Section Order",type:"number",min:"1",value:E.sectionOrder,onChange:M=>C({...E,sectionOrder:parseInt(M.target.value)}),placeholder:"Display order of this section"})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Section Information"}),a.jsxs("p",{className:"text-sm text-blue-800",children:['This section will be part of "',je==null?void 0:je.title,'". The questions count determines how many questions will be randomly selected from this section during tests.']})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{g(!1),lt()},children:"Cancel"}),a.jsx(z,{onClick:Nt,children:"Create Section"})]})]})}),a.jsx(Ne,{isOpen:y,onClose:()=>{N(!1),lt()},title:"Edit Section",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(J,{label:"Section Title",value:E.title,onChange:M=>C({...E,title:M.target.value}),placeholder:"Enter section title"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),a.jsx("textarea",{value:E.description,onChange:M=>C({...E,description:M.target.value}),placeholder:"Enter section description",rows:3,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(J,{label:"Target Questions Count",type:"number",min:"1",value:E.questionsCount,onChange:M=>C({...E,questionsCount:parseInt(M.target.value)}),placeholder:"Number of questions for this section"}),a.jsx(J,{label:"Section Order",type:"number",min:"1",value:E.sectionOrder,onChange:M=>C({...E,sectionOrder:parseInt(M.target.value)}),placeholder:"Display order of this section"})]}),a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-yellow-900 mb-2",children:"Current Section Status"}),a.jsxs("div",{className:"text-sm text-yellow-800 space-y-1",children:[a.jsxs("p",{children:["Current Questions: ",e.length]}),a.jsxs("p",{children:["Target Questions: ",E.questionsCount]}),e.length!==E.questionsCount&&a.jsx("p",{className:"font-medium",children:e.length<E.questionsCount?`Need ${E.questionsCount-e.length} more questions`:`${e.length-E.questionsCount} questions above target`})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"danger",onClick:()=>{P&&(ce(P.id),N(!1),lt())},className:"mr-auto",children:"Delete Section"}),a.jsx(z,{variant:"secondary",onClick:()=>{N(!1),lt()},children:"Cancel"}),a.jsx(z,{onClick:X,children:"Update Section"})]})]})}),a.jsx(Ne,{isOpen:x,onClose:()=>m(!1),title:"Bulk Upload Questions",size:"lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"CSV Format Requirements"}),a.jsx("p",{className:"text-sm text-blue-800 mb-2",children:"Your CSV file should have the following columns:"}),a.jsx("div",{className:"text-xs text-blue-700 font-mono bg-blue-100 p-2 rounded",children:"Question,Type,Complexity,OptionA,OptionB,OptionC,OptionD,CorrectAnswer,Points,Explanation"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload CSV File"}),a.jsx("input",{type:"file",accept:".csv",className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>m(!1),children:"Cancel"}),a.jsx(z,{children:"Upload Questions"})]})]})})]})})}function Fae(){var y,N,S,A,P,T,E;const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(""),[c,u]=O.useState(null),[f,d]=O.useState(!1),[h,p]=O.useState(!1),[v,b]=O.useState({dateRange:{start:new Date(Date.now()-30*24*60*60*1e3),end:new Date}});O.useEffect(()=>{w(),j()},[v]);const w=async()=>{try{i(!0);const C=await Kp.getResults(v);t(C.data||[])}catch(C){console.error("Failed to fetch results:",C)}finally{i(!1)}},j=async()=>{try{const C=await Kp.getAnalytics(v);n(C.data)}catch(C){console.error("Failed to fetch analytics:",C)}},x=async()=>{try{const C=await Kp.exportResults(v),k=new Blob([C.data],{type:"text/csv"}),R=URL.createObjectURL(k),$=document.createElement("a");$.href=R,$.download=`results_${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild($),$.click(),document.body.removeChild($),URL.revokeObjectURL(R)}catch(C){console.error("Failed to export results:",C)}},m=C=>{u(C),d(!0)},_=e.filter(C=>{var k,R,$,L,D,F;return((R=(k=C.user)==null?void 0:k.name)==null?void 0:R.toLowerCase().includes(o.toLowerCase()))||!1||((L=($=C.survey)==null?void 0:$.title)==null?void 0:L.toLowerCase().includes(o.toLowerCase()))||!1||((F=(D=C.user)==null?void 0:D.email)==null?void 0:F.toLowerCase().includes(o.toLowerCase()))||!1}),g=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6"];return a.jsx(Ce,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Results & Analytics"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Comprehensive test results and performance analytics"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(z,{variant:"secondary",onClick:()=>p(!0),className:"flex items-center space-x-2",children:[a.jsx(Ca,{className:"w-4 h-4"}),a.jsx("span",{children:"Filters"})]}),a.jsxs(z,{onClick:x,className:"flex items-center space-x-2",children:[a.jsx(It,{className:"w-4 h-4"}),a.jsx("span",{children:"Download"})]})]})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Attempts"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:r.overview.totalAttempts})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(fn,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pass Rate"}),a.jsxs("p",{className:"text-3xl font-bold text-green-600",children:[r.overview.passRate.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Kr,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[r.overview.averageScore.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Ae,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Avg. Time"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:Ls(r.overview.averageTime)})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Ht,{className:"w-6 h-6 text-purple-600"})})]})})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(U,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance by Role"}),a.jsx("div",{className:"h-64",children:a.jsx(Mt,{width:"100%",height:"100%",children:a.jsxs(Ya,{data:r.performanceByRole,children:[a.jsx(Er,{strokeDasharray:"3 3"}),a.jsx(Gt,{dataKey:"name"}),a.jsx(Yt,{}),a.jsx(We,{formatter:C=>[`${C}%`,"Pass Rate"]}),a.jsx(Ct,{dataKey:"percentage",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]}),a.jsxs(U,{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance by Question Area"}),a.jsx("div",{className:"h-64",children:a.jsx(Mt,{width:"100%",height:"100%",children:a.jsxs(uu,{children:[a.jsx(kr,{data:r.performanceBySurvey,cx:"50%",cy:"50%",labelLine:!1,label:({name:C,percentage:k})=>`${C}: ${k}%`,outerRadius:80,fill:"#8884d8",dataKey:"percentage",children:r.performanceBySurvey.map((C,k)=>a.jsx(Qs,{fill:g[k%g.length]},`cell-${k}`))}),a.jsx(We,{})]})})})]})]}),r&&r.timeSeriesData.length>0&&a.jsxs(U,{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trends"}),a.jsx("div",{className:"h-64",children:a.jsx(Mt,{width:"100%",height:"100%",children:a.jsxs(cu,{data:r.timeSeriesData,children:[a.jsx(Er,{strokeDasharray:"3 3"}),a.jsx(Gt,{dataKey:"date"}),a.jsx(Yt,{}),a.jsx(We,{}),a.jsx(rr,{type:"monotone",dataKey:"attempts",stroke:"#3B82F6",name:"Attempts"}),a.jsx(rr,{type:"monotone",dataKey:"passed",stroke:"#10B981",name:"Passed"}),a.jsx(rr,{type:"monotone",dataKey:"averageScore",stroke:"#F59E0B",name:"Avg Score"})]})})})]}),r&&a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(U,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Top Performers"}),a.jsx($a,{className:"w-5 h-5 text-green-600"})]}),a.jsx("div",{className:"space-y-3",children:r.topPerformers.map((C,k)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-green-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:k+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:C.userName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[C.totalAttempts," attempts"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-green-600",children:[C.averageScore.toFixed(1),"%"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[C.passRate.toFixed(1),"% pass rate"]})]})]},C.userId))})]}),a.jsxs(U,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Needs Improvement"}),a.jsx(uv,{className:"w-5 h-5 text-red-600"})]}),a.jsx("div",{className:"space-y-3",children:r.lowPerformers.map((C,k)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-red-600 rounded-full flex items-center justify-center text-white font-bold text-sm",children:k+1}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:C.userName}),a.jsxs("p",{className:"text-sm text-gray-500",children:[C.totalAttempts," attempts"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-bold text-red-600",children:[C.averageScore.toFixed(1),"%"]}),a.jsxs("p",{className:"text-sm text-gray-500",children:[C.passRate.toFixed(1),"% pass rate"]})]})]},C.userId))})]})]}),a.jsxs(U,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Test Results"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(J,{placeholder:"Search results...",value:o,onChange:C=>l(C.target.value),className:"pl-10 w-64"})]})]}),s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading results..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Question Area"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Score"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Attempt"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Time Spent"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Completed"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:_.map(C=>{var k,R,$,L;return a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:C.user?a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:C.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:C.user.email})]}):a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-500",children:"Unknown User"}),a.jsx("p",{className:"text-sm text-gray-400",children:"No user data"})]})}),a.jsxs("td",{className:"py-3 px-4",children:[a.jsx("p",{className:"font-medium text-gray-900",children:((k=C.survey)==null?void 0:k.title)||"Unknown Survey"}),a.jsx("p",{className:"text-sm text-gray-500",children:(($=(R=C.user)==null?void 0:R.role)==null?void 0:$.name)||"Unknown Role"})]}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:`text-lg font-bold ${As(C.score)}`,children:[C.score,"%"]}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",C.correctAnswers,"/",C.totalQuestions,")"]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${C.isPassed?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.isPassed?"Passed":"Failed"})}),a.jsxs("td",{className:"py-3 px-4 text-gray-900",children:[C.attemptNumber,"/",((L=C.survey)==null?void 0:L.maxAttempts)||"N/A"]}),a.jsx("td",{className:"py-3 px-4 text-gray-900",children:Ls(Math.floor(C.timeSpent/60))}),a.jsx("td",{className:"py-3 px-4 text-gray-500 text-sm",children:Ar(C.completedAt)}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>m(C),className:"p-1 text-blue-600 hover:text-blue-700",children:a.jsx(Je,{className:"w-4 h-4"})}),C.certificateId&&a.jsx("button",{className:"p-1 text-green-600 hover:text-green-700",children:a.jsx(Ae,{className:"w-4 h-4"})})]})})]},C.id)})})]})})]}),a.jsx(Ne,{isOpen:f,onClose:()=>d(!1),title:"Test Result Details",size:"xl",children:c&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"User Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",((y=c.user)==null?void 0:y.name)||"Unknown"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",((N=c.user)==null?void 0:N.email)||"Unknown"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",((A=(S=c.user)==null?void 0:S.role)==null?void 0:A.name)||"Unknown"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",((P=c.user)==null?void 0:P.jurisdiction)||"N/A"]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Survey:"})," ",((T=c.survey)==null?void 0:T.title)||"Unknown"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempt:"})," ",c.attemptNumber,"/",((E=c.survey)==null?void 0:E.maxAttempts)||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Time Spent:"})," ",Ls(Math.floor(c.timeSpent/60))]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"})," ",Ar(c.completedAt)]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Overall Performance"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[c.score,"%"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Overall Score"})]}),a.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-green-600",children:c.correctAnswers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Correct Answers"})]}),a.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:c.totalQuestions-c.correctAnswers}),a.jsx("p",{className:"text-sm text-gray-600",children:"Incorrect Answers"})]}),a.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:c.grade||"N/A"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Grade"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Section-wise Performance"}),a.jsx("div",{className:"space-y-3",children:c.sectionScores.map(C=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("h5",{className:"font-medium text-gray-900",children:C.sectionTitle}),a.jsxs("span",{className:`font-bold ${As(C.score)}`,children:[C.score,"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-600",children:[a.jsxs("span",{children:[C.correctAnswers,"/",C.totalQuestions," correct"]}),a.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${C.score}%`}})})]})]},C.sectionId))})]})]})}),a.jsx(Ne,{isOpen:h,onClose:()=>p(!1),title:"Filter Results",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsx(J,{label:"Start Date",type:"date",value:v.dateRange.start.toISOString().split("T")[0],onChange:C=>b({...v,dateRange:{...v.dateRange,start:new Date(C.target.value)}})}),a.jsx(J,{label:"End Date",type:"date",value:v.dateRange.end.toISOString().split("T")[0],onChange:C=>b({...v,dateRange:{...v.dateRange,end:new Date(C.target.value)}})})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(z,{variant:"secondary",onClick:()=>p(!1),children:"Cancel"}),a.jsx(z,{onClick:()=>{p(!1),w(),j()},children:"Apply Filters"})]})]})})]})})}function Uae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(""),[o,l]=O.useState(null),[c,u]=O.useState(!1),[f,d]=O.useState("all");O.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const x=await M3.getEnumeratorStatus();t(x.data)}catch(x){console.error("Failed to fetch enumerator status:",x)}finally{n(!1)}},p=x=>{switch(x){case"completed":return a.jsx(mt,{className:"w-4 h-4 text-green-600"});case"in_progress":return a.jsx(Ht,{className:"w-4 h-4 text-yellow-600"});case"failed":return a.jsx(Fd,{className:"w-4 h-4 text-red-600"});case"expired":return a.jsx(Xt,{className:"w-4 h-4 text-orange-600"});default:return a.jsx(Ht,{className:"w-4 h-4 text-gray-600"})}},v=x=>{switch(x){case"completed":return"bg-green-100 text-green-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"failed":return"bg-red-100 text-red-800";case"expired":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},b=x=>{const m=x.surveys.length,_=x.surveys.filter(N=>N.status==="completed").length,g=x.surveys.filter(N=>N.status==="failed").length,y=x.surveys.filter(N=>N.status==="expired").length;return _===m?"excellent":g>0||y>0?"needs_attention":_>m/2?"good":"poor"},w=x=>{l(x),u(!0)},j=e.filter(x=>{const m=x.user.name.toLowerCase().includes(s.toLowerCase())||x.user.email.toLowerCase().includes(s.toLowerCase());if(f==="all")return m;const _=b(x);return m&&_===f});return a.jsx(Ce,{children:a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex items-center justify-between mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Candidate Status"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Track examination progress and performance of all candidates"})]})}),a.jsx(U,{className:"mb-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Candidates"}),a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(J,{placeholder:"Search enumerators...",value:s,onChange:x=>i(x.target.value),className:"pl-10 w-64"})]})]}),a.jsx("div",{children:a.jsxs("select",{value:f,onChange:x=>d(x.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"good",children:"Good"}),a.jsx("option",{value:"needs_attention",children:"Needs Attention"}),a.jsx("option",{value:"poor",children:"Poor"})]})})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Candidates"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Ia,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed All"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:e.filter(x=>b(x)==="excellent").length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(mt,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Need Attention"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:e.filter(x=>b(x)==="needs_attention").length})]}),a.jsx("div",{className:"p-3 rounded-full bg-orange-100",children:a.jsx(Xt,{className:"w-6 h-6 text-orange-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.reduce((x,m)=>x+m.totalCertificates,0)})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(Ae,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsx(U,{children:r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading enumerator status..."})]}):a.jsx("div",{className:"space-y-4",children:j.map(x=>{const m=b(x),_=x.surveys.filter(y=>y.status==="completed").length,g=x.surveys.length;return a.jsxs("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ia,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:x.user.email}),a.jsx("p",{className:"text-sm text-gray-500",children:x.user.jurisdiction||"No jurisdiction"})]})]}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[x.overallProgress,"%"]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Progress"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[_,"/",g]}),a.jsx("p",{className:"text-sm text-gray-500",children:"Completed"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-600",children:x.totalCertificates}),a.jsx("p",{className:"text-sm text-gray-500",children:"Certificates"})]}),a.jsx("div",{className:"text-center",children:a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${m==="excellent"?"bg-green-100 text-green-800":m==="good"?"bg-blue-100 text-blue-800":m==="needs_attention"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:m==="excellent"?"Excellent":m==="good"?"Good":m==="needs_attention"?"Needs Attention":"Poor"})}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>w(x),className:"flex items-center space-x-2",children:[a.jsx(Je,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]})]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Overall Progress"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[x.overallProgress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${x.overallProgress}%`}})})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[x.surveys.slice(0,3).map(y=>a.jsxs("div",{className:"flex items-center space-x-2",children:[p(y.status),a.jsx("span",{className:"text-sm text-gray-600",children:y.surveyTitle})]},y.surveyId)),x.surveys.length>3&&a.jsxs("span",{className:"text-sm text-gray-500",children:["+",x.surveys.length-3," more"]})]})]},x.id)})})}),a.jsx(Ne,{isOpen:c,onClose:()=>u(!1),title:"Enumerator Details",size:"xl",children:o&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Personal Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",o.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",o.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",o.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",o.user.jurisdiction||"N/A"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Last Activity:"})," ",Ar(o.lastActivity)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Performance Summary"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"text-center p-3 bg-blue-50 rounded-lg",children:[a.jsxs("p",{className:"text-xl font-bold text-blue-600",children:[o.overallProgress,"%"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Overall Progress"})]}),a.jsxs("div",{className:"text-center p-3 bg-purple-50 rounded-lg",children:[a.jsx("p",{className:"text-xl font-bold text-purple-600",children:o.totalCertificates}),a.jsx("p",{className:"text-xs text-gray-600",children:"Certificates"})]})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Survey Status"}),a.jsx("div",{className:"space-y-3",children:o.surveys.map(x=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[p(x.status),a.jsx("h5",{className:"font-medium text-gray-900",children:x.surveyTitle})]}),a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v(x.status)}`,children:x.status.replace("_"," ").toUpperCase()})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Attempts"}),a.jsxs("p",{className:"font-medium",children:[x.attempts,"/",x.maxAttempts]})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Best Score"}),a.jsx("p",{className:"font-medium",children:x.bestScore?`${x.bestScore}%`:"N/A"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Target Date"}),a.jsx("p",{className:"font-medium",children:Me(x.targetDate)})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-500",children:"Last Attempt"}),a.jsx("p",{className:"font-medium",children:x.lastAttempt?Me(x.lastAttempt):"Never"})]})]}),x.certificateId&&a.jsxs("div",{className:"mt-3 flex items-center space-x-2 text-green-600",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Certificate Earned"})]})]},x.surveyId))})]})]})})]})})}function Bae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(""),[o,l]=O.useState(null),[c,u]=O.useState(!1),[f,d]=O.useState("all"),[h,p]=O.useState("all");O.useEffect(()=>{v()},[]);const v=async()=>{try{n(!0);const S=await id.getCertificates();t(S.data)}catch(S){console.error("Failed to fetch certificates:",S)}finally{n(!1)}},b=async S=>{try{const A=await id.downloadCertificate(S),P=new Blob([A.data],{type:"application/pdf"}),T=URL.createObjectURL(P),E=document.createElement("a");E.href=T,E.download=`certificate_${S}.pdf`,document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(T),t(e.map(C=>C.id===S?{...C,downloadCount:C.downloadCount+1}:C))}catch(A){console.error("Failed to download certificate:",A)}},w=async S=>{if(window.confirm("Are you sure you want to revoke this certificate? This action cannot be undone."))try{(await id.revokeCertificate(S)).success&&t(e.map(P=>P.id===S?{...P,status:"revoked"}:P))}catch(A){console.error("Failed to revoke certificate:",A)}},j=S=>{l(S),u(!0)},x=S=>{switch(S){case"active":return"bg-green-100 text-green-800";case"revoked":return"bg-red-100 text-red-800";case"expired":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},m=e.filter(S=>{const A=S.user.name.toLowerCase().includes(s.toLowerCase())||S.survey.title.toLowerCase().includes(s.toLowerCase())||S.certificateNumber.toLowerCase().includes(s.toLowerCase()),P=f==="all"||S.status===f;let T=!0;if(h!=="all"){const E=new Date,C=new Date(S.issuedAt);switch(h){case"today":T=C.toDateString()===E.toDateString();break;case"week":const k=new Date(E.getTime()-7*24*60*60*1e3);T=C>=k;break;case"month":const R=new Date(E.getTime()-30*24*60*60*1e3);T=C>=R;break}}return A&&P&&T}),_=e.length,g=e.filter(S=>S.status==="active").length,y=e.filter(S=>S.status==="revoked").length,N=e.reduce((S,A)=>S+A.downloadCount,0);return a.jsx(Ce,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Certificate Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Manage and track all issued certificates"})]}),a.jsxs(z,{onClick:v,className:"flex items-center space-x-2",children:[a.jsx(od,{className:"w-4 h-4"}),a.jsx("span",{children:"Refresh"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:_})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Ae,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:g})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(Vt,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Revoked"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:y})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(od,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Downloads"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:N})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(It,{className:"w-6 h-6 text-purple-600"})})]})})]}),a.jsx(U,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(J,{placeholder:"Search certificates...",value:s,onChange:S=>i(S.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:f,onChange:S=>d(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Status"}),a.jsx("option",{value:"active",children:"Active"}),a.jsx("option",{value:"revoked",children:"Revoked"}),a.jsx("option",{value:"expired",children:"Expired"})]}),a.jsxs("select",{value:h,onChange:S=>p(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Time"}),a.jsx("option",{value:"today",children:"Today"}),a.jsx("option",{value:"week",children:"This Week"}),a.jsx("option",{value:"month",children:"This Month"})]})]})})}),a.jsx(U,{children:r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading certificates..."})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Certificate"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"User"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Survey"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Issued"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Downloads"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{children:m.map(S=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:a.jsx(Ae,{className:"w-5 h-5 text-yellow-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:S.certificateNumber}),a.jsxs("p",{className:"text-sm text-gray-500",children:["ID: ",S.id]})]})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:S.user.name}),a.jsx("p",{className:"text-sm text-gray-500",children:S.user.email})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-900",children:S.survey.title}),a.jsx("p",{className:"text-sm text-gray-500",children:S.user.role.name})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${x(S.status)}`,children:S.status.charAt(0).toUpperCase()+S.status.slice(1)})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-900",children:Me(S.issuedAt)}),a.jsx("p",{className:"text-xs text-gray-500",children:Ar(S.issuedAt)})]})}),a.jsx("td",{className:"py-3 px-4",children:a.jsx("span",{className:"text-sm font-medium text-gray-900",children:S.downloadCount})}),a.jsx("td",{className:"py-3 px-4",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>j(S),className:"p-1 text-blue-600 hover:text-blue-700",title:"Preview Certificate",children:a.jsx(Je,{className:"w-4 h-4"})}),a.jsx("button",{onClick:()=>b(S.id),className:"p-1 text-green-600 hover:text-green-700",title:"Download Certificate",disabled:S.status==="revoked",children:a.jsx(It,{className:"w-4 h-4"})}),S.status==="active"&&a.jsx("button",{onClick:()=>w(S.id),className:"p-1 text-red-600 hover:text-red-700",title:"Revoke Certificate",children:a.jsx(od,{className:"w-4 h-4"})})]})})]},S.id))})]})})}),a.jsx(Ne,{isOpen:c,onClose:()=>u(!1),title:"Certificate Preview",size:"xl",children:o&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 p-8 rounded-lg border-2 border-blue-200",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ae,{className:"w-8 h-8 text-white"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Certificate of Completion"}),a.jsx("p",{className:"text-lg text-gray-600",children:"eSigma Survey Platform"})]}),a.jsxs("div",{className:"py-6",children:[a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"This is to certify that"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-600 mb-2",children:o.user.name}),a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"has successfully completed"}),a.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:o.survey.title})]}),a.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-blue-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Certificate Number"}),a.jsx("p",{className:"font-mono text-sm font-medium",children:o.certificateNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Date Issued"}),a.jsx("p",{className:"text-sm font-medium",children:Me(o.issuedAt)})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Certificate Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Number:"})," ",o.certificateNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium ${x(o.status)}`,children:o.status.charAt(0).toUpperCase()+o.status.slice(1)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Ar(o.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Downloads:"})," ",o.downloadCount]}),o.validUntil&&a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Valid Until:"})," ",Me(o.validUntil)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Recipient Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Name:"})," ",o.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",o.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",o.user.role.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Jurisdiction:"})," ",o.user.jurisdiction||"N/A"]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>u(!1),children:"Close"}),a.jsxs(z,{onClick:()=>b(o.id),disabled:o.status==="revoked",className:"flex items-center space-x-2",children:[a.jsx(It,{className:"w-4 h-4"}),a.jsx("span",{children:"Download PDF"})]})]})]})})]})})}function zae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0),[s,i]=O.useState(null),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState(!1);O.useEffect(()=>{h()},[]);const h=async()=>{try{n(!0);const m=await tw.getSettings();m.success&&m.data&&t(m.data)}catch(m){console.error("Failed to fetch settings:",m)}finally{n(!1)}},p=async()=>{if(s)try{(await tw.updateSetting(s.id,c)).success&&(t(e.map(_=>_.id===s.id?{..._,value:c,updatedAt:new Date}:_)),l(!1),i(null),u(""),d(!0))}catch(m){console.error("Failed to update setting:",m)}},v=m=>{i(m),u(m.value),l(!0)},b=m=>{switch(m.toLowerCase()){case"general":return a.jsx(q3,{className:"w-5 h-5 text-purple-600"});case"test":return a.jsx(Ht,{className:"w-5 h-5 text-yellow-600"});case"security":return a.jsx(ka,{className:"w-5 h-5 text-red-600"});default:return a.jsx(Jc,{className:"w-5 h-5 text-gray-600"})}},w=e.reduce((m,_)=>(m[_.category]||(m[_.category]=[]),m[_.category].push(_),m),{}),j=m=>{switch(m.type){case"boolean":return a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${m.value==="true"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:m.value==="true"?"Enabled":"Disabled"});case"number":return a.jsx("span",{className:"font-mono text-sm font-medium text-blue-600",children:m.value});case"color":return a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-6 h-6 rounded border border-gray-300",style:{backgroundColor:m.value}}),a.jsx("span",{className:"font-mono text-sm",children:m.value})]});case"json":return a.jsx("span",{className:"font-mono text-xs text-gray-600 truncate",children:m.value});default:return a.jsx("span",{className:"text-sm font-medium",children:m.value})}},x=()=>{if(!s)return null;switch(s.type){case"boolean":return a.jsxs("select",{value:c,onChange:_=>u(_.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"true",children:"Enabled"}),a.jsx("option",{value:"false",children:"Disabled"})]});case"number":return a.jsx(J,{type:"number",value:c,onChange:_=>u(_.target.value),placeholder:"Enter number value"});case"color":return a.jsxs("div",{className:"space-y-2",children:[a.jsx(J,{type:"color",value:c,onChange:_=>u(_.target.value),className:"h-12"}),a.jsx(J,{type:"text",value:c,onChange:_=>u(_.target.value),placeholder:"Enter hex color code"})]});case"email":return a.jsx(J,{type:"email",value:c,onChange:_=>u(_.target.value),placeholder:"Enter email address"});case"url":return a.jsx(J,{type:"url",value:c,onChange:_=>u(_.target.value),placeholder:"Enter URL"});case"select":const m=s.options||[];return a.jsx("select",{value:c,onChange:_=>u(_.target.value),className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:m.map(_=>a.jsx("option",{value:_,children:_},_))});case"json":return a.jsx("textarea",{value:c,onChange:_=>u(_.target.value),placeholder:"Enter JSON value",rows:6,className:"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 font-mono text-sm"});default:return a.jsx(J,{value:c,onChange:_=>u(_.target.value),placeholder:"Enter value"})}};return a.jsx(Ce,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"System Settings"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Configure system-wide settings and preferences"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[f&&a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx(Dd,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm",children:"Changes saved"})]}),a.jsxs(z,{variant:"secondary",onClick:h,className:"flex items-center space-x-2",children:[a.jsx(od,{className:"w-4 h-4"}),a.jsx("span",{children:"Refresh"})]})]})]}),r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading settings..."})]}):a.jsx("div",{className:"space-y-8",children:Object.entries(w).map(([m,_])=>a.jsxs(U,{children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[b(m),a.jsxs("h2",{className:"text-xl font-semibold text-gray-900 capitalize",children:[m," Settings"]})]}),a.jsx("div",{className:"space-y-4",children:_.map(g=>a.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h3",{className:"font-medium text-gray-900",children:g.key}),a.jsx("span",{className:`px-2 py-1 text-xs rounded-full font-medium ${g.type==="boolean"?"bg-green-100 text-green-700":g.type==="number"?"bg-blue-100 text-blue-700":g.type==="color"?"bg-purple-100 text-purple-700":g.type==="email"?"bg-teal-100 text-teal-700":g.type==="url"?"bg-indigo-100 text-indigo-700":g.type==="json"?"bg-orange-100 text-orange-700":"bg-gray-100 text-gray-600"}`,children:g.type}),!g.isEditable&&a.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-xs rounded-full font-medium",children:"Read Only"})]}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:g.description}),a.jsx("div",{className:"mt-2",children:j(g)}),a.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Last updated: ",Ar(g.updatedAt),g.updatedBy&&` by ${g.updatedBy}`]})]}),a.jsx("div",{className:"flex items-center space-x-2",children:g.isEditable?a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>v(g),className:"flex items-center space-x-2",children:[a.jsx(Ta,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit"})]}):a.jsx("span",{className:"text-xs text-gray-500 px-3 py-1 bg-gray-100 rounded-full",children:"Read Only"})})]},g.id))})]},m))}),a.jsx(Ne,{isOpen:o,onClose:()=>{l(!1),i(null),u("")},title:"Edit Setting",children:s&&a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900",children:s.key}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:s.description}),a.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:s.type}),a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-600 text-xs rounded-full",children:s.category})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Value"}),a.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:j(s)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Value"}),x()]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{l(!1),i(null),u("")},children:"Cancel"}),a.jsx(z,{onClick:p,disabled:c===s.value,children:"Update Setting"})]})]})})]})})}function qae(){const e=Co(),[t,r]=O.useState([]),[n,s]=O.useState(null),[i,o]=O.useState(!0),[l,c]=O.useState(!1),[u,f]=O.useState(!1),[d,h]=O.useState(""),[p,v]=O.useState("all");O.useEffect(()=>{b()},[]);const b=async()=>{try{o(!0);const y=await Xc.getDashboardData();y.success&&y.data&&r(y.data.availableTests)}catch(y){console.error("Failed to fetch available tests:",y)}finally{o(!1)}},w=async y=>{try{f(!0);const N=t.find(P=>P.surveyId===y);if(!N||!N.isEligible||N.attemptsLeft===0){alert(`You are not eligible to take this test or have no attempts remaining. Attempts left: ${(N==null?void 0:N.attemptsLeft)||0}`);return}const S=await yn.createTestSession(y);if(!S.success||!S.data){alert(`Failed to start test: ${S.message}`);return}const A=S.data.id;e(`/test/${A}`)}catch(N){console.error("Failed to start test:",N),alert(`Failed to start test: ${N instanceof Error?N.message:"Please try again."}`)}finally{f(!1),c(!1)}},j=y=>{s(y),c(!0)},x=y=>y.isEligible?y.attemptsLeft===0?"bg-red-100 text-red-800":Math.ceil((new Date(y.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24))<=3?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",m=y=>{if(!y.isEligible)return"Not Eligible";if(y.attemptsLeft===0)return"No Attempts Left";const N=Math.ceil((new Date(y.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));return N<=0?"Overdue":N<=3?`${N} days left`:"Available"},_=t.filter(y=>{const N=y.title.toLowerCase().includes(d.toLowerCase())||y.description.toLowerCase().includes(d.toLowerCase());if(p==="all")return N;const S=Math.ceil((new Date(y.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24));switch(p){case"urgent":return N&&S<=3&&S>0;case"available":return N&&y.isEligible&&y.attemptsLeft>0;case"overdue":return N&&S<=0;default:return N}}),g=t.filter(y=>{const N=Math.ceil((new Date(y.targetDate).getTime()-new Date().getTime())/864e5);return N<=3&&N>0});return a.jsx(Ce,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Available Tests"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View and start your assigned tests"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(Vi,{className:"w-4 h-4"}),a.jsx("span",{children:"Study Materials"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tests"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:t.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Vt,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Available"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:t.filter(y=>y.isEligible&&y.attemptsLeft>0).length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(mt,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Urgent"}),a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:g.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-orange-100",children:a.jsx(Xt,{className:"w-6 h-6 text-orange-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:t.filter(y=>Math.ceil((new Date(y.targetDate).getTime()-new Date().getTime())/864e5)<=0).length})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Ht,{className:"w-6 h-6 text-red-600"})})]})})]}),g.length>0&&a.jsxs(U,{className:"mb-8 border-l-4 border-orange-500 bg-orange-50",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(Xt,{className:"w-6 h-6 text-orange-600"}),a.jsx("h3",{className:"text-lg font-semibold text-orange-900",children:"Urgent: Tests Due Soon"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(y=>a.jsxs("div",{className:"bg-white rounded-lg p-4 border border-orange-200",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:y.title}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{className:"text-gray-600",children:[a.jsx(wn,{className:"w-4 h-4 inline mr-1"}),"Due: ",Me(y.targetDate)]}),a.jsxs("p",{className:"font-medium text-orange-600",children:[Math.ceil((new Date(y.targetDate).getTime()-new Date().getTime())/(1e3*60*60*24))," days left"]})]}),a.jsxs(z,{onClick:()=>w(y.surveyId),disabled:!y.isEligible||y.attemptsLeft===0,size:"sm",className:"w-full mt-3",children:[a.jsx(ja,{className:"w-4 h-4 mr-2"}),"Start Test"]})]},y.surveyId))})]}),a.jsx(U,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(J,{placeholder:"Search tests...",value:d,onChange:y=>h(y.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:p,onChange:y=>v(y.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Tests"}),a.jsx("option",{value:"available",children:"Available"}),a.jsx("option",{value:"urgent",children:"Urgent (Due Soon)"}),a.jsx("option",{value:"overdue",children:"Overdue"})]})]})})}),a.jsx(U,{children:i?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading tests..."})]}):a.jsx("div",{className:"space-y-4",children:_.map(y=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:y.title}),a.jsx("p",{className:"text-gray-600 text-sm mb-3",children:y.description}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(wn,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Due: ",Me(y.targetDate)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ht,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Duration: ",Ls(y.duration)]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Vt,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:[y.totalQuestions," Questions"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Kr,{className:"w-4 h-4 text-gray-400"}),a.jsxs("span",{children:["Pass: ",y.passingScore,"%"]})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${x(y)}`,children:m(y)}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[y.attemptsLeft,"/",y.maxAttempts," attempts left"]})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(z,{onClick:()=>j(y),variant:"secondary",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(Je,{className:"w-4 h-4"}),a.jsx("span",{children:"Details"})]}),a.jsxs(z,{onClick:()=>w(y.surveyId),disabled:!y.isEligible||y.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===y.surveyId,size:"sm",className:"flex items-center space-x-2",children:[a.jsx(ja,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})]})},y.surveyId))})}),a.jsx(Ne,{isOpen:l,onClose:()=>c(!1),title:`Test Details: ${n==null?void 0:n.title}`,size:"lg",children:n&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Description"}),a.jsx("p",{className:"text-gray-600",children:n.description})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Duration:"})," ",Ls(n.duration)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Questions:"})," ",n.totalQuestions]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Passing Score:"})," ",n.passingScore,"%"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Target Date:"})," ",Me(n.targetDate)]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Attempt Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempts Left:"})," ",n.attemptsLeft,"/",n.maxAttempts]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Eligibility:"}),a.jsx("span",{className:`ml-2 ${n.isEligible?"text-green-600":"text-red-600"}`,children:n.isEligible?"Eligible":"Not Eligible"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>c(!1),children:"Close"}),a.jsxs(z,{onClick:()=>{w(n.surveyId)},disabled:!n.isEligible||n.attemptsLeft===0||u,loading:u&&(n==null?void 0:n.surveyId)===n.surveyId,className:"flex items-center space-x-2",children:[a.jsx(ja,{className:"w-4 h-4"}),a.jsx("span",{children:"Start Test"})]})]})]})})]})})}function Wae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(""),[f,d]=O.useState("all"),[h,p]=O.useState(!1),[v,b]=O.useState(""),[w,j]=O.useState(!1);O.useEffect(()=>{var P;x();const A=((P=window.history.state)==null?void 0:P.usr)||window.history.state;A!=null&&A.message&&(b(A.message),p(!0),A.showCertificate&&j(!0),window.history.replaceState({},document.title),setTimeout(()=>{p(!1),j(!1)},5e3))},[]);const x=async()=>{try{i(!0);const A=await Xc.getDashboardData();A.success&&A.data&&t(A.data.completedTests)}catch(A){console.error("Failed to fetch results:",A)}finally{i(!1)}},m=A=>{n(A),l(!0)},_=e.filter(A=>{const P=A.surveyTitle.toLowerCase().includes(c.toLowerCase());return f==="all"?P:f==="passed"?P&&A.isPassed:f==="failed"?P&&!A.isPassed:P}),g=e.filter(A=>A.isPassed).length;e.filter(A=>!A.isPassed).length;const y=e.length>0?e.reduce((A,P)=>A+P.score,0)/e.length:0,N=e.filter(A=>A.certificateId).length,S=e.map((A,P)=>({attempt:P+1,score:A.score,name:A.surveyTitle.substring(0,15)+"...",isPassed:A.isPassed}));return a.jsx(Ce,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Results"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View your test performance and progress"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(It,{className:"w-4 h-4"}),a.jsx("span",{children:"Export Results"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Tests"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Os,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Passed"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:g})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(mt,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Average Score"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-600",children:[y.toFixed(1),"%"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Kr,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:N})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(qs,{className:"w-6 h-6 text-purple-600"})})]})})]}),h&&a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded-lg flex items-center space-x-2",children:[a.jsx(mt,{className:"w-5 h-5"}),a.jsx("span",{children:v})]})}),w&&a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-lg flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(qs,{className:"w-5 h-5"}),a.jsx("span",{children:"Congratulations! You've earned a certificate for passing this test."})]}),a.jsxs(z,{size:"sm",onClick:()=>window.location.href="/my-certificates",className:"flex items-center space-x-2",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{children:"View Certificate"})]})]})}),e.length>0&&a.jsxs(U,{className:"mb-8",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Performance Trend"}),a.jsx("div",{className:"h-64",children:a.jsx(Mt,{width:"100%",height:"100%",children:a.jsxs(cu,{data:S,children:[a.jsx(Er,{strokeDasharray:"3 3"}),a.jsx(Gt,{dataKey:"attempt"}),a.jsx(Yt,{domain:[0,100]}),a.jsx(We,{formatter:(A,P)=>[`${A}%`,"Score"]}),a.jsx(rr,{type:"monotone",dataKey:"score",stroke:"#3B82F6",strokeWidth:2,dot:{fill:"#3B82F6",strokeWidth:2,r:4}})]})})})]}),a.jsx(U,{className:"mb-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(J,{placeholder:"Search results...",value:c,onChange:A=>u(A.target.value),className:"pl-10 w-64"})]}),a.jsxs("select",{value:f,onChange:A=>d(A.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Results"}),a.jsx("option",{value:"passed",children:"Passed"}),a.jsx("option",{value:"failed",children:"Failed"})]})]})})}),a.jsx(U,{children:s?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading results..."})]}):_.length===0?a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Os,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-500",children:"No test results found"}),a.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Complete some tests to see your results here"})]}):a.jsx("div",{className:"space-y-4",children:_.map(A=>a.jsx("div",{className:"border border-gray-200 rounded-lg p-6 hover:shadow-md transition-shadow",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900",children:A.surveyTitle}),A.isPassed?a.jsx(mt,{className:"w-5 h-5 text-green-600"}):a.jsx(Fd,{className:"w-5 h-5 text-red-600"}),A.certificateId&&a.jsx(Ae,{className:"w-5 h-5 text-yellow-600"})]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Score:"}),a.jsxs("span",{className:`ml-2 font-bold ${As(A.score)}`,children:[A.score,"%"]})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 font-medium ${A.isPassed?"text-green-600":"text-red-600"}`,children:A.isPassed?"Passed":"Failed"})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Attempt:"}),a.jsx("span",{className:"ml-2",children:A.attemptNumber})]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"}),a.jsx("span",{className:"ml-2",children:Me(A.completedAt)})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-3xl font-bold ${As(A.score)}`,children:[A.score,"%"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Score"})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(z,{onClick:()=>m(A),variant:"secondary",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(Je,{className:"w-4 h-4"}),a.jsx("span",{children:"View Details"})]}),A.certificateId&&a.jsxs(z,{size:"sm",className:"flex items-center space-x-2",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{children:"Certificate"})]})]})]})]})},A.resultId))})}),a.jsx(Ne,{isOpen:o,onClose:()=>l(!1),title:"Test Result Details",size:"lg",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-6xl font-bold ${As(r.score)} mb-2`,children:[r.score,"%"]}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-1",children:r.surveyTitle}),a.jsx("div",{className:"flex items-center justify-center space-x-2",children:r.isPassed?a.jsxs(a.Fragment,{children:[a.jsx(mt,{className:"w-5 h-5 text-green-600"}),a.jsx("span",{className:"text-green-600 font-medium",children:"Passed"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Fd,{className:"w-5 h-5 text-red-600"}),a.jsx("span",{className:"text-red-600 font-medium",children:"Failed"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Test Information"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Attempt Number:"})," ",r.attemptNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Completed:"})," ",Me(r.completedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Score:"}),a.jsxs("span",{className:`ml-2 font-bold ${As(r.score)}`,children:[r.score,"%"]})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 font-medium ${r.isPassed?"text-green-600":"text-red-600"}`,children:r.isPassed?"Passed":"Failed"})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Achievement"}),a.jsx("div",{className:"space-y-2 text-sm",children:r.certificateId?a.jsxs("div",{className:"flex items-center space-x-2 text-green-600",children:[a.jsx(Ae,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:"Certificate Earned"})]}):a.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[a.jsx(Ae,{className:"w-5 h-5"}),a.jsx("span",{children:"No certificate earned"})]})})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>l(!1),children:"Close"}),r.certificateId&&a.jsxs(z,{className:"flex items-center space-x-2",children:[a.jsx(Ae,{className:"w-4 h-4"}),a.jsx("span",{children:"View Certificate"})]})]})]})})]})})}function Hae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState("");O.useEffect(()=>{var j;f();const w=((j=window.history.state)==null?void 0:j.usr)||window.history.state;w!=null&&w.newCertificate&&(setTimeout(()=>{f()},1e3),window.history.replaceState({},document.title))},[]);const f=async()=>{try{i(!0);const w=await Xc.getDashboardData();w.success&&w.data&&t(w.data.certificates)}catch(w){console.error("Failed to fetch certificates:",w)}finally{i(!1)}},d=async w=>{try{const x=(await id.downloadCertificate(w)).data,m=URL.createObjectURL(x),_=document.createElement("a");_.href=m;const g=e.find(N=>N.id===w),y=g?`${g.certificateNumber}_${g.survey.title.replace(/[^a-zA-Z0-9]/g,"_")}.pdf`:`certificate_${w}.pdf`;_.download=y,document.body.appendChild(_),_.click(),document.body.removeChild(_),URL.revokeObjectURL(m),t(e.map(N=>N.id===w?{...N,downloadCount:N.downloadCount+1}:N))}catch(j){console.error("Failed to download certificate:",j),alert("Failed to download certificate. Please try again.")}},h=w=>{n(w),l(!0)},p=e.filter(w=>w.survey.title.toLowerCase().includes(c.toLowerCase())||w.certificateNumber.toLowerCase().includes(c.toLowerCase())),v=e.filter(w=>w.status==="active").length,b=e.reduce((w,j)=>w+j.downloadCount,0);return a.jsx(Ce,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"My Certificates"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View and download your earned certificates"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(It,{className:"w-4 h-4"}),a.jsx("span",{children:"Download All"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Certificates"}),a.jsx("p",{className:"text-3xl font-bold text-purple-600",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-purple-100",children:a.jsx(qs,{className:"w-6 h-6 text-purple-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Active"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:v})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(mt,{className:"w-6 h-6 text-green-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Downloads"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:b})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(It,{className:"w-6 h-6 text-blue-600"})})]})})]}),a.jsx(U,{className:"mb-6",children:a.jsxs("div",{className:"relative",children:[a.jsx(Gr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),a.jsx(J,{placeholder:"Search certificates...",value:c,onChange:w=>u(w.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:s?Array.from({length:6}).map((w,j)=>a.jsx(U,{className:"animate-pulse",children:a.jsx("div",{className:"h-48 bg-gray-200 rounded-lg"})},j)):p.length===0?a.jsxs("div",{className:"col-span-full text-center py-12",children:[a.jsx(qs,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Certificates Yet"}),a.jsx("p",{className:"text-gray-500",children:"Complete tests to earn certificates"})]}):p.map(w=>a.jsxs(U,{className:"hover:shadow-lg transition-shadow overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-purple-100 p-6 text-center border-b",children:[a.jsx("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Ae,{className:"w-8 h-8 text-yellow-600"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Certificate of Completion"}),a.jsx("p",{className:"text-sm text-gray-600",children:"eSigma Survey Platform"})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:w.survey.title}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Certificate #:"})," ",w.certificateNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Me(w.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${w.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:w.status.charAt(0).toUpperCase()+w.status.slice(1)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Downloads:"})," ",w.downloadCount]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(z,{onClick:()=>h(w),variant:"secondary",size:"sm",className:"flex-1 flex items-center justify-center space-x-2",children:[a.jsx(Je,{className:"w-4 h-4"}),a.jsx("span",{children:"Preview"})]}),a.jsxs(z,{onClick:()=>d(w.id),size:"sm",className:"flex-1 flex items-center justify-center space-x-2",disabled:w.status!=="active",children:[a.jsx(It,{className:"w-4 h-4"}),a.jsx("span",{children:"Download"})]})]})]})]},w.id))}),a.jsx(Ne,{isOpen:o,onClose:()=>l(!1),title:"Certificate Preview",size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 p-8 rounded-lg border-2 border-blue-200",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-20 h-20 bg-blue-600 rounded-full flex items-center justify-center",children:a.jsx(Ae,{className:"w-10 h-10 text-white"})})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Certificate of Completion"}),a.jsx("p",{className:"text-lg text-gray-600",children:"eSigma Survey Platform"})]}),a.jsxs("div",{className:"py-6",children:[a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"This is to certify that"}),a.jsx("h3",{className:"text-2xl font-bold text-blue-600 mb-2",children:r.user.name}),a.jsx("p",{className:"text-lg text-gray-700 mb-2",children:"has successfully completed"}),a.jsx("h4",{className:"text-xl font-semibold text-gray-900 mb-4",children:r.survey.title}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-green-600",children:[a.jsx(nw,{className:"w-5 h-5 fill-current"}),a.jsx("span",{className:"font-medium",children:"With Excellence"}),a.jsx(nw,{className:"w-5 h-5 fill-current"})]})]}),a.jsxs("div",{className:"flex justify-between items-center pt-6 border-t border-blue-200",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Certificate Number"}),a.jsx("p",{className:"font-mono text-sm font-medium",children:r.certificateNumber})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Date Issued"}),a.jsx("p",{className:"text-sm font-medium",children:Me(r.issuedAt)})]})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Certificate Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Number:"})," ",r.certificateNumber]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Survey:"})," ",r.survey.title]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Issued:"})," ",Me(r.issuedAt)]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"}),a.jsx("span",{className:`ml-2 px-2 py-1 rounded-full text-xs font-medium ${r.status==="active"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:r.status.charAt(0).toUpperCase()+r.status.slice(1)})]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Downloads:"})," ",r.downloadCount]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-3",children:"Verification"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Recipient:"})," ",r.user.name]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",r.user.email]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Role:"})," ",r.user.role.name]}),a.jsxs("div",{className:"flex items-center space-x-2 text-green-600 mt-3",children:[a.jsx(mt,{className:"w-4 h-4"}),a.jsx("span",{className:"text-sm font-medium",children:"Verified Certificate"})]})]})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>l(!1),children:"Close"}),a.jsxs(z,{onClick:()=>d(r.id),disabled:r.status!=="active",className:"flex items-center space-x-2",children:[a.jsx(It,{className:"w-4 h-4"}),a.jsx("span",{children:"Download PDF"})]})]})]})})]})})}function Kae(){const[e,t]=O.useState([]),[r,n]=O.useState(!0);O.useEffect(()=>{s()},[]);const s=async()=>{try{n(!0);const d=await Xc.getDashboardData();d.success&&d.data&&t(d.data.upcomingTests)}catch(d){console.error("Failed to fetch test schedule:",d)}finally{n(!1)}},i=d=>d.isOverdue?"bg-red-100 text-red-800":d.daysLeft<=3?"bg-orange-100 text-orange-800":d.daysLeft<=7?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800",o=d=>d.isOverdue?a.jsx(Xt,{className:"w-4 h-4"}):d.daysLeft<=3?a.jsx(Ht,{className:"w-4 h-4"}):a.jsx(mt,{className:"w-4 h-4"}),l=d=>d.isOverdue?"Overdue":d.daysLeft===0?"Due Today":d.daysLeft===1?"Due Tomorrow":`${d.daysLeft} days left`,c=e.filter(d=>d.daysLeft<=3||d.isOverdue),u=e.filter(d=>d.daysLeft<=7&&d.daysLeft>3),f=e.filter(d=>d.daysLeft>7);return a.jsx(Ce,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Test Schedule"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"View your upcoming test deadlines and plan accordingly"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(z,{variant:"secondary",className:"flex items-center space-x-2",children:[a.jsx(wn,{className:"w-4 h-4"}),a.jsx("span",{children:"Calendar View"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Upcoming"}),a.jsx("p",{className:"text-3xl font-bold text-blue-600",children:e.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-100",children:a.jsx(Ld,{className:"w-6 h-6 text-blue-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Urgent"}),a.jsx("p",{className:"text-3xl font-bold text-red-600",children:c.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-red-100",children:a.jsx(Xt,{className:"w-6 h-6 text-red-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"This Week"}),a.jsx("p",{className:"text-3xl font-bold text-yellow-600",children:u.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-yellow-100",children:a.jsx(Ht,{className:"w-6 h-6 text-yellow-600"})})]})}),a.jsx(U,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Later"}),a.jsx("p",{className:"text-3xl font-bold text-green-600",children:f.length})]}),a.jsx("div",{className:"p-3 rounded-full bg-green-100",children:a.jsx(mt,{className:"w-6 h-6 text-green-600"})})]})})]}),r?a.jsx(U,{children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"text-gray-500 mt-2",children:"Loading test schedule..."})]})}):e.length===0?a.jsx(U,{children:a.jsxs("div",{className:"text-center py-12",children:[a.jsx(wn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Upcoming Tests"}),a.jsx("p",{className:"text-gray-500",children:"You have no scheduled tests at the moment"})]})}):a.jsxs("div",{className:"space-y-8",children:[c.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-red-900 mb-4 flex items-center space-x-2",children:[a.jsx(Xt,{className:"w-5 h-5"}),a.jsx("span",{children:"Urgent - Immediate Action Required"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:c.map(d=>a.jsxs(U,{className:"border-l-4 border-red-500 bg-red-50",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:d.title}),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(d)}`,children:[o(d),a.jsx("span",{className:"ml-1",children:l(d)})]})]}),a.jsx("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:a.jsxs("p",{className:"flex items-center space-x-2",children:[a.jsx(wn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Due: ",Me(d.targetDate)]})]})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(z,{size:"sm",className:"flex-1",children:[a.jsx(ja,{className:"w-4 h-4 mr-1"}),"Start Now"]}),a.jsx(z,{variant:"secondary",size:"sm",children:a.jsx(Je,{className:"w-4 h-4"})})]})]},d.surveyId))})]}),u.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-yellow-900 mb-4 flex items-center space-x-2",children:[a.jsx(Ht,{className:"w-5 h-5"}),a.jsx("span",{children:"This Week"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:u.map(d=>a.jsxs(U,{className:"border-l-4 border-yellow-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:d.title}),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(d)}`,children:[o(d),a.jsx("span",{className:"ml-1",children:l(d)})]})]}),a.jsx("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:a.jsxs("p",{className:"flex items-center space-x-2",children:[a.jsx(wn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Due: ",Me(d.targetDate)]})]})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(z,{variant:"secondary",size:"sm",className:"flex-1",children:[a.jsx(ja,{className:"w-4 h-4 mr-1"}),"Start Test"]}),a.jsx(z,{variant:"secondary",size:"sm",children:a.jsx(Je,{className:"w-4 h-4"})})]})]},d.surveyId))})]}),f.length>0&&a.jsxs("div",{children:[a.jsxs("h2",{className:"text-xl font-semibold text-green-900 mb-4 flex items-center space-x-2",children:[a.jsx(mt,{className:"w-5 h-5"}),a.jsx("span",{children:"Coming Up"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(d=>a.jsxs(U,{className:"border-l-4 border-green-500",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:d.title}),a.jsxs("span",{className:`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${i(d)}`,children:[o(d),a.jsx("span",{className:"ml-1",children:l(d)})]})]}),a.jsx("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:a.jsxs("p",{className:"flex items-center space-x-2",children:[a.jsx(wn,{className:"w-4 h-4"}),a.jsxs("span",{children:["Due: ",Me(d.targetDate)]})]})}),a.jsx("div",{className:"flex space-x-2",children:a.jsxs(z,{variant:"secondary",size:"sm",className:"flex-1",children:[a.jsx(Je,{className:"w-4 h-4 mr-1"}),"View Details"]})})]},d.surveyId))})]})]})]})})}function Vae(){const{sessionId:e}=u$(),t=Co();Wa();const[r,n]=O.useState(null),[s,i]=O.useState([]),[o,l]=O.useState(0),[c,u]=O.useState({}),[f,d]=O.useState(0),[h,p]=O.useState(!0),[v,b]=O.useState(!1),[w,j]=O.useState(!1),[x,m]=O.useState(!1),[_,g]=O.useState(!1),[y,N]=O.useState(new Set),[S,A]=O.useState(navigator.onLine),[P,T]=O.useState(null),[E,C]=O.useState(null),[k,R]=O.useState(!1),[$,L]=O.useState(null);O.useState({});const[D,F]=O.useState([]),[W,G]=O.useState(!1),K=3e4;O.useEffect(()=>{const Y=ve=>{if((ve.ctrlKey||ve.metaKey)&&["c","v","x","a","s","p"].includes(ve.key.toLowerCase()))return ve.preventDefault(),Z(`Attempted keyboard shortcut: Ctrl+${ve.key.toUpperCase()}`),!1;if(ve.key==="F12")return ve.preventDefault(),Z("Attempted to open Developer Tools (F12)"),!1;if(ve.ctrlKey&&ve.shiftKey&&ve.key==="I")return ve.preventDefault(),Z("Attempted to open Developer Tools (Ctrl+Shift+I)"),!1;if(ve.ctrlKey&&ve.key==="u")return ve.preventDefault(),Z("Attempted to view page source (Ctrl+U)"),!1;if(ve.key==="PrintScreen")return ve.preventDefault(),Z("Attempted to take screenshot (Print Screen)"),!1},ae=ve=>(ve.preventDefault(),Z("Attempted to open context menu (right-click)"),!1),we=ve=>(ve.preventDefault(),Z("Attempted to copy content"),!1),Ee=ve=>(ve.preventDefault(),Z("Attempted to paste content"),!1),nt=ve=>(ve.preventDefault(),Z("Attempted to cut content"),!1),gn=ve=>(ve.preventDefault(),!1),Wo=ve=>(ve.preventDefault(),!1),du=ve=>(ve.preventDefault(),ve.returnValue="Are you sure you want to leave? Your test progress will be saved but the test will be paused.",ve.returnValue),dp=ve=>(ve.preventDefault(),Z("Attempted to navigate away from test"),!1),jy=window.open;return window.open=function(...ve){return Z("Attempted to open new window/tab"),null},document.addEventListener("keydown",Y),document.addEventListener("contextmenu",ae),document.addEventListener("copy",we),document.addEventListener("paste",Ee),document.addEventListener("cut",nt),document.addEventListener("selectstart",gn),document.addEventListener("dragstart",Wo),window.addEventListener("beforeunload",du),window.addEventListener("popstate",dp),document.body.style.userSelect="none",document.body.style.webkitUserSelect="none",document.body.style.mozUserSelect="none",document.body.style.msUserSelect="none",()=>{document.removeEventListener("keydown",Y),document.removeEventListener("contextmenu",ae),document.removeEventListener("copy",we),document.removeEventListener("paste",Ee),document.removeEventListener("cut",nt),document.removeEventListener("selectstart",gn),document.removeEventListener("dragstart",Wo),window.removeEventListener("beforeunload",du),window.removeEventListener("popstate",dp),window.open=jy,document.body.style.userSelect="",document.body.style.webkitUserSelect="",document.body.style.mozUserSelect="",document.body.style.msUserSelect=""}},[]);const Z=Y=>{console.warn("Security violation detected:",Y),F(ae=>[...ae,Y]),G(!0),setTimeout(()=>{G(!1)},3e3),r&&yn.logSecurityViolation(r.id,Y).catch(console.error)};O.useEffect(()=>{const Y=()=>{A(!0),yn.syncOfflineData()},ae=()=>{A(!1),r&&!k&&f>0&&(R(!0),L(f),console.log("Test auto-paused due to network loss. Time remaining:",f))};return window.addEventListener("online",Y),window.addEventListener("offline",ae),()=>{window.removeEventListener("online",Y),window.removeEventListener("offline",ae)}},[r,k,f,$]);const de=O.useCallback(async()=>{if(!(!r||k))try{C("saving"),await yn.updateSession(r.id,{currentQuestionIndex:o,timeRemaining:f,answers:Object.keys(c).map(Y=>({questionId:Y,selectedOptions:c[Y],isCorrect:!1,timeSpent:0,answered:!0}))}),T(new Date),C("saved"),setTimeout(()=>C(null),2e3)}catch(Y){console.error("Auto-save failed:",Y),C("error"),setTimeout(()=>C(null),3e3)}},[r,o,f,c,k]);O.useEffect(()=>{if(!r||k)return;const Y=setInterval(de,K);return()=>clearInterval(Y)},[de,r,k]),O.useEffect(()=>{if(r&&Object.keys(c).length>0&&!k){const Y=setTimeout(de,2e3);return()=>clearTimeout(Y)}},[c,de,r,k]),O.useEffect(()=>{e&&(console.log("Loading test session with ID:",e),Le())},[e]),O.useEffect(()=>{if(f>0&&!k&&S){const Y=setInterval(()=>{d(ae=>{const we=ae-1;return we<=0?(je(),0):(we===300&&!x&&m(!0),we)})},1e3);return()=>clearInterval(Y)}},[f,x,k,S]);const ke=async Y=>{try{p(!0);const ae=await Dr.getSurveySections(Y);if(!ae.success||!ae.data)throw new Error("Failed to load survey sections");const we=ae.data;let Ee=[];for(const nt of we){const gn=await vl.getQuestions(nt.id);if(gn.success&&gn.data){const Wo=gn.data,du=Math.min(nt.questions_count,Wo.length),ve=[...Wo].sort(()=>.5-Math.random()).slice(0,du).map((pP,mP)=>({...pP,order:nt.section_order*1e3+mP}));Ee=[...Ee,...ve]}}if(Ee.sort((nt,gn)=>(nt.order||0)-(gn.order||0)),Ee.length===0)throw new Error("No questions found for this survey");i(Ee),p(!1)}catch(ae){throw console.error("Error loading questions:",ae),p(!1),ae}},Le=async()=>{try{if(p(!0),console.log("Loading test session with ID:",e),!e)throw new Error("Session ID not provided");const Y=await yn.getSession(e);if(!Y.success||!Y.data)throw new Error("Session not found or invalid");const ae=Y.data;if(console.log("Session loaded:",ae),n(ae),await ke(ae.surveyId),d(ae.timeRemaining||35*60),l(ae.currentQuestionIndex||0),ae.answers&&ae.answers.length>0){const we={};ae.answers.forEach(Ee=>{we[Ee.questionId]=Ee.selectedOptions||[]}),u(we),Object.keys(we).length>0&&g(!0)}}catch(Y){console.error("Error loading test session:",Y),p(!1)}},lt=async(Y,ae,we)=>{if(k)return;const Ee={...c};if(we){const nt=Ee[Y]||[];Ee[Y]=nt.includes(ae)?nt.filter(gn=>gn!==ae):[...nt,ae]}else Ee[Y]=[ae];u(Ee);try{await yn.saveAnswer(r.id,Y,Ee[Y])}catch(nt){console.error("Failed to save answer:",nt)}},Nt=()=>{k||o<s.length-1&&l(Y=>Y+1)},X=()=>{k||o>0&&l(Y=>Y-1)},ce=Y=>{k||l(Y)},he=Y=>{k||N(ae=>{const we=new Set(ae);return we.has(Y)?we.delete(Y):we.add(Y),we})},q=async()=>{var Y,ae;try{b(!0);const we=await yn.submitTest(e);we.success&&t("/my-results",{state:{message:"Test submitted successfully!",result:we.data,showCertificate:((Y=we.data)==null?void 0:Y.isPassed)&&((ae=we.data)==null?void 0:ae.certificateId)}})}catch(we){console.error("Failed to submit test:",we),alert("Failed to submit test. Please try again.")}finally{b(!1),j(!1)}},je=async()=>{try{await yn.submitTest(e),t("/my-results",{state:{message:"Test auto-submitted due to time expiry.",autoSubmitted:!0,showCertificate:!1}})}catch(Y){console.error("Failed to auto-submit test:",Y)}},ge=()=>{g(!1),R(!1)},M=()=>{l(0),u({}),N(new Set),d(35*60),g(!1),R(!1)},re=Y=>{const ae=s[Y];if(!ae)return"unanswered";const we=c[ae.id]&&c[ae.id].length>0,Ee=y.has(Y);return Ee&&we?"flagged-answered":Ee?"flagged":we?"answered":"unanswered"},ne=Y=>{switch(Y){case"answered":return"bg-green-500 text-white";case"flagged":return"bg-yellow-500 text-white";case"flagged-answered":return"bg-orange-500 text-white";default:return"bg-gray-200 text-gray-700"}},Ve=s.filter(Y=>c[Y.id]&&c[Y.id].length>0).length,ir=s.length-Ve;if(h)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading test session and questions..."}),r&&a.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Session ID: ",r.id]})]})});if(!r||s.length===0)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs(U,{className:"max-w-md w-full text-center",children:[a.jsx(Xt,{className:"w-12 h-12 text-red-600 mx-auto mb-4"}),a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Test Not Found"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"The test session could not be loaded."}),a.jsx(z,{onClick:()=>t("/available-tests"),children:"Back to Available Tests"})]})});const et=s[o];return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b border-gray-200 px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Digital Literacy Assessment"}),a.jsxs("p",{className:"text-sm text-gray-600",children:["Attempt ",r.attemptNumber]})]})}),a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsx("div",{className:"flex items-center",children:S?a.jsxs("div",{className:"flex items-center text-green-600",children:[a.jsx(t5,{className:"w-4 h-4 mr-1"}),a.jsx("span",{className:"text-xs",children:"Online"})]}):a.jsxs("div",{className:"flex items-center text-red-600",children:[a.jsx(Vp,{className:"w-4 h-4 mr-1"}),a.jsx("span",{className:"text-xs",children:"Offline"})]})}),a.jsxs("div",{className:"flex items-center",children:[E==="saving"&&a.jsxs("div",{className:"flex items-center text-blue-600",children:[a.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600 mr-1"}),a.jsx("span",{className:"text-xs",children:"Saving..."})]}),E==="saved"&&a.jsxs("div",{className:"flex items-center text-green-600",children:[a.jsx(Dd,{className:"w-3 h-3 mr-1"}),a.jsx("span",{className:"text-xs",children:"Saved"})]}),E==="error"&&a.jsxs("div",{className:"flex items-center text-red-600",children:[a.jsx(Xt,{className:"w-3 h-3 mr-1"}),a.jsx("span",{className:"text-xs",children:"Save failed"})]}),P&&!E&&a.jsxs("div",{className:"text-xs text-gray-500",children:["Last saved: ",P.toLocaleTimeString()]})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:`text-2xl font-bold ${f<=300?"text-red-600":"text-gray-900"}`,children:[R5(f),k&&a.jsx("span",{className:"text-sm text-orange-600 block",children:"PAUSED"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Time Remaining"})]}),a.jsxs("div",{className:"text-center",children:[a.jsxs("div",{className:"text-lg font-semibold text-gray-900",children:[o+1," / ",s.length]}),a.jsx("p",{className:"text-xs text-gray-500",children:"Question"})]})]})]})}),a.jsxs("div",{className:"flex",children:[a.jsxs("div",{className:"w-64 bg-white border-r border-gray-200 p-4",children:[a.jsx("h3",{className:"font-semibold text-gray-900 mb-4",children:"Question Navigator"}),a.jsxs("div",{className:"mb-4 text-sm",children:[a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{children:"Answered:"}),a.jsx("span",{className:"font-medium text-green-600",children:Ve})]}),a.jsxs("div",{className:"flex justify-between mb-2",children:[a.jsx("span",{children:"Unanswered:"}),a.jsx("span",{className:"font-medium text-red-600",children:ir})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Flagged:"}),a.jsx("span",{className:"font-medium text-yellow-600",children:y.size})]})]}),a.jsx("div",{className:"space-y-4",children:Object.entries(s.reduce((Y,ae,we)=>{const nt=`Section ${Math.floor((ae.order||0)/1e3)}`;return Y[nt]||(Y[nt]=[]),Y[nt].push({question:ae,index:we}),Y},{})).sort(([Y],[ae])=>Y.localeCompare(ae)).map(([Y,ae])=>a.jsxs("div",{className:"mb-4",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:Y}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:ae.map(({question:we,index:Ee})=>{const nt=re(Ee);return a.jsx("button",{onClick:()=>ce(Ee),disabled:k,className:`w-10 h-10 rounded text-sm font-medium transition-colors ${Ee===o?"ring-2 ring-blue-500 ring-offset-2":""} ${ne(nt)} ${k?"opacity-50 cursor-not-allowed":""}`,children:Ee+1},Ee)})})]},Y))}),a.jsxs("div",{className:"mt-6 space-y-2 text-xs",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-green-500 rounded"}),a.jsx("span",{children:"Answered"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-500 rounded"}),a.jsx("span",{children:"Flagged"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-orange-500 rounded"}),a.jsx("span",{children:"Flagged & Answered"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded"}),a.jsx("span",{children:"Unanswered"})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsxs(z,{variant:"secondary",size:"sm",className:"w-full flex items-center justify-center space-x-2",onClick:de,disabled:k,children:[a.jsx(Dd,{className:"w-4 h-4"}),a.jsx("span",{children:"Save Progress"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Progress is auto-saved every 30 seconds"})]}),k&&a.jsxs("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[a.jsx("p",{className:"text-sm font-medium text-yellow-800 text-center",children:"Test is paused due to network connectivity"}),a.jsx("p",{className:"text-xs text-yellow-700 text-center mt-1",children:"Test will resume automatically when connection is restored"})]})]}),a.jsx("div",{className:"flex-1 p-6",children:a.jsx(U,{className:"max-w-4xl mx-auto",children:k?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Y3,{className:"w-16 h-16 text-yellow-500 mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Test Automatically Paused"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Your test has been paused due to network connectivity issues. The timer has been stopped and will resume automatically when your connection is restored."}),a.jsxs("div",{className:"flex items-center justify-center space-x-2 text-orange-600",children:[a.jsx(Vp,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm font-medium",children:"Waiting for network connection..."})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:["Section ",Math.floor((et.order||0)/1e3)]}),a.jsxs("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 text-sm font-medium rounded-full",children:["Question ",o+1]}),a.jsx("span",{className:`px-3 py-1 text-sm font-medium rounded-full ${et.complexity==="easy"?"bg-green-100 text-green-800":et.complexity==="medium"?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:et.complexity.charAt(0).toUpperCase()+et.complexity.slice(1)}),a.jsxs("span",{className:"text-sm text-gray-500",children:[et.points," point",et.points!==1?"s":""]})]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>he(o),className:`flex items-center space-x-2 ${y.has(o)?"bg-yellow-100 text-yellow-800":""}`,children:[a.jsx(z3,{className:"w-4 h-4"}),a.jsx("span",{children:y.has(o)?"Unflag":"Flag"})]})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:et.text}),a.jsx("div",{className:"space-y-3",children:et.options.map(Y=>{var ae;return a.jsxs("label",{className:"flex items-start space-x-3 p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",children:[a.jsx("input",{type:et.type==="multiple_choice"?"checkbox":"radio",name:`question-${et.id}`,value:Y.id,checked:((ae=c[et.id])==null?void 0:ae.includes(Y.id))||!1,onChange:()=>lt(et.id,Y.id,et.type==="multiple_choice"),className:"mt-1 rounded border-gray-300 text-blue-600 focus:ring-blue-500",disabled:k}),a.jsx("span",{className:"text-gray-900",children:Y.text})]},Y.id)})}),et.type==="multiple_choice"&&a.jsxs("p",{className:"text-sm text-gray-500 mt-3",children:[a.jsx("strong",{children:"Note:"})," This is a multiple choice question. You can select more than one answer."]}),et.explanation&&a.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Hint:"})," ",et.explanation]})})]}),a.jsxs("div",{className:"flex items-center justify-between pt-6 border-t border-gray-200",children:[a.jsxs(z,{variant:"secondary",onClick:X,disabled:o===0||k,className:"flex items-center space-x-2",children:[a.jsx(l4,{className:"w-4 h-4"}),a.jsx("span",{children:"Previous"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(z,{variant:"secondary",onClick:()=>j(!0),disabled:k,className:"flex items-center space-x-2",children:[a.jsx(mt,{className:"w-4 h-4"}),a.jsx("span",{children:"Submit Test"})]}),o<s.length-1?a.jsxs(z,{onClick:Nt,disabled:k,className:"flex items-center space-x-2",children:[a.jsx("span",{children:"Next"}),a.jsx(F3,{className:"w-4 h-4"})]}):a.jsxs(z,{onClick:()=>j(!0),disabled:k,className:"flex items-center space-x-2",children:[a.jsx(mt,{className:"w-4 h-4"}),a.jsx("span",{children:"Finish Test"})]})]})]})]})})})]}),W&&a.jsxs("div",{className:"fixed top-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-lg z-50 flex items-center space-x-2",children:[a.jsx(Xt,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold",children:"Security Alert"}),a.jsx("p",{className:"text-sm",children:"Unauthorized action detected. This has been logged."})]})]}),!S&&a.jsxs("div",{className:"fixed bottom-4 right-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg shadow-lg flex items-center space-x-2",children:[a.jsx(Vp,{className:"w-5 h-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-bold",children:"You are offline"}),a.jsx("p",{className:"text-sm",children:"Test is paused. Progress saved locally and will sync when you're back online."})]})]}),a.jsx(Ne,{isOpen:_,onClose:ge,title:"Resume Test Session",children:a.jsxs("div",{className:"text-center",children:[a.jsx(X3,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Resume Previous Session?"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"We found a saved test session. Would you like to resume from where you left off?"}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsx(z,{variant:"secondary",onClick:M,children:"Start Fresh"}),a.jsx(z,{onClick:ge,children:"Resume Session"})]})]})}),a.jsx(Ne,{isOpen:x,onClose:()=>m(!1),title:"Time Warning",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Ht,{className:"w-12 h-12 text-orange-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"5 Minutes Remaining!"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"You have only 5 minutes left to complete the test. Please review your answers and submit soon."}),a.jsx(z,{onClick:()=>m(!1),children:"Continue Test"})]})}),a.jsx(Ne,{isOpen:w,onClose:()=>j(!1),title:"Submit Test",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(Xt,{className:"w-12 h-12 text-yellow-600 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Submit Test?"}),a.jsx("p",{className:"text-gray-600",children:"Are you sure you want to submit your test? This action cannot be undone."})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-gray-900 mb-2",children:"Test Summary:"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Total Questions:"}),a.jsx("span",{className:"ml-2 font-medium",children:s.length})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Answered:"}),a.jsx("span",{className:"ml-2 font-medium text-green-600",children:Ve})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Unanswered:"}),a.jsx("span",{className:"ml-2 font-medium text-red-600",children:ir})]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-gray-600",children:"Flagged:"}),a.jsx("span",{className:"ml-2 font-medium text-yellow-600",children:y.size})]})]})]}),ir>0&&a.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:a.jsxs("p",{className:"text-yellow-800 text-sm",children:[a.jsx("strong",{children:"Warning:"})," You have ",ir," unanswered question",ir!==1?"s":"",". These will be marked as incorrect."]})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>j(!1),children:"Continue Test"}),a.jsxs(z,{onClick:q,loading:v,className:"flex items-center space-x-2",children:[a.jsx(mt,{className:"w-4 h-4"}),a.jsx("span",{children:"Submit Test"})]})]})]})})]})}const fl=[{path:"/dashboard",label:"Admin Dashboard",category:"Dashboard",level:1},{path:"/users",label:"User Management",category:"Administration",level:1},{path:"/roles",label:"Role Management",category:"Administration",level:1},{path:"/surveys",label:"Survey Management",category:"Content",level:1},{path:"/questions",label:"Question Bank",category:"Content",level:1},{path:"/settings",label:"System Settings",category:"Administration",level:1},{path:"/zo-dashboard",label:"ZO Dashboard",category:"Dashboard",level:2},{path:"/zone-performance",label:"Zone Performance",category:"Analytics",level:2},{path:"/regional-overview",label:"Regional Overview",category:"Analytics",level:2},{path:"/ro-dashboard",label:"RO Dashboard",category:"Dashboard",level:3},{path:"/district-performance",label:"District Performance",category:"Analytics",level:3},{path:"/supervisor-teams",label:"Supervisor Teams",category:"Management",level:3},{path:"/supervisor-dashboard",label:"Supervisor Dashboard",category:"Dashboard",level:4},{path:"/team-results",label:"Team Results",category:"Analytics",level:4},{path:"/my-enumerators",label:"My Enumerators",category:"Management",level:4},{path:"/assigned-surveys",label:"Assigned Surveys",category:"Content",level:4},{path:"/enumerator-dashboard",label:"My Dashboard",category:"Dashboard",level:5},{path:"/available-tests",label:"Available Tests",category:"Testing",level:5},{path:"/my-results",label:"My Results",category:"Testing",level:5},{path:"/my-certificates",label:"My Certificates",category:"Testing",level:5},{path:"/test-schedule",label:"Test Schedule",category:"Testing",level:5},{path:"/results",label:"Results & Analytics",category:"Analytics",level:1},{path:"/enumerator-status",label:"Enumerator Status",category:"Monitoring",level:1},{path:"/certificates",label:"Certificates",category:"Certificates",level:1}];function Gae(){const[e,t]=O.useState([]),[r,n]=O.useState(null),[s,i]=O.useState(!0),[o,l]=O.useState(!1),[c,u]=O.useState(!1),[f,d]=O.useState([]),[h,p]=O.useState(""),[v,b]=O.useState("all");O.useEffect(()=>{w()},[]);const w=async()=>{try{i(!0);const S=await js.getRoles();t(S.data)}catch(S){console.error("Failed to fetch roles:",S)}finally{i(!1)}},j=S=>{n(S),d(S.menuAccess||[]),l(!0)},x=async()=>{if(r)try{u(!0),(await js.updateRoleMenuAccess(r.id,f)).success&&(t(e.map(A=>A.id===r.id?{...A,menuAccess:f}:A)),l(!1),n(null),d([]))}catch(S){console.error("Failed to update menu access:",S)}finally{u(!1)}},m=S=>{d(A=>A.includes(S)?A.filter(P=>P!==S):[...A,S])},_=S=>{const A=fl.filter(P=>P.level>=S).map(P=>P.path);d(P=>{const T=[...P];return A.forEach(E=>{T.includes(E)||T.push(E)}),T})},y=fl.filter(S=>{const A=S.label.toLowerCase().includes(h.toLowerCase())||S.path.toLowerCase().includes(h.toLowerCase()),P=v==="all"||S.category===v;return A&&P}).reduce((S,A)=>(S[A.category]||(S[A.category]=[]),S[A.category].push(A),S),{}),N=[...new Set(fl.map(S=>S.category))];return a.jsx(Ce,{children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Role-Based Menu Access Control"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Configure menu access permissions for each role"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("div",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm font-medium",children:"RBAC Enabled"})})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:s?Array.from({length:5}).map((S,A)=>a.jsx(U,{className:"animate-pulse",children:a.jsx("div",{className:"h-32 bg-gray-200 rounded"})},A)):e.map(S=>{var A,P,T;return a.jsxs(U,{className:"hover:shadow-lg transition-shadow",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`p-2 rounded-lg ${S.level===1?"bg-red-100":S.level===2?"bg-purple-100":S.level===3?"bg-indigo-100":S.level===4?"bg-green-100":"bg-blue-100"}`,children:a.jsx(ka,{className:`w-5 h-5 ${S.level===1?"text-red-600":S.level===2?"text-purple-600":S.level===3?"text-indigo-600":S.level===4?"text-green-600":"text-blue-600"}`})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.name}),a.jsxs("span",{className:"text-xs text-gray-500",children:["Level ",S.level]})]})]}),a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:S.isActive?"Active":"Inactive"})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:S.description}),a.jsxs("div",{className:"space-y-2 mb-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Menu Items:"}),a.jsx("span",{className:"font-medium",children:((A=S.menuAccess)==null?void 0:A.length)||0})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Users:"}),a.jsx("span",{className:"font-medium",children:S.userCount||0})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(S.menuAccess||[]).slice(0,2).map(E=>{const C=fl.find(k=>k.path===E);return a.jsx("span",{className:"px-2 py-1 bg-blue-50 text-blue-700 text-xs rounded-full",children:(C==null?void 0:C.label)||E},E)}),(((P=S.menuAccess)==null?void 0:P.length)||0)>2&&a.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",(((T=S.menuAccess)==null?void 0:T.length)||0)-2," more"]})]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>j(S),className:"flex items-center space-x-2",children:[a.jsx(Ta,{className:"w-4 h-4"}),a.jsx("span",{children:"Configure"})]})]})]},S.id)})}),a.jsx(Ne,{isOpen:o,onClose:()=>{l(!1),n(null),d([])},title:`Configure Menu Access: ${r==null?void 0:r.name}`,size:"xl",children:r&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsx(ka,{className:"w-5 h-5 text-blue-600"}),a.jsx("h3",{className:"font-semibold text-gray-900",children:r.name}),a.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:["Level ",r.level]})]}),a.jsx("p",{className:"text-sm text-gray-600",children:r.description}),a.jsxs("div",{className:"mt-2 flex items-center space-x-4 text-sm",children:[a.jsxs("span",{className:"text-gray-500",children:["Users: ",r.userCount||0]}),a.jsxs("span",{className:"text-gray-500",children:["Selected Menus: ",f.length]})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>_(r.level),className:"flex items-center space-x-2",children:[a.jsx(Fr,{className:"w-4 h-4"}),a.jsxs("span",{children:["Add Level ",r.level,"+ Menus"]})]}),a.jsxs(z,{variant:"secondary",size:"sm",onClick:()=>d([]),className:"flex items-center space-x-2",children:[a.jsx(G3,{className:"w-4 h-4"}),a.jsx("span",{children:"Clear All"})]})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"relative",children:a.jsx(J,{placeholder:"Search menus...",value:h,onChange:S=>p(S.target.value),className:"w-48"})}),a.jsxs("select",{value:v,onChange:S=>b(S.target.value),className:"px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Categories"}),N.map(S=>a.jsx("option",{value:S,children:S},S))]})]})]}),a.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:Object.entries(y).map(([S,A])=>a.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:S}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(z,{variant:"secondary",size:"sm",onClick:()=>{const P=A.map(T=>T.path);d(T=>[...new Set([...T,...P])])},className:"text-xs",children:"Select All"}),a.jsx(z,{variant:"secondary",size:"sm",onClick:()=>{const P=A.map(T=>T.path);d(T=>T.filter(E=>!P.includes(E)))},className:"text-xs",children:"Deselect All"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:A.map(P=>{const T=f.includes(P.path),E=P.level>=r.level;return a.jsxs("label",{className:`flex items-center space-x-3 p-3 rounded-lg cursor-pointer transition-colors ${T?"bg-blue-50 border border-blue-200":"hover:bg-gray-50 border border-transparent"}`,children:[a.jsx("input",{type:"checkbox",checked:T,onChange:()=>m(P.path),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm font-medium text-gray-900",children:P.label}),a.jsxs("span",{className:"px-1.5 py-0.5 bg-gray-100 text-gray-600 text-xs rounded",children:["L",P.level]}),E&&a.jsx("span",{className:"px-1.5 py-0.5 bg-green-100 text-green-600 text-xs rounded",children:"Recommended"})]}),a.jsx("div",{className:"text-xs text-gray-500 font-mono",children:P.path})]}),T&&a.jsx(mt,{className:"w-4 h-4 text-blue-600"})]},P.path)})})]},S))}),a.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-900 mb-2",children:"Access Summary"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:N.map(S=>{const A=fl.filter(T=>T.category===S),P=f.filter(T=>A.some(E=>E.path===T)).length;return a.jsxs("div",{className:"text-center",children:[a.jsxs("p",{className:"font-medium text-blue-900",children:[P,"/",A.length]}),a.jsx("p",{className:"text-blue-700",children:S})]},S)})})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t",children:[a.jsx(z,{variant:"secondary",onClick:()=>{l(!1),n(null),d([])},children:"Cancel"}),a.jsxs(z,{onClick:x,loading:c,className:"flex items-center space-x-2",children:[a.jsx(Dd,{className:"w-4 h-4"}),a.jsx("span",{children:"Save Menu Access"})]})]})]})})]})})}function Yae(){const e=Co(),{user:t}=Gs(),r=()=>{e("/login")},n=()=>{e("/login")};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center px-4",children:a.jsx(U,{className:"max-w-md w-full text-center",children:a.jsxs("div",{className:"p-8",children:[a.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(ka,{className:"w-8 h-8 text-red-600"})}),a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Access Denied"}),a.jsxs("p",{className:"text-gray-600 mb-6",children:["You don't have permission to access this page. Your current role (",t==null?void 0:t.role.name,") doesn't include access to this resource."]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(z,{onClick:n,className:"w-full flex items-center justify-center space-x-2",children:[a.jsx(H3,{className:"w-4 h-4"}),a.jsx("span",{children:"Go to Dashboard"})]}),a.jsxs(z,{variant:"secondary",onClick:r,className:"w-full flex items-center justify-center space-x-2",children:[a.jsx(l4,{className:"w-4 h-4"}),a.jsx("span",{children:"Go Back"})]})]}),a.jsx("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-800",children:[a.jsx("strong",{children:"Need access?"})," Contact your administrator to request additional permissions for your role."]})})]})})})}function dt({children:e,requiredRoles:t=[],requiredLevel:r,redirectTo:n="/unauthorized"}){const{user:s,isAuthenticated:i}=Gs();if(!i||!s)return a.jsx(oc,{to:"/login",replace:!0});const o=s.role.name==="Administrator"?"Admin":s.role.name,l=s.role.level,c=t.length===0||t.includes(o),u=!r||l<=r;return c&&u?a.jsx(a.Fragment,{children:e}):a.jsx(oc,{to:n,replace:!0})}function Qae(){const{user:e}=Gs(),t=()=>{if(!e)return"/dashboard";switch(console.log("Getting dashboard route for user role:",e.role.name),e.role.name.toLowerCase()){case"administrator":case"admin":return"/dashboard";case"zo user":return"/zo-dashboard";case"ro user":return"/ro-dashboard";case"supervisor":return"/supervisor-dashboard";case"enumerator":return"/enumerator-dashboard";case"fresherbscbca":return"/enumerator-dashboard";default:return console.log("Unknown role, defaulting to dashboard"),"/dashboard"}};return a.jsx(oc,{to:t(),replace:!0})}function Xae(){return a.jsxs(O4,{children:[a.jsx(Ue,{path:"/dashboard",element:a.jsx(dt,{requiredRoles:["Admin"],children:a.jsx(Eae,{})})}),a.jsx(Ue,{path:"/users",element:a.jsx(dt,{requiredRoles:["Admin"],children:a.jsx(Rae,{})})}),a.jsx(Ue,{path:"/roles",element:a.jsx(dt,{requiredRoles:["Admin"],children:a.jsx(Mae,{})})}),a.jsx(Ue,{path:"/role-menu-management",element:a.jsx(dt,{requiredRoles:["Admin"],children:a.jsx(Gae,{})})}),a.jsx(Ue,{path:"/surveys",element:a.jsx(dt,{requiredRoles:["Admin"],children:a.jsx(Dae,{})})}),a.jsx(Ue,{path:"/questions",element:a.jsx(dt,{requiredRoles:["Admin"],children:a.jsx(Lae,{})})}),a.jsx(Ue,{path:"/settings",element:a.jsx(dt,{requiredRoles:["Admin"],children:a.jsx(zae,{})})}),a.jsx(Ue,{path:"/zo-dashboard",element:a.jsx(dt,{requiredRoles:["ZO User"],children:a.jsx(Pae,{})})}),a.jsx(Ue,{path:"/ro-dashboard",element:a.jsx(dt,{requiredRoles:["RO User"],children:a.jsx(Cae,{})})}),a.jsx(Ue,{path:"/supervisor-dashboard",element:a.jsx(dt,{requiredRoles:["Supervisor"],children:a.jsx(kae,{})})}),a.jsx(Ue,{path:"/team-results",element:a.jsx(dt,{requiredRoles:["Supervisor"],children:a.jsx($ae,{})})}),a.jsx(Ue,{path:"/my-enumerators",element:a.jsx(dt,{requiredRoles:["Supervisor"],children:a.jsx(Iae,{})})}),a.jsx(Ue,{path:"/enumerator-dashboard",element:a.jsx(dt,{requiredRoles:["Enumerator"],children:a.jsx(Tae,{})})}),a.jsx(Ue,{path:"/available-tests",element:a.jsx(dt,{requiredRoles:["Enumerator","FresherBScBCA"],children:a.jsx(qae,{})})}),a.jsx(Ue,{path:"/my-results",element:a.jsx(dt,{requiredRoles:["Enumerator","FresherBScBCA"],children:a.jsx(Wae,{})})}),a.jsx(Ue,{path:"/my-certificates",element:a.jsx(dt,{requiredRoles:["Enumerator","FresherBScBCA"],children:a.jsx(Hae,{})})}),a.jsx(Ue,{path:"/test-schedule",element:a.jsx(dt,{requiredRoles:["Enumerator","FresherBScBCA"],children:a.jsx(Kae,{})})}),a.jsx(Ue,{path:"/test/:sessionId",element:a.jsx(dt,{requiredRoles:["Enumerator","FresherBScBCA"],children:a.jsx(Vae,{})})}),a.jsx(Ue,{path:"/results",element:a.jsx(dt,{requiredRoles:["Admin","ZO User","RO User","Supervisor"],children:a.jsx(Fae,{})})}),a.jsx(Ue,{path:"/enumerator-status",element:a.jsx(dt,{requiredRoles:["Admin","ZO User","RO User","Supervisor"],children:a.jsx(Uae,{})})}),a.jsx(Ue,{path:"/certificates",element:a.jsx(dt,{requiredRoles:["Admin","ZO User","RO User","Supervisor","Enumerator"],children:a.jsx(Bae,{})})}),a.jsx(Ue,{path:"/unauthorized",element:a.jsx(Yae,{})}),a.jsx(Ue,{path:"/",element:a.jsx(Qae,{})})]})}function Zae(){return a.jsx(T$,{children:a.jsx(B$,{children:a.jsxs(O4,{children:[a.jsx(Ue,{path:"/login",element:a.jsx(W$,{})}),a.jsx(Ue,{path:"/*",element:a.jsx(H$,{children:a.jsx(Xae,{})})})]})})})}A2(document.getElementById("root")).render(a.jsx(O.StrictMode,{children:a.jsx(M5,{children:a.jsx(Zae,{})})}));
